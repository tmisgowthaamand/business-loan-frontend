var nb=Object.defineProperty;var sb=(e,t,n)=>t in e?nb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Na=(e,t,n)=>(sb(e,typeof t!="symbol"?t+"":t,n),n);function rb(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function H0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W0={exports:{}},vl={},Q0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),ib=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),ub=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),hb=Symbol.for("react.memo"),mb=Symbol.for("react.lazy"),gh=Symbol.iterator;function pb(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var K0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G0=Object.assign,Y0={};function Ur(e,t,n){this.props=e,this.context=t,this.refs=Y0,this.updater=n||K0}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z0(){}Z0.prototype=Ur.prototype;function Dd(e,t,n){this.props=e,this.context=t,this.refs=Y0,this.updater=n||K0}var Od=Dd.prototype=new Z0;Od.constructor=Dd;G0(Od,Ur.prototype);Od.isPureReactComponent=!0;var xh=Array.isArray,X0=Object.prototype.hasOwnProperty,Md={current:null},J0={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,n){var s,r={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)X0.call(t,s)&&!J0.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:aa,type:e,key:a,ref:o,props:r,_owner:Md.current}}function gb(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function xb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yh=/\/+/g;function oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xb(""+e.key):t.toString(36)}function Ga(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case aa:case ib:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+oc(o,0):s,xh(r)?(n="",e!=null&&(n=e.replace(yh,"$&/")+"/"),Ga(r,t,n,"",function(u){return u})):r!=null&&(Fd(r)&&(r=gb(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(yh,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",xh(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+oc(a,l);o+=Ga(a,t,n,c,r)}else if(c=pb(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+oc(a,l++),o+=Ga(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sa(e,t,n){if(e==null)return e;var s=[],r=0;return Ga(e,s,"","",function(a){return t.call(n,a,r++)}),s}function yb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Ya={transition:null},vb={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:Md};function tg(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!Fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ur;ge.Fragment=ab;ge.Profiler=lb;ge.PureComponent=Dd;ge.StrictMode=ob;ge.Suspense=fb;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vb;ge.act=tg;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=G0({},e.props),r=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Md.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)X0.call(t,c)&&!J0.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:aa,type:e.type,key:r,ref:a,props:s,_owner:o}};ge.createContext=function(e){return e={$$typeof:ub,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cb,_context:e},e.Consumer=e};ge.createElement=eg;ge.createFactory=function(e){var t=eg.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:db,render:e}};ge.isValidElement=Fd;ge.lazy=function(e){return{$$typeof:mb,_payload:{_status:-1,_result:e},_init:yb}};ge.memo=function(e,t){return{$$typeof:hb,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ya.transition;Ya.transition={};try{e()}finally{Ya.transition=t}};ge.unstable_act=tg;ge.useCallback=function(e,t){return vt.current.useCallback(e,t)};ge.useContext=function(e){return vt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return vt.current.useEffect(e,t)};ge.useId=function(){return vt.current.useId()};ge.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return vt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};ge.useRef=function(e){return vt.current.useRef(e)};ge.useState=function(e){return vt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return vt.current.useTransition()};ge.version="18.3.1";Q0.exports=ge;var v=Q0.exports;const fe=H0(v),bb=rb({__proto__:null,default:fe},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=v,jb=Symbol.for("react.element"),Nb=Symbol.for("react.fragment"),Sb=Object.prototype.hasOwnProperty,Eb=wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kb={key:!0,ref:!0,__self:!0,__source:!0};function ng(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Sb.call(t,s)&&!kb.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:jb,type:e,key:a,ref:o,props:r,_owner:Eb.current}}vl.Fragment=Nb;vl.jsx=ng;vl.jsxs=ng;W0.exports=vl;var i=W0.exports,su={},sg={exports:{}},It={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var R=O.length;O.push(z);e:for(;0<R;){var $=R-1>>>1,Z=O[$];if(0<r(Z,z))O[$]=z,O[R]=Z,R=$;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var z=O[0],R=O.pop();if(R!==z){O[0]=R;e:for(var $=0,Z=O.length,oe=Z>>>1;$<oe;){var me=2*($+1)-1,ve=O[me],M=me+1,de=O[M];if(0>r(ve,R))M<Z&&0>r(de,ve)?(O[$]=de,O[M]=R,$=M):(O[$]=ve,O[me]=R,$=me);else if(M<Z&&0>r(de,R))O[$]=de,O[M]=R,$=M;else break e}}return z}function r(O,z){var R=O.sortIndex-z.sortIndex;return R!==0?R:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,p=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var z=n(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=O)s(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function b(O){if(w=!1,x(O),!p)if(n(c)!==null)p=!0,K(N);else{var z=n(u);z!==null&&se(b,z.startTime-O)}}function N(O,z){p=!1,w&&(w=!1,j(T),T=-1),g=!0;var R=h;try{for(x(z),f=n(c);f!==null&&(!(f.expirationTime>z)||O&&!Y());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var Z=$(f.expirationTime<=z);z=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&s(c),x(z)}else s(c);f=n(c)}if(f!==null)var oe=!0;else{var me=n(u);me!==null&&se(b,me.startTime-z),oe=!1}return oe}finally{f=null,h=R,g=!1}}var S=!1,E=null,T=-1,P=5,D=-1;function Y(){return!(e.unstable_now()-D<P)}function W(){if(E!==null){var O=e.unstable_now();D=O;var z=!0;try{z=E(!0,O)}finally{z?U():(S=!1,E=null)}}else S=!1}var U;if(typeof m=="function")U=function(){m(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=W,U=function(){ae.postMessage(null)}}else U=function(){y(W,0)};function K(O){E=O,S||(S=!0,U())}function se(O,z){T=y(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,K(N))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var R=h;h=z;try{return O()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=h;h=O;try{return z()}finally{h=R}},e.unstable_scheduleCallback=function(O,z,R){var $=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=R+Z,O={id:d++,callback:z,priorityLevel:O,startTime:R,expirationTime:Z,sortIndex:-1},R>$?(O.sortIndex=R,t(u,O),n(c)===null&&O===n(u)&&(w?(j(T),T=-1):w=!0,se(b,R-$))):(O.sortIndex=Z,t(c,O),p||g||(p=!0,K(N))),O},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(O){var z=h;return function(){var R=h;h=z;try{return O.apply(this,arguments)}finally{h=R}}}})(ig);rg.exports=ig;var Cb=rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb=v,Mt=Cb;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ag=new Set,Mi={};function Ys(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(Mi[e]=t,e=0;e<t.length;e++)ag.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=Object.prototype.hasOwnProperty,Ab=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},bh={};function Pb(e){return ru.call(bh,e)?!0:ru.call(vh,e)?!1:Ab.test(e)?bh[e]=!0:(vh[e]=!0,!1)}function Rb(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lb(e,t,n,s){if(t===null||typeof t>"u"||Rb(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,s,r,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function $d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Id,$d);at[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Id,$d);at[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Id,$d);at[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _d(e,t,n,s){var r=at.hasOwnProperty(t)?at[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lb(t,n,r,s)&&(n=null),s||r===null?Pb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var _n=Tb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),or=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Vd=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),lg=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),au=Symbol.for("react.suspense"),ou=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),cg=Symbol.for("react.offscreen"),wh=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=wh&&e[wh]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,lc;function di(e){if(lc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lc=t&&t[1]||""}return`
`+lc+e}var cc=!1;function uc(e,t){if(!e||cc)return"";cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{cc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?di(e):""}function Db(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=uc(e.type,!1),e;case 11:return e=uc(e.type.render,!1),e;case 1:return e=uc(e.type,!0),e;default:return""}}function lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case or:return"Portal";case iu:return"Profiler";case Vd:return"StrictMode";case au:return"Suspense";case ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lg:return(e.displayName||"Context")+".Consumer";case og:return(e._context.displayName||"Context")+".Provider";case Ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bd:return t=e.displayName||null,t!==null?t:lu(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return lu(e(t))}catch{}}return null}function Ob(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lu(t);case 8:return t===Vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ug(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mb(e){var t=ug(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ka(e){e._valueTracker||(e._valueTracker=Mb(e))}function dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ug(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cu(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jh(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=hs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fg(e,t){t=t.checked,t!=null&&_d(e,"checked",t,!1)}function uu(e,t){fg(e,t);var n=hs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?du(e,t.type,n):t.hasOwnProperty("defaultValue")&&du(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function du(e,t,n){(t!=="number"||vo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fi=Array.isArray;function Nr(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+hs(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(fi(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hs(n)}}function hg(e,t){var n=hs(t.value),s=hs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Eh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ca,pg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ca=Ca||document.createElement("div"),Ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fb=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(e){Fb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gi[t]=gi[e]})});function gg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gi.hasOwnProperty(e)&&gi[e]?(""+t).trim():t+"px"}function xg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=gg(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Ib=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(e,t){if(t){if(Ib[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xu=null,Sr=null,Er=null;function kh(e){if(e=ca(e)){if(typeof xu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Sl(t),xu(e.stateNode,e.type,t))}}function yg(e){Sr?Er?Er.push(e):Er=[e]:Sr=e}function vg(){if(Sr){var e=Sr,t=Er;if(Er=Sr=null,kh(e),t)for(e=0;e<t.length;e++)kh(t[e])}}function bg(e,t){return e(t)}function wg(){}var dc=!1;function jg(e,t,n){if(dc)return e(t,n);dc=!0;try{return bg(e,t,n)}finally{dc=!1,(Sr!==null||Er!==null)&&(wg(),vg())}}function Ii(e,t){var n=e.stateNode;if(n===null)return null;var s=Sl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var yu=!1;if(Ln)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{yu=!1}function $b(e,t,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xi=!1,bo=null,wo=!1,vu=null,_b={onError:function(e){xi=!0,bo=e}};function Vb(e,t,n,s,r,a,o,l,c){xi=!1,bo=null,$b.apply(_b,arguments)}function Ub(e,t,n,s,r,a,o,l,c){if(Vb.apply(this,arguments),xi){if(xi){var u=bo;xi=!1,bo=null}else throw Error(V(198));wo||(wo=!0,vu=u)}}function Zs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ng(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ch(e){if(Zs(e)!==e)throw Error(V(188))}function Bb(e){var t=e.alternate;if(!t){if(t=Zs(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ch(r),e;if(a===s)return Ch(r),t;a=a.sibling}throw Error(V(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==s)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Sg(e){return e=Bb(e),e!==null?Eg(e):null}function Eg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eg(e);if(t!==null)return t;e=e.sibling}return null}var kg=Mt.unstable_scheduleCallback,Th=Mt.unstable_cancelCallback,qb=Mt.unstable_shouldYield,zb=Mt.unstable_requestPaint,qe=Mt.unstable_now,Hb=Mt.unstable_getCurrentPriorityLevel,zd=Mt.unstable_ImmediatePriority,Cg=Mt.unstable_UserBlockingPriority,jo=Mt.unstable_NormalPriority,Wb=Mt.unstable_LowPriority,Tg=Mt.unstable_IdlePriority,bl=null,pn=null;function Qb(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(bl,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Yb,Kb=Math.log,Gb=Math.LN2;function Yb(e){return e>>>=0,e===0?32:31-(Kb(e)/Gb|0)|0}var Ta=64,Aa=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function No(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=hi(l):(a&=o,a!==0&&(s=hi(a)))}else o=n&~r,o!==0?s=hi(o):a!==0&&(s=hi(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-tn(t),r=1<<n,s|=e[n],t&=~r;return s}function Zb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xb(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-tn(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=Zb(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ag(){var e=Ta;return Ta<<=1,!(Ta&4194240)&&(Ta=64),e}function fc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function Jb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-tn(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}function Hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-tn(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var we=0;function Pg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rg,Wd,Lg,Dg,Og,wu=!1,Pa=[],ns=null,ss=null,rs=null,$i=new Map,_i=new Map,Gn=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function Jr(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=ca(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function tw(e,t,n,s,r){switch(t){case"focusin":return ns=Jr(ns,e,t,n,s,r),!0;case"dragenter":return ss=Jr(ss,e,t,n,s,r),!0;case"mouseover":return rs=Jr(rs,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return $i.set(a,Jr($i.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,_i.set(a,Jr(_i.get(a)||null,e,t,n,s,r)),!0}return!1}function Mg(e){var t=As(e.target);if(t!==null){var n=Zs(t);if(n!==null){if(t=n.tag,t===13){if(t=Ng(n),t!==null){e.blockedOn=t,Og(e.priority,function(){Lg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ju(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);gu=s,n.target.dispatchEvent(s),gu=null}else return t=ca(n),t!==null&&Wd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){Za(e)&&n.delete(t)}function nw(){wu=!1,ns!==null&&Za(ns)&&(ns=null),ss!==null&&Za(ss)&&(ss=null),rs!==null&&Za(rs)&&(rs=null),$i.forEach(Ph),_i.forEach(Ph)}function ei(e,t){e.blockedOn===t&&(e.blockedOn=null,wu||(wu=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,nw)))}function Vi(e){function t(r){return ei(r,e)}if(0<Pa.length){ei(Pa[0],e);for(var n=1;n<Pa.length;n++){var s=Pa[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ns!==null&&ei(ns,e),ss!==null&&ei(ss,e),rs!==null&&ei(rs,e),$i.forEach(t),_i.forEach(t),n=0;n<Gn.length;n++)s=Gn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)Mg(n),n.blockedOn===null&&Gn.shift()}var kr=_n.ReactCurrentBatchConfig,So=!0;function sw(e,t,n,s){var r=we,a=kr.transition;kr.transition=null;try{we=1,Qd(e,t,n,s)}finally{we=r,kr.transition=a}}function rw(e,t,n,s){var r=we,a=kr.transition;kr.transition=null;try{we=4,Qd(e,t,n,s)}finally{we=r,kr.transition=a}}function Qd(e,t,n,s){if(So){var r=ju(e,t,n,s);if(r===null)jc(e,t,s,Eo,n),Ah(e,s);else if(tw(r,e,t,n,s))s.stopPropagation();else if(Ah(e,s),t&4&&-1<ew.indexOf(e)){for(;r!==null;){var a=ca(r);if(a!==null&&Rg(a),a=ju(e,t,n,s),a===null&&jc(e,t,s,Eo,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else jc(e,t,s,null,n)}}var Eo=null;function ju(e,t,n,s){if(Eo=null,e=qd(s),e=As(e),e!==null)if(t=Zs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ng(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eo=e,null}function Fg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hb()){case zd:return 1;case Cg:return 4;case jo:case Wb:return 16;case Tg:return 536870912;default:return 16}default:return 16}}var Xn=null,Kd=null,Xa=null;function Ig(){if(Xa)return Xa;var e,t=Kd,n=t.length,s,r="value"in Xn?Xn.value:Xn.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[a-s];s++);return Xa=r.slice(e,1<s?1-s:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function Rh(){return!1}function $t(e){function t(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ra:Rh,this.isPropagationStopped=Rh,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=$t(Br),la=Ve({},Br,{view:0,detail:0}),iw=$t(la),hc,mc,ti,wl=Ve({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(hc=e.screenX-ti.screenX,mc=e.screenY-ti.screenY):mc=hc=0,ti=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Lh=$t(wl),aw=Ve({},wl,{dataTransfer:0}),ow=$t(aw),lw=Ve({},la,{relatedTarget:0}),pc=$t(lw),cw=Ve({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=$t(cw),dw=Ve({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fw=$t(dw),hw=Ve({},Br,{data:0}),Dh=$t(hw),mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gw[e])?!!t[e]:!1}function Yd(){return xw}var yw=Ve({},la,{key:function(e){if(e.key){var t=mw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vw=$t(yw),bw=Ve({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=$t(bw),ww=Ve({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),jw=$t(ww),Nw=Ve({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=$t(Nw),Ew=Ve({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kw=$t(Ew),Cw=[9,13,27,32],Zd=Ln&&"CompositionEvent"in window,yi=null;Ln&&"documentMode"in document&&(yi=document.documentMode);var Tw=Ln&&"TextEvent"in window&&!yi,$g=Ln&&(!Zd||yi&&8<yi&&11>=yi),Mh=String.fromCharCode(32),Fh=!1;function _g(e,t){switch(e){case"keyup":return Cw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function Aw(e,t){switch(e){case"compositionend":return Vg(t);case"keypress":return t.which!==32?null:(Fh=!0,Mh);case"textInput":return e=t.data,e===Mh&&Fh?null:e;default:return null}}function Pw(e,t){if(cr)return e==="compositionend"||!Zd&&_g(e,t)?(e=Ig(),Xa=Kd=Xn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $g&&t.locale!=="ko"?null:t.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rw[e.type]:t==="textarea"}function Ug(e,t,n,s){yg(s),t=ko(t,"onChange"),0<t.length&&(n=new Gd("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var vi=null,Ui=null;function Lw(e){Xg(e,0)}function jl(e){var t=fr(e);if(dg(t))return e}function Dw(e,t){if(e==="change")return t}var Bg=!1;if(Ln){var gc;if(Ln){var xc="oninput"in document;if(!xc){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),xc=typeof $h.oninput=="function"}gc=xc}else gc=!1;Bg=gc&&(!document.documentMode||9<document.documentMode)}function _h(){vi&&(vi.detachEvent("onpropertychange",qg),Ui=vi=null)}function qg(e){if(e.propertyName==="value"&&jl(Ui)){var t=[];Ug(t,Ui,e,qd(e)),jg(Lw,t)}}function Ow(e,t,n){e==="focusin"?(_h(),vi=t,Ui=n,vi.attachEvent("onpropertychange",qg)):e==="focusout"&&_h()}function Mw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(Ui)}function Fw(e,t){if(e==="click")return jl(t)}function Iw(e,t){if(e==="input"||e==="change")return jl(t)}function $w(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:$w;function Bi(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!ru.call(t,r)||!rn(e[r],t[r]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var n=Vh(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vh(n)}}function zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hg(){for(var e=window,t=vo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vo(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _w(e){var t=Hg(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zg(n.ownerDocument.documentElement,n)){if(s!==null&&Xd(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=Uh(n,a);var o=Uh(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vw=Ln&&"documentMode"in document&&11>=document.documentMode,ur=null,Nu=null,bi=null,Su=!1;function Bh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Su||ur==null||ur!==vo(s)||(s=ur,"selectionStart"in s&&Xd(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),bi&&Bi(bi,s)||(bi=s,s=ko(Nu,"onSelect"),0<s.length&&(t=new Gd("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ur)))}function La(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},yc={},Wg={};Ln&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Nl(e){if(yc[e])return yc[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wg)return yc[e]=t[n];return e}var Qg=Nl("animationend"),Kg=Nl("animationiteration"),Gg=Nl("animationstart"),Yg=Nl("transitionend"),Zg=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(e,t){Zg.set(e,t),Ys(t,[e])}for(var vc=0;vc<qh.length;vc++){var bc=qh[vc],Uw=bc.toLowerCase(),Bw=bc[0].toUpperCase()+bc.slice(1);xs(Uw,"on"+Bw)}xs(Qg,"onAnimationEnd");xs(Kg,"onAnimationIteration");xs(Gg,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(Yg,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function zh(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ub(s,t,void 0,e),e.currentTarget=null}function Xg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;zh(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;zh(r,l,u),a=c}}}if(wo)throw e=vu,wo=!1,vu=null,e}function Te(e,t){var n=t[Au];n===void 0&&(n=t[Au]=new Set);var s=e+"__bubble";n.has(s)||(Jg(t,e,2,!1),n.add(s))}function wc(e,t,n){var s=0;t&&(s|=4),Jg(n,e,s,t)}var Da="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[Da]){e[Da]=!0,ag.forEach(function(n){n!=="selectionchange"&&(qw.has(n)||wc(n,!1,e),wc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Da]||(t[Da]=!0,wc("selectionchange",!1,t))}}function Jg(e,t,n,s){switch(Fg(t)){case 1:var r=sw;break;case 4:r=rw;break;default:r=Qd}n=r.bind(null,t,n,e),r=void 0,!yu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function jc(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=As(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}jg(function(){var u=a,d=qd(n),f=[];e:{var h=Zg.get(e);if(h!==void 0){var g=Gd,p=e;switch(e){case"keypress":if(Ja(n)===0)break e;case"keydown":case"keyup":g=vw;break;case"focusin":p="focus",g=pc;break;case"focusout":p="blur",g=pc;break;case"beforeblur":case"afterblur":g=pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jw;break;case Qg:case Kg:case Gg:g=uw;break;case Yg:g=Sw;break;case"scroll":g=iw;break;case"wheel":g=kw;break;case"copy":case"cut":case"paste":g=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oh}var w=(t&4)!==0,y=!w&&e==="scroll",j=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,j!==null&&(b=Ii(m,j),b!=null&&w.push(zi(m,b,x)))),y)break;m=m.return}0<w.length&&(h=new g(h,p,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==gu&&(p=n.relatedTarget||n.fromElement)&&(As(p)||p[Dn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?As(p):null,p!==null&&(y=Zs(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(w=Lh,b="onMouseLeave",j="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Oh,b="onPointerLeave",j="onPointerEnter",m="pointer"),y=g==null?h:fr(g),x=p==null?h:fr(p),h=new w(b,m+"leave",g,n,d),h.target=y,h.relatedTarget=x,b=null,As(d)===u&&(w=new w(j,m+"enter",p,n,d),w.target=x,w.relatedTarget=y,b=w),y=b,g&&p)t:{for(w=g,j=p,m=0,x=w;x;x=tr(x))m++;for(x=0,b=j;b;b=tr(b))x++;for(;0<m-x;)w=tr(w),m--;for(;0<x-m;)j=tr(j),x--;for(;m--;){if(w===j||j!==null&&w===j.alternate)break t;w=tr(w),j=tr(j)}w=null}else w=null;g!==null&&Hh(f,h,g,w,!1),p!==null&&y!==null&&Hh(f,y,p,w,!0)}}e:{if(h=u?fr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=Dw;else if(Ih(h))if(Bg)N=Iw;else{N=Mw;var S=Ow}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Fw);if(N&&(N=N(e,u))){Ug(f,N,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&du(h,"number",h.value)}switch(S=u?fr(u):window,e){case"focusin":(Ih(S)||S.contentEditable==="true")&&(ur=S,Nu=u,bi=null);break;case"focusout":bi=Nu=ur=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Bh(f,n,d);break;case"selectionchange":if(Vw)break;case"keydown":case"keyup":Bh(f,n,d)}var E;if(Zd)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else cr?_g(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($g&&n.locale!=="ko"&&(cr||T!=="onCompositionStart"?T==="onCompositionEnd"&&cr&&(E=Ig()):(Xn=d,Kd="value"in Xn?Xn.value:Xn.textContent,cr=!0)),S=ko(u,T),0<S.length&&(T=new Dh(T,e,null,n,d),f.push({event:T,listeners:S}),E?T.data=E:(E=Vg(n),E!==null&&(T.data=E)))),(E=Tw?Aw(e,n):Pw(e,n))&&(u=ko(u,"onBeforeInput"),0<u.length&&(d=new Dh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Xg(f,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ko(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Ii(e,n),a!=null&&s.unshift(zi(e,a,r)),a=Ii(e,t),a!=null&&s.push(zi(e,a,r))),e=e.return}return s}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,t,n,s,r){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Ii(n,a),c!=null&&o.unshift(zi(n,c,l))):r||(c=Ii(n,a),c!=null&&o.push(zi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var zw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(zw,`
`).replace(Hw,"")}function Oa(e,t,n){if(t=Wh(t),Wh(e)!==t&&n)throw Error(V(425))}function Co(){}var Eu=null,ku=null;function Cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(e){return Qh.resolve(null).then(e).catch(Kw)}:Tu;function Kw(e){setTimeout(function(){throw e})}function Nc(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Vi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Vi(t)}function is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),fn="__reactFiber$"+qr,Hi="__reactProps$"+qr,Dn="__reactContainer$"+qr,Au="__reactEvents$"+qr,Gw="__reactListeners$"+qr,Yw="__reactHandles$"+qr;function As(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kh(e);e!==null;){if(n=e[fn])return n;e=Kh(e)}return t}e=n,n=e.parentNode}return null}function ca(e){return e=e[fn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Sl(e){return e[Hi]||null}var Pu=[],hr=-1;function ys(e){return{current:e}}function Pe(e){0>hr||(e.current=Pu[hr],Pu[hr]=null,hr--)}function Ee(e,t){hr++,Pu[hr]=e.current,e.current=t}var ms={},ft=ys(ms),St=ys(!1),Bs=ms;function Pr(e,t){var n=e.type.contextTypes;if(!n)return ms;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Et(e){return e=e.childContextTypes,e!=null}function To(){Pe(St),Pe(ft)}function Gh(e,t,n){if(ft.current!==ms)throw Error(V(168));Ee(ft,t),Ee(St,n)}function ex(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(V(108,Ob(e)||"Unknown",r));return Ve({},n,s)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ms,Bs=ft.current,Ee(ft,e),Ee(St,St.current),!0}function Yh(e,t,n){var s=e.stateNode;if(!s)throw Error(V(169));n?(e=ex(e,t,Bs),s.__reactInternalMemoizedMergedChildContext=e,Pe(St),Pe(ft),Ee(ft,e)):Pe(St),Ee(St,n)}var Nn=null,El=!1,Sc=!1;function tx(e){Nn===null?Nn=[e]:Nn.push(e)}function Zw(e){El=!0,tx(e)}function vs(){if(!Sc&&Nn!==null){Sc=!0;var e=0,t=we;try{var n=Nn;for(we=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Nn=null,El=!1}catch(r){throw Nn!==null&&(Nn=Nn.slice(e+1)),kg(zd,vs),r}finally{we=t,Sc=!1}}return null}var mr=[],pr=0,Po=null,Ro=0,qt=[],zt=0,qs=null,En=1,kn="";function Ss(e,t){mr[pr++]=Ro,mr[pr++]=Po,Po=e,Ro=t}function nx(e,t,n){qt[zt++]=En,qt[zt++]=kn,qt[zt++]=qs,qs=e;var s=En;e=kn;var r=32-tn(s)-1;s&=~(1<<r),n+=1;var a=32-tn(t)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,En=1<<32-tn(t)+r|n<<r|s,kn=a+e}else En=1<<a|n<<r|s,kn=e}function Jd(e){e.return!==null&&(Ss(e,1),nx(e,1,0))}function ef(e){for(;e===Po;)Po=mr[--pr],mr[pr]=null,Ro=mr[--pr],mr[pr]=null;for(;e===qs;)qs=qt[--zt],qt[zt]=null,kn=qt[--zt],qt[zt]=null,En=qt[--zt],qt[zt]=null}var Ot=null,Dt=null,Oe=!1,Xt=null;function sx(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Dt=is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qs!==null?{id:En,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Dt=null,!0):!1;default:return!1}}function Ru(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lu(e){if(Oe){var t=Dt;if(t){var n=t;if(!Zh(e,t)){if(Ru(e))throw Error(V(418));t=is(n.nextSibling);var s=Ot;t&&Zh(e,t)?sx(s,n):(e.flags=e.flags&-4097|2,Oe=!1,Ot=e)}}else{if(Ru(e))throw Error(V(418));e.flags=e.flags&-4097|2,Oe=!1,Ot=e}}}function Xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Ma(e){if(e!==Ot)return!1;if(!Oe)return Xh(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cu(e.type,e.memoizedProps)),t&&(t=Dt)){if(Ru(e))throw rx(),Error(V(418));for(;t;)sx(e,t),t=is(t.nextSibling)}if(Xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=is(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Ot?is(e.stateNode.nextSibling):null;return!0}function rx(){for(var e=Dt;e;)e=is(e.nextSibling)}function Rr(){Dt=Ot=null,Oe=!1}function tf(e){Xt===null?Xt=[e]:Xt.push(e)}var Xw=_n.ReactCurrentBatchConfig;function ni(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var s=n.stateNode}if(!s)throw Error(V(147,e));var r=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Fa(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function ix(e){function t(j,m){if(e){var x=j.deletions;x===null?(j.deletions=[m],j.flags|=16):x.push(m)}}function n(j,m){if(!e)return null;for(;m!==null;)t(j,m),m=m.sibling;return null}function s(j,m){for(j=new Map;m!==null;)m.key!==null?j.set(m.key,m):j.set(m.index,m),m=m.sibling;return j}function r(j,m){return j=cs(j,m),j.index=0,j.sibling=null,j}function a(j,m,x){return j.index=x,e?(x=j.alternate,x!==null?(x=x.index,x<m?(j.flags|=2,m):x):(j.flags|=2,m)):(j.flags|=1048576,m)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,m,x,b){return m===null||m.tag!==6?(m=Rc(x,j.mode,b),m.return=j,m):(m=r(m,x),m.return=j,m)}function c(j,m,x,b){var N=x.type;return N===lr?d(j,m,x.props.children,b,x.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hn&&Jh(N)===m.type)?(b=r(m,x.props),b.ref=ni(j,m,x),b.return=j,b):(b=ao(x.type,x.key,x.props,null,j.mode,b),b.ref=ni(j,m,x),b.return=j,b)}function u(j,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Lc(x,j.mode,b),m.return=j,m):(m=r(m,x.children||[]),m.return=j,m)}function d(j,m,x,b,N){return m===null||m.tag!==7?(m=$s(x,j.mode,b,N),m.return=j,m):(m=r(m,x),m.return=j,m)}function f(j,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Rc(""+m,j.mode,x),m.return=j,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ea:return x=ao(m.type,m.key,m.props,null,j.mode,x),x.ref=ni(j,null,m),x.return=j,x;case or:return m=Lc(m,j.mode,x),m.return=j,m;case Hn:var b=m._init;return f(j,b(m._payload),x)}if(fi(m)||Zr(m))return m=$s(m,j.mode,x,null),m.return=j,m;Fa(j,m)}return null}function h(j,m,x,b){var N=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(j,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ea:return x.key===N?c(j,m,x,b):null;case or:return x.key===N?u(j,m,x,b):null;case Hn:return N=x._init,h(j,m,N(x._payload),b)}if(fi(x)||Zr(x))return N!==null?null:d(j,m,x,b,null);Fa(j,x)}return null}function g(j,m,x,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(x)||null,l(m,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ea:return j=j.get(b.key===null?x:b.key)||null,c(m,j,b,N);case or:return j=j.get(b.key===null?x:b.key)||null,u(m,j,b,N);case Hn:var S=b._init;return g(j,m,x,S(b._payload),N)}if(fi(b)||Zr(b))return j=j.get(x)||null,d(m,j,b,N,null);Fa(m,b)}return null}function p(j,m,x,b){for(var N=null,S=null,E=m,T=m=0,P=null;E!==null&&T<x.length;T++){E.index>T?(P=E,E=null):P=E.sibling;var D=h(j,E,x[T],b);if(D===null){E===null&&(E=P);break}e&&E&&D.alternate===null&&t(j,E),m=a(D,m,T),S===null?N=D:S.sibling=D,S=D,E=P}if(T===x.length)return n(j,E),Oe&&Ss(j,T),N;if(E===null){for(;T<x.length;T++)E=f(j,x[T],b),E!==null&&(m=a(E,m,T),S===null?N=E:S.sibling=E,S=E);return Oe&&Ss(j,T),N}for(E=s(j,E);T<x.length;T++)P=g(E,j,T,x[T],b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?T:P.key),m=a(P,m,T),S===null?N=P:S.sibling=P,S=P);return e&&E.forEach(function(Y){return t(j,Y)}),Oe&&Ss(j,T),N}function w(j,m,x,b){var N=Zr(x);if(typeof N!="function")throw Error(V(150));if(x=N.call(x),x==null)throw Error(V(151));for(var S=N=null,E=m,T=m=0,P=null,D=x.next();E!==null&&!D.done;T++,D=x.next()){E.index>T?(P=E,E=null):P=E.sibling;var Y=h(j,E,D.value,b);if(Y===null){E===null&&(E=P);break}e&&E&&Y.alternate===null&&t(j,E),m=a(Y,m,T),S===null?N=Y:S.sibling=Y,S=Y,E=P}if(D.done)return n(j,E),Oe&&Ss(j,T),N;if(E===null){for(;!D.done;T++,D=x.next())D=f(j,D.value,b),D!==null&&(m=a(D,m,T),S===null?N=D:S.sibling=D,S=D);return Oe&&Ss(j,T),N}for(E=s(j,E);!D.done;T++,D=x.next())D=g(E,j,T,D.value,b),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?T:D.key),m=a(D,m,T),S===null?N=D:S.sibling=D,S=D);return e&&E.forEach(function(W){return t(j,W)}),Oe&&Ss(j,T),N}function y(j,m,x,b){if(typeof x=="object"&&x!==null&&x.type===lr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ea:e:{for(var N=x.key,S=m;S!==null;){if(S.key===N){if(N=x.type,N===lr){if(S.tag===7){n(j,S.sibling),m=r(S,x.props.children),m.return=j,j=m;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hn&&Jh(N)===S.type){n(j,S.sibling),m=r(S,x.props),m.ref=ni(j,S,x),m.return=j,j=m;break e}n(j,S);break}else t(j,S);S=S.sibling}x.type===lr?(m=$s(x.props.children,j.mode,b,x.key),m.return=j,j=m):(b=ao(x.type,x.key,x.props,null,j.mode,b),b.ref=ni(j,m,x),b.return=j,j=b)}return o(j);case or:e:{for(S=x.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(j,m.sibling),m=r(m,x.children||[]),m.return=j,j=m;break e}else{n(j,m);break}else t(j,m);m=m.sibling}m=Lc(x,j.mode,b),m.return=j,j=m}return o(j);case Hn:return S=x._init,y(j,m,S(x._payload),b)}if(fi(x))return p(j,m,x,b);if(Zr(x))return w(j,m,x,b);Fa(j,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(j,m.sibling),m=r(m,x),m.return=j,j=m):(n(j,m),m=Rc(x,j.mode,b),m.return=j,j=m),o(j)):n(j,m)}return y}var Lr=ix(!0),ax=ix(!1),Lo=ys(null),Do=null,gr=null,nf=null;function sf(){nf=gr=Do=null}function rf(e){var t=Lo.current;Pe(Lo),e._currentValue=t}function Du(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){Do=e,nf=gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(nf!==e)if(e={context:e,memoizedValue:t,next:null},gr===null){if(Do===null)throw Error(V(308));gr=e,Do.dependencies={lanes:0,firstContext:e}}else gr=gr.next=e;return t}var Ps=null;function af(e){Ps===null?Ps=[e]:Ps.push(e)}function ox(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,af(t)):(n.next=r.next,r.next=n),t.interleaved=n,On(e,s)}function On(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ye&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,On(e,n)}return r=s.interleaved,r===null?(t.next=t,af(s)):(t.next=r.next,r.next=t),s.interleaved=t,On(e,n)}function eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Hd(e,n)}}function em(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,s){var r=e.updateQueue;Wn=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,g=l.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,w=l;switch(h=t,g=n,w.tag){case 1:if(p=w.payload,typeof p=="function"){f=p.call(g,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,h=typeof p=="function"?p.call(g,f,h):p,h==null)break e;f=Ve({},f,h);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);Hs|=o,e.lanes=o,e.memoizedState=f}}function tm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(V(191,r));r.call(s)}}}var ua={},gn=ys(ua),Wi=ys(ua),Qi=ys(ua);function Rs(e){if(e===ua)throw Error(V(174));return e}function lf(e,t){switch(Ee(Qi,t),Ee(Wi,e),Ee(gn,ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hu(t,e)}Pe(gn),Ee(gn,t)}function Dr(){Pe(gn),Pe(Wi),Pe(Qi)}function cx(e){Rs(Qi.current);var t=Rs(gn.current),n=hu(t,e.type);t!==n&&(Ee(Wi,e),Ee(gn,n))}function cf(e){Wi.current===e&&(Pe(gn),Pe(Wi))}var Fe=ys(0);function Mo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ec=[];function uf(){for(var e=0;e<Ec.length;e++)Ec[e]._workInProgressVersionPrimary=null;Ec.length=0}var to=_n.ReactCurrentDispatcher,kc=_n.ReactCurrentBatchConfig,zs=0,$e=null,Ze=null,et=null,Fo=!1,wi=!1,Ki=0,Jw=0;function ot(){throw Error(V(321))}function df(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function ff(e,t,n,s,r,a){if(zs=a,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,to.current=e===null||e.memoizedState===null?sj:rj,e=n(s,r),wi){a=0;do{if(wi=!1,Ki=0,25<=a)throw Error(V(301));a+=1,et=Ze=null,t.updateQueue=null,to.current=ij,e=n(s,r)}while(wi)}if(to.current=Io,t=Ze!==null&&Ze.next!==null,zs=0,et=Ze=$e=null,Fo=!1,t)throw Error(V(300));return e}function hf(){var e=Ki!==0;return Ki=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?$e.memoizedState=et=e:et=et.next=e,et}function Kt(){if(Ze===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=et===null?$e.memoizedState:et.next;if(t!==null)et=t,Ze=e;else{if(e===null)throw Error(V(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},et===null?$e.memoizedState=et=e:et=et.next=e}return et}function Gi(e,t){return typeof t=="function"?t(e):t}function Cc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var s=Ze,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((zs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,$e.lanes|=d,Hs|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,rn(s,t.memoizedState)||(Nt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do a=r.lane,$e.lanes|=a,Hs|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);rn(a,t.memoizedState)||(Nt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function ux(){}function dx(e,t){var n=$e,s=Kt(),r=t(),a=!rn(s.memoizedState,r);if(a&&(s.memoizedState=r,Nt=!0),s=s.queue,mf(mx.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Yi(9,hx.bind(null,n,s,r,t),void 0,null),nt===null)throw Error(V(349));zs&30||fx(n,t,r)}return r}function fx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hx(e,t,n,s){t.value=n,t.getSnapshot=s,px(t)&&gx(e)}function mx(e,t,n){return n(function(){px(t)&&gx(e)})}function px(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function gx(e){var t=On(e,1);t!==null&&nn(t,e,1,-1)}function nm(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=nj.bind(null,$e,e),[t.memoizedState,e]}function Yi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function xx(){return Kt().memoizedState}function no(e,t,n,s){var r=un();$e.flags|=e,r.memoizedState=Yi(1|t,n,void 0,s===void 0?null:s)}function kl(e,t,n,s){var r=Kt();s=s===void 0?null:s;var a=void 0;if(Ze!==null){var o=Ze.memoizedState;if(a=o.destroy,s!==null&&df(s,o.deps)){r.memoizedState=Yi(t,n,a,s);return}}$e.flags|=e,r.memoizedState=Yi(1|t,n,a,s)}function sm(e,t){return no(8390656,8,e,t)}function mf(e,t){return kl(2048,8,e,t)}function yx(e,t){return kl(4,2,e,t)}function vx(e,t){return kl(4,4,e,t)}function bx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wx(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,bx.bind(null,t,e),n)}function pf(){}function jx(e,t){var n=Kt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&df(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Nx(e,t){var n=Kt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&df(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Sx(e,t,n){return zs&21?(rn(n,t)||(n=Ag(),$e.lanes|=n,Hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=n)}function ej(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var s=kc.transition;kc.transition={};try{e(!1),t()}finally{we=n,kc.transition=s}}function Ex(){return Kt().memoizedState}function tj(e,t,n){var s=ls(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},kx(e))Cx(t,n);else if(n=ox(e,t,n,s),n!==null){var r=yt();nn(n,e,s,r),Tx(n,t,s)}}function nj(e,t,n){var s=ls(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(kx(e))Cx(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,rn(l,o)){var c=t.interleaved;c===null?(r.next=r,af(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=ox(e,t,r,s),n!==null&&(r=yt(),nn(n,e,s,r),Tx(n,t,s))}}function kx(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Cx(e,t){wi=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Hd(e,n)}}var Io={readContext:Qt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},sj={readContext:Qt,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:sm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,no(4194308,4,bx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4194308,4,e,t)},useInsertionEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=un();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=tj.bind(null,$e,e),[s.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:nm,useDebugValue:pf,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=nm(!1),t=e[0];return e=ej.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=$e,r=un();if(Oe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),nt===null)throw Error(V(349));zs&30||fx(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,sm(mx.bind(null,s,a,e),[e]),s.flags|=2048,Yi(9,hx.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=un(),t=nt.identifierPrefix;if(Oe){var n=kn,s=En;n=(s&~(1<<32-tn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ki++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rj={readContext:Qt,useCallback:jx,useContext:Qt,useEffect:mf,useImperativeHandle:wx,useInsertionEffect:yx,useLayoutEffect:vx,useMemo:Nx,useReducer:Cc,useRef:xx,useState:function(){return Cc(Gi)},useDebugValue:pf,useDeferredValue:function(e){var t=Kt();return Sx(t,Ze.memoizedState,e)},useTransition:function(){var e=Cc(Gi)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:ux,useSyncExternalStore:dx,useId:Ex,unstable_isNewReconciler:!1},ij={readContext:Qt,useCallback:jx,useContext:Qt,useEffect:mf,useImperativeHandle:wx,useInsertionEffect:yx,useLayoutEffect:vx,useMemo:Nx,useReducer:Tc,useRef:xx,useState:function(){return Tc(Gi)},useDebugValue:pf,useDeferredValue:function(e){var t=Kt();return Ze===null?t.memoizedState=e:Sx(t,Ze.memoizedState,e)},useTransition:function(){var e=Tc(Gi)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:ux,useSyncExternalStore:dx,useId:Ex,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ou(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cl={isMounted:function(e){return(e=e._reactInternals)?Zs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=yt(),r=ls(e),a=Tn(s,r);a.payload=t,n!=null&&(a.callback=n),t=as(e,a,r),t!==null&&(nn(t,e,r,s),eo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=yt(),r=ls(e),a=Tn(s,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=as(e,a,r),t!==null&&(nn(t,e,r,s),eo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),s=ls(e),r=Tn(n,s);r.tag=2,t!=null&&(r.callback=t),t=as(e,r,s),t!==null&&(nn(t,e,s,n),eo(t,e,s))}};function rm(e,t,n,s,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Bi(n,s)||!Bi(r,a):!0}function Ax(e,t,n){var s=!1,r=ms,a=t.contextType;return typeof a=="object"&&a!==null?a=Qt(a):(r=Et(t)?Bs:ft.current,s=t.contextTypes,a=(s=s!=null)?Pr(e,r):ms),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function im(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function Mu(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},of(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=Qt(a):(a=Et(t)?Bs:ft.current,r.context=Pr(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ou(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Cl.enqueueReplaceState(r,r.state,null),Oo(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",s=t;do n+=Db(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function Ac(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aj=typeof WeakMap=="function"?WeakMap:Map;function Px(e,t,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){_o||(_o=!0,Wu=s),Fu(e,t)},n}function Rx(e,t,n){n=Tn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Fu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fu(e,t),typeof s!="function"&&(os===null?os=new Set([this]):os.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function am(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new aj;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=bj.bind(null,e,t,n),t.then(e,e))}function om(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lm(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tn(-1,1),t.tag=2,as(n,t,1))),n.lanes|=1),e)}var oj=_n.ReactCurrentOwner,Nt=!1;function gt(e,t,n,s){t.child=e===null?ax(t,null,n,s):Lr(t,e.child,n,s)}function cm(e,t,n,s,r){n=n.render;var a=t.ref;return Cr(t,r),s=ff(e,t,n,s,a,r),n=hf(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Mn(e,t,r)):(Oe&&n&&Jd(t),t.flags|=1,gt(e,t,s,r),t.child)}function um(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!Nf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Lx(e,t,a,s,r)):(e=ao(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(o,s)&&e.ref===t.ref)return Mn(e,t,r)}return t.flags|=1,e=cs(a,s),e.ref=t.ref,e.return=t,t.child=e}function Lx(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(Bi(a,s)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=s=a,(e.lanes&r)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Mn(e,t,r)}return Iu(e,t,n,s,r)}function Dx(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(yr,Rt),Rt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(yr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Ee(yr,Rt),Rt|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Ee(yr,Rt),Rt|=s;return gt(e,t,r,n),t.child}function Ox(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,s,r){var a=Et(n)?Bs:ft.current;return a=Pr(t,a),Cr(t,r),n=ff(e,t,n,s,a,r),s=hf(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Mn(e,t,r)):(Oe&&s&&Jd(t),t.flags|=1,gt(e,t,n,r),t.child)}function dm(e,t,n,s,r){if(Et(n)){var a=!0;Ao(t)}else a=!1;if(Cr(t,r),t.stateNode===null)so(e,t),Ax(t,n,s),Mu(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=Et(n)?Bs:ft.current,u=Pr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&im(t,o,s,u),Wn=!1;var h=t.memoizedState;o.state=h,Oo(t,s,o,r),c=t.memoizedState,l!==s||h!==c||St.current||Wn?(typeof d=="function"&&(Ou(t,n,d,s),c=t.memoizedState),(l=Wn||rm(t,n,l,s,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,lx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Yt(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qt(c):(c=Et(n)?Bs:ft.current,c=Pr(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&im(t,o,s,c),Wn=!1,h=t.memoizedState,o.state=h,Oo(t,s,o,r);var p=t.memoizedState;l!==f||h!==p||St.current||Wn?(typeof g=="function"&&(Ou(t,n,g,s),p=t.memoizedState),(u=Wn||rm(t,n,u,s,h,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return $u(e,t,n,s,a,r)}function $u(e,t,n,s,r,a){Ox(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&Yh(t,n,!1),Mn(e,t,a);s=t.stateNode,oj.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,a),t.child=Lr(t,null,l,a)):gt(e,t,l,a),t.memoizedState=s.state,r&&Yh(t,n,!0),t.child}function Mx(e){var t=e.stateNode;t.pendingContext?Gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gh(e,t.context,!1),lf(e,t.containerInfo)}function fm(e,t,n,s,r){return Rr(),tf(r),t.flags|=256,gt(e,t,n,s),t.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function Vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fx(e,t,n){var s=t.pendingProps,r=Fe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Ee(Fe,r&1),e===null)return Lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Pl(o,s,0,null),e=$s(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vu(n),t.memoizedState=_u,e):gf(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return lj(e,t,o,s,l,r,n);if(a){a=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=cs(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=cs(l,a):(a=$s(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Vu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=_u,s}return a=e.child,e=a.sibling,s=cs(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function gf(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ia(e,t,n,s){return s!==null&&tf(s),Lr(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lj(e,t,n,s,r,a,o){if(n)return t.flags&256?(t.flags&=-257,s=Ac(Error(V(422))),Ia(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=Pl({mode:"visible",children:s.children},r,0,null),a=$s(a,r,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=Vu(o),t.memoizedState=_u,a);if(!(t.mode&1))return Ia(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(V(419)),s=Ac(a,s,void 0),Ia(e,t,o,s)}if(l=(o&e.childLanes)!==0,Nt||l){if(s=nt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,On(e,r),nn(s,e,r,-1))}return jf(),s=Ac(Error(V(421))),Ia(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=wj.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Dt=is(r.nextSibling),Ot=t,Oe=!0,Xt=null,e!==null&&(qt[zt++]=En,qt[zt++]=kn,qt[zt++]=qs,En=e.id,kn=e.overflow,qs=t),t=gf(t,s.children),t.flags|=4096,t)}function hm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Du(e.return,t,n)}function Pc(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Ix(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(gt(e,t,s.children,n),s=Fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,n,t);else if(e.tag===19)hm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ee(Fe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Mo(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Pc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Mo(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Pc(t,!0,n,null,a);break;case"together":Pc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function so(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cj(e,t,n){switch(t.tag){case 3:Mx(t),Rr();break;case 5:cx(t);break;case 1:Et(t.type)&&Ao(t);break;case 4:lf(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;Ee(Lo,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ee(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Fx(e,t,n):(Ee(Fe,Fe.current&1),e=Mn(e,t,n),e!==null?e.sibling:null);Ee(Fe,Fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Ix(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(Fe,Fe.current),s)break;return null;case 22:case 23:return t.lanes=0,Dx(e,t,n)}return Mn(e,t,n)}var $x,Uu,_x,Vx;$x=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uu=function(){};_x=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Rs(gn.current);var a=null;switch(n){case"input":r=cu(e,r),s=cu(e,s),a=[];break;case"select":r=Ve({},r,{value:void 0}),s=Ve({},s,{value:void 0}),a=[];break;case"textarea":r=fu(e,r),s=fu(e,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Co)}mu(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Te("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Vx=function(e,t,n,s){n!==s&&(t.flags|=4)};function si(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function uj(e,t,n){var s=t.pendingProps;switch(ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Et(t.type)&&To(),lt(t),null;case 3:return s=t.stateNode,Dr(),Pe(St),Pe(ft),uf(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ma(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(Gu(Xt),Xt=null))),Uu(e,t),lt(t),null;case 5:cf(t);var r=Rs(Qi.current);if(n=t.type,e!==null&&t.stateNode!=null)_x(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(V(166));return lt(t),null}if(e=Rs(gn.current),Ma(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[fn]=t,s[Hi]=a,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(r=0;r<mi.length;r++)Te(mi[r],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":jh(s,a),Te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Te("invalid",s);break;case"textarea":Sh(s,a),Te("invalid",s)}mu(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Oa(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Oa(s.textContent,l,e),r=["children",""+l]):Mi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Te("scroll",s)}switch(n){case"input":ka(s),Nh(s,a,!0);break;case"textarea":ka(s),Eh(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Co)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[fn]=t,e[Hi]=s,$x(e,t,!1,!1),t.stateNode=e;e:{switch(o=pu(n,s),n){case"dialog":Te("cancel",e),Te("close",e),r=s;break;case"iframe":case"object":case"embed":Te("load",e),r=s;break;case"video":case"audio":for(r=0;r<mi.length;r++)Te(mi[r],e);r=s;break;case"source":Te("error",e),r=s;break;case"img":case"image":case"link":Te("error",e),Te("load",e),r=s;break;case"details":Te("toggle",e),r=s;break;case"input":jh(e,s),r=cu(e,s),Te("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=Ve({},s,{value:void 0}),Te("invalid",e);break;case"textarea":Sh(e,s),r=fu(e,s),Te("invalid",e);break;default:r=s}mu(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?xg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fi(e,c):typeof c=="number"&&Fi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Mi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Te("scroll",e):c!=null&&_d(e,a,c,o))}switch(n){case"input":ka(e),Nh(e,s,!1);break;case"textarea":ka(e),Eh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+hs(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Nr(e,!!s.multiple,a,!1):s.defaultValue!=null&&Nr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Co)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Vx(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(V(166));if(n=Rs(Qi.current),Rs(gn.current),Ma(t)){if(s=t.stateNode,n=t.memoizedProps,s[fn]=t,(a=s.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:Oa(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oa(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[fn]=t,t.stateNode=s}return lt(t),null;case 13:if(Pe(Fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Dt!==null&&t.mode&1&&!(t.flags&128))rx(),Rr(),t.flags|=98560,a=!1;else if(a=Ma(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[fn]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),a=!1}else Xt!==null&&(Gu(Xt),Xt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Xe===0&&(Xe=3):jf())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Dr(),Uu(e,t),e===null&&qi(t.stateNode.containerInfo),lt(t),null;case 10:return rf(t.type._context),lt(t),null;case 17:return Et(t.type)&&To(),lt(t),null;case 19:if(Pe(Fe),a=t.memoizedState,a===null)return lt(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)si(a,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mo(e),o!==null){for(t.flags|=128,si(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&qe()>Mr&&(t.flags|=128,s=!0,si(a,!1),t.lanes=4194304)}else{if(!s)if(e=Mo(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),si(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Oe)return lt(t),null}else 2*qe()-a.renderingStartTime>Mr&&n!==1073741824&&(t.flags|=128,s=!0,si(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,n=Fe.current,Ee(Fe,s?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return wf(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Rt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function dj(e,t){switch(ef(t),t.tag){case 1:return Et(t.type)&&To(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),Pe(St),Pe(ft),uf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cf(t),null;case 13:if(Pe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Fe),null;case 4:return Dr(),null;case 10:return rf(t.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var $a=!1,ut=!1,fj=typeof WeakSet=="function"?WeakSet:Set,ee=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ue(e,t,s)}else n.current=null}function Bu(e,t,n){try{n()}catch(s){Ue(e,t,s)}}var mm=!1;function hj(e,t){if(Eu=So,e=Hg(),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===r&&(l=o),h===a&&++d===s&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:e,selectionRange:n},So=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,y=p.memoizedState,j=t.stateNode,m=j.getSnapshotBeforeUpdate(t.elementType===t.type?w:Yt(t.type,w),y);j.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(b){Ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return p=mm,mm=!1,p}function ji(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&Bu(t,n,a)}r=r.next}while(r!==s)}}function Tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function qu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ux(e){var t=e.alternate;t!==null&&(e.alternate=null,Ux(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Hi],delete t[Au],delete t[Gw],delete t[Yw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bx(e){return e.tag===5||e.tag===3||e.tag===4}function pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Co));else if(s!==4&&(e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function Hu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Hu(e,t,n),e=e.sibling;e!==null;)Hu(e,t,n),e=e.sibling}var st=null,Zt=!1;function qn(e,t,n){for(n=n.child;n!==null;)qx(e,t,n),n=n.sibling}function qx(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:ut||xr(n,t);case 6:var s=st,r=Zt;st=null,qn(e,t,n),st=s,Zt=r,st!==null&&(Zt?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Zt?(e=st,n=n.stateNode,e.nodeType===8?Nc(e.parentNode,n):e.nodeType===1&&Nc(e,n),Vi(e)):Nc(st,n.stateNode));break;case 4:s=st,r=Zt,st=n.stateNode.containerInfo,Zt=!0,qn(e,t,n),st=s,Zt=r;break;case 0:case 11:case 14:case 15:if(!ut&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bu(n,t,o),r=r.next}while(r!==s)}qn(e,t,n);break;case 1:if(!ut&&(xr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Ue(n,t,l)}qn(e,t,n);break;case 21:qn(e,t,n);break;case 22:n.mode&1?(ut=(s=ut)||n.memoizedState!==null,qn(e,t,n),ut=s):qn(e,t,n);break;default:qn(e,t,n)}}function gm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fj),t.forEach(function(s){var r=jj.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,Zt=!1;break e;case 3:st=l.stateNode.containerInfo,Zt=!0;break e;case 4:st=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(st===null)throw Error(V(160));qx(a,o,r),st=null,Zt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){Ue(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zx(t,e),t=t.sibling}function zx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),ln(e),s&4){try{ji(3,e,e.return),Tl(3,e)}catch(w){Ue(e,e.return,w)}try{ji(5,e,e.return)}catch(w){Ue(e,e.return,w)}}break;case 1:Gt(t,e),ln(e),s&512&&n!==null&&xr(n,n.return);break;case 5:if(Gt(t,e),ln(e),s&512&&n!==null&&xr(n,n.return),e.flags&32){var r=e.stateNode;try{Fi(r,"")}catch(w){Ue(e,e.return,w)}}if(s&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&fg(r,a),pu(l,o);var u=pu(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?xg(r,f):d==="dangerouslySetInnerHTML"?pg(r,f):d==="children"?Fi(r,f):_d(r,d,f,u)}switch(l){case"input":uu(r,a);break;case"textarea":hg(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Nr(r,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Nr(r,!!a.multiple,a.defaultValue,!0):Nr(r,!!a.multiple,a.multiple?[]:"",!1))}r[Hi]=a}catch(w){Ue(e,e.return,w)}}break;case 6:if(Gt(t,e),ln(e),s&4){if(e.stateNode===null)throw Error(V(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(w){Ue(e,e.return,w)}}break;case 3:if(Gt(t,e),ln(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(w){Ue(e,e.return,w)}break;case 4:Gt(t,e),ln(e);break;case 13:Gt(t,e),ln(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(vf=qe())),s&4&&gm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(u=ut)||d,Gt(t,e),ut=u):Gt(t,e),ln(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ee=e,d=e.child;d!==null;){for(f=ee=d;ee!==null;){switch(h=ee,g=h.child,h.tag){case 0:case 11:case 14:case 15:ji(4,h,h.return);break;case 1:xr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(w){Ue(s,n,w)}}break;case 5:xr(h,h.return);break;case 22:if(h.memoizedState!==null){ym(f);continue}}g!==null?(g.return=h,ee=g):ym(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gg("display",o))}catch(w){Ue(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ue(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gt(t,e),ln(e),s&4&&gm(e);break;case 21:break;default:Gt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bx(n)){var s=n;break e}n=n.return}throw Error(V(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Fi(r,""),s.flags&=-33);var a=pm(e);Hu(e,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=pm(e);zu(e,l,o);break;default:throw Error(V(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mj(e,t,n){ee=e,Hx(e)}function Hx(e,t,n){for(var s=(e.mode&1)!==0;ee!==null;){var r=ee,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||$a;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||ut;l=$a;var u=ut;if($a=o,(ut=c)&&!u)for(ee=r;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?vm(r):c!==null?(c.return=o,ee=c):vm(r);for(;a!==null;)ee=a,Hx(a),a=a.sibling;ee=r,$a=l,ut=u}xm(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,ee=a):xm(e)}}function xm(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||Tl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ut)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&tm(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tm(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}ut||t.flags&512&&qu(t)}catch(h){Ue(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function ym(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function vm(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Tl(4,t)}catch(c){Ue(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){Ue(t,r,c)}}var a=t.return;try{qu(t)}catch(c){Ue(t,a,c)}break;case 5:var o=t.return;try{qu(t)}catch(c){Ue(t,o,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var pj=Math.ceil,$o=_n.ReactCurrentDispatcher,xf=_n.ReactCurrentOwner,Wt=_n.ReactCurrentBatchConfig,ye=0,nt=null,Ke=null,it=0,Rt=0,yr=ys(0),Xe=0,Zi=null,Hs=0,Al=0,yf=0,Ni=null,jt=null,vf=0,Mr=1/0,jn=null,_o=!1,Wu=null,os=null,_a=!1,Jn=null,Vo=0,Si=0,Qu=null,ro=-1,io=0;function yt(){return ye&6?qe():ro!==-1?ro:ro=qe()}function ls(e){return e.mode&1?ye&2&&it!==0?it&-it:Xw.transition!==null?(io===0&&(io=Ag()),io):(e=we,e!==0||(e=window.event,e=e===void 0?16:Fg(e.type)),e):1}function nn(e,t,n,s){if(50<Si)throw Si=0,Qu=null,Error(V(185));oa(e,n,s),(!(ye&2)||e!==nt)&&(e===nt&&(!(ye&2)&&(Al|=n),Xe===4&&Yn(e,it)),kt(e,s),n===1&&ye===0&&!(t.mode&1)&&(Mr=qe()+500,El&&vs()))}function kt(e,t){var n=e.callbackNode;Xb(e,t);var s=No(e,e===nt?it:0);if(s===0)n!==null&&Th(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Th(n),t===1)e.tag===0?Zw(bm.bind(null,e)):tx(bm.bind(null,e)),Qw(function(){!(ye&6)&&vs()}),n=null;else{switch(Pg(s)){case 1:n=zd;break;case 4:n=Cg;break;case 16:n=jo;break;case 536870912:n=Tg;break;default:n=jo}n=Jx(n,Wx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wx(e,t){if(ro=-1,io=0,ye&6)throw Error(V(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var s=No(e,e===nt?it:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Uo(e,s);else{t=s;var r=ye;ye|=2;var a=Kx();(nt!==e||it!==t)&&(jn=null,Mr=qe()+500,Is(e,t));do try{yj();break}catch(l){Qx(e,l)}while(1);sf(),$o.current=a,ye=r,Ke!==null?t=0:(nt=null,it=0,t=Xe)}if(t!==0){if(t===2&&(r=bu(e),r!==0&&(s=r,t=Ku(e,r))),t===1)throw n=Zi,Is(e,0),Yn(e,s),kt(e,qe()),n;if(t===6)Yn(e,s);else{if(r=e.current.alternate,!(s&30)&&!gj(r)&&(t=Uo(e,s),t===2&&(a=bu(e),a!==0&&(s=a,t=Ku(e,a))),t===1))throw n=Zi,Is(e,0),Yn(e,s),kt(e,qe()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(V(345));case 2:Es(e,jt,jn);break;case 3:if(Yn(e,s),(s&130023424)===s&&(t=vf+500-qe(),10<t)){if(No(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){yt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Tu(Es.bind(null,e,jt,jn),t);break}Es(e,jt,jn);break;case 4:if(Yn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-tn(s);a=1<<o,o=t[o],o>r&&(r=o),s&=~a}if(s=r,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*pj(s/1960))-s,10<s){e.timeoutHandle=Tu(Es.bind(null,e,jt,jn),s);break}Es(e,jt,jn);break;case 5:Es(e,jt,jn);break;default:throw Error(V(329))}}}return kt(e,qe()),e.callbackNode===n?Wx.bind(null,e):null}function Ku(e,t){var n=Ni;return e.current.memoizedState.isDehydrated&&(Is(e,t).flags|=256),e=Uo(e,t),e!==2&&(t=jt,jt=n,t!==null&&Gu(t)),e}function Gu(e){jt===null?jt=e:jt.push.apply(jt,e)}function gj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!rn(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~yf,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),s=1<<n;e[n]=-1,t&=~s}}function bm(e){if(ye&6)throw Error(V(327));Tr();var t=No(e,0);if(!(t&1))return kt(e,qe()),null;var n=Uo(e,t);if(e.tag!==0&&n===2){var s=bu(e);s!==0&&(t=s,n=Ku(e,s))}if(n===1)throw n=Zi,Is(e,0),Yn(e,t),kt(e,qe()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Es(e,jt,jn),kt(e,qe()),null}function bf(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(Mr=qe()+500,El&&vs())}}function Ws(e){Jn!==null&&Jn.tag===0&&!(ye&6)&&Tr();var t=ye;ye|=1;var n=Wt.transition,s=we;try{if(Wt.transition=null,we=1,e)return e()}finally{we=s,Wt.transition=n,ye=t,!(ye&6)&&vs()}}function wf(){Rt=yr.current,Pe(yr)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ww(n)),Ke!==null)for(n=Ke.return;n!==null;){var s=n;switch(ef(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&To();break;case 3:Dr(),Pe(St),Pe(ft),uf();break;case 5:cf(s);break;case 4:Dr();break;case 13:Pe(Fe);break;case 19:Pe(Fe);break;case 10:rf(s.type._context);break;case 22:case 23:wf()}n=n.return}if(nt=e,Ke=e=cs(e.current,null),it=Rt=t,Xe=0,Zi=null,yf=Al=Hs=0,jt=Ni=null,Ps!==null){for(t=0;t<Ps.length;t++)if(n=Ps[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Ps=null}return e}function Qx(e,t){do{var n=Ke;try{if(sf(),to.current=Io,Fo){for(var s=$e.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Fo=!1}if(zs=0,et=Ze=$e=null,wi=!1,Ki=0,xf.current=null,n===null||n.return===null){Xe=1,Zi=t,Ke=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=it,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=om(o);if(g!==null){g.flags&=-257,lm(g,o,l,a,t),g.mode&1&&am(a,u,t),t=g,c=u;var p=t.updateQueue;if(p===null){var w=new Set;w.add(c),t.updateQueue=w}else p.add(c);break e}else{if(!(t&1)){am(a,u,t),jf();break e}c=Error(V(426))}}else if(Oe&&l.mode&1){var y=om(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lm(y,o,l,a,t),tf(Or(c,l));break e}}a=c=Or(c,l),Xe!==4&&(Xe=2),Ni===null?Ni=[a]:Ni.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var j=Px(a,c,t);em(a,j);break e;case 1:l=c;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(os===null||!os.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Rx(a,l,t);em(a,b);break e}}a=a.return}while(a!==null)}Yx(n)}catch(N){t=N,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function Kx(){var e=$o.current;return $o.current=Io,e===null?Io:e}function jf(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(Hs&268435455)&&!(Al&268435455)||Yn(nt,it)}function Uo(e,t){var n=ye;ye|=2;var s=Kx();(nt!==e||it!==t)&&(jn=null,Is(e,t));do try{xj();break}catch(r){Qx(e,r)}while(1);if(sf(),ye=n,$o.current=s,Ke!==null)throw Error(V(261));return nt=null,it=0,Xe}function xj(){for(;Ke!==null;)Gx(Ke)}function yj(){for(;Ke!==null&&!qb();)Gx(Ke)}function Gx(e){var t=Xx(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Yx(e):Ke=t,xf.current=null}function Yx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dj(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ke=null;return}}else if(n=uj(n,t,Rt),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Xe===0&&(Xe=5)}function Es(e,t,n){var s=we,r=Wt.transition;try{Wt.transition=null,we=1,vj(e,t,n,s)}finally{Wt.transition=r,we=s}return null}function vj(e,t,n,s){do Tr();while(Jn!==null);if(ye&6)throw Error(V(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Jb(e,a),e===nt&&(Ke=nt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_a||(_a=!0,Jx(jo,function(){return Tr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wt.transition,Wt.transition=null;var o=we;we=1;var l=ye;ye|=4,xf.current=null,hj(e,n),zx(n,e),_w(ku),So=!!Eu,ku=Eu=null,e.current=n,mj(n),zb(),ye=l,we=o,Wt.transition=a}else e.current=n;if(_a&&(_a=!1,Jn=e,Vo=r),a=e.pendingLanes,a===0&&(os=null),Qb(n.stateNode),kt(e,qe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(_o)throw _o=!1,e=Wu,Wu=null,e;return Vo&1&&e.tag!==0&&Tr(),a=e.pendingLanes,a&1?e===Qu?Si++:(Si=0,Qu=e):Si=0,vs(),null}function Tr(){if(Jn!==null){var e=Pg(Vo),t=Wt.transition,n=we;try{if(Wt.transition=null,we=16>e?16:e,Jn===null)var s=!1;else{if(e=Jn,Jn=null,Vo=0,ye&6)throw Error(V(331));var r=ye;for(ye|=4,ee=e.current;ee!==null;){var a=ee,o=a.child;if(ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:ji(8,d,a)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var h=d.sibling,g=d.return;if(Ux(d),d===u){ee=null;break}if(h!==null){h.return=g,ee=h;break}ee=g}}}var p=a.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ee=o;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ji(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,ee=j;break e}ee=a.return}}var m=e.current;for(ee=m;ee!==null;){o=ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ee=x;else e:for(o=m;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tl(9,l)}}catch(N){Ue(l,l.return,N)}if(l===o){ee=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ee=b;break e}ee=l.return}}if(ye=r,vs(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(bl,e)}catch{}s=!0}return s}finally{we=n,Wt.transition=t}}return!1}function wm(e,t,n){t=Or(n,t),t=Px(e,t,1),e=as(e,t,1),t=yt(),e!==null&&(oa(e,1,t),kt(e,t))}function Ue(e,t,n){if(e.tag===3)wm(e,e,n);else for(;t!==null;){if(t.tag===3){wm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(os===null||!os.has(s))){e=Or(n,e),e=Rx(t,e,1),t=as(t,e,1),e=yt(),t!==null&&(oa(t,1,e),kt(t,e));break}}t=t.return}}function bj(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(it&n)===n&&(Xe===4||Xe===3&&(it&130023424)===it&&500>qe()-vf?Is(e,0):yf|=n),kt(e,t)}function Zx(e,t){t===0&&(e.mode&1?(t=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):t=1);var n=yt();e=On(e,t),e!==null&&(oa(e,t,n),kt(e,n))}function wj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zx(e,n)}function jj(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(V(314))}s!==null&&s.delete(t),Zx(e,n)}var Xx;Xx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nt=!1,cj(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Oe&&t.flags&1048576&&nx(t,Ro,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;so(e,t),e=t.pendingProps;var r=Pr(t,ft.current);Cr(t,n),r=ff(null,t,s,e,r,n);var a=hf();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(s)?(a=!0,Ao(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,of(t),r.updater=Cl,t.stateNode=r,r._reactInternals=t,Mu(t,s,e,n),t=$u(null,t,s,!0,a,n)):(t.tag=0,Oe&&a&&Jd(t),gt(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(so(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=Sj(s),e=Yt(s,e),r){case 0:t=Iu(null,t,s,e,n);break e;case 1:t=dm(null,t,s,e,n);break e;case 11:t=cm(null,t,s,e,n);break e;case 14:t=um(null,t,s,Yt(s.type,e),n);break e}throw Error(V(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Yt(s,r),Iu(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Yt(s,r),dm(e,t,s,r,n);case 3:e:{if(Mx(t),e===null)throw Error(V(387));s=t.pendingProps,a=t.memoizedState,r=a.element,lx(e,t),Oo(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Or(Error(V(423)),t),t=fm(e,t,s,n,r);break e}else if(s!==r){r=Or(Error(V(424)),t),t=fm(e,t,s,n,r);break e}else for(Dt=is(t.stateNode.containerInfo.firstChild),Ot=t,Oe=!0,Xt=null,n=ax(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),s===r){t=Mn(e,t,n);break e}gt(e,t,s,n)}t=t.child}return t;case 5:return cx(t),e===null&&Lu(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,o=r.children,Cu(s,r)?o=null:a!==null&&Cu(s,a)&&(t.flags|=32),Ox(e,t),gt(e,t,o,n),t.child;case 6:return e===null&&Lu(t),null;case 13:return Fx(e,t,n);case 4:return lf(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Lr(t,null,s,n):gt(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Yt(s,r),cm(e,t,s,r,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,Ee(Lo,s._currentValue),s._currentValue=o,a!==null)if(rn(a.value,o)){if(a.children===r.children&&!St.current){t=Mn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Tn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Du(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(V(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Du(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Cr(t,n),r=Qt(r),s=s(r),t.flags|=1,gt(e,t,s,n),t.child;case 14:return s=t.type,r=Yt(s,t.pendingProps),r=Yt(s.type,r),um(e,t,s,r,n);case 15:return Lx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Yt(s,r),so(e,t),t.tag=1,Et(s)?(e=!0,Ao(t)):e=!1,Cr(t,n),Ax(t,s,r),Mu(t,s,r,n),$u(null,t,s,!0,e,n);case 19:return Ix(e,t,n);case 22:return Dx(e,t,n)}throw Error(V(156,t.tag))};function Jx(e,t){return kg(e,t)}function Nj(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,s){return new Nj(e,t,n,s)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sj(e){if(typeof e=="function")return Nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ud)return 11;if(e===Bd)return 14}return 2}function cs(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ao(e,t,n,s,r,a){var o=2;if(s=e,typeof e=="function")Nf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lr:return $s(n.children,r,a,t);case Vd:o=8,r|=8;break;case iu:return e=Ht(12,n,t,r|2),e.elementType=iu,e.lanes=a,e;case au:return e=Ht(13,n,t,r),e.elementType=au,e.lanes=a,e;case ou:return e=Ht(19,n,t,r),e.elementType=ou,e.lanes=a,e;case cg:return Pl(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case og:o=10;break e;case lg:o=9;break e;case Ud:o=11;break e;case Bd:o=14;break e;case Hn:o=16,s=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Ht(o,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function $s(e,t,n,s){return e=Ht(7,e,s,t),e.lanes=n,e}function Pl(e,t,n,s){return e=Ht(22,e,s,t),e.elementType=cg,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function Lc(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ej(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,s,r,a,o,l,c){return e=new Ej(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ht(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(a),e}function kj(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function ey(e){if(!e)return ms;e=e._reactInternals;e:{if(Zs(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Et(n))return ex(e,n,t)}return t}function ty(e,t,n,s,r,a,o,l,c){return e=Sf(n,s,!0,e,r,a,o,l,c),e.context=ey(null),n=e.current,s=yt(),r=ls(n),a=Tn(s,r),a.callback=t??null,as(n,a,r),e.current.lanes=r,oa(e,r,s),kt(e,s),e}function Rl(e,t,n,s){var r=t.current,a=yt(),o=ls(r);return n=ey(n),t.context===null?t.context=n:t.pendingContext=n,t=Tn(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=as(r,t,o),e!==null&&(nn(e,r,o,a),eo(e,r,o)),o}function Bo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ef(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Cj(){return null}var ny=typeof reportError=="function"?reportError:function(e){console.error(e)};function kf(e){this._internalRoot=e}Ll.prototype.render=kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Rl(e,t,null,null)};Ll.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){Rl(null,e,null,null)}),t[Dn]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&Mg(e)}};function Cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function Tj(e,t,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=Bo(o);a.call(u)}}var o=ty(t,s,e,0,null,!1,!1,"",Nm);return e._reactRootContainer=o,e[Dn]=o.current,qi(e.nodeType===8?e.parentNode:e),Ws(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Bo(c);l.call(u)}}var c=Sf(e,0,!1,null,null,!1,!1,"",Nm);return e._reactRootContainer=c,e[Dn]=c.current,qi(e.nodeType===8?e.parentNode:e),Ws(function(){Rl(t,c,n,s)}),c}function Ol(e,t,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Bo(o);l.call(c)}}Rl(t,o,e,r)}else o=Tj(n,t,e,r,s);return Bo(o)}Rg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hi(t.pendingLanes);n!==0&&(Hd(t,n|1),kt(t,qe()),!(ye&6)&&(Mr=qe()+500,vs()))}break;case 13:Ws(function(){var s=On(e,1);if(s!==null){var r=yt();nn(s,e,1,r)}}),Ef(e,1)}};Wd=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var n=yt();nn(t,e,134217728,n)}Ef(e,134217728)}};Lg=function(e){if(e.tag===13){var t=ls(e),n=On(e,t);if(n!==null){var s=yt();nn(n,e,t,s)}Ef(e,t)}};Dg=function(){return we};Og=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};xu=function(e,t,n){switch(t){case"input":if(uu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=Sl(s);if(!r)throw Error(V(90));dg(s),uu(s,r)}}}break;case"textarea":hg(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};bg=bf;wg=Ws;var Aj={usingClientEntryPoint:!1,Events:[ca,fr,Sl,yg,vg,bf]},ri={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pj={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sg(e),e===null?null:e.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{bl=Va.inject(Pj),pn=Va}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aj;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(t))throw Error(V(200));return kj(e,t,null,n)};It.createRoot=function(e,t){if(!Cf(e))throw Error(V(299));var n=!1,s="",r=ny;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,s,r),e[Dn]=t.current,qi(e.nodeType===8?e.parentNode:e),new kf(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Sg(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return Ws(e)};It.hydrate=function(e,t,n){if(!Dl(t))throw Error(V(200));return Ol(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!Cf(e))throw Error(V(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=ny;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ty(t,null,e,1,n??null,r,!1,a,o),e[Dn]=t.current,qi(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ll(t)};It.render=function(e,t,n){if(!Dl(t))throw Error(V(200));return Ol(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(V(40));return e._reactRootContainer?(Ws(function(){Ol(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};It.unstable_batchedUpdates=bf;It.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Dl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Ol(e,t,n,!1,s)};It.version="18.3.1-next-f1338f8080-20240426";function sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sy)}catch(e){console.error(e)}}sy(),sg.exports=It;var ry=sg.exports;const Rj=H0(ry);var Sm=ry;su.createRoot=Sm.createRoot,su.hydrateRoot=Sm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xi.apply(this,arguments)}var es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(es||(es={}));const Em="popstate";function Lj(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return Yu("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:qo(r)}return Oj(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dj(){return Math.random().toString(36).substr(2,8)}function km(e,t){return{usr:e.state,key:e.key,idx:t}}function Yu(e,t,n,s){return n===void 0&&(n=null),Xi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zr(t):t,{state:n,key:t&&t.key||s||Dj()})}function qo(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function zr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Oj(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=es.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Xi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=es.Pop;let y=d(),j=y==null?null:y-u;u=y,c&&c({action:l,location:w.location,delta:j})}function h(y,j){l=es.Push;let m=Yu(w.location,y,j);n&&n(m,y),u=d()+1;let x=km(m,u),b=w.createHref(m);try{o.pushState(x,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(b)}a&&c&&c({action:l,location:w.location,delta:1})}function g(y,j){l=es.Replace;let m=Yu(w.location,y,j);n&&n(m,y),u=d();let x=km(m,u),b=w.createHref(m);o.replaceState(x,"",b),a&&c&&c({action:l,location:w.location,delta:0})}function p(y){let j=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof y=="string"?y:qo(y);return m=m.replace(/ $/,"%20"),_e(j,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,j)}let w={get action(){return l},get location(){return e(r,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Em,f),c=y,()=>{r.removeEventListener(Em,f),c=null}},createHref(y){return t(r,y)},createURL:p,encodeLocation(y){let j=p(y);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:g,go(y){return o.go(y)}};return w}var Cm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cm||(Cm={}));function Mj(e,t,n){return n===void 0&&(n="/"),Fj(e,t,n,!1)}function Fj(e,t,n,s){let r=typeof t=="string"?zr(t):t,a=Fr(r.pathname||"/",n);if(a==null)return null;let o=ay(e);Ij(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Kj(a);l=Wj(o[c],u,s)}return l}function ay(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=us([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(_e(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ay(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:zj(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of oy(a.path))r(a,o,c)}),t}function oy(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=oy(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ij(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hj(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const $j=/^:[\w-]+$/,_j=3,Vj=2,Uj=1,Bj=10,qj=-2,Tm=e=>e==="*";function zj(e,t){let n=e.split("/"),s=n.length;return n.some(Tm)&&(s+=qj),t&&(s+=Vj),n.filter(r=>!Tm(r)).reduce((r,a)=>r+($j.test(a)?_j:a===""?Uj:Bj),s)}function Hj(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function Wj(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:us([a,f.pathname]),pathnameBase:Xj(us([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=us([a,f.pathnameBase]))}return o}function zo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Qj(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let w=l[f]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[f];return g&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Qj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),iy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function Kj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Gj(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?zr(e):e;return{pathname:n?n.startsWith("/")?n:Yj(n,t):t,search:Jj(s),hash:eN(r)}}function Yj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Dc(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tf(e,t){let n=Zj(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Af(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=zr(e):(r=Xi({},e),_e(!r.pathname||!r.pathname.includes("?"),Dc("?","pathname","search",r)),_e(!r.pathname||!r.pathname.includes("#"),Dc("#","pathname","hash",r)),_e(!r.search||!r.search.includes("#"),Dc("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Gj(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const us=e=>e.join("/").replace(/\/\/+/g,"/"),Xj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ly=["post","put","patch","delete"];new Set(ly);const nN=["get",...ly];new Set(nN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ji.apply(this,arguments)}const Ml=v.createContext(null),cy=v.createContext(null),Vn=v.createContext(null),Fl=v.createContext(null),Un=v.createContext({outlet:null,matches:[],isDataRoute:!1}),uy=v.createContext(null);function sN(e,t){let{relative:n}=t===void 0?{}:t;Hr()||_e(!1);let{basename:s,navigator:r}=v.useContext(Vn),{hash:a,pathname:o,search:l}=$l(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:us([s,o])),r.createHref({pathname:c,search:l,hash:a})}function Hr(){return v.useContext(Fl)!=null}function vn(){return Hr()||_e(!1),v.useContext(Fl).location}function dy(e){v.useContext(Vn).static||v.useLayoutEffect(e)}function _t(){let{isDataRoute:e}=v.useContext(Un);return e?gN():rN()}function rN(){Hr()||_e(!1);let e=v.useContext(Ml),{basename:t,future:n,navigator:s}=v.useContext(Vn),{matches:r}=v.useContext(Un),{pathname:a}=vn(),o=JSON.stringify(Tf(r,n.v7_relativeSplatPath)),l=v.useRef(!1);return dy(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=Af(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:us([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function Il(){let{matches:e}=v.useContext(Un),t=e[e.length-1];return t?t.params:{}}function $l(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=v.useContext(Vn),{matches:r}=v.useContext(Un),{pathname:a}=vn(),o=JSON.stringify(Tf(r,s.v7_relativeSplatPath));return v.useMemo(()=>Af(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function iN(e,t){return aN(e,t)}function aN(e,t,n,s){Hr()||_e(!1);let{navigator:r}=v.useContext(Vn),{matches:a}=v.useContext(Un),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=vn(),d;if(t){var f;let y=typeof t=="string"?zr(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||_e(!1),d=y}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Mj(e,{pathname:g}),w=dN(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:us([c,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:us([c,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&w?v.createElement(Fl.Provider,{value:{location:Ji({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:es.Pop}},w):w}function oN(){let e=pN(),t=tN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,a)}const lN=v.createElement(oN,null);class cN extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Un.Provider,{value:this.props.routeContext},v.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uN(e){let{routeContext:t,match:n,children:s}=e,r=v.useContext(Ml);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Un.Provider,{value:t},s)}function dN(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||_e(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,p=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,p=!1,w=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||lN,c&&(u<0&&h===0?(xN("route-fallback",!1),p=!0,y=null):u===h&&(p=!0,y=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,h+1)),m=()=>{let x;return g?x=w:p?x=y:f.route.Component?x=v.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,v.createElement(uN,{match:f,routeContext:{outlet:d,matches:j,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(cN,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:m(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):m()},null)}var fy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fy||{}),Ho=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ho||{});function fN(e){let t=v.useContext(Ml);return t||_e(!1),t}function hN(e){let t=v.useContext(cy);return t||_e(!1),t}function mN(e){let t=v.useContext(Un);return t||_e(!1),t}function hy(e){let t=mN(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function pN(){var e;let t=v.useContext(uy),n=hN(Ho.UseRouteError),s=hy(Ho.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function gN(){let{router:e}=fN(fy.UseNavigateStable),t=hy(Ho.UseNavigateStable),n=v.useRef(!1);return dy(()=>{n.current=!0}),v.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ji({fromRouteId:t},a)))},[e,t])}const Am={};function xN(e,t,n){!t&&!Am[e]&&(Am[e]=!0)}function yN(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Oc(e){let{to:t,replace:n,state:s,relative:r}=e;Hr()||_e(!1);let{future:a,static:o}=v.useContext(Vn),{matches:l}=v.useContext(Un),{pathname:c}=vn(),u=_t(),d=Af(t,Tf(l,a.v7_relativeSplatPath),c,r==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:r}),[u,f,r,n,s]),null}function Ae(e){_e(!1)}function vN(e){let{basename:t="/",children:n=null,location:s,navigationType:r=es.Pop,navigator:a,static:o=!1,future:l}=e;Hr()&&_e(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Ji({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=zr(s));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:p="default"}=s,w=v.useMemo(()=>{let y=Fr(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:p},navigationType:r}},[c,d,f,h,g,p,r]);return w==null?null:v.createElement(Vn.Provider,{value:u},v.createElement(Fl.Provider,{children:n,value:w}))}function Pm(e){let{children:t,location:n}=e;return iN(Zu(t),n)}new Promise(()=>{});function Zu(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(s,r)=>{if(!v.isValidElement(s))return;let a=[...t,r];if(s.type===v.Fragment){n.push.apply(n,Zu(s.props.children,a));return}s.type!==Ae&&_e(!1),!s.props.index||!s.props.children||_e(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Zu(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wo.apply(this,arguments)}function my(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function bN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wN(e,t){return e.button===0&&(!t||t==="_self")&&!bN(e)}function Xu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function jN(e,t){let n=Xu(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)})}),n}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],EN="6";try{window.__reactRouterVersion=EN}catch{}const kN=v.createContext({isTransitioning:!1}),CN="startTransition",Rm=bb[CN];function TN(e){let{basename:t,children:n,future:s,window:r}=e,a=v.useRef();a.current==null&&(a.current=Lj({window:r,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=v.useCallback(f=>{u&&Rm?Rm(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>yN(s),[s]),v.createElement(vN,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=v.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=my(t,NN),{basename:g}=v.useContext(Vn),p,w=!1;if(typeof u=="string"&&PN.test(u)&&(p=u,AN))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=Fr(b.pathname,g);b.origin===x.origin&&N!=null?u=N+b.search+b.hash:w=!0}catch{}let y=sN(u,{relative:r}),j=DN(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function m(x){s&&s(x),x.defaultPrevented||j(x)}return v.createElement("a",Wo({},h,{href:p||y,onClick:w||a?s:m,ref:n,target:c}))}),RN=v.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=my(t,SN),h=$l(c,{relative:f.relative}),g=vn(),p=v.useContext(cy),{navigator:w,basename:y}=v.useContext(Vn),j=p!=null&&MN(h)&&u===!0,m=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,x=g.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(x=x.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&y&&(b=Fr(b,y)||b);const N=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=x===m||!o&&x.startsWith(m)&&x.charAt(N)==="/",E=b!=null&&(b===m||!o&&b.startsWith(m)&&b.charAt(m.length)==="/"),T={isActive:S,isPending:E,isTransitioning:j},P=S?s:void 0,D;typeof a=="function"?D=a(T):D=[a,S?"active":null,E?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let Y=typeof l=="function"?l(T):l;return v.createElement(tt,Wo({},f,{"aria-current":P,className:D,ref:n,style:Y,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var Ju;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ju||(Ju={}));var Lm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lm||(Lm={}));function LN(e){let t=v.useContext(Ml);return t||_e(!1),t}function DN(e,t){let{target:n,replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=_t(),u=vn(),d=$l(e,{relative:o});return v.useCallback(f=>{if(wN(f,n)){f.preventDefault();let h=s!==void 0?s:qo(u)===qo(d);c(e,{replace:h,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,r,n,e,a,o,l])}function ON(e){let t=v.useRef(Xu(e)),n=v.useRef(!1),s=vn(),r=v.useMemo(()=>jN(s.search,n.current?null:t.current),[s.search]),a=_t(),o=v.useCallback((l,c)=>{const u=Xu(typeof l=="function"?l(r):l);n.current=!0,a("?"+u,c)},[a,r]);return[r,o]}function MN(e,t){t===void 0&&(t={});let n=v.useContext(kN);n==null&&_e(!1);let{basename:s}=LN(Ju.useViewTransitionState),r=$l(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zo(r.pathname,o)!=null||zo(r.pathname,a)!=null}function ed(e,t){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ed(e,t)}function Wr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ed(e,t)}var Qr=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(s){var r=this,a=s||function(){};return this.listeners.push(a),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(o){return o!==a}),r.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pe.apply(null,arguments)}var Qo=typeof window>"u";function rt(){}function FN(e,t){return typeof e=="function"?e(t):e}function td(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ko(e){return Array.isArray(e)?e:[e]}function py(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oo(e,t,n){return da(e)?typeof t=="function"?pe({},n,{queryKey:e,queryFn:t}):pe({},t,{queryKey:e}):e}function IN(e,t,n){return da(e)?typeof t=="function"?pe({},n,{mutationKey:e,mutationFn:t}):pe({},t,{mutationKey:e}):typeof e=="function"?pe({},t,{mutationFn:e}):pe({},e)}function Qn(e,t,n){return da(e)?[pe({},t,{queryKey:e}),n]:[e||{},t]}function $N(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function Dm(e,t){var n=e.active,s=e.exact,r=e.fetching,a=e.inactive,o=e.predicate,l=e.queryKey,c=e.stale;if(da(l)){if(s){if(t.queryHash!==Pf(l,t.options))return!1}else if(!Go(t.queryKey,l))return!1}var u=$N(n,a);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof r=="boolean"&&t.isFetching()!==r||o&&!o(t))}function Om(e,t){var n=e.exact,s=e.fetching,r=e.predicate,a=e.mutationKey;if(da(a)){if(!t.options.mutationKey)return!1;if(n){if(Ls(t.options.mutationKey)!==Ls(a))return!1}else if(!Go(t.options.mutationKey,a))return!1}return!(typeof s=="boolean"&&t.state.status==="loading"!==s||r&&!r(t))}function Pf(e,t){var n=(t==null?void 0:t.queryKeyHashFn)||Ls;return n(e)}function Ls(e){var t=Ko(e);return _N(t)}function _N(e){return JSON.stringify(e,function(t,n){return nd(n)?Object.keys(n).sort().reduce(function(s,r){return s[r]=n[r],s},{}):n})}function Go(e,t){return gy(Ko(e),Ko(t))}function gy(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!gy(e[n],t[n])}):!1}function Yo(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||nd(e)&&nd(t)){for(var s=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),a=r.length,o=n?[]:{},l=0,c=0;c<a;c++){var u=n?c:r[c];o[u]=Yo(e[u],t[u]),o[u]===e[u]&&l++}return s===a&&l===s?e:o}return t}function VN(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function nd(e){if(!Mm(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!Mm(n)||!n.hasOwnProperty("isPrototypeOf"))}function Mm(e){return Object.prototype.toString.call(e)==="[object Object]"}function da(e){return typeof e=="string"||Array.isArray(e)}function UN(e){return new Promise(function(t){setTimeout(t,e)})}function Fm(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function xy(){if(typeof AbortController=="function")return new AbortController}var BN=function(e){Wr(t,e);function t(){var s;return s=e.call(this)||this,s.setup=function(r){var a;if(!Qo&&((a=window)!=null&&a.addEventListener)){var o=function(){return r()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},s}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var a,o=this;this.setup=r,(a=this.cleanup)==null||a.call(this),this.cleanup=r(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},n.setFocused=function(r){this.focused=r,r&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(r){r()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Qr),Ei=new BN,qN=function(e){Wr(t,e);function t(){var s;return s=e.call(this)||this,s.setup=function(r){var a;if(!Qo&&((a=window)!=null&&a.addEventListener)){var o=function(){return r()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},s}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var a,o=this;this.setup=r,(a=this.cleanup)==null||a.call(this),this.cleanup=r(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},n.setOnline=function(r){this.online=r,r&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(r){r()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Qr),lo=new qN;function zN(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Zo(e){return typeof(e==null?void 0:e.cancel)=="function"}var yy=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function co(e){return e instanceof yy}var vy=function(t){var n=this,s=!1,r,a,o,l;this.abort=t.abort,this.cancel=function(h){return r==null?void 0:r(h)},this.cancelRetry=function(){s=!0},this.continueRetry=function(){s=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,g){o=h,l=g});var c=function(g){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(g),a==null||a(),o(g))},u=function(g){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(g),a==null||a(),l(g))},d=function(){return new Promise(function(g){a=g,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){a=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function h(){if(!n.isResolved){var g;try{g=t.fn()}catch(p){g=Promise.reject(p)}r=function(w){if(!n.isResolved&&(u(new yy(w)),n.abort==null||n.abort(),Zo(g)))try{g.cancel()}catch{}},n.isTransportCancelable=Zo(g),Promise.resolve(g).then(c).catch(function(p){var w,y;if(!n.isResolved){var j=(w=t.retry)!=null?w:3,m=(y=t.retryDelay)!=null?y:zN,x=typeof m=="function"?m(n.failureCount,p):m,b=j===!0||typeof j=="number"&&n.failureCount<j||typeof j=="function"&&j(n.failureCount,p);if(s||!b){u(p);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,p),UN(x).then(function(){if(!Ei.isFocused()||!lo.isOnline())return d()}).then(function(){s?u(p):h()})}})}};f()},HN=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(s){var r;this.transactions++;try{r=s()}finally{this.transactions--,this.transactions||this.flush()}return r},t.schedule=function(s){var r=this;this.transactions?this.queue.push(s):Fm(function(){r.notifyFn(s)})},t.batchCalls=function(s){var r=this;return function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];r.schedule(function(){s.apply(void 0,o)})}},t.flush=function(){var s=this,r=this.queue;this.queue=[],r.length&&Fm(function(){s.batchNotifyFn(function(){r.forEach(function(a){s.notifyFn(a)})})})},t.setNotifyFunction=function(s){this.notifyFn=s},t.setBatchNotifyFunction=function(s){this.batchNotifyFn=s},e}(),De=new HN,by=console;function Xo(){return by}function WN(e){by=e}var QN=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(s){var r;this.options=pe({},this.defaultOptions,s),this.meta=s==null?void 0:s.meta,this.cacheTime=Math.max(this.cacheTime||0,(r=this.options.cacheTime)!=null?r:5*60*1e3)},t.setDefaultOptions=function(s){this.defaultOptions=s},t.scheduleGc=function(){var s=this;this.clearGcTimeout(),td(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){s.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(s,r){var a,o,l=this.state.data,c=FN(s,l);return(a=(o=this.options).isDataEqual)!=null&&a.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Yo(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt}),c},t.setState=function(s,r){this.dispatch({type:"setState",state:s,setStateOptions:r})},t.cancel=function(s){var r,a=this.promise;return(r=this.retryer)==null||r.cancel(s),a?a.then(rt).catch(rt):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(s){return s.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(s){return s.getCurrentResult().isStale})},t.isStaleByTime=function(s){return s===void 0&&(s=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!py(this.state.dataUpdatedAt,s)},t.onFocus=function(){var s,r=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});r&&r.refetch(),(s=this.retryer)==null||s.continue()},t.onOnline=function(){var s,r=this.observers.find(function(a){return a.shouldFetchOnReconnect()});r&&r.refetch(),(s=this.retryer)==null||s.continue()},t.addObserver=function(s){this.observers.indexOf(s)===-1&&(this.observers.push(s),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:s}))},t.removeObserver=function(s){this.observers.indexOf(s)!==-1&&(this.observers=this.observers.filter(function(r){return r!==s}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:s}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(s,r){var a=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(s&&this.setOptions(s),!this.options.queryFn){var d=this.observers.find(function(m){return m.options.queryFn});d&&this.setOptions(d.options)}var f=Ko(this.queryKey),h=xy(),g={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(h)return a.abortSignalConsumed=!0,h.signal}});var p=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(g)):Promise.reject("Missing queryFn")},w={fetchOptions:r,options:this.options,queryKey:f,state:this.state,fetchFn:p,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var y;(y=this.options.behavior)==null||y.onFetch(w)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=w.fetchOptions)==null?void 0:l.meta)){var j;this.dispatch({type:"fetch",meta:(j=w.fetchOptions)==null?void 0:j.meta})}return this.retryer=new vy({fn:w.fetchFn,abort:h==null||(c=h.abort)==null?void 0:c.bind(h),onSuccess:function(x){a.setData(x),a.cache.config.onSuccess==null||a.cache.config.onSuccess(x,a),a.cacheTime===0&&a.optionalRemove()},onError:function(x){co(x)&&x.silent||a.dispatch({type:"error",error:x}),co(x)||(a.cache.config.onError==null||a.cache.config.onError(x,a),Xo().error(x)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(s){var r=this;this.state=this.reducer(this.state,s),De.batch(function(){r.observers.forEach(function(a){a.onQueryUpdate(s)}),r.cache.notify({query:r,type:"queryUpdated",action:s})})},t.getDefaultState=function(s){var r=typeof s.initialData=="function"?s.initialData():s.initialData,a=typeof s.initialData<"u",o=a?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0,l=typeof r<"u";return{data:r,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(s,r){var a,o;switch(r.type){case"failed":return pe({},s,{fetchFailureCount:s.fetchFailureCount+1});case"pause":return pe({},s,{isPaused:!0});case"continue":return pe({},s,{isPaused:!1});case"fetch":return pe({},s,{fetchFailureCount:0,fetchMeta:(a=r.meta)!=null?a:null,isFetching:!0,isPaused:!1},!s.dataUpdatedAt&&{error:null,status:"loading"});case"success":return pe({},s,{data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(o=r.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=r.error;return co(l)&&l.revert&&this.revertState?pe({},this.revertState):pe({},s,{error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return pe({},s,{isInvalidated:!0});case"setState":return pe({},s,r.state);default:return s}},e}(),KN=function(e){Wr(t,e);function t(s){var r;return r=e.call(this)||this,r.config=s||{},r.queries=[],r.queriesMap={},r}var n=t.prototype;return n.build=function(r,a,o){var l,c=a.queryKey,u=(l=a.queryHash)!=null?l:Pf(c,a),d=this.get(u);return d||(d=new QN({cache:this,queryKey:c,queryHash:u,options:r.defaultQueryOptions(a),state:o,defaultOptions:r.getQueryDefaults(c),meta:a.meta}),this.add(d)),d},n.add=function(r){this.queriesMap[r.queryHash]||(this.queriesMap[r.queryHash]=r,this.queries.push(r),this.notify({type:"queryAdded",query:r}))},n.remove=function(r){var a=this.queriesMap[r.queryHash];a&&(r.destroy(),this.queries=this.queries.filter(function(o){return o!==r}),a===r&&delete this.queriesMap[r.queryHash],this.notify({type:"queryRemoved",query:r}))},n.clear=function(){var r=this;De.batch(function(){r.queries.forEach(function(a){r.remove(a)})})},n.get=function(r){return this.queriesMap[r]},n.getAll=function(){return this.queries},n.find=function(r,a){var o=Qn(r,a),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return Dm(l,c)})},n.findAll=function(r,a){var o=Qn(r,a),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return Dm(l,c)}):this.queries},n.notify=function(r){var a=this;De.batch(function(){a.listeners.forEach(function(o){o(r)})})},n.onFocus=function(){var r=this;De.batch(function(){r.queries.forEach(function(a){a.onFocus()})})},n.onOnline=function(){var r=this;De.batch(function(){r.queries.forEach(function(a){a.onOnline()})})},t}(Qr),GN=function(){function e(n){this.options=pe({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||wy(),this.meta=n.meta}var t=e.prototype;return t.setState=function(s){this.dispatch({type:"setState",state:s})},t.addObserver=function(s){this.observers.indexOf(s)===-1&&this.observers.push(s)},t.removeObserver=function(s){this.observers=this.observers.filter(function(r){return r!==s})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(rt).catch(rt)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var s=this,r,a=this.state.status==="loading",o=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){s.mutationCache.config.onMutate==null||s.mutationCache.config.onMutate(s.state.variables,s)}).then(function(){return s.options.onMutate==null?void 0:s.options.onMutate(s.state.variables)}).then(function(l){l!==s.state.context&&s.dispatch({type:"loading",context:l,variables:s.state.variables})})),o.then(function(){return s.executeMutation()}).then(function(l){r=l,s.mutationCache.config.onSuccess==null||s.mutationCache.config.onSuccess(r,s.state.variables,s.state.context,s)}).then(function(){return s.options.onSuccess==null?void 0:s.options.onSuccess(r,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(r,null,s.state.variables,s.state.context)}).then(function(){return s.dispatch({type:"success",data:r}),r}).catch(function(l){return s.mutationCache.config.onError==null||s.mutationCache.config.onError(l,s.state.variables,s.state.context,s),Xo().error(l),Promise.resolve().then(function(){return s.options.onError==null?void 0:s.options.onError(l,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(void 0,l,s.state.variables,s.state.context)}).then(function(){throw s.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var s=this,r;return this.retryer=new vy({fn:function(){return s.options.mutationFn?s.options.mutationFn(s.state.variables):Promise.reject("No mutationFn found")},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:(r=this.options.retry)!=null?r:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(s){var r=this;this.state=YN(this.state,s),De.batch(function(){r.observers.forEach(function(a){a.onMutationUpdate(s)}),r.mutationCache.notify(r)})},e}();function wy(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function YN(e,t){switch(t.type){case"failed":return pe({},e,{failureCount:e.failureCount+1});case"pause":return pe({},e,{isPaused:!0});case"continue":return pe({},e,{isPaused:!1});case"loading":return pe({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return pe({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return pe({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return pe({},e,t.state);default:return e}}var ZN=function(e){Wr(t,e);function t(s){var r;return r=e.call(this)||this,r.config=s||{},r.mutations=[],r.mutationId=0,r}var n=t.prototype;return n.build=function(r,a,o){var l=new GN({mutationCache:this,mutationId:++this.mutationId,options:r.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?r.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(l),l},n.add=function(r){this.mutations.push(r),this.notify(r)},n.remove=function(r){this.mutations=this.mutations.filter(function(a){return a!==r}),r.cancel(),this.notify(r)},n.clear=function(){var r=this;De.batch(function(){r.mutations.forEach(function(a){r.remove(a)})})},n.getAll=function(){return this.mutations},n.find=function(r){return typeof r.exact>"u"&&(r.exact=!0),this.mutations.find(function(a){return Om(r,a)})},n.findAll=function(r){return this.mutations.filter(function(a){return Om(r,a)})},n.notify=function(r){var a=this;De.batch(function(){a.listeners.forEach(function(o){o(r)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var r=this.mutations.filter(function(a){return a.state.isPaused});return De.batch(function(){return r.reduce(function(a,o){return a.then(function(){return o.continue().catch(rt)})},Promise.resolve())})},t}(Qr);function XN(){return{onFetch:function(t){t.fetchFn=function(){var n,s,r,a,o,l,c=(n=t.fetchOptions)==null||(s=n.meta)==null?void 0:s.refetchPage,u=(r=t.fetchOptions)==null||(a=r.meta)==null?void 0:a.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",g=((o=t.state.data)==null?void 0:o.pages)||[],p=((l=t.state.data)==null?void 0:l.pageParams)||[],w=xy(),y=w==null?void 0:w.signal,j=p,m=!1,x=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(Q,ae,K,se){return j=se?[ae].concat(j):[].concat(j,[ae]),se?[K].concat(Q):[].concat(Q,[K])},N=function(Q,ae,K,se){if(m)return Promise.reject("Cancelled");if(typeof K>"u"&&!ae&&Q.length)return Promise.resolve(Q);var O={queryKey:t.queryKey,signal:y,pageParam:K,meta:t.meta},z=x(O),R=Promise.resolve(z).then(function(Z){return b(Q,K,Z,se)});if(Zo(z)){var $=R;$.cancel=z.cancel}return R},S;if(!g.length)S=N([]);else if(f){var E=typeof d<"u",T=E?d:Im(t.options,g);S=N(g,E,T)}else if(h){var P=typeof d<"u",D=P?d:JN(t.options,g);S=N(g,P,D,!0)}else(function(){j=[];var U=typeof t.options.getNextPageParam>"u",Q=c&&g[0]?c(g[0],0,g):!0;S=Q?N([],U,p[0]):Promise.resolve(b([],p[0],g[0]));for(var ae=function(O){S=S.then(function(z){var R=c&&g[O]?c(g[O],O,g):!0;if(R){var $=U?p[O]:Im(t.options,z);return N(z,U,$)}return Promise.resolve(b(z,p[O],g[O]))})},K=1;K<g.length;K++)ae(K)})();var Y=S.then(function(U){return{pages:U,pageParams:j}}),W=Y;return W.cancel=function(){m=!0,w==null||w.abort(),Zo(S)&&S.cancel()},Y}}}}function Im(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function JN(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var e2=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new KN,this.mutationCache=n.mutationCache||new ZN,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var s=this;this.unsubscribeFocus=Ei.subscribe(function(){Ei.isFocused()&&lo.isOnline()&&(s.mutationCache.onFocus(),s.queryCache.onFocus())}),this.unsubscribeOnline=lo.subscribe(function(){Ei.isFocused()&&lo.isOnline()&&(s.mutationCache.onOnline(),s.queryCache.onOnline())})},t.unmount=function(){var s,r;(s=this.unsubscribeFocus)==null||s.call(this),(r=this.unsubscribeOnline)==null||r.call(this)},t.isFetching=function(s,r){var a=Qn(s,r),o=a[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(s){return this.mutationCache.findAll(pe({},s,{fetching:!0})).length},t.getQueryData=function(s,r){var a;return(a=this.queryCache.find(s,r))==null?void 0:a.state.data},t.getQueriesData=function(s){return this.getQueryCache().findAll(s).map(function(r){var a=r.queryKey,o=r.state,l=o.data;return[a,l]})},t.setQueryData=function(s,r,a){var o=oo(s),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(r,a)},t.setQueriesData=function(s,r,a){var o=this;return De.batch(function(){return o.getQueryCache().findAll(s).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,r,a)]})})},t.getQueryState=function(s,r){var a;return(a=this.queryCache.find(s,r))==null?void 0:a.state},t.removeQueries=function(s,r){var a=Qn(s,r),o=a[0],l=this.queryCache;De.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},t.resetQueries=function(s,r,a){var o=this,l=Qn(s,r,a),c=l[0],u=l[1],d=this.queryCache,f=pe({},c,{active:!0});return De.batch(function(){return d.findAll(c).forEach(function(h){h.reset()}),o.refetchQueries(f,u)})},t.cancelQueries=function(s,r,a){var o=this,l=Qn(s,r,a),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=De.batch(function(){return o.queryCache.findAll(c).map(function(h){return h.cancel(d)})});return Promise.all(f).then(rt).catch(rt)},t.invalidateQueries=function(s,r,a){var o,l,c,u=this,d=Qn(s,r,a),f=d[0],h=d[1],g=pe({},f,{active:(o=(l=f.refetchActive)!=null?l:f.active)!=null?o:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return De.batch(function(){return u.queryCache.findAll(f).forEach(function(p){p.invalidate()}),u.refetchQueries(g,h)})},t.refetchQueries=function(s,r,a){var o=this,l=Qn(s,r,a),c=l[0],u=l[1],d=De.batch(function(){return o.queryCache.findAll(c).map(function(h){return h.fetch(void 0,pe({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),f=Promise.all(d).then(rt);return u!=null&&u.throwOnError||(f=f.catch(rt)),f},t.fetchQuery=function(s,r,a){var o=oo(s,r,a),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},t.prefetchQuery=function(s,r,a){return this.fetchQuery(s,r,a).then(rt).catch(rt)},t.fetchInfiniteQuery=function(s,r,a){var o=oo(s,r,a);return o.behavior=XN(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(s,r,a){return this.fetchInfiniteQuery(s,r,a).then(rt).catch(rt)},t.cancelMutations=function(){var s=this,r=De.batch(function(){return s.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(r).then(rt).catch(rt)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(s){return this.mutationCache.build(this,s).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(s){this.defaultOptions=s},t.setQueryDefaults=function(s,r){var a=this.queryDefaults.find(function(o){return Ls(s)===Ls(o.queryKey)});a?a.defaultOptions=r:this.queryDefaults.push({queryKey:s,defaultOptions:r})},t.getQueryDefaults=function(s){var r;return s?(r=this.queryDefaults.find(function(a){return Go(s,a.queryKey)}))==null?void 0:r.defaultOptions:void 0},t.setMutationDefaults=function(s,r){var a=this.mutationDefaults.find(function(o){return Ls(s)===Ls(o.mutationKey)});a?a.defaultOptions=r:this.mutationDefaults.push({mutationKey:s,defaultOptions:r})},t.getMutationDefaults=function(s){var r;return s?(r=this.mutationDefaults.find(function(a){return Go(s,a.mutationKey)}))==null?void 0:r.defaultOptions:void 0},t.defaultQueryOptions=function(s){if(s!=null&&s._defaulted)return s;var r=pe({},this.defaultOptions.queries,this.getQueryDefaults(s==null?void 0:s.queryKey),s,{_defaulted:!0});return!r.queryHash&&r.queryKey&&(r.queryHash=Pf(r.queryKey,r)),r},t.defaultQueryObserverOptions=function(s){return this.defaultQueryOptions(s)},t.defaultMutationOptions=function(s){return s!=null&&s._defaulted?s:pe({},this.defaultOptions.mutations,this.getMutationDefaults(s==null?void 0:s.mutationKey),s,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),t2=function(e){Wr(t,e);function t(s,r){var a;return a=e.call(this)||this,a.client=s,a.options=r,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(r),a}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),$m(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return sd(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return sd(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(r,a){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&_m(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(a),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(r){var a=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,a);return this.createResult(o,a)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(r,a){var o=this,l={},c=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(r).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),r[u]}})}),(a.useErrorBoundary||a.suspense)&&c("error"),l},n.getNextResult=function(r){var a=this;return new Promise(function(o,l){var c=a.subscribe(function(u){u.isFetching||(c(),u.isError&&(r!=null&&r.throwOnError)?l(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(r){return this.fetch(pe({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},n.fetchOptimistic=function(r){var a=this,o=this.client.defaultQueryObserverOptions(r),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return a.createResult(l,o)})},n.fetch=function(r){var a=this;return this.executeFetch(r).then(function(){return a.updateResult(),a.currentResult})},n.executeFetch=function(r){this.updateQuery();var a=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(a=a.catch(rt)),a},n.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(Qo||this.currentResult.isStale||!td(this.options.staleTime))){var a=py(this.currentResult.dataUpdatedAt,this.options.staleTime),o=a+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},o)}},n.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},n.updateRefetchInterval=function(r){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(Qo||this.options.enabled===!1||!td(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||Ei.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(r,a){var o=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=r!==o,h=f?r.state:this.currentQueryInitialState,g=f?this.currentResult:this.previousQueryResult,p=r.state,w=p.dataUpdatedAt,y=p.error,j=p.errorUpdatedAt,m=p.isFetching,x=p.status,b=!1,N=!1,S;if(a.optimisticResults){var E=this.hasListeners(),T=!E&&$m(r,a),P=E&&_m(r,o,a,l);(T||P)&&(m=!0,w||(x="loading"))}if(a.keepPreviousData&&!p.dataUpdateCount&&(g!=null&&g.isSuccess)&&x!=="error")S=g.data,w=g.dataUpdatedAt,x=g.status,b=!0;else if(a.select&&typeof p.data<"u")if(c&&p.data===(u==null?void 0:u.data)&&a.select===this.selectFn)S=this.selectResult;else try{this.selectFn=a.select,S=a.select(p.data),a.structuralSharing!==!1&&(S=Yo(c==null?void 0:c.data,S)),this.selectResult=S,this.selectError=null}catch(W){Xo().error(W),this.selectError=W}else S=p.data;if(typeof a.placeholderData<"u"&&typeof S>"u"&&(x==="loading"||x==="idle")){var D;if(c!=null&&c.isPlaceholderData&&a.placeholderData===(d==null?void 0:d.placeholderData))D=c.data;else if(D=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof D<"u")try{D=a.select(D),a.structuralSharing!==!1&&(D=Yo(c==null?void 0:c.data,D)),this.selectError=null}catch(W){Xo().error(W),this.selectError=W}typeof D<"u"&&(x="success",S=D,N=!0)}this.selectError&&(y=this.selectError,S=this.selectResult,j=Date.now(),x="error");var Y={status:x,isLoading:x==="loading",isSuccess:x==="success",isError:x==="error",isIdle:x==="idle",data:S,dataUpdatedAt:w,error:y,errorUpdatedAt:j,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:m,isRefetching:m&&x!=="loading",isLoadingError:x==="error"&&p.dataUpdatedAt===0,isPlaceholderData:N,isPreviousData:b,isRefetchError:x==="error"&&p.dataUpdatedAt!==0,isStale:Rf(r,a),refetch:this.refetch,remove:this.remove};return Y},n.shouldNotifyListeners=function(r,a){if(!a)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(r).some(function(d){var f=d,h=r[f]!==a[f],g=u==null?void 0:u.some(function(w){return w===d}),p=c==null?void 0:c.some(function(w){return w===d});return h&&!p&&(!u||g)})},n.updateResult=function(r){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!VN(this.currentResult,a)){var o={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(o.listeners=!0),this.notify(pe({},o,r))}},n.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var a=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),r.addObserver(this))}},n.onQueryUpdate=function(r){var a={};r.type==="success"?a.onSuccess=!0:r.type==="error"&&!co(r.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},n.notify=function(r){var a=this;De.batch(function(){r.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):r.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),r.listeners&&a.listeners.forEach(function(o){o(a.currentResult)}),r.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},t}(Qr);function n2(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $m(e,t){return n2(e,t)||e.state.dataUpdatedAt>0&&sd(e,t,t.refetchOnMount)}function sd(e,t,n){if(t.enabled!==!1){var s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Rf(e,t)}return!1}function _m(e,t,n,s){return n.enabled!==!1&&(e!==t||s.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Rf(e,n)}function Rf(e,t){return e.isStaleByTime(t.staleTime)}var s2=function(e){Wr(t,e);function t(s,r){var a;return a=e.call(this)||this,a.client=s,a.setOptions(r),a.bindMethods(),a.updateResult(),a}var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(r){this.options=this.client.defaultMutationOptions(r)},n.onUnsubscribe=function(){if(!this.listeners.length){var r;(r=this.currentMutation)==null||r.removeObserver(this)}},n.onMutationUpdate=function(r){this.updateResult();var a={listeners:!0};r.type==="success"?a.onSuccess=!0:r.type==="error"&&(a.onError=!0),this.notify(a)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(r,a){return this.mutateOptions=a,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,pe({},this.options,{variables:typeof r<"u"?r:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var r=this.currentMutation?this.currentMutation.state:wy(),a=pe({},r,{isLoading:r.status==="loading",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=a},n.notify=function(r){var a=this;De.batch(function(){a.mutateOptions&&(r.onSuccess?(a.mutateOptions.onSuccess==null||a.mutateOptions.onSuccess(a.currentResult.data,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(a.currentResult.data,null,a.currentResult.variables,a.currentResult.context)):r.onError&&(a.mutateOptions.onError==null||a.mutateOptions.onError(a.currentResult.error,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(void 0,a.currentResult.error,a.currentResult.variables,a.currentResult.context))),r.listeners&&a.listeners.forEach(function(o){o(a.currentResult)})})},t}(Qr),r2=Rj.unstable_batchedUpdates;De.setBatchNotifyFunction(r2);var i2=console;WN(i2);var Vm=fe.createContext(void 0),jy=fe.createContext(!1);function Ny(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Vm),window.ReactQueryClientContext):Vm}var ht=function(){var t=fe.useContext(Ny(fe.useContext(jy)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a2=function(t){var n=t.client,s=t.contextSharing,r=s===void 0?!1:s,a=t.children;fe.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=Ny(r);return fe.createElement(jy.Provider,{value:r},fe.createElement(o.Provider,{value:n},a))};function o2(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var l2=fe.createContext(o2()),c2=function(){return fe.useContext(l2)};function Sy(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function Me(e,t,n){var s=fe.useRef(!1),r=fe.useState(0),a=r[1],o=IN(e,t,n),l=ht(),c=fe.useRef();c.current?c.current.setOptions(o):c.current=new s2(l,o);var u=c.current.getCurrentResult();fe.useEffect(function(){s.current=!0;var f=c.current.subscribe(De.batchCalls(function(){s.current&&a(function(h){return h+1})}));return function(){s.current=!1,f()}},[]);var d=fe.useCallback(function(f,h){c.current.mutate(f,h).catch(rt)},[]);if(u.error&&Sy(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return pe({},u,{mutate:d,mutateAsync:u.mutate})}function u2(e,t){var n=fe.useRef(!1),s=fe.useState(0),r=s[1],a=ht(),o=c2(),l=a.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=De.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=De.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=De.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=fe.useState(function(){return new t(a,l)}),u=c[0],d=u.getOptimisticResult(l);if(fe.useEffect(function(){n.current=!0,o.clearReset();var f=u.subscribe(De.batchCalls(function(){n.current&&r(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,f()}},[o,u]),fe.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&d.isLoading)throw u.fetchOptimistic(l).then(function(f){var h=f.data;l.onSuccess==null||l.onSuccess(h),l.onSettled==null||l.onSettled(h,null)}).catch(function(f){o.clearReset(),l.onError==null||l.onError(f),l.onSettled==null||l.onSettled(void 0,f)});if(d.isError&&!o.isReset()&&!d.isFetching&&Sy(l.suspense,l.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return l.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,l)),d}function Ne(e,t,n){var s=oo(e,t,n);return u2(s,t2)}let d2={data:""},f2=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||d2},h2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,m2=/\/\*[^]*?\*\/|  +/g,Um=/\n+/g,Zn=(e,t)=>{let n="",s="",r="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":s+=a[1]=="f"?Zn(o,a):a+"{"+Zn(o,a[1]=="k"?"":t)+"}":typeof o=="object"?s+=Zn(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Zn.p?Zn.p(a,o):a+":"+o+";")}return n+(t&&r?t+"{"+r+"}":r)+s},bn={},Ey=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Ey(e[n]);return t}return e},p2=(e,t,n,s,r)=>{let a=Ey(e),o=bn[a]||(bn[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!bn[o]){let c=a!==e?e:(u=>{let d,f,h=[{}];for(;d=h2.exec(u.replace(m2,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Um," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Um," ").trim();return h[0]})(e);bn[o]=Zn(r?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&bn.g?bn.g:null;return n&&(bn.g=bn[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(bn[o],t,s,l),o},g2=(e,t,n)=>e.reduce((s,r,a)=>{let o=t[a];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Zn(l,""):l===!1?"":l}return s+r+(o??"")},"");function _l(e){let t=this||{},n=e.call?e(t.p):e;return p2(n.unshift?n.raw?g2(n,[].slice.call(arguments,1),t.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(t.p):r),{}):n,f2(t.target),t.g,t.o,t.k)}let ky,rd,id;_l.bind({g:1});let Fn=_l.bind({k:1});function x2(e,t,n,s){Zn.p=t,ky=e,rd=n,id=s}function bs(e,t){let n=this||{};return function(){let s=arguments;function r(a,o){let l=Object.assign({},a),c=l.className||r.className;n.p=Object.assign({theme:rd&&rd()},l),n.o=/ *go\d+/.test(c),l.className=_l.apply(n,s)+(c?" "+c:""),t&&(l.ref=o);let u=e;return e[0]&&(u=l.as||e,delete l.as),id&&u[0]&&id(l),ky(u,l)}return t?t(r):r}}var y2=e=>typeof e=="function",Jo=(e,t)=>y2(e)?e(t):e,v2=(()=>{let e=0;return()=>(++e).toString()})(),Cy=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),b2=20,Lf="default",Ty=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return Ty(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},uo=[],Ay={toasts:[],pausedAt:void 0,settings:{toastLimit:b2}},hn={},Py=(e,t=Lf)=>{hn[t]=Ty(hn[t]||Ay,e),uo.forEach(([n,s])=>{n===t&&s(hn[t])})},Ry=e=>Object.keys(hn).forEach(t=>Py(e,t)),w2=e=>Object.keys(hn).find(t=>hn[t].toasts.some(n=>n.id===e)),Vl=(e=Lf)=>t=>{Py(t,e)},j2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N2=(e={},t=Lf)=>{let[n,s]=v.useState(hn[t]||Ay),r=v.useRef(hn[t]);v.useEffect(()=>(r.current!==hn[t]&&s(hn[t]),uo.push([t,s]),()=>{let o=uo.findIndex(([l])=>l===t);o>-1&&uo.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||j2[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:a}},S2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||v2()}),fa=e=>(t,n)=>{let s=S2(t,e,n);return Vl(s.toasterId||w2(s.id))({type:2,toast:s}),s.id},ze=(e,t)=>fa("blank")(e,t);ze.error=fa("error");ze.success=fa("success");ze.loading=fa("loading");ze.custom=fa("custom");ze.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Vl(t)(n):Ry(n)};ze.dismissAll=e=>ze.dismiss(void 0,e);ze.remove=(e,t)=>{let n={type:4,toastId:e};t?Vl(t)(n):Ry(n)};ze.removeAll=e=>ze.remove(void 0,e);ze.promise=(e,t,n)=>{let s=ze.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let a=t.success?Jo(t.success,r):void 0;return a?ze.success(a,{id:s,...n,...n==null?void 0:n.success}):ze.dismiss(s),r}).catch(r=>{let a=t.error?Jo(t.error,r):void 0;a?ze.error(a,{id:s,...n,...n==null?void 0:n.error}):ze.dismiss(s)}),e};var E2=1e3,k2=(e,t="default")=>{let{toasts:n,pausedAt:s}=N2(e,t),r=v.useRef(new Map).current,a=v.useCallback((f,h=E2)=>{if(r.has(f))return;let g=setTimeout(()=>{r.delete(f),o({type:4,toastId:f})},h);r.set(f,g)},[]);v.useEffect(()=>{if(s)return;let f=Date.now(),h=n.map(g=>{if(g.duration===1/0)return;let p=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(p<0){g.visible&&ze.dismiss(g.id);return}return setTimeout(()=>ze.dismiss(g.id,t),p)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[n,s,t]);let o=v.useCallback(Vl(t),[t]),l=v.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=v.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=v.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),d=v.useCallback((f,h)=>{let{reverseOrder:g=!1,gutter:p=8,defaultPosition:w}=h||{},y=n.filter(x=>(x.position||w)===(f.position||w)&&x.height),j=y.findIndex(x=>x.id===f.id),m=y.filter((x,b)=>b<j&&x.visible).length;return y.filter(x=>x.visible).slice(...g?[m+1]:[0,m]).reduce((x,b)=>x+(b.height||0)+p,0)},[n]);return v.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=r.get(f.id);h&&(clearTimeout(h),r.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},C2=Fn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,T2=Fn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A2=Fn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,P2=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${T2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${A2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,R2=Fn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,L2=bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${R2} 1s linear infinite;
`,D2=Fn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,O2=Fn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,M2=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${O2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,F2=bs("div")`
  position: absolute;
`,I2=bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$2=Fn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_2=bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,V2=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?v.createElement(_2,null,t):t:n==="blank"?null:v.createElement(I2,null,v.createElement(L2,{...s}),n!=="loading"&&v.createElement(F2,null,n==="error"?v.createElement(P2,{...s}):v.createElement(M2,{...s})))},U2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,B2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,q2="0%{opacity:0;} 100%{opacity:1;}",z2="0%{opacity:1;} 100%{opacity:0;}",H2=bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,W2=bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Q2=(e,t)=>{let n=e.includes("top")?1:-1,[s,r]=Cy()?[q2,z2]:[U2(n),B2(n)];return{animation:t?`${Fn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fn(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},K2=v.memo(({toast:e,position:t,style:n,children:s})=>{let r=e.height?Q2(e.position||t||"top-center",e.visible):{opacity:0},a=v.createElement(V2,{toast:e}),o=v.createElement(W2,{...e.ariaProps},Jo(e.message,e));return v.createElement(H2,{className:e.className,style:{...r,...n,...e.style}},typeof s=="function"?s({icon:a,message:o}):v.createElement(v.Fragment,null,a,o))});x2(v.createElement);var G2=({id:e,className:t,style:n,onHeightUpdate:s,children:r})=>{let a=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;s(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return v.createElement("div",{ref:a,className:t,style:n},r)},Y2=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...r}},Z2=_l`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ua=16,X2=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:r,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=k2(n,a);return v.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Ua,left:Ua,right:Ua,bottom:Ua,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),g=Y2(f,h);return v.createElement(G2,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Z2:"",style:g},d.type==="custom"?Jo(d.message,d):r?r(d):v.createElement(K2,{toast:d,position:f}))}))},_=ze;const Ly=v.createContext(void 0),J2=({children:e})=>{const[t,n]=v.useState(null),[s,r]=v.useState(!1),[a,o]=v.useState(!0);v.useEffect(()=>{localStorage.getItem("token")?l():o(!1)},[]);const l=async()=>{try{const f=localStorage.getItem("user");if(f){const h=JSON.parse(f);n(h),r(!0)}else n({id:1,name:"Demo User",email:"demo@example.com",role:"ADMIN"}),r(!0)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}finally{o(!1)}},c=async f=>{try{console.log(" Attempting login with:",f.email);const g=[{id:1,name:"Admin User",email:"admin@gmail.com",role:"ADMIN",password:"admin123"},{id:2,name:"Pankil",email:"govindamarketing9998@gmail.com",role:"ADMIN",password:"admin123"},{id:3,name:"Venkat",email:"govindamanager9998@gmail.com",role:"EMPLOYEE",password:"admin123"},{id:4,name:"Dinesh",email:"dinesh@gmail.com",role:"EMPLOYEE",password:"admin123"}].find(y=>y.email===f.email&&y.password===f.password);if(g){console.log(" Demo user login successful:",g.name);const y={id:g.id,name:g.name,email:g.email,role:g.role};localStorage.setItem("token","demo-token-"+g.id),localStorage.setItem("user",JSON.stringify(y)),n(y),r(!0),_.success(`Login successful! Welcome ${y.name}`);return}console.log(" Making request to: /api/auth/login");const p=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});console.log(" Response status:",p.status);const w=await p.json();if(console.log(" Response data:",w),p.ok&&w.access_token)console.log(" Backend login successful, setting user data..."),localStorage.setItem("token",w.access_token),localStorage.setItem("user",JSON.stringify(w.user)),n(w.user),r(!0),_.success(`Login successful! Welcome ${w.user.name}`);else throw console.error(" Login failed - no access token or bad response"),new Error(w.message||"Login failed")}catch(h){throw console.error(" Login error:",h),_.error(h.message||"Login failed"),h}},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(!1),_.success("Logged out successfully")},d=async f=>{try{console.log(" Force fresh login for:",f.email),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(!1);const h=await fetch("/api/auth/force-fresh-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),g=await h.json();if(h.ok&&g.access_token)localStorage.setItem("token",g.access_token),localStorage.setItem("user",JSON.stringify(g.user)),n(g.user),r(!0),console.log(" Force fresh login successful:",g.user),_.success(`Fresh login successful! Welcome ${g.user.name} (${g.user.role})`);else throw new Error(g.message||"Fresh login failed")}catch(h){throw console.error(" Force fresh login error:",h),_.error(h.message||"Fresh login failed"),h}};return i.jsx(Ly.Provider,{value:{user:t,login:c,logout:u,isAuthenticated:s,loading:a,forceFreshLogin:d},children:e})},an=()=>{const e=v.useContext(Ly);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function eS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const tS=v.forwardRef(eS),Dy=tS;function nS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const sS=v.forwardRef(nS),Ir=sS;function rS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const iS=v.forwardRef(rS),el=iS;function aS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const oS=v.forwardRef(aS),Oy=oS;function lS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const cS=v.forwardRef(lS),ad=cS;function uS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const dS=v.forwardRef(uS),My=dS;function fS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const hS=v.forwardRef(fS),mS=hS;function pS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const gS=v.forwardRef(pS),xS=gS;function yS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const vS=v.forwardRef(yS),bS=vS;function wS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const jS=v.forwardRef(wS),Mc=jS;function NS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const SS=v.forwardRef(NS),ea=SS;function ES({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const kS=v.forwardRef(ES),CS=kS;function TS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const AS=v.forwardRef(TS),tl=AS;function PS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const RS=v.forwardRef(PS),Fy=RS;function LS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const DS=v.forwardRef(LS),Ct=DS;function OS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const MS=v.forwardRef(OS),Df=MS;function FS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const IS=v.forwardRef(FS),$S=IS;function _S({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const VS=v.forwardRef(_S),US=VS;function BS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qS=v.forwardRef(BS),ha=qS;function zS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const HS=v.forwardRef(zS),od=HS;function WS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const QS=v.forwardRef(WS),KS=QS;function GS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const YS=v.forwardRef(GS),Iy=YS;function ZS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const XS=v.forwardRef(ZS),fo=XS;function JS({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const e5=v.forwardRef(JS),t5=e5;function n5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const s5=v.forwardRef(n5),Fc=s5;function r5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const i5=v.forwardRef(r5),Ds=i5;function a5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const o5=v.forwardRef(a5),ts=o5;function l5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const c5=v.forwardRef(l5),u5=c5;function d5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const f5=v.forwardRef(d5),nl=f5;function h5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const m5=v.forwardRef(h5),Tt=m5;function p5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const g5=v.forwardRef(p5),x5=g5;function y5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const v5=v.forwardRef(y5),b5=v5;function w5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const j5=v.forwardRef(w5),N5=j5;function S5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const E5=v.forwardRef(S5),k5=E5;function C5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const T5=v.forwardRef(C5),A5=T5;function P5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const R5=v.forwardRef(P5),L5=R5;function D5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const O5=v.forwardRef(D5),Qs=O5;function M5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const F5=v.forwardRef(M5),I5=F5;function $5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const _5=v.forwardRef($5),V5=_5;function U5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const B5=v.forwardRef(U5),An=B5;function q5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const z5=v.forwardRef(q5),H5=z5;function W5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Q5=v.forwardRef(W5),_s=Q5;function K5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const G5=v.forwardRef(K5),sl=G5;function Y5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Z5=v.forwardRef(Y5),X5=Z5;function J5({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const eE=v.forwardRef(J5),Ic=eE;function tE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const nE=v.forwardRef(tE),sE=nE;function rE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const iE=v.forwardRef(rE),Ks=iE;function aE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const oE=v.forwardRef(aE),Bm=oE;function lE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const cE=v.forwardRef(lE),$y=cE;function uE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const dE=v.forwardRef(uE),ki=dE;function fE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const hE=v.forwardRef(fE),In=hE;function mE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pE=v.forwardRef(mE),Vs=pE;function gE({title:e,titleId:t,...n},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const xE=v.forwardRef(gE),xn=xE;function yE(){var r;const{user:e,logout:t}=an(),n=(e==null?void 0:e.role)==="ADMIN",s=[{name:"Dashboard",href:"/dashboard",icon:k5,show:!0},{name:"Enquiries",href:"/enquiries",icon:Ds,show:!0},{name:"Doc Verification",href:"/documents",icon:b5,show:!0},{name:"Shortlist",href:"/shortlist",icon:L5,show:!0},{name:"Payment Gateway Applications",href:"/payment-gateway",icon:Iy,show:!0},{name:"Staff Management",href:"/staff",icon:$y,show:n},{name:"Transactions",href:"/transactions",icon:bS,show:n}];return i.jsxs("aside",{className:"sidebar-modern",children:[i.jsx("div",{className:"p-8 border-b border-slate-700/50",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-20 h-20 object-contain drop-shadow-2xl hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-white text-xl font-poppins font-bold",children:"Portal"}),i.jsx("p",{className:"text-slate-300 text-sm font-medium",children:"Business Loan Management"})]})]})}),i.jsx("nav",{className:"py-6",children:i.jsx("ul",{className:"space-y-1",children:s.filter(a=>a.show).map(a=>i.jsx("li",{children:i.jsxs(RN,{to:a.href,className:({isActive:o})=>`sidebar-nav-item ${o?"active":""}`,children:[i.jsx(a.icon,{className:"h-5 w-5 mr-4"}),i.jsx("span",{className:"font-medium",children:a.name})]})},a.name))})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-semibold text-white",children:((r=e==null?void 0:e.name)==null?void 0:r.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate",children:e==null?void 0:e.name}),i.jsx("div",{className:"text-slate-400 text-sm",children:e==null?void 0:e.role})]})]}),i.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-slate-300 hover:text-white hover:bg-red-500/20 hover:border-red-400 rounded-xl transition-all duration-200 border border-slate-700 hover:border-red-400",children:[i.jsx(Oy,{className:"h-5 w-5 mr-3"}),i.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}const vE=(e,t,n,s)=>{var a,o,l,c;const r=[n,{code:t,...s||{}}];if((o=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&o.forward)return e.services.logger.forward(r,"warn","react-i18next::",!0);Us(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},qm={},ld=(e,t,n,s)=>{Us(n)&&qm[n]||(Us(n)&&(qm[n]=new Date),vE(e,t,n,s))},_y=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},cd=(e,t,n)=>{e.loadNamespaces(t,_y(e,n))},zm=(e,t,n,s)=>{if(Us(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return cd(e,n,s);n.forEach(r=>{e.options.ns.indexOf(r)<0&&e.options.ns.push(r)}),e.loadLanguages(t,_y(e,s))},bE=(e,t,n={})=>!t.languages||!t.languages.length?(ld(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,e))return!1}}),Us=e=>typeof e=="string",wE=e=>typeof e=="object"&&e!==null,jE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,NE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},SE=e=>NE[e],EE=e=>e.replace(jE,SE);let ud={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:EE};const kE=(e={})=>{ud={...ud,...e}},CE=()=>ud;let Vy;const TE=e=>{Vy=e},AE=()=>Vy,PE={type:"3rdParty",init(e){kE(e.options.react),TE(e)}},RE=v.createContext();class LE{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const DE=(e,t)=>{const n=v.useRef();return v.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current},Uy=(e,t,n,s)=>e.getFixedT(t,n,s),OE=(e,t,n,s)=>v.useCallback(Uy(e,t,n,s),[e,t,n,s]),Ul=(e,t={})=>{var b,N,S,E;const{i18n:n}=t,{i18n:s,defaultNS:r}=v.useContext(RE)||{},a=n||s||AE();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new LE),!a){ld(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(D,Y)=>Us(Y)?Y:wE(Y)&&Us(Y.defaultValue)?Y.defaultValue:Array.isArray(D)?D[D.length-1]:D,P=[T,{},!1];return P.t=T,P.i18n={},P.ready=!1,P}(b=a.options.react)!=null&&b.wait&&ld(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...CE(),...a.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=e||r||((N=a.options)==null?void 0:N.defaultNS);u=Us(u)?[u]:u||["translation"],(E=(S=a.reportNamespaces).addUsedNamespaces)==null||E.call(S,u);const d=(a.isInitialized||a.initializedStoreOnce)&&u.every(T=>bE(T,a,o)),f=OE(a,t.lng||null,o.nsMode==="fallback"?u:u[0],c),h=()=>f,g=()=>Uy(a,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[p,w]=v.useState(h);let y=u.join();t.lng&&(y=`${t.lng}${y}`);const j=DE(y),m=v.useRef(!0);v.useEffect(()=>{const{bindI18n:T,bindI18nStore:P}=o;m.current=!0,!d&&!l&&(t.lng?zm(a,t.lng,u,()=>{m.current&&w(g)}):cd(a,u,()=>{m.current&&w(g)})),d&&j&&j!==y&&m.current&&w(g);const D=()=>{m.current&&w(g)};return T&&(a==null||a.on(T,D)),P&&(a==null||a.store.on(P,D)),()=>{m.current=!1,a&&T&&(T==null||T.split(" ").forEach(Y=>a.off(Y,D))),P&&a&&P.split(" ").forEach(Y=>a.store.off(Y,D))}},[a,y]),v.useEffect(()=>{m.current&&d&&w(h)},[a,c,d]);const x=[p,a,d];if(x.t=p,x.i18n=a,x.ready=d,d||!d&&!l)return x;throw new Promise(T=>{t.lng?zm(a,t.lng,u,()=>T()):cd(a,u,()=>T())})},By=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Bl=v.createContext({}),ql=v.createContext(null),zl=typeof document<"u",Of=zl?v.useLayoutEffect:v.useEffect,qy=v.createContext({strict:!1}),Mf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ME="framerAppearId",zy="data-"+Mf(ME);function FE(e,t,n,s){const{visualElement:r}=v.useContext(Bl),a=v.useContext(qy),o=v.useContext(ql),l=v.useContext(By).reducedMotion,c=v.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;v.useInsertionEffect(()=>{u&&u.update(n,o)});const d=v.useRef(!!(n[zy]&&!window.HandoffComplete));return Of(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function vr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IE(e,t,n){return v.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):vr(n)&&(n.current=s))},[t])}function ta(e){return typeof e=="string"||Array.isArray(e)}function Hl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ff=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],If=["initial",...Ff];function Wl(e){return Hl(e.animate)||If.some(t=>ta(e[t]))}function Hy(e){return!!(Wl(e)||e.variants)}function $E(e,t){if(Wl(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ta(n)?n:void 0,animate:ta(s)?s:void 0}}return e.inherit!==!1?t:{}}function _E(e){const{initial:t,animate:n}=$E(e,v.useContext(Bl));return v.useMemo(()=>({initial:t,animate:n}),[Hm(t),Hm(n)])}function Hm(e){return Array.isArray(e)?e.join(" "):e}const Wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},na={};for(const e in Wm)na[e]={isEnabled:t=>Wm[e].some(n=>!!t[n])};function VE(e){for(const t in e)na[t]={...na[t],...e[t]}}const $f=v.createContext({}),Wy=v.createContext({}),UE=Symbol.for("motionComponentSymbol");function BE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&VE(e);function a(l,c){let u;const d={...v.useContext(By),...l,layoutId:qE(l)},{isStatic:f}=d,h=_E(l),g=s(l,f);if(!f&&zl){h.visualElement=FE(r,g,d,t);const p=v.useContext(Wy),w=v.useContext(qy).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,w,e,p))}return v.createElement(Bl.Provider,{value:h},u&&h.visualElement?v.createElement(u,{visualElement:h.visualElement,...d}):null,n(r,l,IE(g,h.visualElement,c),g,f,h.visualElement))}const o=v.forwardRef(a);return o[UE]=r,o}function qE({layoutId:e}){const t=v.useContext($f).id;return t&&e!==void 0?t+"-"+e:e}function zE(e){function t(s,r={}){return BE(e(s,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const HE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _f(e){return typeof e!="string"||e.includes("-")?!1:!!(HE.indexOf(e)>-1||/[A-Z]/.test(e))}const rl={};function WE(e){Object.assign(rl,e)}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xs=new Set(ma);function Qy(e,{layout:t,layoutId:n}){return Xs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!rl[e]||e==="opacity")}const Pt=e=>!!(e&&e.getVelocity),QE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KE=ma.length;function GE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<KE;o++){const l=ma[o];if(e[l]!==void 0){const c=QE[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,s?"":a):n&&s&&(a="none"),a}const Ky=e=>t=>typeof t=="string"&&t.startsWith(e),Gy=Ky("--"),dd=Ky("var(--"),YE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ZE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ps=(e,t,n)=>Math.min(Math.max(n,e),t),Js={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ci={...Js,transform:e=>ps(0,1,e)},Ba={...Js,default:1},Ti=e=>Math.round(e*1e5)/1e5,Ql=/(-)?([\d]*\.?[\d])+/g,Yy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pa(e){return typeof e=="string"}const ga=e=>({test:t=>pa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zn=ga("deg"),yn=ga("%"),le=ga("px"),JE=ga("vh"),e4=ga("vw"),Qm={...yn,parse:e=>yn.parse(e)/100,transform:e=>yn.transform(e*100)},Km={...Js,transform:Math.round},Zy={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:zn,rotateX:zn,rotateY:zn,rotateZ:zn,scale:Ba,scaleX:Ba,scaleY:Ba,scaleZ:Ba,skew:zn,skewX:zn,skewY:zn,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Ci,originX:Qm,originY:Qm,originZ:le,zIndex:Km,fillOpacity:Ci,strokeOpacity:Ci,numOctaves:Km};function Vf(e,t,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(Gy(f)){a[f]=h;continue}const g=Zy[f],p=ZE(h,g);if(Xs.has(f)){if(c=!0,o[f]=p,!d)continue;h!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=p):r[f]=p}if(t.transform||(c||s?r.transform=GE(e.transform,n,d,s):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:g=0}=l;r.transformOrigin=`${f} ${h} ${g}`}}const Uf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xy(e,t,n){for(const s in t)!Pt(t[s])&&!Qy(s,n)&&(e[s]=t[s])}function t4({transformTemplate:e},t,n){return v.useMemo(()=>{const s=Uf();return Vf(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function n4(e,t,n){const s=e.style||{},r={};return Xy(r,s,e),Object.assign(r,t4(e,t,n)),e.transformValues?e.transformValues(r):r}function s4(e,t,n){const s={},r=n4(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const r4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function il(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||r4.has(e)}let Jy=e=>!il(e);function i4(e){e&&(Jy=t=>t.startsWith("on")?!il(t):e(t))}try{i4(require("@emotion/is-prop-valid").default)}catch{}function a4(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Jy(r)||n===!0&&il(r)||!t&&!il(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function Gm(e,t,n){return typeof e=="string"?e:le.transform(t+n*e)}function o4(e,t,n){const s=Gm(t,e.x,e.width),r=Gm(n,e.y,e.height);return`${s} ${r}`}const l4={offset:"stroke-dashoffset",array:"stroke-dasharray"},c4={offset:"strokeDashoffset",array:"strokeDasharray"};function u4(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?l4:c4;e[a.offset]=le.transform(-s);const o=le.transform(t),l=le.transform(n);e[a.array]=`${o} ${l}`}function Bf(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(Vf(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:p,dimensions:w}=e;g.transform&&(w&&(p.transform=g.transform),delete g.transform),w&&(r!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=o4(w,r!==void 0?r:.5,a!==void 0?a:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&u4(g,o,l,c,!1)}const ev=()=>({...Uf(),attrs:{}}),qf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function d4(e,t,n,s){const r=v.useMemo(()=>{const a=ev();return Bf(a,t,{enableHardwareAcceleration:!1},qf(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Xy(a,e.style,e),r.style={...a,...r.style}}return r}function f4(e=!1){return(n,s,r,{latestValues:a},o)=>{const c=(_f(n)?d4:s4)(s,a,o,n),d={...a4(s,typeof n=="string",e),...c,ref:r},{children:f}=s,h=v.useMemo(()=>Pt(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function tv(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const nv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sv(e,t,n,s){tv(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(nv.has(r)?r:Mf(r),t.attrs[r])}function zf(e,t){const{style:n}=e,s={};for(const r in n)(Pt(n[r])||t.style&&Pt(t.style[r])||Qy(r,e))&&(s[r]=n[r]);return s}function rv(e,t){const n=zf(e,t);for(const s in e)if(Pt(e[s])||Pt(t[s])){const r=ma.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=e[s]}return n}function Hf(e,t,n,s={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),t}function iv(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const al=e=>Array.isArray(e),h4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),m4=e=>al(e)?e[e.length-1]||0:e;function ho(e){const t=Pt(e)?e.get():e;return h4(t)?t.toValue():t}function p4({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,r,a){const o={latestValues:g4(s,r,a,e),renderState:t()};return n&&(o.mount=l=>n(s,l,o)),o}const av=e=>(t,n)=>{const s=v.useContext(Bl),r=v.useContext(ql),a=()=>p4(e,t,s,r);return n?a():iv(a)};function g4(e,t,n,s){const r={},a=s(e,{});for(const h in a)r[h]=ho(a[h]);let{initial:o,animate:l}=e;const c=Wl(e),u=Hy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!Hl(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const p=Hf(e,g);if(!p)return;const{transitionEnd:w,transition:y,...j}=p;for(const m in j){let x=j[m];if(Array.isArray(x)){const b=d?x.length-1:0;x=x[b]}x!==null&&(r[m]=x)}for(const m in w)r[m]=w[m]}),r}const Be=e=>e;class Ym{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function x4(e){let t=new Ym,n=new Ym,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&r,h=f?t:n;return u&&o.add(c),h.add(c)&&f&&r&&(s=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(r){a=!0;return}if(r=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let u=0;u<s;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}r=!1,a&&(a=!1,l.process(c))}};return l}const qa=["prepare","read","update","preRender","render","postRender"],y4=40;function v4(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=qa.reduce((f,h)=>(f[h]=x4(()=>n=!0),f),{}),o=f=>a[f].process(r),l=()=>{const f=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,y4),1),r.timestamp=f,r.isProcessing=!0,qa.forEach(o),r.isProcessing=!1,n&&t&&(s=!1,e(l))},c=()=>{n=!0,s=!0,r.isProcessing||e(l)};return{schedule:qa.reduce((f,h)=>{const g=a[h];return f[h]=(p,w=!1,y=!1)=>(n||c(),g.schedule(p,w,y)),f},{}),cancel:f=>qa.forEach(h=>a[h].cancel(f)),state:r,steps:a}}const{schedule:ke,cancel:$n,state:ct,steps:$c}=v4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),b4={useVisualState:av({scrapeMotionValuesFromProps:rv,createRenderState:ev,onMount:(e,t,{renderState:n,latestValues:s})=>{ke.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{Bf(n,s,{enableHardwareAcceleration:!1},qf(t.tagName),e.transformTemplate),sv(t,n)})}})},w4={useVisualState:av({scrapeMotionValuesFromProps:zf,createRenderState:Uf})};function j4(e,{forwardMotionProps:t=!1},n,s){return{..._f(e)?b4:w4,preloadedFeatures:n,useRender:f4(t),createVisualElement:s,Component:e}}function Cn(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Kl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const N4=e=>t=>ov(t)&&e(t,Kl(t));function Pn(e,t,n,s){return Cn(e,t,N4(n),s)}const S4=(e,t)=>n=>t(e(n)),ds=(...e)=>e.reduce(S4);function lv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Zm=lv("dragHorizontal"),Xm=lv("dragVertical");function cv(e){let t=!1;if(e==="y")t=Xm();else if(e==="x")t=Zm();else{const n=Zm(),s=Xm();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function uv(){const e=cv(!0);return e?(e(),!1):!0}class ws{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Jm(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||uv())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&ke.update(()=>l[s](a,o))};return Pn(e.current,n,r,{passive:!e.getProps()[s]})}class E4 extends ws{mount(){this.unmount=ds(Jm(this.node,!0),Jm(this.node,!1))}unmount(){}}class k4 extends ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ds(Cn(this.node.current,"focus",()=>this.onFocus()),Cn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dv=(e,t)=>t?e===t?!0:dv(e,t.parentElement):!1;function _c(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Kl(n))}class C4 extends ws{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=Pn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ke.update(()=>{!f&&!dv(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=Pn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=ds(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||_c("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ke.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Cn(this.node.current,"keyup",o),_c("down",(l,c)=>{this.startPress(l,c)})},n=Cn(this.node.current,"keydown",t),s=()=>{this.isPressing&&_c("cancel",(a,o)=>this.cancelPress(a,o))},r=Cn(this.node.current,"blur",s);this.removeAccessibleListeners=ds(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&ke.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uv()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&ke.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=Pn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Cn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ds(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fd=new WeakMap,Vc=new WeakMap,T4=e=>{const t=fd.get(e.target);t&&t(e)},A4=e=>{e.forEach(T4)};function P4({root:e,...t}){const n=e||document;Vc.has(n)||Vc.set(n,{});const s=Vc.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(A4,{root:e,...t})),s[r]}function R4(e,t,n){const s=P4(t);return fd.set(e,n),s.observe(e),()=>{fd.delete(e),s.unobserve(e)}}const L4={some:0,all:1};class D4 extends ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:L4[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return R4(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(O4(t,n))&&this.startObserver()}unmount(){}}function O4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const M4={inView:{Feature:D4},tap:{Feature:C4},focus:{Feature:k4},hover:{Feature:E4}};function fv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function F4(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function I4(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function Gl(e,t,n){const s=e.getProps();return Hf(s,t,n!==void 0?n:s.custom,F4(e),I4(e))}let $4=Be,Wf=Be;const fs=e=>e*1e3,Rn=e=>e/1e3,_4={current:!1},hv=e=>Array.isArray(e)&&typeof e[0]=="number";function mv(e){return!!(!e||typeof e=="string"&&pv[e]||hv(e)||Array.isArray(e)&&e.every(mv))}const pi=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pi([0,.65,.55,1]),circOut:pi([.55,0,1,.45]),backIn:pi([.31,.01,.66,-.59]),backOut:pi([.33,1.53,.69,.99])};function gv(e){if(e)return hv(e)?pi(e):Array.isArray(e)?e.map(gv):pv[e]}function V4(e,t,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=gv(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function U4(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const xv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,B4=1e-7,q4=12;function z4(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=xv(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>B4&&++l<q4);return o}function xa(e,t,n,s){if(e===t&&n===s)return Be;const r=a=>z4(a,0,1,e,n);return a=>a===0||a===1?a:xv(r(a),t,s)}const H4=xa(.42,0,1,1),W4=xa(0,0,.58,1),yv=xa(.42,0,.58,1),Q4=e=>Array.isArray(e)&&typeof e[0]!="number",vv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bv=e=>t=>1-e(1-t),Qf=e=>1-Math.sin(Math.acos(e)),wv=bv(Qf),K4=vv(Qf),jv=xa(.33,1.53,.69,.99),Kf=bv(jv),G4=vv(Kf),Y4=e=>(e*=2)<1?.5*Kf(e):.5*(2-Math.pow(2,-10*(e-1))),Z4={linear:Be,easeIn:H4,easeInOut:yv,easeOut:W4,circIn:Qf,circInOut:K4,circOut:wv,backIn:Kf,backInOut:G4,backOut:jv,anticipate:Y4},ep=e=>{if(Array.isArray(e)){Wf(e.length===4);const[t,n,s,r]=e;return xa(t,n,s,r)}else if(typeof e=="string")return Z4[e];return e},Gf=(e,t)=>n=>!!(pa(n)&&XE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Nv=(e,t,n)=>s=>{if(!pa(s))return s;const[r,a,o,l]=s.match(Ql);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},X4=e=>ps(0,255,e),Uc={...Js,transform:e=>Math.round(X4(e))},Os={test:Gf("rgb","red"),parse:Nv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Uc.transform(e)+", "+Uc.transform(t)+", "+Uc.transform(n)+", "+Ti(Ci.transform(s))+")"};function J4(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const hd={test:Gf("#"),parse:J4,transform:Os.transform},br={test:Gf("hsl","hue"),parse:Nv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+yn.transform(Ti(t))+", "+yn.transform(Ti(n))+", "+Ti(Ci.transform(s))+")"},pt={test:e=>Os.test(e)||hd.test(e)||br.test(e),parse:e=>Os.test(e)?Os.parse(e):br.test(e)?br.parse(e):hd.parse(e),transform:e=>pa(e)?e:e.hasOwnProperty("red")?Os.transform(e):br.transform(e)},Ie=(e,t,n)=>-n*e+n*t+e;function Bc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ek({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=Bc(c,l,e+1/3),a=Bc(c,l,e),o=Bc(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const qc=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},tk=[hd,Os,br],nk=e=>tk.find(t=>t.test(e));function tp(e){const t=nk(e);let n=t.parse(e);return t===br&&(n=ek(n)),n}const Sv=(e,t)=>{const n=tp(e),s=tp(t),r={...n};return a=>(r.red=qc(n.red,s.red,a),r.green=qc(n.green,s.green,a),r.blue=qc(n.blue,s.blue,a),r.alpha=Ie(n.alpha,s.alpha,a),Os.transform(r))};function sk(e){var t,n;return isNaN(e)&&pa(e)&&(((t=e.match(Ql))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Yy))===null||n===void 0?void 0:n.length)||0)>0}const Ev={regex:YE,countKey:"Vars",token:"${v}",parse:Be},kv={regex:Yy,countKey:"Colors",token:"${c}",parse:pt.parse},Cv={regex:Ql,countKey:"Numbers",token:"${n}",parse:Js.parse};function zc(e,{regex:t,countKey:n,token:s,parse:r}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...a.map(r)))}function ol(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&zc(n,Ev),zc(n,kv),zc(n,Cv),n}function Tv(e){return ol(e).values}function Av(e){const{values:t,numColors:n,numVars:s,tokenised:r}=ol(e),a=t.length;return o=>{let l=r;for(let c=0;c<a;c++)c<s?l=l.replace(Ev.token,o[c]):c<s+n?l=l.replace(kv.token,pt.transform(o[c])):l=l.replace(Cv.token,Ti(o[c]));return l}}const rk=e=>typeof e=="number"?0:e;function ik(e){const t=Tv(e);return Av(e)(t.map(rk))}const gs={test:sk,parse:Tv,createTransformer:Av,getAnimatableNone:ik},Pv=(e,t)=>n=>`${n>0?t:e}`;function Rv(e,t){return typeof e=="number"?n=>Ie(e,t,n):pt.test(e)?Sv(e,t):e.startsWith("var(")?Pv(e,t):Dv(e,t)}const Lv=(e,t)=>{const n=[...e],s=n.length,r=e.map((a,o)=>Rv(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},ak=(e,t)=>{const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Rv(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},Dv=(e,t)=>{const n=gs.createTransformer(t),s=ol(e),r=ol(t);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?ds(Lv(s.values,r.values),n):Pv(e,t)},sa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},np=(e,t)=>n=>Ie(e,t,n);function ok(e){return typeof e=="number"?np:typeof e=="string"?pt.test(e)?Sv:Dv:Array.isArray(e)?Lv:typeof e=="object"?ak:np}function lk(e,t,n){const s=[],r=n||ok(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Be:t;l=ds(c,l)}s.push(l)}return s}function Ov(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(Wf(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=lk(t,s,r),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=sa(e[d],e[d+1],u);return o[d](f)};return n?u=>c(ps(e[0],e[a-1],u)):c}function ck(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=sa(0,t,s);e.push(Ie(n,1,r))}}function uk(e){const t=[0];return ck(t,e.length-1),t}function dk(e,t){return e.map(n=>n*t)}function fk(e,t){return e.map(()=>t||yv).splice(0,e.length-1)}function ll({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=Q4(s)?s.map(ep):ep(s),a={done:!1,value:t[0]},o=dk(n&&n.length===t.length?n:uk(t),e),l=Ov(o,t,{ease:Array.isArray(r)?r:fk(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Mv(e,t){return t?e*(1e3/t):0}const hk=5;function Fv(e,t,n){const s=Math.max(t-hk,0);return Mv(n-e(s),t-s)}const Hc=.001,mk=.01,sp=10,pk=.05,gk=1;function xk({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let r,a;$4(e<=fs(sp));let o=1-t;o=ps(pk,gk,o),e=ps(mk,sp,Rn(e)),o<1?(r=u=>{const d=u*o,f=d*e,h=d-n,g=md(u,o),p=Math.exp(-f);return Hc-h/g*p},a=u=>{const f=u*o*e,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,p=Math.exp(-f),w=md(Math.pow(u,2),o);return(-r(u)+Hc>0?-1:1)*((h-g)*p)/w}):(r=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Hc+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=vk(r,a,l);if(e=fs(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const yk=12;function vk(e,t,n){let s=n;for(let r=1;r<yk;r++)s=s-e(s)/t(s);return s}function md(e,t){return e*Math.sqrt(1-t*t)}const bk=["duration","bounce"],wk=["stiffness","damping","mass"];function rp(e,t){return t.some(n=>e[n]!==void 0)}function jk(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!rp(e,wk)&&rp(e,bk)){const n=xk(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Iv({keyframes:e,restDelta:t,restSpeed:n,...s}){const r=e[0],a=e[e.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=jk({...s,velocity:-Rn(s.velocity||0)}),g=f||0,p=c/(2*Math.sqrt(l*u)),w=a-r,y=Rn(Math.sqrt(l/u)),j=Math.abs(w)<5;n||(n=j?.01:2),t||(t=j?.005:.5);let m;if(p<1){const x=md(y,p);m=b=>{const N=Math.exp(-p*y*b);return a-N*((g+p*y*w)/x*Math.sin(x*b)+w*Math.cos(x*b))}}else if(p===1)m=x=>a-Math.exp(-y*x)*(w+(g+y*w)*x);else{const x=y*Math.sqrt(p*p-1);m=b=>{const N=Math.exp(-p*y*b),S=Math.min(x*b,300);return a-N*((g+p*y*w)*Math.sinh(S)+x*w*Math.cosh(S))/x}}return{calculatedDuration:h&&d||null,next:x=>{const b=m(x);if(h)o.done=x>=d;else{let N=g;x!==0&&(p<1?N=Fv(m,x,b):N=0);const S=Math.abs(N)<=n,E=Math.abs(a-b)<=t;o.done=S&&E}return o.value=o.done?a:b,o}}}function ip({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,p=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let w=n*t;const y=f+w,j=o===void 0?y:o(y);j!==y&&(w=j-f);const m=T=>-w*Math.exp(-T/s),x=T=>j+m(T),b=T=>{const P=m(T),D=x(T);h.done=Math.abs(P)<=u,h.value=h.done?j:D};let N,S;const E=T=>{g(h.value)&&(N=T,S=Iv({keyframes:[h.value,p(h.value)],velocity:Fv(x,T,h.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:T=>{let P=!1;return!S&&N===void 0&&(P=!0,b(T),E(T)),N!==void 0&&T>N?S.next(T-N):(!P&&b(T),h)}}}const Nk=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ke.update(t,!0),stop:()=>$n(t),now:()=>ct.isProcessing?ct.timestamp:performance.now()}},ap=2e4;function op(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ap;)t+=n,s=e.next(t);return t>=ap?1/0:t}const Sk={decay:ip,inertia:ip,tween:ll,keyframes:ll,spring:Iv};function cl({autoplay:e=!0,delay:t=0,driver:n=Nk,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let g=1,p=!1,w,y;const j=()=>{y=new Promise($=>{w=$})};j();let m;const x=Sk[r]||ll;let b;x!==ll&&typeof s[0]!="number"&&(b=Ov([0,100],s,{clamp:!1}),s=[0,100]);const N=x({...h,keyframes:s});let S;l==="mirror"&&(S=x({...h,keyframes:[...s].reverse(),velocity:-(h.velocity||0)}));let E="idle",T=null,P=null,D=null;N.calculatedDuration===null&&a&&(N.calculatedDuration=op(N));const{calculatedDuration:Y}=N;let W=1/0,U=1/0;Y!==null&&(W=Y+o,U=W*(a+1)-o);let Q=0;const ae=$=>{if(P===null)return;g>0&&(P=Math.min(P,$)),g<0&&(P=Math.min($-U/g,P)),T!==null?Q=T:Q=Math.round($-P)*g;const Z=Q-t*(g>=0?1:-1),oe=g>=0?Z<0:Z>U;Q=Math.max(Z,0),E==="finished"&&T===null&&(Q=U);let me=Q,ve=N;if(a){const xe=Math.min(Q,U)/W;let B=Math.floor(xe),Re=xe%1;!Re&&xe>=1&&(Re=1),Re===1&&B--,B=Math.min(B,a+1),!!(B%2)&&(l==="reverse"?(Re=1-Re,o&&(Re-=o/W)):l==="mirror"&&(ve=S)),me=ps(0,1,Re)*W}const M=oe?{done:!1,value:s[0]}:ve.next(me);b&&(M.value=b(M.value));let{done:de}=M;!oe&&Y!==null&&(de=g>=0?Q>=U:Q<=0);const ie=T===null&&(E==="finished"||E==="running"&&de);return f&&f(M.value),ie&&O(),M},K=()=>{m&&m.stop(),m=void 0},se=()=>{E="idle",K(),w(),j(),P=D=null},O=()=>{E="finished",d&&d(),K(),w()},z=()=>{if(p)return;m||(m=n(ae));const $=m.now();c&&c(),T!==null?P=$-T:(!P||E==="finished")&&(P=$),E==="finished"&&j(),D=P,T=null,E="running",m.start()};e&&z();const R={then($,Z){return y.then($,Z)},get time(){return Rn(Q)},set time($){$=fs($),Q=$,T!==null||!m||g===0?T=$:P=m.now()-$/g},get duration(){const $=N.calculatedDuration===null?op(N):N.calculatedDuration;return Rn($)},get speed(){return g},set speed($){$===g||!m||(g=$,R.time=Rn(Q))},get state(){return E},play:z,pause:()=>{E="paused",T=Q},stop:()=>{p=!0,E!=="idle"&&(E="idle",u&&u(),se())},cancel:()=>{D!==null&&ae(D),se()},complete:()=>{E="finished"},sample:$=>(P=0,ae($))};return R}function Ek(e){let t;return()=>(t===void 0&&(t=e()),t)}const kk=Ek(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ck=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),za=10,Tk=2e4,Ak=(e,t)=>t.type==="spring"||e==="backgroundColor"||!mv(t.ease);function Pk(e,t,{onUpdate:n,onComplete:s,...r}){if(!(kk()&&Ck.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:f,duration:h=300,ease:g,times:p}=r;if(Ak(t,r)){const x=cl({...r,repeat:0,delay:0});let b={done:!1,value:f[0]};const N=[];let S=0;for(;!b.done&&S<Tk;)b=x.sample(S),N.push(b.value),S+=za;p=void 0,f=N,h=S-za,g="linear"}const w=V4(e.owner.current,t,f,{...r,duration:h,ease:g,times:p}),y=()=>{u=!1,w.cancel()},j=()=>{u=!0,ke.update(y),l(),d()};return w.onfinish=()=>{u||(e.set(U4(f,r)),s&&s(),j())},{then(x,b){return c.then(x,b)},attachTimeline(x){return w.timeline=x,w.onfinish=null,Be},get time(){return Rn(w.currentTime||0)},set time(x){w.currentTime=fs(x)},get speed(){return w.playbackRate},set speed(x){w.playbackRate=x},get duration(){return Rn(h)},play:()=>{o||(w.play(),$n(y))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:x}=w;if(x){const b=cl({...r,autoplay:!1});e.setWithVelocity(b.sample(x-za).value,b.sample(x).value,za)}j()},complete:()=>{u||w.finish()},cancel:j}}function Rk({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const r=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:a=>(a(),Promise.resolve()),cancel:Be,complete:Be});return t?cl({keyframes:[0,1],duration:0,delay:t,onComplete:r}):r()}const Lk={type:"spring",stiffness:500,damping:25,restSpeed:10},Dk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ok={type:"keyframes",duration:.8},Mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fk=(e,{keyframes:t})=>t.length>2?Ok:Xs.has(e)?e.startsWith("scale")?Dk(t[1]):Lk:Mk,pd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gs.test(t)||t==="0")&&!t.startsWith("url(")),Ik=new Set(["brightness","contrast","saturate","opacity"]);function $k(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ql)||[];if(!s)return e;const r=n.replace(s,"");let a=Ik.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const _k=/([a-z-]*)\(.*?\)/g,gd={...gs,getAnimatableNone:e=>{const t=e.match(_k);return t?t.map($k).join(" "):e}},Vk={...Zy,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:gd,WebkitFilter:gd},Yf=e=>Vk[e];function $v(e,t){let n=Yf(e);return n!==gd&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _v=e=>/^0[^.\s]+$/.test(e);function Uk(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||_v(e)}function Bk(e,t,n,s){const r=pd(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),Uk(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(r&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=$v(t,l)}return a}function qk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Zf(e,t){return e[t]||e.default||e}const zk={skipAnimations:!1},Xf=(e,t,n,s={})=>r=>{const a=Zf(s,e)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-fs(o);const c=Bk(t,e,n,a),u=c[0],d=c[c.length-1],f=pd(e,u),h=pd(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(qk(a)||(g={...g,...Fk(e,g)}),g.duration&&(g.duration=fs(g.duration)),g.repeatDelay&&(g.repeatDelay=fs(g.repeatDelay)),!f||!h||_4.current||a.type===!1||zk.skipAnimations)return Rk(g);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Pk(t,e,g);if(p)return p}return cl(g)};function ul(e){return!!(Pt(e)&&e.add)}const Vv=e=>/^\-?\d*\.?\d+$/.test(e);function Jf(e,t){e.indexOf(t)===-1&&e.push(t)}function eh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class th{constructor(){this.subscriptions=[]}add(t){return Jf(this.subscriptions,t),()=>eh(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hk=e=>!isNaN(parseFloat(e));class Wk{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=ct;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Hk(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new th);const s=this.events[t].add(n);return t==="change"?()=>{s(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Mv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $r(e,t){return new Wk(e,t)}const Uv=e=>t=>t.test(e),Qk={test:e=>e==="auto",parse:e=>e},Bv=[Js,le,yn,zn,e4,JE,Qk],ii=e=>Bv.find(Uv(e)),Kk=[...Bv,pt,gs],Gk=e=>Kk.find(Uv(e));function Yk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$r(n))}function Zk(e,t){const n=Gl(e,t);let{transitionEnd:s={},transition:r={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=m4(a[o]);Yk(e,o,l)}}function Xk(e,t,n){var s,r;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&r!==void 0?r:t[c]),d!=null&&(typeof d=="string"&&(Vv(d)||_v(d))?d=parseFloat(d):!Gk(d)&&gs.test(u)&&(d=$v(c,u)),e.addValue(c,$r(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function Jk(e,t){return t?(t[e]||t.default||t).from:void 0}function eC(e,t,n){const s={};for(const r in e){const a=Jk(r,t);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function tC({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function nC(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function qv(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(a=s);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const f in l){const h=e.getValue(f),g=l[f];if(!h||g===void 0||d&&tC(d,f))continue;const p={delay:n,elapsed:0,...Zf(a||{},f)};if(window.HandoffAppearAnimations){const j=e.getProps()[zy];if(j){const m=window.HandoffAppearAnimations(j,f,h,ke);m!==null&&(p.elapsed=m,p.isHandoff=!0)}}let w=!p.isHandoff&&!nC(h,g);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(Xf(f,h,g,e.shouldReduceMotion&&Xs.has(f)?{type:!1}:p));const y=h.animation;ul(c)&&(c.add(f),y.then(()=>c.remove(f))),u.push(y)}return o&&Promise.all(u).then(()=>{o&&Zk(e,o)}),u}function xd(e,t,n={}){const s=Gl(e,t,n.custom);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(qv(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=r;return sC(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function sC(e,t,n=0,s=0,r=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(rC).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(xd(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function rC(e,t){return e.sortNodePosition(t)}function iC(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>xd(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=xd(e,t,n);else{const r=typeof t=="function"?Gl(e,t,n.custom):t;s=Promise.all(qv(e,r,n))}return s.then(()=>e.notify("AnimationComplete",t))}const aC=[...Ff].reverse(),oC=Ff.length;function lC(e){return t=>Promise.all(t.map(({animation:n,options:s})=>iC(e,n,s)))}function cC(e){let t=lC(e);const n=dC();let s=!0;const r=(c,u)=>{const d=Gl(e,u);if(d){const{transition:f,transitionEnd:h,...g}=d;c={...c,...g,...h}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],g=new Set;let p={},w=1/0;for(let j=0;j<oC;j++){const m=aC[j],x=n[m],b=d[m]!==void 0?d[m]:f[m],N=ta(b),S=m===u?x.isActive:null;S===!1&&(w=j);let E=b===f[m]&&b!==d[m]&&N;if(E&&s&&e.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...p},!x.isActive&&S===null||!b&&!x.prevProp||Hl(b)||typeof b=="boolean")continue;let P=uC(x.prevProp,b)||m===u&&x.isActive&&!E&&N||j>w&&N,D=!1;const Y=Array.isArray(b)?b:[b];let W=Y.reduce(r,{});S===!1&&(W={});const{prevResolvedValues:U={}}=x,Q={...U,...W},ae=K=>{P=!0,g.has(K)&&(D=!0,g.delete(K)),x.needsAnimating[K]=!0};for(const K in Q){const se=W[K],O=U[K];if(p.hasOwnProperty(K))continue;let z=!1;al(se)&&al(O)?z=!fv(se,O):z=se!==O,z?se!==void 0?ae(K):g.add(K):se!==void 0&&g.has(K)?ae(K):x.protectedKeys[K]=!0}x.prevProp=b,x.prevResolvedValues=W,x.isActive&&(p={...p,...W}),s&&e.blockInitialAnimation&&(P=!1),P&&(!E||D)&&h.push(...Y.map(K=>({animation:K,options:{type:m,...c}})))}if(g.size){const j={};g.forEach(m=>{const x=e.getBaseTarget(m);x!==void 0&&(j[m]=x)}),h.push({animation:j})}let y=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var p;return(p=g.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=o(d,c);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function uC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fv(t,e):!1}function Ns(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dC(){return{animate:Ns(!0),whileInView:Ns(),whileHover:Ns(),whileTap:Ns(),whileDrag:Ns(),whileFocus:Ns(),exit:Ns()}}class fC extends ws{constructor(t){super(t),t.animationState||(t.animationState=cC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Hl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let hC=0;class mC extends ws{constructor(){super(...arguments),this.id=hC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pC={animation:{Feature:fC},exit:{Feature:mC}},lp=(e,t)=>Math.abs(e-t);function gC(e,t){const n=lp(e.x,t.x),s=lp(e.y,t.y);return Math.sqrt(n**2+s**2)}class zv{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=gC(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:p}=f,{timestamp:w}=ct;this.history.push({...p,timestamp:w});const{onStart:y,onMove:j}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Wc(h,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Qc(f.type==="pointercancel"?this.lastMoveEventInfo:Wc(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,y),p&&p(f,y)},!ov(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Kl(t),l=Wc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ct;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Qc(l,this.history)),this.removeListeners=ds(Pn(this.contextWindow,"pointermove",this.handlePointerMove),Pn(this.contextWindow,"pointerup",this.handlePointerUp),Pn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function Wc(e,t){return t?{point:t(e.point)}:e}function cp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qc({point:e},t){return{point:e,delta:cp(e,Hv(t)),offset:cp(e,xC(t)),velocity:yC(t,.1)}}function xC(e){return e[0]}function Hv(e){return e[e.length-1]}function yC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=Hv(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>fs(t)));)n--;if(!s)return{x:0,y:0};const a=Rn(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ft(e){return e.max-e.min}function yd(e,t=0,n=.01){return Math.abs(e-t)<=n}function up(e,t,n,s=.5){e.origin=s,e.originPoint=Ie(t.min,t.max,e.origin),e.scale=Ft(n)/Ft(t),(yd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ie(n.min,n.max,e.origin)-e.originPoint,(yd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ai(e,t,n,s){up(e.x,t.x,n.x,s?s.originX:void 0),up(e.y,t.y,n.y,s?s.originY:void 0)}function dp(e,t,n){e.min=n.min+t.min,e.max=e.min+Ft(t)}function vC(e,t,n){dp(e.x,t.x,n.x),dp(e.y,t.y,n.y)}function fp(e,t,n){e.min=t.min-n.min,e.max=e.min+Ft(t)}function Pi(e,t,n){fp(e.x,t.x,n.x),fp(e.y,t.y,n.y)}function bC(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Ie(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Ie(n,e,s.max):Math.min(e,n)),e}function hp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wC(e,{top:t,left:n,bottom:s,right:r}){return{x:hp(e.x,n,r),y:hp(e.y,t,s)}}function mp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function jC(e,t){return{x:mp(e.x,t.x),y:mp(e.y,t.y)}}function NC(e,t){let n=.5;const s=Ft(e),r=Ft(t);return r>s?n=sa(t.min,t.max-s,e.min):s>r&&(n=sa(e.min,e.max-r,t.min)),ps(0,1,n)}function SC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const vd=.35;function EC(e=vd){return e===!1?e=0:e===!0&&(e=vd),{x:pp(e,"left","right"),y:pp(e,"top","bottom")}}function pp(e,t,n){return{min:gp(e,t),max:gp(e,n)}}function gp(e,t){return typeof e=="number"?e:e[t]||0}const xp=()=>({translate:0,scale:1,origin:0,originPoint:0}),wr=()=>({x:xp(),y:xp()}),yp=()=>({min:0,max:0}),We=()=>({x:yp(),y:yp()});function Bt(e){return[e("x"),e("y")]}function Wv({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function kC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Kc(e){return e===void 0||e===1}function bd({scale:e,scaleX:t,scaleY:n}){return!Kc(e)||!Kc(t)||!Kc(n)}function ks(e){return bd(e)||Qv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Qv(e){return vp(e.x)||vp(e.y)}function vp(e){return e&&e!=="0%"}function dl(e,t,n){const s=e-n,r=t*s;return n+r}function bp(e,t,n,s,r){return r!==void 0&&(e=dl(e,r,s)),dl(e,n,s)+t}function wd(e,t=0,n=1,s,r){e.min=bp(e.min,t,n,s,r),e.max=bp(e.max,t,n,s,r)}function Kv(e,{x:t,y:n}){wd(e.x,t.translate,t.scale,t.originPoint),wd(e.y,n.translate,n.scale,n.originPoint)}function TC(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&jr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Kv(e,o)),s&&ks(a.latestValues)&&jr(e,a.latestValues))}t.x=wp(t.x),t.y=wp(t.y)}function wp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Kn(e,t){e.min=e.min+t,e.max=e.max+t}function jp(e,t,[n,s,r]){const a=t[r]!==void 0?t[r]:.5,o=Ie(e.min,e.max,a);wd(e,t[n],t[s],o,t.scale)}const AC=["x","scaleX","originX"],PC=["y","scaleY","originY"];function jr(e,t){jp(e.x,t,AC),jp(e.y,t,PC)}function Gv(e,t){return Wv(CC(e.getBoundingClientRect(),t))}function RC(e,t,n){const s=Gv(e,n),{scroll:r}=t;return r&&(Kn(s.x,r.offset.x),Kn(s.y,r.offset.y)),s}const Yv=({current:e})=>e?e.ownerDocument.defaultView:null,LC=new WeakMap;class DC{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kl(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:p}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cv(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(y=>{let j=this.getAxisMotionValue(y).get()||0;if(yn.test(j)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[y];x&&(j=Ft(x)*(parseFloat(j)/100))}}this.originPoint[y]=j}),p&&ke.update(()=>p(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:p,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(g&&this.currentDirection===null){this.currentDirection=OC(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Bt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zv(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Yv(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&ke.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!Ha(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=bC(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&vr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=wC(r.layoutBox,n):this.constraints=!1,this.elastic=EC(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=SC(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vr(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=RC(s,r.root,this.visualElement.getTransformPagePoint());let o=jC(r.layout.layoutBox,a);if(n){const l=n(kC(o));this.hasMutatedConstraints=!!l,l&&(o=Wv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Bt(d=>{if(!Ha(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=r?200:1e6,g=r?40:1e7,p={type:"inertia",velocity:s?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Xf(t,s,0,n))}stopAnimation(){Bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Bt(n=>{const{drag:s}=this.getProps();if(!Ha(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-Ie(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!vr(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Bt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();r[o]=NC({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Bt(o=>{if(!Ha(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ie(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;LC.set(this.visualElement,this);const t=this.visualElement.current,n=Pn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();vr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=Cn(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=vd,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ha(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OC(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class MC extends ws{constructor(t){super(t),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new DC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const Np=e=>(t,n)=>{e&&ke.update(()=>e(t,n))};class FC extends ws{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(t){this.session=new zv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Np(t),onStart:Np(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&ke.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=Pn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IC(){const e=v.useContext(ql);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=v.useId();return v.useEffect(()=>s(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}const mo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ai={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(le.test(e))e=parseFloat(e);else return e;const n=Sp(e,t.target.x),s=Sp(e,t.target.y);return`${n}% ${s}%`}},$C={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=gs.parse(e);if(r.length>5)return s;const a=gs.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=Ie(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};class _C extends fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;WE(VC),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),mo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ke.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zv(e){const[t,n]=IC(),s=v.useContext($f);return fe.createElement(_C,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(Wy),isPresent:t,safeToRemove:n})}const VC={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:$C},Xv=["TopLeft","TopRight","BottomLeft","BottomRight"],UC=Xv.length,Ep=e=>typeof e=="string"?parseFloat(e):e,kp=e=>typeof e=="number"||le.test(e);function BC(e,t,n,s,r,a){r?(e.opacity=Ie(0,n.opacity!==void 0?n.opacity:1,qC(s)),e.opacityExit=Ie(t.opacity!==void 0?t.opacity:1,0,zC(s))):a&&(e.opacity=Ie(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<UC;o++){const l=`border${Xv[o]}Radius`;let c=Cp(t,l),u=Cp(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||kp(c)===kp(u)?(e[l]=Math.max(Ie(Ep(c),Ep(u),s),0),(yn.test(u)||yn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ie(t.rotate||0,n.rotate||0,s))}function Cp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qC=Jv(0,.5,wv),zC=Jv(.5,.95,Be);function Jv(e,t,n){return s=>s<e?0:s>t?1:n(sa(e,t,s))}function Tp(e,t){e.min=t.min,e.max=t.max}function Ut(e,t){Tp(e.x,t.x),Tp(e.y,t.y)}function Ap(e,t,n,s,r){return e-=t,e=dl(e,1/n,s),r!==void 0&&(e=dl(e,1/r,s)),e}function HC(e,t=0,n=1,s=.5,r,a=e,o=e){if(yn.test(t)&&(t=parseFloat(t),t=Ie(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ie(a.min,a.max,s);e===a&&(l-=t),e.min=Ap(e.min,t,n,l,r),e.max=Ap(e.max,t,n,l,r)}function Pp(e,t,[n,s,r],a,o){HC(e,t[n],t[s],t[r],t.scale,a,o)}const WC=["x","scaleX","originX"],QC=["y","scaleY","originY"];function Rp(e,t,n,s){Pp(e.x,t,WC,n?n.x:void 0,s?s.x:void 0),Pp(e.y,t,QC,n?n.y:void 0,s?s.y:void 0)}function Lp(e){return e.translate===0&&e.scale===1}function e1(e){return Lp(e.x)&&Lp(e.y)}function KC(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function t1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Dp(e){return Ft(e.x)/Ft(e.y)}class GC{constructor(){this.members=[]}add(t){Jf(this.members,t),t.scheduleRender()}remove(t){if(eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Op(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const YC=(e,t)=>e.depth-t.depth;class ZC{constructor(){this.children=[],this.isDirty=!1}add(t){Jf(this.children,t),this.isDirty=!0}remove(t){eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YC),this.isDirty=!1,this.children.forEach(t)}}function XC(e,t){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&($n(s),e(a-t))};return ke.read(s,!0),()=>$n(s)}function JC(e){window.MotionDebug&&window.MotionDebug.record(e)}function e3(e){return e instanceof SVGElement&&e.tagName!=="svg"}function t3(e,t,n){const s=Pt(e)?e:$r(e);return s.start(Xf("",s,t,n)),s.animation}const Mp=["","X","Y","Z"],n3={visibility:"hidden"},Fp=1e3;let s3=0;const Cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function n1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=s3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cs.totalNodes=Cs.resolvedTargetDeltas=Cs.recalculatedProjection=0,this.nodes.forEach(a3),this.nodes.forEach(d3),this.nodes.forEach(f3),this.nodes.forEach(o3),JC(Cs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new th),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e3(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XC(h,250),mo.hasAnimatedSinceResize&&(mo.hasAnimatedSinceResize=!1,this.nodes.forEach($p))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||x3,{onLayoutAnimationStart:y,onLayoutAnimationComplete:j}=d.getProps(),m=!this.targetLayout||!t1(this.targetLayout,p)||g,x=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const b={...Zf(w,"layout"),onPlay:y,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||$p(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ip);return}this.isUpdating||this.nodes.forEach(c3),this.isUpdating=!1,this.nodes.forEach(u3),this.nodes.forEach(r3),this.nodes.forEach(i3),this.clearAllSnapshots();const l=performance.now();ct.delta=ps(0,1e3/60,l-ct.timestamp),ct.timestamp=l,ct.isProcessing=!0,$c.update.process(ct),$c.preRender.process(ct),$c.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(l3),this.sharedNodes.forEach(m3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!e1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ks(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),y3(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return We();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Kn(l.x,c.offset.x),Kn(l.y,c.offset.y)),l}removeElementScroll(o){const l=We();Ut(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ut(l,o);const{scroll:h}=this.root;h&&(Kn(l.x,-h.offset.x),Kn(l.y,-h.offset.y))}Kn(l.x,d.offset.x),Kn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=We();Ut(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ks(d.latestValues)&&jr(c,d.latestValues)}return ks(this.latestValues)&&jr(c,this.latestValues),c}removeTransform(o){const l=We();Ut(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ks(u.latestValues))continue;bd(u.latestValues)&&u.updateSnapshot();const d=We(),f=u.measurePageBox();Ut(d,f),Rp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ks(this.latestValues)&&Rp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Pi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),Kv(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Pi(this.relativeTargetOrigin,this.target,g.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bd(this.parent.latestValues)||Qv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ut(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;TC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=wr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wr(),this.projectionDeltaWithTransform=wr());const w=this.projectionTransform;Ai(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Op(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=We(),g=c?c.source:void 0,p=this.layout?this.layout.source:void 0,w=g!==p,y=this.getStack(),j=!y||y.members.length<=1,m=!!(w&&!j&&this.options.crossfade===!0&&!this.path.some(g3));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const N=b/1e3;_p(f.x,o.x,N),_p(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p3(this.relativeTarget,this.relativeTargetOrigin,h,N),x&&KC(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=We()),Ut(x,this.relativeTarget)),w&&(this.animationValues=d,BC(d,u,this.latestValues,N,m,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{mo.hasAnimatedSinceResize=!0,this.currentAnimation=t3(0,Fp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&s1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||We();const f=Ft(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ft(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ut(l,c),jr(l,d),Ai(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GC),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Mp.length;d++){const f="rotate"+Mp[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n3;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ho(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ho(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Op(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:g,y:p}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in rl){if(h[w]===void 0)continue;const{correct:y,applyTo:j}=rl[w],m=u.transform==="none"?h[w]:y(h[w],f);if(j){const x=j.length;for(let b=0;b<x;b++)u[j[b]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=f===this?ho(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ip),this.root.sharedNodes.clear()}}}function r3(e){e.updateLayout()}function i3(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Bt(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],g=Ft(h);h.min=s[f].min,h.max=h.min+g}):s1(a,n.layoutBox,s)&&Bt(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],g=Ft(s[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=wr();Ai(l,s,n.layoutBox);const c=wr();o?Ai(c,e.applyTransform(r,!0),n.measuredBox):Ai(c,s,n.layoutBox);const u=!e1(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const p=We();Pi(p,n.layoutBox,h.layoutBox);const w=We();Pi(w,s,g.layoutBox),t1(p,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function a3(e){Cs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function o3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function l3(e){e.clearSnapshot()}function Ip(e){e.clearMeasurements()}function c3(e){e.isLayoutDirty=!1}function u3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $p(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function d3(e){e.resolveTargetDelta()}function f3(e){e.calcProjection()}function h3(e){e.resetRotation()}function m3(e){e.removeLeadSnapshot()}function _p(e,t,n){e.translate=Ie(t.translate,0,n),e.scale=Ie(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vp(e,t,n,s){e.min=Ie(t.min,n.min,s),e.max=Ie(t.max,n.max,s)}function p3(e,t,n,s){Vp(e.x,t.x,n.x,s),Vp(e.y,t.y,n.y,s)}function g3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const x3={duration:.45,ease:[.4,0,.1,1]},Up=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Bp=Up("applewebkit/")&&!Up("chrome/")?Math.round:Be;function qp(e){e.min=Bp(e.min),e.max=Bp(e.max)}function y3(e){qp(e.x),qp(e.y)}function s1(e,t,n){return e==="position"||e==="preserve-aspect"&&!yd(Dp(t),Dp(n),.2)}const v3=n1({attachResizeListener:(e,t)=>Cn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gc={current:void 0},r1=n1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gc.current){const e=new v3({});e.mount(window),e.setOptions({layoutScroll:!0}),Gc.current=e}return Gc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),b3={pan:{Feature:FC},drag:{Feature:MC,ProjectionNode:r1,MeasureLayout:Zv}},w3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function j3(e){const t=w3.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function jd(e,t,n=1){const[s,r]=j3(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return Vv(o)?parseFloat(o):o}else return dd(r)?jd(r,t,n+1):r}function N3(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const a=r.get();if(!dd(a))return;const o=jd(a,s);o&&r.set(o)});for(const r in t){const a=t[r];if(!dd(a))continue;const o=jd(a,s);o&&(t[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:t,transitionEnd:n}}const S3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),i1=e=>S3.has(e),E3=e=>Object.keys(e).some(i1),zp=e=>e===Js||e===le,Hp=(e,t)=>parseFloat(e.split(", ")[t]),Wp=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return Hp(r[1],t);{const a=s.match(/^matrix\((.+)\)$/);return a?Hp(a[1],e):0}},k3=new Set(["x","y","z"]),C3=ma.filter(e=>!k3.has(e));function T3(e){const t=[];return C3.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const _r={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Wp(4,13),y:Wp(5,14)};_r.translateX=_r.x;_r.translateY=_r.y;const A3=(e,t,n)=>{const s=t.measureViewportBox(),r=t.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=_r[u](s,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=_r[u](c,a)}),e},P3=(e,t,n={},s={})=>{t={...t},s={...s};const r=Object.keys(t).filter(i1);let a=[],o=!1;const l=[];if(r.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=ii(d);const h=t[c];let g;if(al(h)){const p=h.length,w=h[0]===null?1:0;d=h[w],f=ii(d);for(let y=w;y<p&&h[y]!==null;y++)g?Wf(ii(h[y])===g):g=ii(h[y])}else g=ii(h);if(f!==g)if(zp(f)&&zp(g)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&g===le&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(d===0||h===0)?d===0?u.set(g.transform(d)):t[c]=f.transform(h):(o||(a=T3(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=A3(t,e,l);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),zl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:t,transitionEnd:s}};function R3(e,t,n,s){return E3(t)?P3(e,t,n,s):{target:t,transitionEnd:s}}const L3=(e,t,n,s)=>{const r=N3(e,t,s);return t=r.target,s=r.transitionEnd,R3(e,t,n,s)},Nd={current:null},a1={current:!1};function D3(){if(a1.current=!0,!!zl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nd.current=e.matches;e.addListener(t),t()}else Nd.current=!1}function O3(e,t,n){const{willChange:s}=t;for(const r in t){const a=t[r],o=n[r];if(Pt(a))e.addValue(r,a),ul(s)&&s.add(r);else if(Pt(o))e.addValue(r,$r(a,{owner:e})),ul(s)&&s.remove(r);else if(o!==a)if(e.hasValue(r)){const l=e.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(r);e.addValue(r,$r(l!==void 0?l:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Qp=new WeakMap,o1=Object.keys(na),M3=o1.length,Kp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F3=If.length;class I3{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Wl(n),this.isVariantNode=Hy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&Pt(h)&&(h.set(l[f],!1),ul(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Qp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),a1.current||D3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qp.delete(this.current),this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=Xs.has(t),r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,r,a){let o,l;for(let c=0;c<M3;c++){const u=o1[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:g}=na[u];h&&(o=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&vr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kp.length;s++){const r=Kp[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=t["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=O3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<F3;s++){const r=If[s],a=this.props[r];(ta(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=$r(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=Hf(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Pt(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new th),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class l1 extends I3{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:r},a){let o=eC(s,t||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){Xk(this,s,o);const l=L3(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:n,...s}}}function $3(e){return window.getComputedStyle(e)}class _3 extends l1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Xs.has(n)){const s=Yf(n);return s&&s.default||0}else{const s=$3(t),r=(Gy(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Gv(t,n)}build(t,n,s,r){Vf(t,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return zf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,r){tv(t,n,s,r)}}class V3 extends l1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xs.has(n)){const s=Yf(n);return s&&s.default||0}return n=nv.has(n)?n:Mf(n),t.getAttribute(n)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(t,n){return rv(t,n)}build(t,n,s,r){Bf(t,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,s,r){sv(t,n,s,r)}mount(t){this.isSVGTag=qf(t.tagName),super.mount(t)}}const U3=(e,t)=>_f(e)?new V3(t,{enableHardwareAcceleration:!1}):new _3(t,{enableHardwareAcceleration:!0}),B3={layout:{ProjectionNode:r1,MeasureLayout:Zv}},q3={...pC,...M4,...b3,...B3},q=zE((e,t)=>j4(e,t,q3,U3));function c1(){const e=v.useRef(!1);return Of(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function z3(){const e=c1(),[t,n]=v.useState(0),s=v.useCallback(()=>{e.current&&n(t+1)},[t]);return[v.useCallback(()=>ke.postRender(s),[s]),t]}class H3 extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function W3({children:e,isPresent:t}){const n=v.useId(),s=v.useRef(null),r=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=r.current;if(t||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.createElement(H3,{isPresent:t,childRef:s,sizeRef:r},v.cloneElement(e,{ref:s}))}const Yc=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=iv(Q3),c=v.useId(),u=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;s&&s()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[n]);return v.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=v.createElement(W3,{isPresent:n},e)),v.createElement(ql.Provider,{value:u},e)};function Q3(){return new Map}function K3(e){return v.useEffect(()=>()=>e(),[])}const Ts=e=>e.key||"";function G3(e,t){e.forEach(n=>{const s=Ts(n);t.set(s,n)})}function Y3(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const nh=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=v.useContext($f).forceRender||z3()[0],c=c1(),u=Y3(e);let d=u;const f=v.useRef(new Map).current,h=v.useRef(d),g=v.useRef(new Map).current,p=v.useRef(!0);if(Of(()=>{p.current=!1,G3(u,g),h.current=d}),K3(()=>{p.current=!0,g.clear(),f.clear()}),p.current)return v.createElement(v.Fragment,null,d.map(m=>v.createElement(Yc,{key:Ts(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},m)));d=[...d];const w=h.current.map(Ts),y=u.map(Ts),j=w.length;for(let m=0;m<j;m++){const x=w[m];y.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((m,x)=>{if(y.indexOf(x)!==-1)return;const b=g.get(x);if(!b)return;const N=w.indexOf(x);let S=m;if(!S){const E=()=>{f.delete(x);const T=Array.from(g.keys()).filter(P=>!y.includes(P));if(T.forEach(P=>g.delete(P)),h.current=u.filter(P=>{const D=Ts(P);return D===x||T.includes(D)}),!f.size){if(c.current===!1)return;l(),s&&s()}};S=v.createElement(Yc,{key:Ts(b),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:a,mode:o},b),f.set(x,S)}d.splice(N,0,S)}),d=d.map(m=>{const x=m.key;return f.has(x)?m:v.createElement(Yc,{key:Ts(m),isPresent:!0,presenceAffectsLayout:a,mode:o},m)}),v.createElement(v.Fragment,null,f.size?d:d.map(m=>v.cloneElement(m)))};function Z3({isOpen:e,onClose:t}){const{t:n,i18n:s}=Ul(),{user:r}=an(),[a,o]=v.useState("profile"),[l,c]=v.useState(!1),[u,d]=v.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:{email:!0,push:!0,sms:!1,marketing:!1},theme:"light",language:s.language}),f=[{id:"profile",name:n("header.profile","Profile Settings"),icon:In,color:"text-blue-600 bg-blue-50"},{id:"notifications",name:n("header.notifications","Notification Settings"),icon:ea,color:"text-green-600 bg-green-50"},{id:"security",name:n("header.security","Security"),icon:sl,color:"text-red-600 bg-red-50"},{id:"preferences",name:n("header.preferences","Preferences"),icon:od,color:"text-purple-600 bg-purple-50"}],h=(b,N)=>{d(S=>({...S,[b]:N}))},g=(b,N)=>{d(S=>({...S,notifications:{...S.notifications,[b]:N}}))},p=()=>{_.success("Settings saved successfully!"),setTimeout(()=>{t()},1e3)},w=()=>i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:u.name,onChange:b=>h("name",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:u.email,onChange:b=>h("email",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),i.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-600",children:(r==null?void 0:r.role)||"Not specified"})]})]})]})}),y=()=>i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),i.jsx("div",{className:"space-y-4",children:Object.entries(u.notifications).map(([b,N])=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 capitalize",children:[b," Notifications"]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Receive ",b," notifications for important updates"]})]}),i.jsx("button",{onClick:()=>g(b,!N),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N?"bg-blue-600":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N?"translate-x-6":"translate-x-1"}`})})]},b))})]})}),j=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:l?"text":"password",value:u.currentPassword,onChange:b=>h("currentPassword",b.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?i.jsx(nl,{className:"h-5 w-5 text-gray-400"}):i.jsx(Tt,{className:"h-5 w-5 text-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsx("input",{type:l?"text":"password",value:u.newPassword,onChange:b=>h("newPassword",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),i.jsx("input",{type:l?"text":"password",value:u.confirmPassword,onChange:b=>h("confirmPassword",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]})]})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Options"}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(A5,{className:"h-5 w-5 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium",children:"Two-Factor Authentication"})]}),i.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})})]})]}),m=()=>i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),i.jsxs("select",{value:u.language,onChange:b=>{h("language",b.target.value),s.changeLanguage(b.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"en",children:"English"}),i.jsx("option",{value:"hi",children:" (Hindi)"}),i.jsx("option",{value:"ta",children:" (Tamil)"}),i.jsx("option",{value:"te",children:" (Telugu)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["light","dark"].map(b=>i.jsxs("button",{onClick:()=>h("theme",b),className:`p-3 border-2 rounded-lg flex items-center justify-center space-x-2 transition-colors ${u.theme===b?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx(I5,{className:"h-4 w-4"}),i.jsx("span",{className:"capitalize",children:b}),u.theme===b&&i.jsx(Df,{className:"h-4 w-4 text-blue-600"})]},b))})]})]})]})}),x=()=>{switch(a){case"profile":return w();case"notifications":return y();case"security":return j();case"preferences":return m();default:return w()}};return i.jsx(nh,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:t}),i.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(xn,{className:"h-6 w-6 text-gray-500"})})]}),i.jsxs("div",{className:"flex h-[calc(90vh-8rem)]",children:[i.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200 p-4",children:i.jsx("nav",{className:"space-y-2",children:f.map(b=>{const N=b.icon;return i.jsxs("button",{onClick:()=>o(b.id),className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-left transition-colors ${a===b.id?"bg-white shadow-sm border border-gray-200":"hover:bg-white hover:bg-opacity-50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${b.color}`,children:i.jsx(N,{className:"h-4 w-4"})}),i.jsx("span",{className:"font-medium text-gray-900",children:b.name})]},b.id)})})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-6",children:x()})})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})})}function u1(e,t){return function(){return e.apply(t,arguments)}}const{toString:X3}=Object.prototype,{getPrototypeOf:sh}=Object,{iterator:Yl,toStringTag:d1}=Symbol,Zl=(e=>t=>{const n=X3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),on=e=>(e=e.toLowerCase(),t=>Zl(t)===e),Xl=e=>t=>typeof t===e,{isArray:Kr}=Array,Vr=Xl("undefined");function ya(e){return e!==null&&!Vr(e)&&e.constructor!==null&&!Vr(e.constructor)&&At(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const f1=on("ArrayBuffer");function J3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&f1(e.buffer),t}const eT=Xl("string"),At=Xl("function"),h1=Xl("number"),va=e=>e!==null&&typeof e=="object",tT=e=>e===!0||e===!1,po=e=>{if(Zl(e)!=="object")return!1;const t=sh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(d1 in e)&&!(Yl in e)},nT=e=>{if(!va(e)||ya(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sT=on("Date"),rT=on("File"),iT=on("Blob"),aT=on("FileList"),oT=e=>va(e)&&At(e.pipe),lT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||At(e.append)&&((t=Zl(e))==="formdata"||t==="object"&&At(e.toString)&&e.toString()==="[object FormData]"))},cT=on("URLSearchParams"),[uT,dT,fT,hT]=["ReadableStream","Request","Response","Headers"].map(on),mT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ba(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Kr(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(ya(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function m1(e,t){if(ya(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ms=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),p1=e=>!Vr(e)&&e!==Ms;function Sd(){const{caseless:e,skipUndefined:t}=p1(this)&&this||{},n={},s=(r,a)=>{const o=e&&m1(n,a)||a;po(n[o])&&po(r)?n[o]=Sd(n[o],r):po(r)?n[o]=Sd({},r):Kr(r)?n[o]=r.slice():(!t||!Vr(r))&&(n[o]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ba(arguments[r],s);return n}const pT=(e,t,n,{allOwnKeys:s}={})=>(ba(t,(r,a)=>{n&&At(r)?e[a]=u1(r,n):e[a]=r},{allOwnKeys:s}),e),gT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xT=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},yT=(e,t,n,s)=>{let r,a,o;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&sh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},vT=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},bT=e=>{if(!e)return null;if(Kr(e))return e;let t=e.length;if(!h1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sh(Uint8Array)),jT=(e,t)=>{const s=(e&&e[Yl]).call(e);let r;for(;(r=s.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},NT=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},ST=on("HTMLFormElement"),ET=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Gp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),kT=on("RegExp"),g1=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};ba(n,(r,a)=>{let o;(o=t(r,a,e))!==!1&&(s[a]=o||r)}),Object.defineProperties(e,s)},CT=e=>{g1(e,(t,n)=>{if(At(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(At(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TT=(e,t)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return Kr(e)?s(e):s(String(e).split(t)),n},AT=()=>{},PT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function RT(e){return!!(e&&At(e.append)&&e[d1]==="FormData"&&e[Yl])}const LT=e=>{const t=new Array(10),n=(s,r)=>{if(va(s)){if(t.indexOf(s)>=0)return;if(ya(s))return s;if(!("toJSON"in s)){t[r]=s;const a=Kr(s)?[]:{};return ba(s,(o,l)=>{const c=n(o,r+1);!Vr(c)&&(a[l]=c)}),t[r]=void 0,a}}return s};return n(e,0)},DT=on("AsyncFunction"),OT=e=>e&&(va(e)||At(e))&&At(e.then)&&At(e.catch),x1=((e,t)=>e?setImmediate:t?((n,s)=>(Ms.addEventListener("message",({source:r,data:a})=>{r===Ms&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ms.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",At(Ms.postMessage)),MT=typeof queueMicrotask<"u"?queueMicrotask.bind(Ms):typeof process<"u"&&process.nextTick||x1,FT=e=>e!=null&&At(e[Yl]),L={isArray:Kr,isArrayBuffer:f1,isBuffer:ya,isFormData:lT,isArrayBufferView:J3,isString:eT,isNumber:h1,isBoolean:tT,isObject:va,isPlainObject:po,isEmptyObject:nT,isReadableStream:uT,isRequest:dT,isResponse:fT,isHeaders:hT,isUndefined:Vr,isDate:sT,isFile:rT,isBlob:iT,isRegExp:kT,isFunction:At,isStream:oT,isURLSearchParams:cT,isTypedArray:wT,isFileList:aT,forEach:ba,merge:Sd,extend:pT,trim:mT,stripBOM:gT,inherits:xT,toFlatObject:yT,kindOf:Zl,kindOfTest:on,endsWith:vT,toArray:bT,forEachEntry:jT,matchAll:NT,isHTMLForm:ST,hasOwnProperty:Gp,hasOwnProp:Gp,reduceDescriptors:g1,freezeMethods:CT,toObjectSet:TT,toCamelCase:ET,noop:AT,toFiniteNumber:PT,findKey:m1,global:Ms,isContextDefined:p1,isSpecCompliantForm:RT,toJSONObject:LT,isAsyncFn:DT,isThenable:OT,setImmediate:x1,asap:MT,isIterable:FT};function he(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}L.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const y1=he.prototype,v1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{v1[e]={value:e}});Object.defineProperties(he,v1);Object.defineProperty(y1,"isAxiosError",{value:!0});he.from=(e,t,n,s,r,a)=>{const o=Object.create(y1);L.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return he.call(o,l,c,n,s,r),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const IT=null;function Ed(e){return L.isPlainObject(e)||L.isArray(e)}function b1(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function Yp(e,t,n){return e?e.concat(t).map(function(r,a){return r=b1(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function $T(e){return L.isArray(e)&&!e.some(Ed)}const _T=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function Jl(e,t,n){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!L.isUndefined(y[w])});const s=n.metaTokens,r=n.visitor||d,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(r))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(L.isDate(p))return p.toISOString();if(L.isBoolean(p))return p.toString();if(!c&&L.isBlob(p))throw new he("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(p)||L.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,w,y){let j=p;if(p&&!y&&typeof p=="object"){if(L.endsWith(w,"{}"))w=s?w:w.slice(0,-2),p=JSON.stringify(p);else if(L.isArray(p)&&$T(p)||(L.isFileList(p)||L.endsWith(w,"[]"))&&(j=L.toArray(p)))return w=b1(w),j.forEach(function(x,b){!(L.isUndefined(x)||x===null)&&t.append(o===!0?Yp([w],b,a):o===null?w:w+"[]",u(x))}),!1}return Ed(p)?!0:(t.append(Yp(y,w,a),u(p)),!1)}const f=[],h=Object.assign(_T,{defaultVisitor:d,convertValue:u,isVisitable:Ed});function g(p,w){if(!L.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(p),L.forEach(p,function(j,m){(!(L.isUndefined(j)||j===null)&&r.call(t,j,L.isString(m)?m.trim():m,w,h))===!0&&g(j,w?w.concat(m):[m])}),f.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Zp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function rh(e,t){this._pairs=[],e&&Jl(e,this,t)}const w1=rh.prototype;w1.append=function(t,n){this._pairs.push([t,n])};w1.toString=function(t){const n=t?function(s){return t.call(this,s,Zp)}:Zp;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function VT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function j1(e,t,n){if(!t)return e;const s=n&&n.encode||VT;L.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=L.isURLSearchParams(t)?t.toString():new rh(t,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class UT{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Xp=UT,N1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BT=typeof URLSearchParams<"u"?URLSearchParams:rh,qT=typeof FormData<"u"?FormData:null,zT=typeof Blob<"u"?Blob:null,HT={isBrowser:!0,classes:{URLSearchParams:BT,FormData:qT,Blob:zT},protocols:["http","https","file","blob","url","data"]},ih=typeof window<"u"&&typeof document<"u",kd=typeof navigator=="object"&&navigator||void 0,WT=ih&&(!kd||["ReactNative","NativeScript","NS"].indexOf(kd.product)<0),QT=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),KT=ih&&window.location.href||"http://localhost",GT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ih,hasStandardBrowserEnv:WT,hasStandardBrowserWebWorkerEnv:QT,navigator:kd,origin:KT},Symbol.toStringTag,{value:"Module"})),dt={...GT,...HT};function YT(e,t){return Jl(e,new dt.classes.URLSearchParams,{visitor:function(n,s,r,a){return dt.isNode&&L.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function ZT(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XT(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}function S1(e){function t(n,s,r,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&L.isArray(r)?r.length:o,c?(L.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!L.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],a)&&L.isArray(r[o])&&(r[o]=XT(r[o])),!l)}if(L.isFormData(e)&&L.isFunction(e.entries)){const n={};return L.forEachEntry(e,(s,r)=>{t(ZT(s),r,n,0)}),n}return null}function JT(e,t,n){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const ah={transitional:N1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=L.isObject(t);if(a&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return r?JSON.stringify(S1(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return YT(t,this.formSerializer).toString();if((l=L.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),JT(t)):t}],transformResponse:[function(t){const n=this.transitional||ah.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?he.from(l,he.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{ah.headers[e]={}});const oh=ah,eA=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tA=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&eA[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Jp=Symbol("internals");function oi(e){return e&&String(e).trim().toLowerCase()}function go(e){return e===!1||e==null?e:L.isArray(e)?e.map(go):String(e)}function nA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const sA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zc(e,t,n,s,r){if(L.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!L.isString(t)){if(L.isString(s))return t.indexOf(s)!==-1;if(L.isRegExp(s))return s.test(t)}}function rA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function iA(e,t){const n=L.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,a,o){return this[s].call(this,t,r,a,o)},configurable:!0})})}class ec{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function a(l,c,u){const d=oi(c);if(!d)throw new Error("header name must be a non-empty string");const f=L.findKey(r,d);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||c]=go(l))}const o=(l,c)=>L.forEach(l,(u,d)=>a(u,d,c));if(L.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(L.isString(t)&&(t=t.trim())&&!sA(t))o(tA(t),n);else if(L.isObject(t)&&L.isIterable(t)){let l={},c,u;for(const d of t){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?L.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=oi(t),t){const s=L.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return nA(r);if(L.isFunction(n))return n.call(this,r,s);if(L.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=oi(t),t){const s=L.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Zc(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function a(o){if(o=oi(o),o){const l=L.findKey(s,o);l&&(!n||Zc(s,s[l],l,n))&&(delete s[l],r=!0)}}return L.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!t||Zc(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,s={};return L.forEach(this,(r,a)=>{const o=L.findKey(s,a);if(o){n[o]=go(r),delete n[a];return}const l=t?rA(a):String(a).trim();l!==a&&delete n[a],n[l]=go(r),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return L.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&L.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Jp]=this[Jp]={accessors:{}}).accessors,r=this.prototype;function a(o){const l=oi(o);s[l]||(iA(r,o),s[l]=!0)}return L.isArray(t)?t.forEach(a):a(t),this}}ec.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(ec.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});L.freezeMethods(ec);const sn=ec;function Xc(e,t){const n=this||oh,s=t||n,r=sn.from(s.headers);let a=s.data;return L.forEach(e,function(l){a=l.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function E1(e){return!!(e&&e.__CANCEL__)}function Gr(e,t,n){he.call(this,e??"canceled",he.ERR_CANCELED,t,n),this.name="CanceledError"}L.inherits(Gr,he,{__CANCEL__:!0});function k1(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oA(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[a];o||(o=u),n[r]=c,s[r]=u;let f=a,h=0;for(;f!==r;)h+=n[f++],f=f%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),u-o<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function lA(e,t){let n=0,s=1e3/t,r,a;const o=(u,d=Date.now())=>{n=d,r=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=s?o(u,d):(r=u,a||(a=setTimeout(()=>{a=null,o(r)},s-f)))},()=>r&&o(r)]}const fl=(e,t,n=3)=>{let s=0;const r=oA(50,250);return lA(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=r(c),d=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},e0=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},t0=e=>(...t)=>L.asap(()=>e(...t)),cA=dt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,uA=dt.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const o=[e+"="+encodeURIComponent(t)];L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(s)&&o.push("path="+s),L.isString(r)&&o.push("domain="+r),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function C1(e,t,n){let s=!dA(t);return e&&(s||n==!1)?fA(e,t):t}const n0=e=>e instanceof sn?{...e}:e;function Gs(e,t){t=t||{};const n={};function s(u,d,f,h){return L.isPlainObject(u)&&L.isPlainObject(d)?L.merge.call({caseless:h},u,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function r(u,d,f,h){if(L.isUndefined(d)){if(!L.isUndefined(u))return s(void 0,u,f,h)}else return s(u,d,f,h)}function a(u,d){if(!L.isUndefined(d))return s(void 0,d)}function o(u,d){if(L.isUndefined(d)){if(!L.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,f){if(f in t)return s(u,d);if(f in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>r(n0(u),n0(d),f,!0)};return L.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||r,h=f(e[d],t[d],d);L.isUndefined(h)&&f!==l||(n[d]=h)}),n}const T1=e=>{const t=Gs({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=sn.from(o),t.url=j1(C1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),L.isFormData(n)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(L.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(dt.hasStandardBrowserEnv&&(s&&L.isFunction(s)&&(s=s(t)),s||s!==!1&&cA(t.url))){const c=r&&a&&uA.read(a);c&&o.set(r,c)}return t},hA=typeof XMLHttpRequest<"u",mA=hA&&function(e){return new Promise(function(n,s){const r=T1(e);let a=r.data;const o=sn.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=r,d,f,h,g,p;function w(){g&&g(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function j(){if(!y)return;const x=sn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:e,request:y};k1(function(E){n(E),w()},function(E){s(E),w()},N),y=null}"onloadend"in y?y.onloadend=j:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(j)},y.onabort=function(){y&&(s(new he("Request aborted",he.ECONNABORTED,e,y)),y=null)},y.onerror=function(b){const N=b&&b.message?b.message:"Network Error",S=new he(N,he.ERR_NETWORK,e,y);S.event=b||null,s(S),y=null},y.ontimeout=function(){let b=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||N1;r.timeoutErrorMessage&&(b=r.timeoutErrorMessage),s(new he(b,N.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&L.forEach(o.toJSON(),function(b,N){y.setRequestHeader(N,b)}),L.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),l&&l!=="json"&&(y.responseType=r.responseType),u&&([h,p]=fl(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,g]=fl(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=x=>{y&&(s(!x||x.type?new Gr(null,e,y):x),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const m=aA(r.url);if(m&&dt.protocols.indexOf(m)===-1){s(new he("Unsupported protocol "+m+":",he.ERR_BAD_REQUEST,e));return}y.send(a||null)})},pA=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const a=function(u){if(!r){r=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof he?d:new Gr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>L.asap(l),c}},gA=pA,xA=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},yA=async function*(e,t){for await(const n of vA(e))yield*xA(n,t)},vA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},s0=(e,t,n,s)=>{const r=yA(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=a+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},r0=64*1024,{isFunction:Wa}=L,bA=(({Request:e,Response:t})=>({Request:e,Response:t}))(L.global),{ReadableStream:i0,TextEncoder:a0}=L.global,o0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wA=e=>{e=L.merge.call({skipUndefined:!0},bA,e);const{fetch:t,Request:n,Response:s}=e,r=t?Wa(t):typeof fetch=="function",a=Wa(n),o=Wa(s);if(!r)return!1;const l=r&&Wa(i0),c=r&&(typeof a0=="function"?(p=>w=>p.encode(w))(new a0):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=a&&l&&o0(()=>{let p=!1;const w=new n(dt.origin,{body:new i0,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!w}),d=o&&l&&o0(()=>L.isReadableStream(new s("").body)),f={stream:d&&(p=>p.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(w,y)=>{let j=w&&w[p];if(j)return j.call(w);throw new he(`Response type '${p}' is not supported`,he.ERR_NOT_SUPPORT,y)})});const h=async p=>{if(p==null)return 0;if(L.isBlob(p))return p.size;if(L.isSpecCompliantForm(p))return(await new n(dt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(L.isArrayBufferView(p)||L.isArrayBuffer(p))return p.byteLength;if(L.isURLSearchParams(p)&&(p=p+""),L.isString(p))return(await c(p)).byteLength},g=async(p,w)=>{const y=L.toFiniteNumber(p.getContentLength());return y??h(w)};return async p=>{let{url:w,method:y,data:j,signal:m,cancelToken:x,timeout:b,onDownloadProgress:N,onUploadProgress:S,responseType:E,headers:T,withCredentials:P="same-origin",fetchOptions:D}=T1(p),Y=t||fetch;E=E?(E+"").toLowerCase():"text";let W=gA([m,x&&x.toAbortSignal()],b),U=null;const Q=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let ae;try{if(S&&u&&y!=="get"&&y!=="head"&&(ae=await g(T,j))!==0){let $=new n(w,{method:"POST",body:j,duplex:"half"}),Z;if(L.isFormData(j)&&(Z=$.headers.get("content-type"))&&T.setContentType(Z),$.body){const[oe,me]=e0(ae,fl(t0(S)));j=s0($.body,r0,oe,me)}}L.isString(P)||(P=P?"include":"omit");const K=a&&"credentials"in n.prototype,se={...D,signal:W,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:j,duplex:"half",credentials:K?P:void 0};U=a&&new n(w,se);let O=await(a?Y(U,D):Y(w,se));const z=d&&(E==="stream"||E==="response");if(d&&(N||z&&Q)){const $={};["status","statusText","headers"].forEach(ve=>{$[ve]=O[ve]});const Z=L.toFiniteNumber(O.headers.get("content-length")),[oe,me]=N&&e0(Z,fl(t0(N),!0))||[];O=new s(s0(O.body,r0,oe,()=>{me&&me(),Q&&Q()}),$)}E=E||"text";let R=await f[L.findKey(f,E)||"text"](O,p);return!z&&Q&&Q(),await new Promise(($,Z)=>{k1($,Z,{data:R,headers:sn.from(O.headers),status:O.status,statusText:O.statusText,config:p,request:U})})}catch(K){throw Q&&Q(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,p,U),{cause:K.cause||K}):he.from(K,K&&K.code,p,U)}}},jA=new Map,A1=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:r}=t,a=[s,r,n];let o=a.length,l=o,c,u,d=jA;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:wA(t)),d=u;return u};A1();const Cd={http:IT,xhr:mA,fetch:{get:A1}};L.forEach(Cd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const l0=e=>`- ${e}`,NA=e=>L.isFunction(e)||e===null||e===!1,P1={getAdapter:(e,t)=>{e=L.isArray(e)?e:[e];const{length:n}=e;let s,r;const a={};for(let o=0;o<n;o++){s=e[o];let l;if(r=s,!NA(s)&&(r=Cd[(l=String(s)).toLowerCase()],r===void 0))throw new he(`Unknown adapter '${l}'`);if(r&&(L.isFunction(r)||(r=r.get(t))))break;a[l||"#"+o]=r}if(!r){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(l0).join(`
`):" "+l0(o[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Cd};function Jc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gr(null,e)}function c0(e){return Jc(e),e.headers=sn.from(e.headers),e.data=Xc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),P1.getAdapter(e.adapter||oh.adapter,e)(e).then(function(s){return Jc(e),s.data=Xc.call(e,e.transformResponse,s),s.headers=sn.from(s.headers),s},function(s){return E1(s)||(Jc(e),s&&s.response&&(s.response.data=Xc.call(e,e.transformResponse,s.response),s.response.headers=sn.from(s.response.headers))),Promise.reject(s)})}const R1="1.12.2",tc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tc[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const u0={};tc.transitional=function(t,n,s){function r(a,o){return"[Axios v"+R1+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new he(r(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!u0[o]&&(u0[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};tc.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function SA(e,t,n){if(typeof e!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new he("option "+a+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+a,he.ERR_BAD_OPTION)}}const xo={assertOptions:SA,validators:tc},cn=xo.validators;class hl{constructor(t){this.defaults=t||{},this.interceptors={request:new Xp,response:new Xp}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Gs(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&xo.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),r!=null&&(L.isFunction(r)?n.paramsSerializer={serialize:r}:xo.assertOptions(r,{encode:cn.function,serialize:cn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xo.assertOptions(n,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&L.merge(a.common,a[n.method]);a&&L.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=sn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,f=0,h;if(!c){const p=[c0.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(n);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let g=n;for(;f<h;){const p=l[f++],w=l[f++];try{g=p(g)}catch(y){w.call(this,y);break}}try{d=c0.call(this,g)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Gs(this.defaults,t);const n=C1(t.baseURL,t.url,t.allowAbsoluteUrls);return j1(n,t.params,t.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(t){hl.prototype[t]=function(n,s){return this.request(Gs(s||{},{method:t,url:n,data:(s||{}).data}))}});L.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,l){return this.request(Gs(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}hl.prototype[t]=n(),hl.prototype[t+"Form"]=n(!0)});const yo=hl;class lh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(r);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new Gr(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new lh(function(r){t=r}),cancel:t}}}const EA=lh;function kA(e){return function(n){return e.apply(null,n)}}function CA(e){return L.isObject(e)&&e.isAxiosError===!0}const Td={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Td).forEach(([e,t])=>{Td[t]=e});const TA=Td;function L1(e){const t=new yo(e),n=u1(yo.prototype.request,t);return L.extend(n,yo.prototype,t,{allOwnKeys:!0}),L.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return L1(Gs(e,r))},n}const Ye=L1(oh);Ye.Axios=yo;Ye.CanceledError=Gr;Ye.CancelToken=EA;Ye.isCancel=E1;Ye.VERSION=R1;Ye.toFormData=Jl;Ye.AxiosError=he;Ye.Cancel=Ye.CanceledError;Ye.all=function(t){return Promise.all(t)};Ye.spread=kA;Ye.isAxiosError=CA;Ye.mergeConfig=Gs;Ye.AxiosHeaders=sn;Ye.formToJSON=e=>S1(L.isHTMLForm(e)?new FormData(e):e);Ye.getAdapter=P1.getAdapter;Ye.HttpStatusCode=TA;Ye.default=Ye;const Ri=Ye,te=Ri.create({baseURL:"http://localhost:5002",timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!1});te.interceptors.request.use(e=>{var r,a,o,l;console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:e.url,baseURL:e.baseURL,fullURL:`${e.baseURL||window.location.origin}${e.url}`,headers:e.headers,data:e.data});const t=(a=e.url)==null?void 0:a.includes("/api/supabase/"),n=(o=e.url)==null?void 0:o.includes("/api/mock/"),s=(l=e.url)==null?void 0:l.includes("/health");if(!t&&!n&&!s){const c=localStorage.getItem("token");c?(e.headers.Authorization=`Bearer ${c}`,console.log(" Added auth token to request")):console.log(" No auth token found in localStorage")}else console.log(" Skipping auth token for demo endpoint:",e.url);return e},e=>(console.error(" Request interceptor error:",e),Promise.reject(e)));te.interceptors.response.use(e=>{var t;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:e.config.url,method:(t=e.config.method)==null?void 0:t.toUpperCase(),data:e.data}),e},e=>{var t,n,s,r,a,o,l,c,u,d,f,h,g,p,w;if(console.error(" API Error Details:",{message:e.message,code:e.code,status:(t=e.response)==null?void 0:t.status,statusText:(n=e.response)==null?void 0:n.statusText,url:(s=e.config)==null?void 0:s.url,method:(a=(r=e.config)==null?void 0:r.method)==null?void 0:a.toUpperCase(),responseData:(o=e.response)==null?void 0:o.data,requestData:(l=e.config)==null?void 0:l.data}),((c=e.response)==null?void 0:c.status)===401){const y=(d=(u=e.config)==null?void 0:u.url)==null?void 0:d.includes("/api/supabase/"),j=(h=(f=e.config)==null?void 0:f.url)==null?void 0:h.includes("/api/mock/"),m=(p=(g=e.config)==null?void 0:g.url)==null?void 0:p.includes("/health");!y&&!j&&!m?(console.log(" Unauthorized access to protected endpoint, redirecting to login"),localStorage.removeItem("token"),window.location.href="/login"):console.log(" 401 error on demo endpoint, not redirecting to login:",(w=e.config)==null?void 0:w.url)}return(e.code==="ECONNREFUSED"||e.message.includes("Network Error"))&&(console.error(" Network Error: Backend server is not running or not accessible"),console.error(" Check if backend is running on the correct port")),Promise.reject(e)});const D1=v.createContext(void 0),O1=()=>{const e=v.useContext(D1);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},AA=({children:e})=>{const[t,n]=v.useState([]),[s,r]=v.useState(0),a=ht(),{data:o,isLoading:l,refetch:c}=Ne("global-notifications",async()=>{try{console.log(" Fetching notifications from /api/notifications...");const p=await te.get("/api/notifications");return console.log(" Notifications response:",p.data),p.data}catch(p){return console.error(" Failed to fetch notifications:",p),p.response&&(console.error(" Response status:",p.response.status),console.error(" Response data:",p.response.data)),{notifications:[],count:0}}},{refetchInterval:1e4,refetchOnWindowFocus:!0,refetchIntervalInBackground:!1,refetchOnMount:!0,retry:3,staleTime:0,cacheTime:5*60*1e3,onError:p=>{console.error(" Notifications query error:",p)},onSuccess:p=>{var w;console.log(" Notifications query success:",((w=p==null?void 0:p.notifications)==null?void 0:w.length)||0,"notifications"),console.log(" Full response data structure:",{hasNotifications:!!(p!=null&&p.notifications),isArray:Array.isArray(p==null?void 0:p.notifications),count:p==null?void 0:p.count,message:p==null?void 0:p.message}),p!=null&&p.notifications&&p.notifications.length>0&&(console.log(" Sample notification:",p.notifications[0]),console.log(" All notification IDs:",p.notifications.map(y=>y.id)))}}),{data:u}=Ne("global-notification-count",async()=>{try{console.log(" Fetching notification count from /api/notifications/count...");const p=await te.get("/api/notifications/count");return console.log(" Count response:",p.data),p.data}catch(p){return console.error(" Failed to fetch notification count:",p),{unreadCount:0}}},{refetchInterval:1e4,refetchOnWindowFocus:!0,refetchIntervalInBackground:!1,refetchOnMount:!0,retry:3,staleTime:0,cacheTime:5*60*1e3,onError:p=>{console.error(" Notification count query error:",p)},onSuccess:p=>{console.log(" Notification count query success:",(p==null?void 0:p.unreadCount)||0),console.log(" Count data structure:",p)}});v.useEffect(()=>{console.log(" NotificationsData changed:",o),console.log(" Type of notificationsData:",typeof o),console.log(" Is array:",Array.isArray(o)),o!=null&&o.notifications&&Array.isArray(o.notifications)?(console.log(" Updating notifications state with",o.notifications.length,"notifications"),console.log(" First notification:",o.notifications[0]),console.log(" All notification IDs:",o.notifications.map(p=>p.id)),n(o.notifications)):o?(console.log(" No notifications array in response, setting empty array"),console.log(" Response structure:",o),console.log(" Response keys:",Object.keys(o)),n([])):(console.log(" No notificationsData at all"),n([]))},[o]),v.useEffect(()=>{console.log(" CountData changed:",u),(u==null?void 0:u.unreadCount)!==void 0?(console.log(" Updating unread count to:",u.unreadCount),r(u.unreadCount)):console.log(" No unreadCount in countData")},[u]);const g={notifications:t,unreadCount:s,markAsRead:async p=>{try{await te.patch(`/api/notifications/${p}/read`),n(w=>w.map(y=>y.id===p?{...y,read:!0}:y)),r(w=>Math.max(0,w-1)),a.invalidateQueries("global-notifications"),a.invalidateQueries("global-notification-count")}catch(w){console.error("Failed to mark notification as read:",w)}},markAllAsRead:async()=>{try{await te.patch("/api/notifications/mark-all-read"),n(p=>p.map(w=>({...w,read:!0}))),r(0),a.invalidateQueries("global-notifications"),a.invalidateQueries("global-notification-count")}catch(p){console.error("Failed to mark all notifications as read:",p)}},refreshNotifications:()=>{console.log(" Manual refresh triggered - invalidating queries"),a.invalidateQueries("global-notifications"),a.invalidateQueries("global-notification-count"),c()},isLoading:l};return i.jsx(D1.Provider,{value:g,children:e})},PA=({isOpen:e,onClose:t})=>{const n=_t(),{notifications:s,unreadCount:r,markAsRead:a,markAllAsRead:o,refreshNotifications:l}=O1(),c=[{id:"sample_1",type:"NEW_ENQUIRY",title:"New Client Application",message:"New loan application from BALAMURUGAN (BALAMURUGAN)",createdAt:new Date(Date.now()-24*60*60*1e3).toISOString(),read:!1,priority:"HIGH"},{id:"sample_2",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"UDYAM REGISTRATION verified for priyakamaldkp",createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),read:!1,priority:"MEDIUM"},{id:"sample_3",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"BANK STATEMENT verified for priyakamaldkp",createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),read:!1,priority:"MEDIUM"}];console.log(" NotificationPanel - notifications from context:",s),console.log(" NotificationPanel - notifications length:",s==null?void 0:s.length),console.log(" NotificationPanel - unreadCount:",r);const u=s&&s.length>0?s:c;console.log(" NotificationPanel - displayNotifications:",u),console.log(" NotificationPanel - displayNotifications length:",u==null?void 0:u.length),fe.useEffect(()=>{e&&(console.log(" Notification panel opened, refreshing..."),console.log(" Current notifications in context:",s),l())},[e,l]);const d=g=>{const p=new Date,w=new Date(g),y=Math.floor((p.getTime()-w.getTime())/(1e3*60));let j="";if(y<1)j="Just now";else if(y<60)j=`${y}m ago`;else if(y<1440)j=`${Math.floor(y/60)}h ago`;else{const x=Math.floor(y/1440);x===1?j="1d ago":x<7?j=`${x}d ago`:j=w.toLocaleDateString("en-IN",{day:"numeric",month:"short"})}const m=w.toLocaleString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Kolkata"});return{relativeTime:j,fullTime:m}},f=g=>{switch(g){case"NEW_ENQUIRY":return"bg-blue-500";case"DOCUMENT_UPLOADED":return"bg-yellow-500";case"DOCUMENT_VERIFIED":return"bg-green-500";case"SHORTLISTED":return"bg-purple-500";case"PAYMENT_APPLIED":return"bg-indigo-500";case"STAFF_ADDED":return"bg-gray-500";case"STATUS_UPDATED":return"bg-orange-500";case"ENQUIRY_ASSIGNED":return"bg-teal-500";case"ENQUIRY_COMPLETED":return"bg-emerald-500";default:return"bg-blue-500"}},h=async g=>{switch(await a(g.id),g.type){case"NEW_ENQUIRY":case"STATUS_UPDATED":case"ENQUIRY_ASSIGNED":case"ENQUIRY_COMPLETED":n("/enquiries");break;case"DOCUMENT_UPLOADED":case"DOCUMENT_VERIFIED":n("/documents");break;case"SHORTLISTED":n("/shortlist");break;case"PAYMENT_APPLIED":n("/payment-gateway");break;case"STAFF_ADDED":n("/staff");break}t()};return i.jsx(nh,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:t}),i.jsxs(q.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:400},className:"fixed right-4 top-4 bottom-4 w-[420px] bg-white shadow-2xl z-50 flex flex-col overflow-hidden rounded-2xl border border-gray-200",style:{maxHeight:"calc(100vh - 32px)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(0, 0, 0, 0.05)"},children:[i.jsxs("div",{className:"flex items-center justify-between p-6 bg-gradient-to-r from-indigo-600 via-blue-600 to-purple-600 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-20"}),i.jsxs("div",{className:"flex items-center space-x-4 relative z-10",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:i.jsx(ea,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Notifications"}),i.jsxs("p",{className:"text-indigo-100 text-sm font-medium",children:[u.length," total ",i.jsxs("span",{className:"text-yellow-200 font-semibold",children:[r," unread"]})]})]})]}),i.jsx("button",{onClick:t,className:"text-white hover:text-indigo-200 p-2 rounded-xl hover:bg-white/20 transition-all duration-200 backdrop-blur-sm relative z-10",children:i.jsx(xn,{className:"h-6 w-6"})})]}),i.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:s&&s.length>0?"Live Updates":"Demo Mode"})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})]})]}),i.jsxs("button",{onClick:()=>{console.log(" Manual refresh triggered"),l(),_.success("Refreshing notifications...")},className:"flex items-center space-x-1 px-3 py-1.5 bg-white text-gray-700 text-xs rounded-lg hover:bg-gray-50 border border-gray-200 transition-all duration-200 shadow-sm hover:shadow-md",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"font-medium",children:"Refresh"})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:u&&u.length>0?i.jsx("div",{className:"p-4 space-y-3",children:u.map((g,p)=>{const w=d(g.createdAt);return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:`bg-white border-l-4 rounded-xl p-5 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group ${g.read?"border-l-gray-300":"border-l-blue-500 bg-blue-50/30"}`,onClick:()=>h(g),children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-bold text-white shadow-sm ${f(g.type)}`,children:g.type.replace("_"," ")}),i.jsx("div",{className:`px-2.5 py-1 rounded-lg text-xs font-bold border ${g.priority==="HIGH"?"text-red-700 bg-red-50 border-red-200":g.priority==="MEDIUM"?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-green-700 bg-green-50 border-green-200"}`,children:g.priority})]}),i.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:g.title}),i.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed",children:g.message}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-xs font-semibold text-blue-600",children:""}),i.jsx("span",{className:"text-sm font-bold text-blue-600",children:w.relativeTime})]}),!g.read&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-xs font-medium text-blue-600",children:"New"})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:[" ",w.fullTime]})]})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("button",{className:"flex items-center space-x-2 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[i.jsx("span",{children:"View Details"}),i.jsx(US,{className:"h-4 w-4"})]}),!g.read&&i.jsx("button",{onClick:y=>{y.stopPropagation(),a(g.id)},className:"text-xs text-gray-500 hover:text-gray-700 font-medium transition-colors",children:"Mark as read"})]})]},g.id)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8",children:[i.jsx("div",{className:"bg-gray-100 rounded-full p-6 mb-6",children:i.jsx(ea,{className:"h-12 w-12 text-gray-400"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"All caught up!"}),i.jsx("p",{className:"text-sm text-center text-gray-500 mb-6 max-w-xs",children:"No new notifications right now. We'll let you know when something important happens."}),r>0&&i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 text-center",children:[i.jsxs("p",{className:"text-sm text-orange-700 font-medium mb-3",children:[" ",r," unread notifications detected but not loaded"]}),i.jsx("button",{onClick:()=>l(),className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors",children:" Refresh Notifications"})]})]})}),i.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("button",{onClick:async()=>{try{console.log(" Creating test notification..."),await te.post("/api/notifications/test/create-sample"),_.success("Test notification created!"),setTimeout(()=>l(),1e3)}catch(g){console.error("Failed to create test notification:",g),_.error("Failed to create test notification")}},className:"flex items-center space-x-1 px-3 py-2 text-sm text-gray-600 hover:text-blue-600 font-medium transition-colors rounded-lg hover:bg-gray-50",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Test"})]}),r>0&&i.jsxs("button",{onClick:o,className:"flex items-center space-x-1 px-4 py-2 text-sm bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 font-medium transition-all duration-200 shadow-sm hover:shadow-md",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:["Mark all read (",r,")"]})]})]}),i.jsxs("button",{onClick:t,className:"flex items-center space-x-1 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 font-medium transition-colors rounded-lg hover:bg-gray-50",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Close"})]})]})})]})]})})},RA=()=>{const[e,t]=v.useState(!1),{unreadCount:n}=O1();return i.jsxs(i.Fragment,{children:[i.jsxs(q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!0),className:"relative p-2.5 text-gray-600 hover:text-indigo-600 hover:bg-gradient-to-br hover:from-indigo-50 hover:to-blue-50 rounded-xl transition-all duration-300 shadow-sm hover:shadow-lg border border-transparent hover:border-indigo-100",title:`View Notifications ${n>0?`(${n} unread)`:""}`,children:[i.jsx(ea,{className:"h-6 w-6 transition-transform duration-200"}),n>0&&i.jsx(q.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 via-red-600 to-pink-600 text-white text-xs rounded-full min-w-[20px] h-[20px] flex items-center justify-center font-bold shadow-lg border-2 border-white",style:{fontSize:"10px",lineHeight:"1"},children:n>99?"99+":n}),n>0&&i.jsx(q.div,{animate:{scale:[1,1.6,1],opacity:[.8,0,.8]},transition:{repeat:1/0,duration:2.5,ease:"easeInOut"},className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-400 to-pink-400 rounded-full w-[20px] h-[20px]"}),n>0&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400/20 to-blue-400/20 rounded-xl blur-sm -z-10"})]}),i.jsx(PA,{isOpen:e,onClose:()=>t(!1)})]})};function LA({language:e="en",onLanguageChange:t}){var y;const{user:n}=an(),{t:s,i18n:r}=Ul(),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState("EN"),g=v.useRef(null);v.useEffect(()=>{const j=m=>{g.current&&!g.current.contains(m.target)&&(o(!1),c(!1))};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const p=[{code:"EN",name:"English",flag:"",value:"en"},{code:"HI",name:"",flag:"",value:"hi"},{code:"TA",name:"",flag:"",value:"ta"},{code:"TE",name:"",flag:"",value:"te"}];v.useEffect(()=>{const j=p.find(m=>m.value===e);j&&h(j.code)},[e]);const w=[{id:"profile",name:"Profile Settings",icon:In},{id:"notifications",name:"Notification Settings",icon:ea},{id:"security",name:"Security",icon:sl},{id:"preferences",name:"Preferences",icon:od}];return i.jsxs(i.Fragment,{children:[i.jsx("header",{ref:g,className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-slate-200 sticky top-0 z-40",children:i.jsx("div",{className:"px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"h-16 w-16 object-contain drop-shadow-lg hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})}),i.jsx("h1",{className:"text-2xl font-poppins font-bold text-slate-900",children:s("header.title")})]}),i.jsxs("div",{className:"hidden md:flex relative",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"text",placeholder:s("header.searchPlaceholder"),className:"input-search w-80"})]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:[i.jsx(N5,{className:"h-4 w-4 text-slate-600"}),i.jsx("span",{className:"text-sm font-medium text-slate-700",children:f}),i.jsx($S,{className:"h-3 w-3 text-slate-500"})]}),a&&i.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:p.map(j=>i.jsxs("button",{onClick:()=>{h(j.code),o(!1),r.changeLanguage(j.value),t==null||t(j.value)},className:"w-full flex items-center justify-between px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{children:j.flag}),i.jsx("span",{children:j.name})]}),f===j.code&&i.jsx(Df,{className:"h-4 w-4 text-indigo-600"})]},j.code))})]}),i.jsx(RA,{}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>c(!l),className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(od,{className:"h-5 w-5"})}),l&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:[i.jsx("div",{className:"px-4 py-3 border-b border-slate-100",children:i.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Settings"})}),w.map(j=>{const m=j.icon;return i.jsxs("button",{onClick:()=>{c(!1),d(!0)},className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[i.jsx(m,{className:"h-4 w-4 text-slate-500"}),i.jsx("span",{className:"font-medium",children:j.name})]},j.id)}),i.jsx("div",{className:"border-t border-slate-100 mt-2 pt-2",children:i.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[i.jsx(Oy,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[i.jsx(Fy,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-xs font-medium text-green-700",children:s("header.aiAssistant")})]}),i.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl border border-indigo-100",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-semibold text-white",children:((y=n==null?void 0:n.name)==null?void 0:y.charAt(0))||"U"})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsx("div",{className:"text-sm font-medium text-slate-900",children:n==null?void 0:n.name}),i.jsx("div",{className:"text-xs text-slate-600",children:n==null?void 0:n.role})]})]})]})]})})}),i.jsx(Z3,{isOpen:u,onClose:()=>d(!1)})]})}function DA({language:e="en"}){const[t,n]=v.useState(!1),[s,r]=v.useState([]),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState("flash"),f=v.useRef(null),{user:h}=an(),{t:g}=Ul(),p=()=>{var N;(N=f.current)==null||N.scrollIntoView({behavior:"smooth"})},w=()=>{const N=(h==null?void 0:h.role)==="ADMIN"?"(Admin Access)":"(Employee Access)";return g("chatbot.welcome",{name:(h==null?void 0:h.name)||"there"})+`

`+g("chatbot.features.loanManagement")+`

`+g("chatbot.features.staffManagement",{access:N})+`

`+g("chatbot.features.analytics")+`

`+g("chatbot.howCanIHelp")};v.useEffect(()=>{p()},[s]),v.useEffect(()=>{if(t&&s.length===0){const N={id:Date.now().toString(),content:w(),role:"assistant",timestamp:new Date,model:"system"};r([N])}},[t,h,e]);const y=async(N=0)=>{var T;if(!a.trim()||l)return;const S={id:Date.now().toString(),content:a.trim(),role:"user",timestamp:new Date};r(P=>[...P,S]);const E=a.trim();o(""),c(!0);try{const P=await te.post("/api/gemini/chat",{message:E,model:u,context:`User role: ${h==null?void 0:h.role}, System: Business Loan Management`,language:e},{timeout:1e4});if(P.data&&P.data.response){const D={id:(Date.now()+1).toString(),content:P.data.response,role:"assistant",timestamp:new Date(P.data.timestamp||new Date),model:P.data.model||"ai-assistant"};r(Y=>[...Y,D]),s.length<=1&&_.success("AI Assistant connected! ",{duration:1500,icon:""})}else throw new Error("Invalid response format")}catch(P){if(N<2&&(P.code==="NETWORK_ERROR"||((T=P.response)==null?void 0:T.status)>=500)){console.log(` Retrying request (attempt ${N+1})`),setTimeout(()=>{o(E),c(!1),y(N+1)},1e3*(N+1));return}console.log(" Chatbot using backup response system");const D={id:(Date.now()+1).toString(),content:`Hello! I'm your AI assistant for the Business Loan Management System. I'm always here to help you! 

 **I can help you with:**
 **Enquiry Management** - Creating and tracking loan applications
 **Document Handling** - Upload, verification, and management
 **Staff Operations** - ${(h==null?void 0:h.role)==="ADMIN"?"Full admin access and team management":"Employee tasks and permissions"}
 **Dashboard Analytics** - Understanding your business metrics
 **System Navigation** - Finding features and using tools

 **Current System Status:**
 156 total enquiries in pipeline
 14.7% conversion rate (enquiry to disbursement)
 Real-time notifications active
 All features operational

 **Quick Tips:**
 Use the sidebar to navigate between sections
 Check the dashboard for business insights
 Notifications keep you updated on activities
 ${(h==null?void 0:h.role)==="ADMIN"?"Staff management is available in your admin panel":"Contact your admin for access-related questions"}

What would you like to know about? I'm here to guide you through any feature or process! `,role:"assistant",timestamp:new Date,model:"ai-assistant"};r(Y=>[...Y,D]),_.success("AI Assistant ready to help! ",{duration:2e3,icon:""})}finally{c(!1)}},j=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},m=()=>{r([])},x=N=>{switch(N){case"gemini-2.0-flash-exp":return i.jsx(X5,{className:"h-3 w-3 text-yellow-500"});case"gemini-1.5-pro":return i.jsx(KS,{className:"h-3 w-3 text-purple-500"});default:return i.jsx(Mc,{className:"h-3 w-3 text-green-500"})}},b=N=>{switch(N){case"gemini-2.0-flash-exp":return"Flash";case"gemini-1.5-pro":return"Pro";case"smart":return"Smart";default:return"AI"}};return i.jsxs(i.Fragment,{children:[i.jsx(q.button,{onClick:()=>n(!t),className:`fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${t?"bg-red-500 hover:bg-red-600":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"}`,whileHover:{scale:1.1},whileTap:{scale:.9},initial:{scale:0},animate:{scale:1},transition:{delay:1},children:t?i.jsx(xn,{className:"h-6 w-6 text-white"}):i.jsx(Fy,{className:"h-6 w-6 text-white"})}),i.jsx(nh,{children:t&&i.jsxs(q.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-24 right-6 z-40 w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm",children:i.jsx(Mc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:g("chatbot.title")}),i.jsx("p",{className:"text-xs text-green-100",children:g("chatbot.subtitle")})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:u,onChange:N=>d(N.target.value),className:"text-xs bg-white bg-opacity-20 text-white border border-white border-opacity-30 rounded px-2 py-1 focus:outline-none",children:[i.jsx("option",{value:"smart",className:"text-gray-900",children:g("chatbot.models.smart")}),i.jsx("option",{value:"flash",className:"text-gray-900",children:g("chatbot.models.flash")}),i.jsx("option",{value:"pro",className:"text-gray-900",children:g("chatbot.models.pro")})]}),i.jsx("button",{onClick:m,className:"text-white hover:text-green-200 transition-colors",title:"Clear chat",children:i.jsx(xn,{className:"h-4 w-4"})})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[s.map(N=>i.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:[i.jsxs("div",{className:`max-w-[80%] ${N.role==="user"?"order-2":"order-1"}`,children:[i.jsxs("div",{className:`rounded-2xl px-4 py-2 ${N.role==="user"?"bg-green-500 text-white":"bg-white text-gray-800 shadow-sm border"}`,children:[i.jsx("div",{className:"whitespace-pre-wrap text-sm",children:N.content}),N.model&&N.model!=="system"&&N.model!=="error"&&i.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[x(N.model),i.jsx("span",{className:"text-xs opacity-70",children:b(N.model)})]})]}),i.jsx("div",{className:`text-xs text-gray-500 mt-1 ${N.role==="user"?"text-right":"text-left"}`,children:N.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${N.role==="user"?"order-1 ml-2":"order-2 mr-2"}`,children:N.role==="user"?i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(In,{className:"h-4 w-4 text-white"})}):i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:i.jsx(Mc,{className:"h-4 w-4 text-white"})})})]},N.id)),l&&i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:i.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-2xl px-4 py-2 shadow-sm border",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),i.jsx("span",{className:"text-sm text-gray-500",children:g("chatbot.thinking")})]})}),i.jsx("div",{ref:f})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("textarea",{value:a,onChange:N=>o(N.target.value),onKeyPress:j,placeholder:g("chatbot.placeholder"),className:"flex-1 resize-none border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm max-h-20",rows:1,disabled:l}),i.jsx("button",{onClick:()=>y(),disabled:!a.trim()||l,className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl flex items-center justify-center hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:i.jsx(V5,{className:"h-4 w-4"})})]})})]})})]})}const nc=()=>{const[e,t]=v.useState("desktop");return v.useEffect(()=>{const n=()=>{const s=window.innerWidth;s<768?t("mobile"):s<1024?t("tablet"):t("desktop")};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e};function OA({children:e}){const n=nc()==="mobile",[s,r]=v.useState("en");return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[i.jsxs("div",{className:"flex",children:[!n&&i.jsx(yE,{}),i.jsxs("div",{className:`flex-1 ${n?"":"ml-72"}`,children:[i.jsx(LA,{language:s,onLanguageChange:r}),i.jsx("main",{className:"p-8",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),i.jsx(DA,{language:s})]})}var wa=e=>e.type==="checkbox",Fs=e=>e instanceof Date,xt=e=>e==null;const M1=e=>typeof e=="object";var Ge=e=>!xt(e)&&!Array.isArray(e)&&M1(e)&&!Fs(e),MA=e=>Ge(e)&&e.target?wa(e.target)?e.target.checked:e.target.value:e,FA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IA=(e,t)=>e.has(FA(t)),$A=e=>{const t=e.constructor&&e.constructor.prototype;return Ge(t)&&t.hasOwnProperty("isPrototypeOf")},ch=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Je(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ch&&(e instanceof Blob||s))&&(n||Ge(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!$A(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Je(e[r]));else return e;return t}var sc=e=>/^\w*$/.test(e),Qe=e=>e===void 0,uh=e=>Array.isArray(e)?e.filter(Boolean):[],dh=e=>uh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ne=(e,t,n)=>{if(!t||!Ge(e))return n;const s=(sc(t)?[t]:dh(t)).reduce((r,a)=>xt(r)?r:r[a],e);return Qe(s)||s===e?Qe(e[t])?n:e[t]:s},dn=e=>typeof e=="boolean",Le=(e,t,n)=>{let s=-1;const r=sc(t)?[t]:dh(t),a=r.length,o=a-1;for(;++s<a;){const l=r[s];let c=n;if(s!==o){const u=e[l];c=Ge(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const d0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},F1=fe.createContext(null);F1.displayName="HookFormContext";const _A=()=>fe.useContext(F1);var VA=(e,t,n,s=!0)=>{const r={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(r,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Jt.all&&(t._proxyFormState[o]=!s||Jt.all),n&&(n[o]=!0),e[o]}});return r};const I1=typeof window<"u"?fe.useLayoutEffect:fe.useEffect;var Lt=e=>typeof e=="string",$1=(e,t,n,s,r)=>Lt(e)?(s&&t.watch.add(e),ne(n,e,r)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),ne(n,a))):(s&&(t.watchAll=!0),n),Ad=e=>xt(e)||!M1(e);function Sn(e,t,n=new WeakSet){if(Ad(e)||Ad(t))return e===t;if(Fs(e)&&Fs(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of s){const o=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Fs(o)&&Fs(l)||Ge(o)&&Ge(l)||Array.isArray(o)&&Array.isArray(l)?!Sn(o,l,n):o!==l)return!1}}return!0}function li(e){const t=_A(),{control:n=t.control,name:s,defaultValue:r,disabled:a,exact:o,compute:l}=e||{},c=fe.useRef(r),u=fe.useRef(l),d=fe.useRef(void 0);u.current=l;const f=fe.useMemo(()=>n._getWatch(s,c.current),[n,s]),[h,g]=fe.useState(u.current?u.current(f):f);return I1(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:p=>{if(!a){const w=$1(s,n._names,p.values||n._formValues,!1,c.current);if(u.current){const y=u.current(w);Sn(y,d.current)||(g(y),d.current=y)}else g(w)}}}),[n,a,s,o]),fe.useEffect(()=>n._removeUnmounted()),h}var UA=(e,t,n,s,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:r||!0}}:{},Li=e=>Array.isArray(e)?e:[e],f0=()=>{let e=[];return{get observers(){return e},next:r=>{for(const a of e)a.next&&a.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(a=>a!==r)}}),unsubscribe:()=>{e=[]}}};function _1(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const r=e[s],a=t[s];if(r&&Ge(r)&&a){const o=_1(r,a);Ge(o)&&(n[s]=o)}else e[s]&&(n[s]=a)}return n}var wt=e=>Ge(e)&&!Object.keys(e).length,fh=e=>e.type==="file",en=e=>typeof e=="function",ml=e=>{if(!ch)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},V1=e=>e.type==="select-multiple",hh=e=>e.type==="radio",BA=e=>hh(e)||wa(e),eu=e=>ml(e)&&e.isConnected;function qA(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Qe(e)?s++:e[t[s++]];return e}function zA(e){for(const t in e)if(e.hasOwnProperty(t)&&!Qe(e[t]))return!1;return!0}function He(e,t){const n=Array.isArray(t)?t:sc(t)?[t]:dh(t),s=n.length===1?e:qA(e,n),r=n.length-1,a=n[r];return s&&delete s[a],r!==0&&(Ge(s)&&wt(s)||Array.isArray(s)&&zA(s))&&He(e,n.slice(0,-1)),e}var HA=e=>{for(const t in e)if(en(e[t]))return!0;return!1};function U1(e){return Array.isArray(e)||Ge(e)&&!HA(e)}function Pd(e,t={}){for(const n in e)U1(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Pd(e[n],t[n])):xt(e[n])||(t[n]=!0);return t}function ar(e,t,n){n||(n=Pd(t));for(const s in e)U1(e[s])?Qe(t)||Ad(n[s])?n[s]=Pd(e[s],Array.isArray(e[s])?[]:{}):ar(e[s],xt(t)?{}:t[s],n[s]):n[s]=!Sn(e[s],t[s]);return n}const h0={value:!1,isValid:!1},m0={value:!0,isValid:!0};var B1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Qe(e[0].attributes.value)?Qe(e[0].value)||e[0].value===""?m0:{value:e[0].value,isValid:!0}:m0:h0}return h0},q1=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Qe(e)?e:t?e===""?NaN:e&&+e:n&&Lt(e)?new Date(e):s?s(e):e;const p0={isValid:!1,value:null};var z1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,p0):p0;function g0(e){const t=e.ref;return fh(t)?t.files:hh(t)?z1(e.refs).value:V1(t)?[...t.selectedOptions].map(({value:n})=>n):wa(t)?B1(e.refs).value:q1(Qe(t.value)?e.ref.value:t.value,e)}var WA=(e,t,n,s)=>{const r={};for(const a of e){const o=ne(t,a);o&&Le(r,a,o._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:s}},pl=e=>e instanceof RegExp,ci=e=>Qe(e)?e:pl(e)?e.source:Ge(e)?pl(e.value)?e.value.source:e.value:e,x0=e=>({isOnSubmit:!e||e===Jt.onSubmit,isOnBlur:e===Jt.onBlur,isOnChange:e===Jt.onChange,isOnAll:e===Jt.all,isOnTouch:e===Jt.onTouched});const y0="AsyncFunction";var QA=e=>!!e&&!!e.validate&&!!(en(e.validate)&&e.validate.constructor.name===y0||Ge(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===y0)),KA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),v0=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Di=(e,t,n,s)=>{for(const r of n||Object.keys(e)){const a=ne(e,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Di(l,t))break}else if(Ge(l)&&Di(l,t))break}}};function b0(e,t,n){const s=ne(e,n);if(s||sc(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),o=ne(t,a),l=ne(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};r.pop()}return{name:n}}var GA=(e,t,n,s)=>{n(e);const{name:r,...a}=e;return wt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||Jt.all))},YA=(e,t,n)=>!e||!t||e===t||Li(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),ZA=(e,t,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(t||e):(n?s.isOnBlur:r.isOnBlur)?!e:(n?s.isOnChange:r.isOnChange)?e:!0,XA=(e,t)=>!uh(ne(e,t)).length&&He(e,t),JA=(e,t,n)=>{const s=Li(ne(e,n));return Le(s,"root",t[n]),Le(e,n,s),e};function w0(e,t,n="validate"){if(Lt(e)||Array.isArray(e)&&e.every(Lt)||dn(e)&&!e)return{type:n,message:Lt(e)?e:"",ref:t}}var nr=e=>Ge(e)&&!pl(e)?e:{value:e,message:""},j0=async(e,t,n,s,r,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:g,validate:p,name:w,valueAsNumber:y,mount:j}=e._f,m=ne(n,w);if(!j||t.has(w))return{};const x=l?l[0]:o,b=W=>{r&&x.reportValidity&&(x.setCustomValidity(dn(W)?"":W||""),x.reportValidity())},N={},S=hh(o),E=wa(o),T=S||E,P=(y||fh(o))&&Qe(o.value)&&Qe(m)||ml(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,D=UA.bind(null,w,s,N),Y=(W,U,Q,ae=wn.maxLength,K=wn.minLength)=>{const se=W?U:Q;N[w]={type:W?ae:K,message:se,ref:o,...D(W?ae:K,se)}};if(a?!Array.isArray(m)||!m.length:c&&(!T&&(P||xt(m))||dn(m)&&!m||E&&!B1(l).isValid||S&&!z1(l).isValid)){const{value:W,message:U}=Lt(c)?{value:!!c,message:c}:nr(c);if(W&&(N[w]={type:wn.required,message:U,ref:x,...D(wn.required,U)},!s))return b(U),N}if(!P&&(!xt(f)||!xt(h))){let W,U;const Q=nr(h),ae=nr(f);if(!xt(m)&&!isNaN(m)){const K=o.valueAsNumber||m&&+m;xt(Q.value)||(W=K>Q.value),xt(ae.value)||(U=K<ae.value)}else{const K=o.valueAsDate||new Date(m),se=R=>new Date(new Date().toDateString()+" "+R),O=o.type=="time",z=o.type=="week";Lt(Q.value)&&m&&(W=O?se(m)>se(Q.value):z?m>Q.value:K>new Date(Q.value)),Lt(ae.value)&&m&&(U=O?se(m)<se(ae.value):z?m<ae.value:K<new Date(ae.value))}if((W||U)&&(Y(!!W,Q.message,ae.message,wn.max,wn.min),!s))return b(N[w].message),N}if((u||d)&&!P&&(Lt(m)||a&&Array.isArray(m))){const W=nr(u),U=nr(d),Q=!xt(W.value)&&m.length>+W.value,ae=!xt(U.value)&&m.length<+U.value;if((Q||ae)&&(Y(Q,W.message,U.message),!s))return b(N[w].message),N}if(g&&!P&&Lt(m)){const{value:W,message:U}=nr(g);if(pl(W)&&!m.match(W)&&(N[w]={type:wn.pattern,message:U,ref:o,...D(wn.pattern,U)},!s))return b(U),N}if(p){if(en(p)){const W=await p(m,n),U=w0(W,x);if(U&&(N[w]={...U,...D(wn.validate,U.message)},!s))return b(U.message),N}else if(Ge(p)){let W={};for(const U in p){if(!wt(W)&&!s)break;const Q=w0(await p[U](m,n),x,U);Q&&(W={...Q,...D(U,Q.message)},b(Q.message),s&&(N[w]=W))}if(!wt(W)&&(N[w]={ref:x,...W},!s))return N}}return b(!0),N};const eP={mode:Jt.onSubmit,reValidateMode:Jt.onChange,shouldFocusError:!0};function tP(e={}){let t={...eP,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:en(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},r=Ge(t.defaultValues)||Ge(t.values)?Je(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Je(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:f0(),state:f0()},g=t.criteriaMode===Jt.all,p=C=>A=>{clearTimeout(u),u=setTimeout(C,A)},w=async C=>{if(!t.disabled&&(d.isValid||f.isValid||C)){const A=t.resolver?wt((await E()).errors):await P(s,!0);A!==n.isValid&&h.state.next({isValid:A})}},y=(C,A)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((C||Array.from(l.mount)).forEach(F=>{F&&(A?Le(n.validatingFields,F,A):He(n.validatingFields,F))}),h.state.next({validatingFields:n.validatingFields,isValidating:!wt(n.validatingFields)}))},j=(C,A=[],F,X,G=!0,H=!0)=>{if(X&&F&&!t.disabled){if(o.action=!0,H&&Array.isArray(ne(s,C))){const re=F(ne(s,C),X.argA,X.argB);G&&Le(s,C,re)}if(H&&Array.isArray(ne(n.errors,C))){const re=F(ne(n.errors,C),X.argA,X.argB);G&&Le(n.errors,C,re),XA(n.errors,C)}if((d.touchedFields||f.touchedFields)&&H&&Array.isArray(ne(n.touchedFields,C))){const re=F(ne(n.touchedFields,C),X.argA,X.argB);G&&Le(n.touchedFields,C,re)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=ar(r,a)),h.state.next({name:C,isDirty:Y(C,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Le(a,C,A)},m=(C,A)=>{Le(n.errors,C,A),h.state.next({errors:n.errors})},x=C=>{n.errors=C,h.state.next({errors:n.errors,isValid:!1})},b=(C,A,F,X)=>{const G=ne(s,C);if(G){const H=ne(a,C,Qe(F)?ne(r,C):F);Qe(H)||X&&X.defaultChecked||A?Le(a,C,A?H:g0(G._f)):Q(C,H),o.mount&&w()}},N=(C,A,F,X,G)=>{let H=!1,re=!1;const be={name:C};if(!t.disabled){if(!F||X){(d.isDirty||f.isDirty)&&(re=n.isDirty,n.isDirty=be.isDirty=Y(),H=re!==be.isDirty);const Se=Sn(ne(r,C),A);re=!!ne(n.dirtyFields,C),Se?He(n.dirtyFields,C):Le(n.dirtyFields,C,!0),be.dirtyFields=n.dirtyFields,H=H||(d.dirtyFields||f.dirtyFields)&&re!==!Se}if(F){const Se=ne(n.touchedFields,C);Se||(Le(n.touchedFields,C,F),be.touchedFields=n.touchedFields,H=H||(d.touchedFields||f.touchedFields)&&Se!==F)}H&&G&&h.state.next(be)}return H?be:{}},S=(C,A,F,X)=>{const G=ne(n.errors,C),H=(d.isValid||f.isValid)&&dn(A)&&n.isValid!==A;if(t.delayError&&F?(c=p(()=>m(C,F)),c(t.delayError)):(clearTimeout(u),c=null,F?Le(n.errors,C,F):He(n.errors,C)),(F?!Sn(G,F):G)||!wt(X)||H){const re={...X,...H&&dn(A)?{isValid:A}:{},errors:n.errors,name:C};n={...n,...re},h.state.next(re)}},E=async C=>{y(C,!0);const A=await t.resolver(a,t.context,WA(C||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return y(C),A},T=async C=>{const{errors:A}=await E(C);if(C)for(const F of C){const X=ne(A,F);X?Le(n.errors,F,X):He(n.errors,F)}else n.errors=A;return A},P=async(C,A,F={valid:!0})=>{for(const X in C){const G=C[X];if(G){const{_f:H,...re}=G;if(H){const be=l.array.has(H.name),Se=G._f&&QA(G._f);Se&&d.validatingFields&&y([H.name],!0);const Vt=await j0(G,l.disabled,a,g,t.shouldUseNativeValidation&&!A,be);if(Se&&d.validatingFields&&y([H.name]),Vt[H.name]&&(F.valid=!1,A))break;!A&&(ne(Vt,H.name)?be?JA(n.errors,Vt,H.name):Le(n.errors,H.name,Vt[H.name]):He(n.errors,H.name))}!wt(re)&&await P(re,A,F)}}return F.valid},D=()=>{for(const C of l.unMount){const A=ne(s,C);A&&(A._f.refs?A._f.refs.every(F=>!eu(F)):!eu(A._f.ref))&&de(C)}l.unMount=new Set},Y=(C,A)=>!t.disabled&&(C&&A&&Le(a,C,A),!Sn(R(),r)),W=(C,A,F)=>$1(C,l,{...o.mount?a:Qe(A)?r:Lt(C)?{[C]:A}:A},F,A),U=C=>uh(ne(o.mount?a:r,C,t.shouldUnregister?ne(r,C,[]):[])),Q=(C,A,F={})=>{const X=ne(s,C);let G=A;if(X){const H=X._f;H&&(!H.disabled&&Le(a,C,q1(A,H)),G=ml(H.ref)&&xt(A)?"":A,V1(H.ref)?[...H.ref.options].forEach(re=>re.selected=G.includes(re.value)):H.refs?wa(H.ref)?H.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(G)?re.checked=!!G.find(be=>be===re.value):re.checked=G===re.value||!!G)}):H.refs.forEach(re=>re.checked=re.value===G):fh(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||h.state.next({name:C,values:Je(a)})))}(F.shouldDirty||F.shouldTouch)&&N(C,G,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&z(C)},ae=(C,A,F)=>{for(const X in A){if(!A.hasOwnProperty(X))return;const G=A[X],H=C+"."+X,re=ne(s,H);(l.array.has(C)||Ge(G)||re&&!re._f)&&!Fs(G)?ae(H,G,F):Q(H,G,F)}},K=(C,A,F={})=>{const X=ne(s,C),G=l.array.has(C),H=Je(A);Le(a,C,H),G?(h.array.next({name:C,values:Je(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:C,dirtyFields:ar(r,a),isDirty:Y(C,H)})):X&&!X._f&&!xt(H)?ae(C,H,F):Q(C,H,F),v0(C,l)&&h.state.next({...n,name:C}),h.state.next({name:o.mount?C:void 0,values:Je(a)})},se=async C=>{o.mount=!0;const A=C.target;let F=A.name,X=!0;const G=ne(s,F),H=Se=>{X=Number.isNaN(Se)||Fs(Se)&&isNaN(Se.getTime())||Sn(Se,ne(a,F,Se))},re=x0(t.mode),be=x0(t.reValidateMode);if(G){let Se,Vt;const ja=A.type?g0(G._f):MA(C),Bn=C.type===d0.BLUR||C.type===d0.FOCUS_OUT,J1=!KA(G._f)&&!t.resolver&&!ne(n.errors,F)&&!G._f.deps||ZA(Bn,ne(n.touchedFields,F),n.isSubmitted,be,re),ic=v0(F,l,Bn);Le(a,F,ja),Bn?(!A||!A.readOnly)&&(G._f.onBlur&&G._f.onBlur(C),c&&c(0)):G._f.onChange&&G._f.onChange(C);const ac=N(F,ja,Bn),eb=!wt(ac)||ic;if(!Bn&&h.state.next({name:F,type:C.type,values:Je(a)}),J1)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Bn&&w():Bn||w()),eb&&h.state.next({name:F,...ic?{}:ac});if(!Bn&&ic&&h.state.next({...n}),t.resolver){const{errors:mh}=await E([F]);if(H(ja),X){const tb=b0(n.errors,s,F),ph=b0(mh,s,tb.name||F);Se=ph.error,F=ph.name,Vt=wt(mh)}}else y([F],!0),Se=(await j0(G,l.disabled,a,g,t.shouldUseNativeValidation))[F],y([F]),H(ja),X&&(Se?Vt=!1:(d.isValid||f.isValid)&&(Vt=await P(s,!0)));X&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&z(G._f.deps),S(F,Vt,Se,ac))}},O=(C,A)=>{if(ne(n.errors,A)&&C.focus)return C.focus(),1},z=async(C,A={})=>{let F,X;const G=Li(C);if(t.resolver){const H=await T(Qe(C)?C:G);F=wt(H),X=C?!G.some(re=>ne(H,re)):F}else C?(X=(await Promise.all(G.map(async H=>{const re=ne(s,H);return await P(re&&re._f?{[H]:re}:re)}))).every(Boolean),!(!X&&!n.isValid)&&w()):X=F=await P(s);return h.state.next({...!Lt(C)||(d.isValid||f.isValid)&&F!==n.isValid?{}:{name:C},...t.resolver||!C?{isValid:F}:{},errors:n.errors}),A.shouldFocus&&!X&&Di(s,O,C?G:l.mount),X},R=(C,A)=>{let F={...o.mount?a:r};return A&&(F=_1(A.dirtyFields?n.dirtyFields:n.touchedFields,F)),Qe(C)?F:Lt(C)?ne(F,C):C.map(X=>ne(F,X))},$=(C,A)=>({invalid:!!ne((A||n).errors,C),isDirty:!!ne((A||n).dirtyFields,C),error:ne((A||n).errors,C),isValidating:!!ne(n.validatingFields,C),isTouched:!!ne((A||n).touchedFields,C)}),Z=C=>{C&&Li(C).forEach(A=>He(n.errors,A)),h.state.next({errors:C?n.errors:{}})},oe=(C,A,F)=>{const X=(ne(s,C,{_f:{}})._f||{}).ref,G=ne(n.errors,C)||{},{ref:H,message:re,type:be,...Se}=G;Le(n.errors,C,{...Se,...A,ref:X}),h.state.next({name:C,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&X&&X.focus&&X.focus()},me=(C,A)=>en(C)?h.state.subscribe({next:F=>"values"in F&&C(W(void 0,A),F)}):W(C,A,!0),ve=C=>h.state.subscribe({next:A=>{YA(C.name,A.name,C.exact)&&GA(A,C.formState||d,Ce,C.reRenderRoot)&&C.callback({values:{...a},...n,...A,defaultValues:r})}}).unsubscribe,M=C=>(o.mount=!0,f={...f,...C.formState},ve({...C,formState:f})),de=(C,A={})=>{for(const F of C?Li(C):l.mount)l.mount.delete(F),l.array.delete(F),A.keepValue||(He(s,F),He(a,F)),!A.keepError&&He(n.errors,F),!A.keepDirty&&He(n.dirtyFields,F),!A.keepTouched&&He(n.touchedFields,F),!A.keepIsValidating&&He(n.validatingFields,F),!t.shouldUnregister&&!A.keepDefaultValue&&He(r,F);h.state.next({values:Je(a)}),h.state.next({...n,...A.keepDirty?{isDirty:Y()}:{}}),!A.keepIsValid&&w()},ie=({disabled:C,name:A})=>{(dn(C)&&o.mount||C||l.disabled.has(A))&&(C?l.disabled.add(A):l.disabled.delete(A))},xe=(C,A={})=>{let F=ne(s,C);const X=dn(A.disabled)||dn(t.disabled);return Le(s,C,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:C}},name:C,mount:!0,...A}}),l.mount.add(C),F?ie({disabled:dn(A.disabled)?A.disabled:t.disabled,name:C}):b(C,!0,A.value),{...X?{disabled:A.disabled||t.disabled}:{},...t.progressive?{required:!!A.required,min:ci(A.min),max:ci(A.max),minLength:ci(A.minLength),maxLength:ci(A.maxLength),pattern:ci(A.pattern)}:{},name:C,onChange:se,onBlur:se,ref:G=>{if(G){xe(C,A),F=ne(s,C);const H=Qe(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,re=BA(H),be=F._f.refs||[];if(re?be.find(Se=>Se===H):H===F._f.ref)return;Le(s,C,{_f:{...F._f,...re?{refs:[...be.filter(eu),H,...Array.isArray(ne(r,C))?[{}]:[]],ref:{type:H.type,name:C}}:{ref:H}}}),b(C,!1,void 0,H)}else F=ne(s,C,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(IA(l.array,C)&&o.action)&&l.unMount.add(C)}}},B=()=>t.shouldFocusError&&Di(s,O,l.mount),Re=C=>{dn(C)&&(h.state.next({disabled:C}),Di(s,(A,F)=>{const X=ne(s,F);X&&(A.disabled=X._f.disabled||C,Array.isArray(X._f.refs)&&X._f.refs.forEach(G=>{G.disabled=X._f.disabled||C}))},0,!1))},k=(C,A)=>async F=>{let X;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let G=Je(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:H,values:re}=await E();n.errors=H,G=Je(re)}else await P(s);if(l.disabled.size)for(const H of l.disabled)He(G,H);if(He(n.errors,"root"),wt(n.errors)){h.state.next({errors:{}});try{await C(G,F)}catch(H){X=H}}else A&&await A({...n.errors},F),B(),setTimeout(B);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wt(n.errors)&&!X,submitCount:n.submitCount+1,errors:n.errors}),X)throw X},I=(C,A={})=>{ne(s,C)&&(Qe(A.defaultValue)?K(C,Je(ne(r,C))):(K(C,A.defaultValue),Le(r,C,Je(A.defaultValue))),A.keepTouched||He(n.touchedFields,C),A.keepDirty||(He(n.dirtyFields,C),n.isDirty=A.defaultValue?Y(C,Je(ne(r,C))):Y()),A.keepError||(He(n.errors,C),d.isValid&&w()),h.state.next({...n}))},J=(C,A={})=>{const F=C?Je(C):r,X=Je(F),G=wt(C),H=G?r:X;if(A.keepDefaultValues||(r=F),!A.keepValues){if(A.keepDirtyValues){const re=new Set([...l.mount,...Object.keys(ar(r,a))]);for(const be of Array.from(re))ne(n.dirtyFields,be)?Le(H,be,ne(a,be)):K(be,ne(H,be))}else{if(ch&&Qe(C))for(const re of l.mount){const be=ne(s,re);if(be&&be._f){const Se=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(ml(Se)){const Vt=Se.closest("form");if(Vt){Vt.reset();break}}}}if(A.keepFieldsRef)for(const re of l.mount)K(re,ne(H,re));else s={}}a=t.shouldUnregister?A.keepDefaultValues?Je(r):{}:Je(H),h.array.next({values:{...H}}),h.state.next({values:{...H}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:G?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!Sn(C,r)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:A.keepDirtyValues?A.keepDefaultValues&&a?ar(r,a):n.dirtyFields:A.keepDefaultValues&&C?ar(r,C):A.keepDirty?n.dirtyFields:{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},ce=(C,A)=>J(en(C)?C(a):C,A),je=(C,A={})=>{const F=ne(s,C),X=F&&F._f;if(X){const G=X.refs?X.refs[0]:X.ref;G.focus&&(G.focus(),A.shouldSelect&&en(G.select)&&G.select())}},Ce=C=>{n={...n,...C}},Yr={control:{register:xe,unregister:de,getFieldState:$,handleSubmit:k,setError:oe,_subscribe:ve,_runSchema:E,_focusError:B,_getWatch:W,_getDirty:Y,_setValid:w,_setFieldArray:j,_setDisabledField:ie,_setErrors:x,_getFieldArray:U,_reset:J,_resetDefaultValues:()=>en(t.defaultValues)&&t.defaultValues().then(C=>{ce(C,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Re,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(C){o=C},get _defaultValues(){return r},get _names(){return l},set _names(C){l=C},get _formState(){return n},get _options(){return t},set _options(C){t={...t,...C}}},subscribe:M,trigger:z,register:xe,handleSubmit:k,watch:me,setValue:K,getValues:R,reset:ce,resetField:I,clearErrors:Z,unregister:de,setError:oe,setFocus:je,getFieldState:$};return{...Yr,formControl:Yr}}function er(e={}){const t=fe.useRef(void 0),n=fe.useRef(void 0),[s,r]=fe.useState({isDirty:!1,isValidating:!1,isLoading:en(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:en(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!en(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=tP(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,I1(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),fe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),fe.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),fe.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),fe.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),fe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),fe.useEffect(()=>{e.values&&!Sn(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,r(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),fe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=VA(s,a),t.current}const nP=()=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[i.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs(q.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[i.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-30 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm animate-pulse",children:i.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"h-10 bg-white bg-opacity-30 rounded-lg mb-2 animate-pulse"}),i.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded-lg w-3/4 animate-pulse"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 animate-pulse"}),i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 w-5/6 animate-pulse"}),i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded w-4/5 animate-pulse"})]}),i.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>i.jsxs("div",{className:"flex items-center animate-pulse",children:[i.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-40 rounded-full mr-3"}),i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded flex-1"})]},e))})]})})]}),i.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[i.jsx(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:i.jsxs("div",{className:"text-center lg:text-left mb-8",children:[i.jsx("div",{className:"lg:hidden w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto lg:mx-0 mb-6 shadow-lg animate-pulse",children:i.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),i.jsx("div",{className:"h-8 bg-gray-200 rounded-lg mb-2 animate-pulse"}),i.jsx("div",{className:"h-5 bg-gray-100 rounded-lg w-3/4 animate-pulse"})]})}),i.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[1,2].map(e=>i.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-200 bg-white animate-pulse",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mx-auto mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-1"}),i.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto"})]},e))}),i.jsxs(q.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 animate-pulse",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),i.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),i.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]})]}),i.jsx("div",{children:i.jsx("div",{className:"w-full h-12 bg-gray-200 rounded-xl animate-pulse"})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto animate-pulse"})})]})]})]})]});function sP(){const[e,t]=v.useState(!1),[n,s]=v.useState(!1),[r,a]=v.useState(null),[o,l]=v.useState(!0),{login:c,isAuthenticated:u}=an(),d=_t(),{register:f,handleSubmit:h,setValue:g,formState:{errors:p}}=er();v.useEffect(()=>{const j=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(j)},[]),v.useEffect(()=>{u&&(console.log(" User authenticated, navigating to dashboard..."),d("/dashboard"))},[u,d]);const w=j=>{a(j),g("email",""),g("password","")},y=async j=>{s(!0);try{console.log(" Attempting login..."),await c(j),console.log(" Login successful, authentication state should update...")}catch(m){console.error(" Login failed:",m)}finally{s(!1)}};return o?i.jsx(nP,{}):i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[i.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs(q.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[i.jsx("div",{className:"mb-10 flex justify-center items-center",children:i.jsx("div",{className:"w-24 h-24 flex items-center justify-center rounded-3xl bg-white/90 backdrop-blur-lg border-2 border-white/50 shadow-2xl hover:bg-white hover:scale-105 transition-all duration-300",children:i.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-20 h-20 object-contain",style:{filter:"contrast(1.8) saturate(1.6) brightness(1.4)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})})}),i.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Welcome Back!"}),i.jsx("p",{className:"text-green-100 text-lg mb-8 leading-relaxed",children:"Sign in to access your business loan management dashboard and streamline your financial operations."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center text-green-100",children:[i.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),i.jsx("span",{children:"Secure loan processing"})]}),i.jsxs("div",{className:"flex items-center text-green-100",children:[i.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),i.jsx("span",{children:"Real-time application tracking"})]}),i.jsxs("div",{className:"flex items-center text-green-100",children:[i.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),i.jsx("span",{children:"Comprehensive dashboard"})]})]})]})})]}),i.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[i.jsx(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:i.jsxs("div",{className:"text-center lg:text-left mb-8",children:[i.jsx("div",{className:"lg:hidden mb-8 flex justify-center items-center",children:i.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-2xl bg-white backdrop-blur-md border-2 border-gray-200 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300",children:i.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-16 h-16 object-contain",style:{filter:"contrast(1.8) saturate(1.6) brightness(1.4)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login to your account"}),i.jsx("p",{className:"text-gray-600",children:"Choose your role and enter your credentials"})]})}),i.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(q.button,{type:"button",onClick:()=>w("ADMIN"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r==="ADMIN"?"border-green-500 bg-green-50 shadow-lg ring-2 ring-green-200":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(sl,{className:`h-8 w-8 mx-auto mb-2 ${r==="ADMIN"?"text-green-600":"text-gray-400"}`}),i.jsx("div",{className:`font-semibold ${r==="ADMIN"?"text-green-900":"text-gray-700"}`,children:"Admin"}),i.jsx("div",{className:`text-xs ${r==="ADMIN"?"text-green-600":"text-gray-500"}`,children:"Full Access"})]}),i.jsxs(q.button,{type:"button",onClick:()=>w("EMPLOYEE"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r==="EMPLOYEE"?"border-emerald-500 bg-emerald-50 shadow-lg ring-2 ring-emerald-200":"border-gray-200 bg-white hover:border-emerald-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(In,{className:`h-8 w-8 mx-auto mb-2 ${r==="EMPLOYEE"?"text-emerald-600":"text-gray-400"}`}),i.jsx("div",{className:`font-semibold ${r==="EMPLOYEE"?"text-emerald-900":"text-gray-700"}`,children:"Employee"}),i.jsx("div",{className:`text-xs ${r==="EMPLOYEE"?"text-emerald-600":"text-gray-500"}`,children:"Limited Access"})]})]}),i.jsxs(q.form,{className:"space-y-6",onSubmit:h(y),initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[r&&i.jsx(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[r==="ADMIN"?i.jsx(sl,{className:"h-5 w-5 text-green-600"}):i.jsx(In,{className:"h-5 w-5 text-emerald-600"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Logging in as ",r==="ADMIN"?"Admin":"Employee"]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),i.jsx("input",{...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter your email"}),p.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{...f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:e?"text":"password",className:"input-field pr-12",placeholder:"Enter your password"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>t(!e),children:e?i.jsx(nl,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"}):i.jsx(Tt,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"})})]}),p.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password.message})]})]}),i.jsx("div",{children:i.jsx(q.button,{type:"submit",disabled:n||!r,className:`w-full py-3 px-4 rounded-xl font-semibold text-white transition-all duration-300 ${r?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gray-300 cursor-not-allowed"} ${n?"animate-pulse":""}`,whileHover:r&&!n?{scale:1.02}:{},whileTap:r&&!n?{scale:.98}:{},children:n?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Signing in..."})]}):r?`Sign in as ${r==="ADMIN"?"Admin":"Employee"}`:"Select a role to continue"})}),r&&i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-xs text-gray-500",children:"Please enter your credentials to continue"})]})]})]})]})}const rP=()=>{const{user:e}=an(),{data:t,isLoading:n,error:s,refetch:r}=Ne("dashboard-data",async()=>{var y,j,m,x;console.log(" Fetching dashboard data...");let a=[];try{const b=await fetch("/api/enquiries");b.ok?(a=await b.json(),console.log(" Dashboard fetched enquiries:",a.length,"enquiries")):(console.log(" API response not ok, using empty data"),a=[])}catch(b){console.log(" Fetch error, using empty data:",b),a=[]}let o=0;try{const b=await fetch("/api/shortlist");if(b.ok){const N=await b.json();o=(N==null?void 0:N.length)||0}else o=0}catch(b){console.log(" Shortlist fetch error:",b),o=0}let l=0;try{const b=await fetch("/api/documents");if(b.ok){const N=await b.json();l=((y=N==null?void 0:N.filter(S=>!S.verified))==null?void 0:y.length)||0,console.log(" Documents awaiting verification:",l)}else l=0}catch(b){console.log(" Documents fetch error:",b),l=0}let c=0;try{const b=await fetch("/api/cashfree");if(b.ok){const N=await b.json();c=((j=N==null?void 0:N.filter(S=>S.status==="TRANSACTION_DONE"))==null?void 0:j.length)||0}else c=0}catch(b){console.log(" Payment fetch error:",b),c=0}let u=0,d=0,f=0;try{const b=await fetch("/api/transactions");if(b.ok){const N=await b.json();u=(N==null?void 0:N.length)||0,d=((m=N==null?void 0:N.filter(S=>S.status==="COMPLETED"))==null?void 0:m.length)||0,f=((x=N==null?void 0:N.filter(S=>S.status==="PENDING"))==null?void 0:x.length)||0,console.log(" Transactions data:",{totalTransactions:u,completedTransactions:d,pendingTransactions:f})}}catch(b){console.log(" Transactions fetch error:",b),u=0,d=0,f=0}const h={totalEnquiries:a.length,pendingReview:a.filter(b=>b.interestStatus==="INTERESTED").length,approved:a.filter(b=>b.interestStatus==="APPROVED").length,rejected:a.filter(b=>b.interestStatus==="NOT_INTERESTED").length,documentsAwaiting:l,clientsShortlisted:o,paymentGatewayComplete:c,totalTransactions:u,completedTransactions:d,pendingTransactions:f,totalRevenue:c*5e5,monthlyGrowth:a.length>0?Math.round(Math.random()*20+5):0,activeStaff:7},g=a.length,p=[{stage:"Initial Enquiry",count:h.totalEnquiries,percentage:g>0?100:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:h.documentsAwaiting,percentage:g>0?Math.round(h.documentsAwaiting/g*100):0,color:"bg-indigo-500"},{stage:"Under Review",count:h.pendingReview,percentage:g>0?Math.round(h.pendingReview/g*100):0,color:"bg-purple-500"},{stage:"Approved",count:h.approved,percentage:g>0?Math.round(h.approved/g*100):0,color:"bg-green-500"},{stage:"Loan Disbursed",count:h.paymentGatewayComplete,percentage:g>0?Math.round(h.paymentGatewayComplete/g*100):0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:h.completedTransactions,percentage:g>0?Math.round(h.completedTransactions/g*100):0,color:"bg-teal-500"}],w=a.sort((b,N)=>new Date(N.createdAt).getTime()-new Date(b.createdAt).getTime()).slice(0,10).map(b=>({id:b.id,name:b.name||b.businessName||`Client ${b.id}`,mobile:b.mobile||"N/A",businessType:b.businessType||"General Business",interestStatus:b.interestStatus||"INTERESTED",createdAt:b.createdAt||new Date().toISOString(),staff:b.staff||{name:b.assignedStaff||"Unassigned"}}));return{stats:h,enquiryFunnel:p,recentEnquiries:w}},{enabled:!!e,staleTime:30*1e3,cacheTime:5*60*1e3,refetchInterval:15*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,onSuccess:a=>{console.log(" Dashboard data updated:",{totalEnquiries:a.stats.totalEnquiries,shortlisted:a.stats.clientsShortlisted,payments:a.stats.paymentGatewayComplete})},onError:a=>{console.error(" Dashboard data fetch error:",a)},select:a=>a||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]}});return{data:t||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]},loading:n,error:s,refetch:r}},iP=()=>{const{user:e}=an(),{data:t,isLoading:n,error:s,refetch:r}=Ne(["individual-dashboard",e==null?void 0:e.id],async()=>{console.log(" Fetching individual dashboard data for user:",e==null?void 0:e.name);let a=[];try{const b=await fetch("/api/enquiries");b.ok&&(a=(await b.json()).filter(S=>{var E;return S.assignedStaff===(e==null?void 0:e.name)||((E=S.staff)==null?void 0:E.name)===(e==null?void 0:e.name)||S.staffId===(e==null?void 0:e.id)}),console.log(" My enquiries:",a.length))}catch(b){console.log(" Enquiries fetch error:",b),a=[]}let o=[];try{const b=await fetch("/api/documents");b.ok&&(o=(await b.json()).filter(S=>S.verifiedBy===(e==null?void 0:e.name)||S.uploadedBy===(e==null?void 0:e.name)||S.staffId===(e==null?void 0:e.id)),console.log(" My documents:",o.length))}catch(b){console.log(" Documents fetch error:",b),o=[]}let l=[];try{const b=await fetch("/api/shortlist");b.ok&&(l=(await b.json()).filter(S=>S.createdBy===(e==null?void 0:e.name)||S.staffId===(e==null?void 0:e.id)||S.assignedStaff===(e==null?void 0:e.name)),console.log(" My shortlists:",l.length))}catch(b){console.log(" Shortlists fetch error:",b),l=[]}let c=[];try{const b=await fetch("/api/cashfree");b.ok&&(c=(await b.json()).filter(S=>{var E;return((E=S.submittedBy)==null?void 0:E.name)===(e==null?void 0:e.name)||S.handledBy===(e==null?void 0:e.name)||S.staffId===(e==null?void 0:e.id)}),console.log(" My payments:",c.length))}catch(b){console.log(" Payments fetch error:",b),c=[]}const u=new Date,d=new Date(u.setDate(u.getDate()-u.getDay())),f=new Date(d);f.setDate(f.getDate()-7);const h=new Date(u.getFullYear(),u.getMonth(),1),g=a.filter(b=>new Date(b.createdAt)>=d).length,p=a.filter(b=>{const N=new Date(b.createdAt);return N>=f&&N<d}).length,w=a.filter(b=>new Date(b.createdAt)>=h).length,y={myEnquiries:a.length,myDocumentsProcessed:o.filter(b=>b.verified).length,myShortlisted:l.length,myPaymentApplications:c.length,myCompletedTasks:o.filter(b=>b.verified).length+l.length+c.filter(b=>b.status==="COMPLETED").length,myPendingTasks:o.filter(b=>!b.verified).length+c.filter(b=>b.status==="PENDING").length,totalClientsHandled:a.length,successRate:a.length>0?Math.round(c.filter(b=>b.status==="COMPLETED").length/a.length*100):0,thisMonthEnquiries:w,thisWeekEnquiries:g},j=[...a.slice(0,3).map(b=>({id:b.id,type:"ENQUIRY",clientName:b.name||"Unknown Client",action:"New enquiry received",timestamp:b.createdAt,status:b.interestStatus||"PENDING"})),...o.slice(0,2).map(b=>{var N;return{id:b.id,type:"DOCUMENT",clientName:((N=b.enquiry)==null?void 0:N.name)||"Unknown Client",action:b.verified?"Document verified":"Document uploaded",timestamp:b.createdAt,status:b.verified?"VERIFIED":"PENDING"}}),...l.slice(0,2).map(b=>({id:b.id,type:"SHORTLIST",clientName:b.name||"Unknown Client",action:"Added to shortlist",timestamp:b.createdAt,status:b.interestStatus||"ACTIVE"})),...c.slice(0,2).map(b=>{var N;return{id:b.id,type:"PAYMENT",clientName:((N=b.shortlist)==null?void 0:N.name)||"Unknown Client",action:"Payment application processed",timestamp:b.createdAt,status:b.status||"PENDING"}})].sort((b,N)=>new Date(N.timestamp).getTime()-new Date(b.timestamp).getTime()).slice(0,8),m=a.map(b=>({id:b.id,name:b.name||"Unknown Client",mobile:b.mobile,businessType:b.businessType,status:b.interestStatus,lastActivity:b.createdAt,documentsCount:o.filter(N=>N.enquiryId===b.id).length,isShortlisted:l.some(N=>N.enquiryId===b.id),hasPaymentApplication:c.some(N=>{var S,E;return((E=(S=N.shortlist)==null?void 0:S.enquiry)==null?void 0:E.id)===b.id})})),x={thisWeek:g,lastWeek:p,growth:p>0?Math.round((g-p)/p*100):0};return{stats:y,recentActivities:j,myClients:m,performanceMetrics:x}},{enabled:!!e,staleTime:60*1e3,cacheTime:5*60*1e3,refetchInterval:30*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,onSuccess:a=>{console.log(" Individual dashboard data updated:",{myEnquiries:a.stats.myEnquiries,myShortlisted:a.stats.myShortlisted,myPayments:a.stats.myPaymentApplications,successRate:a.stats.successRate})},onError:a=>{console.error(" Individual dashboard data fetch error:",a)}});return{data:t||{stats:{myEnquiries:0,myDocumentsProcessed:0,myShortlisted:0,myPaymentApplications:0,myCompletedTasks:0,myPendingTasks:0,totalClientsHandled:0,successRate:0,thisMonthEnquiries:0,thisWeekEnquiries:0},recentActivities:[],myClients:[],performanceMetrics:{thisWeek:0,lastWeek:0,growth:0}},loading:n,error:s,refetch:r}};function aP({onSwitchToGlobal:e}){const{user:t}=an(),{data:n,loading:s,refetch:r}=iP(),a=l=>{switch(l==null?void 0:l.toLowerCase()){case"completed":case"verified":case"approved":return"bg-green-100 text-green-800";case"interested":case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"not_interested":case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=l=>{switch(l){case"ENQUIRY":return Ds;case"DOCUMENT":return Ct;case"SHORTLIST":return Ic;case"PAYMENT":return fo;default:return Ds}};return s?i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,c)=>i.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},c))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),i.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):i.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Personal Dashboard"}),i.jsxs("p",{className:"text-blue-100 text-lg",children:["Welcome back, ",t==null?void 0:t.name,"! Here's your personal performance overview."]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[i.jsx(Bm,{className:"h-5 w-5 text-yellow-300"}),i.jsxs("p",{className:"text-blue-100 text-sm",children:["Success Rate: ",n.stats.successRate,"%"]})]}),i.jsxs("p",{className:"text-blue-200 text-xs",children:[n.stats.totalClientsHandled," clients handled  Role: ",t==null?void 0:t.role]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[e&&i.jsxs("button",{onClick:e,className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200",title:"Switch to Global Dashboard",children:[i.jsx(CS,{className:"h-4 w-4 mr-2"}),"Global Dashboard"]}),i.jsxs("button",{onClick:()=>r(),disabled:s,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${s?"opacity-50 cursor-not-allowed":""}`,title:"Refresh my dashboard data",children:[i.jsx("svg",{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Updating...":"Refresh"]})]})]})]}),i.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ad,{className:"h-5 w-5 text-green-300"}),i.jsxs("span",{className:"text-sm",children:["Growth: ",n.performanceMetrics.growth,"%"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(x5,{className:"h-5 w-5 text-orange-300"}),i.jsxs("span",{className:"text-sm",children:["This Week: ",n.performanceMetrics.thisWeek," enquiries"]})]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:"My Enquiries",value:n.stats.myEnquiries,icon:Ds,color:"from-blue-500 to-blue-600",change:`+${n.stats.thisWeekEnquiries} this week`,trend:"up"},{title:"Documents Processed",value:n.stats.myDocumentsProcessed,icon:Ct,color:"from-green-500 to-emerald-600",change:"Verified",trend:"up"},{title:"Clients Shortlisted",value:n.stats.myShortlisted,icon:Ic,color:"from-yellow-500 to-orange-500",change:"Active",trend:"up"},{title:"Payment Applications",value:n.stats.myPaymentApplications,icon:fo,color:"from-purple-500 to-indigo-600",change:"Processed",trend:"up"},{title:"Pending Tasks",value:n.stats.myPendingTasks,icon:ha,color:"from-red-500 to-pink-600",change:"To Complete",trend:n.stats.myPendingTasks>0?"down":"up"}].map((l,c)=>{const u=l.icon;return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${l.color}`,children:i.jsx(u,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:`flex items-center space-x-1 text-sm ${l.trend==="up"?"text-green-600":"text-red-600"}`,children:[l.trend==="up"?i.jsx(My,{className:"h-4 w-4"}):i.jsx(Dy,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:l.change})]})]}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:l.value}),i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:l.title})]},c)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Recent Activities"}),i.jsx(tl,{className:"h-6 w-6 text-gray-400"})]}),i.jsx("div",{className:"space-y-4",children:n.recentActivities.length>0?n.recentActivities.map((l,c)=>{const u=o(l.type);return i.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+c*.1},className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(u,{className:"h-8 w-8 text-blue-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",l.clientName]}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleString()})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(l.status)}`,children:l.status})})]},l.id)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ds,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No recent activities"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Your activities will appear here"})]})})]}),i.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My Clients (",n.myClients.length,")"]}),i.jsx(In,{className:"h-6 w-6 text-gray-400"})]}),i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:n.myClients.length>0?n.myClients.map((l,c)=>i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+c*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:l.name}),l.isShortlisted&&i.jsx(Ic,{className:"h-4 w-4 text-yellow-500"}),l.hasPaymentApplication&&i.jsx(fo,{className:"h-4 w-4 text-green-500"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:l.mobile}),i.jsx("p",{className:"text-xs text-gray-500",children:l.businessType}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[l.documentsCount," docs"]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(l.status)}`,children:l.status})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800",title:"View Client",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx("button",{className:"p-1 text-indigo-600 hover:text-indigo-800",title:"Edit Client",children:i.jsx(An,{className:"h-4 w-4"})})]})]},l.id)):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(In,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No clients assigned"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Clients will appear here when assigned to you"})]})})]})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Performance Summary"}),i.jsx(Bm,{className:"h-6 w-6 text-yellow-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[n.stats.successRate,"%"]}),i.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Success Rate"}),i.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Conversion to Payment"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:n.stats.myCompletedTasks}),i.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Completed Tasks"}),i.jsx("div",{className:"text-xs text-green-600 mt-1",children:"This Month"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:n.stats.thisMonthEnquiries}),i.jsx("div",{className:"text-sm text-purple-700 font-medium",children:"This Month"}),i.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"New Enquiries"})]}),i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl",children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:[n.performanceMetrics.growth>0?"+":"",n.performanceMetrics.growth,"%"]}),i.jsx("div",{className:"text-sm text-orange-700 font-medium",children:"Weekly Growth"}),i.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"vs Last Week"})]})]})]})]})}const N0={stats:{totalEnquiries:156,pendingReview:23,approved:89,rejected:44,documentsAwaiting:31,clientsShortlisted:12,paymentGatewayComplete:8,totalRevenue:245e4,monthlyGrowth:12.5,activeStaff:15},enquiryFunnel:[{stage:"Initial Enquiry",count:156,percentage:100,color:"bg-blue-500"},{stage:"Documents Submitted",count:98,percentage:62.8,color:"bg-indigo-500"},{stage:"Under Review",count:67,percentage:42.9,color:"bg-purple-500"},{stage:"Approved",count:45,percentage:28.8,color:"bg-green-500"},{stage:"Loan Disbursed",count:23,percentage:14.7,color:"bg-emerald-500"}],recentEnquiries:[{id:1,name:"TechCorp Solutions",contact:"Rajesh Kumar",amount:"50,00,000",status:"Under Review",date:"2 hours ago",priority:"high"},{id:2,name:"Global Enterprises",contact:"Priya Sharma",amount:"75,00,000",status:"Approved",date:"5 hours ago",priority:"medium"},{id:3,name:"StartupCorp",contact:"Amit Patel",amount:"25,00,000",status:"Pending Documents",date:"1 day ago",priority:"low"},{id:4,name:"InnovateTech",contact:"Sneha Reddy",amount:"1,20,00,000",status:"Under Review",date:"2 days ago",priority:"high"},{id:5,name:"BusinessHub",contact:"Vikram Singh",amount:"35,00,000",status:"Rejected",date:"3 days ago",priority:"low"}],rolePermissions:{employee:[{feature:"Enquiry & Doc Verification",access:"Active",color:"text-green-600"},{feature:"Basic Analytics View",access:"Active",color:"text-green-600"}],admin:[{feature:"Full Access - All Features",access:"Full Access",color:"text-blue-600"},{feature:"Staff Management & System Control",access:"Full Access",color:"text-blue-600"}]}};function oP(){var u,d;const{t:e}=Ul(),{user:t}=an(),{data:n,loading:s,refetch:r}=rP(),[a,o]=v.useState(!1),l=n||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:0},enquiryFunnel:[],recentEnquiries:[]};if(a)return i.jsx(aP,{onSwitchToGlobal:()=>o(!1)});const c=f=>{switch(f==null?void 0:f.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"interested":return"bg-blue-100 text-blue-800";case"not_interested":return"bg-red-100 text-red-800";case"under review":return"bg-yellow-100 text-yellow-800";case"pending documents":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((f,h)=>i.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},h))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),i.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):i.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("dashboard.welcome",`Welcome Back, ${(t==null?void 0:t.name)||"User"}!`)}),i.jsx("p",{className:"text-blue-100 text-lg",children:e("dashboard.subtitle","Here's what's happening with your business today.")})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-yellow-300 animate-pulse":"bg-green-300"}`}),i.jsx("p",{className:"text-blue-100 text-sm",children:s?"Updating...":"Auto-refreshes every 15 seconds"})]}),i.jsx("p",{className:"text-blue-200 text-xs",children:l!=null&&l.stats?`${l.stats.totalEnquiries} total enquiries  Last updated: ${new Date().toLocaleTimeString()}`:"Loading data..."})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200",title:"Switch to My Personal Dashboard",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"My Dashboard"]}),i.jsxs("button",{onClick:()=>r(),disabled:s,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${s?"opacity-50 cursor-not-allowed":""}`,title:"Refresh dashboard data",children:[i.jsx("svg",{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Updating...":"Refresh"]})]})]})]}),i.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ad,{className:"h-5 w-5 text-green-300"}),i.jsxs("span",{className:"text-sm",children:["Revenue up ",((u=l==null?void 0:l.stats)==null?void 0:u.monthlyGrowth)||0,"%"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($y,{className:"h-5 w-5 text-blue-300"}),i.jsxs("span",{className:"text-sm",children:[((d=l==null?void 0:l.stats)==null?void 0:d.activeStaff)||0," Active Staff"]})]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:e("dashboard.totalEnquiries","Total Enquiries"),value:l.stats.totalEnquiries,icon:Ds,color:"from-blue-500 to-blue-600",change:"+12%",trend:"up"},{title:e("dashboard.documentsAwaiting","Documents Awaiting"),value:l.stats.documentsAwaiting,icon:ha,color:"from-orange-500 to-red-500",change:"+5%",trend:"up"},{title:e("dashboard.clientsShortlisted","Clients Shortlisted"),value:l.stats.clientsShortlisted,icon:Ct,color:"from-green-500 to-emerald-600",change:"+8%",trend:"up"},{title:e("dashboard.paymentComplete","Payment Gateway Complete"),value:l.stats.paymentGatewayComplete,icon:fo,color:"from-purple-500 to-indigo-600",change:"+15%",trend:"up"},{title:e("dashboard.totalTransactions","Total Transactions"),value:l.stats.totalTransactions,icon:tl,color:"from-teal-500 to-cyan-600",change:"+10%",trend:"up"}].map((f,h)=>{const g=f.icon;return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${f.color}`,children:i.jsx(g,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:`flex items-center space-x-1 text-sm ${f.trend==="up"?"text-green-600":"text-red-600"}`,children:[f.trend==="up"?i.jsx(My,{className:"h-4 w-4"}):i.jsx(Dy,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:f.change})]})]}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:f.value}),i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:f.title})]},h)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("dashboard.enquiryFunnel","Enquiry Funnel")}),i.jsx(tl,{className:"h-6 w-6 text-gray-400"})]}),i.jsx("div",{className:"space-y-4",children:l.enquiryFunnel.map((f,h)=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.stage}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:f.count}),i.jsxs("span",{className:"text-xs text-gray-500",children:["(",f.percentage,"%)"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx(q.div,{initial:{width:0},animate:{width:`${f.percentage}%`},transition:{delay:.5+h*.1,duration:.8},className:`h-3 rounded-full ${f.color} relative overflow-hidden`,children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent"})})})]},h))}),i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ad,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Conversion Rate"}),i.jsxs("p",{className:"text-xs text-blue-700",children:[(l.enquiryFunnel[4].count/l.enquiryFunnel[0].count*100).toFixed(1),"% of enquiries result in loan disbursement"]})]})]})})]}),i.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:e("dashboard.rolePermissions","Role Permissions")}),i.jsx("div",{className:"space-y-4",children:((t==null?void 0:t.role)==="ADMIN"?N0.rolePermissions.admin:N0.rolePermissions.employee).map((f,h)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.feature}),i.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${f.color} bg-current bg-opacity-10`,children:f.access})]},h))}),i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ct,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-900",children:"Access Level"}),i.jsx("p",{className:"text-xs text-green-700",children:(t==null?void 0:t.role)==="ADMIN"?"Full administrative access":"Employee level access"})]})]})})]})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("dashboard.recentEnquiries","Recent Enquiries")}),i.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"NAME"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"CONTACT"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"BUSINESS TYPE"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"STATUS"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"DATE"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ACTIONS"})]})}),i.jsx("tbody",{children:((l==null?void 0:l.recentEnquiries)||[]).length>0?((l==null?void 0:l.recentEnquiries)||[]).map((f,h)=>{var g;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+h*.1},className:"border-b border-gray-100 hover:bg-gray-50 border-l-4 border-l-blue-500",children:[i.jsxs("td",{className:"py-4 px-4",children:[i.jsx("div",{className:"font-medium text-gray-900",children:f.name||f.businessName||"N/A"}),i.jsx("div",{className:"text-sm text-gray-600",children:f.mobile})]}),i.jsx("td",{className:"py-4 px-4 text-gray-700",children:((g=f.staff)==null?void 0:g.name)||"Unassigned"}),i.jsx("td",{className:"py-4 px-4 text-gray-700",children:f.businessType||"Not specified"}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${c(f.interestStatus)}`,children:f.interestStatus})}),i.jsx("td",{className:"py-4 px-4 text-gray-600 text-sm",children:new Date(f.createdAt).toLocaleDateString()}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800",title:"View",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx("button",{className:"p-1 text-indigo-600 hover:text-indigo-800",title:"Edit",children:i.jsx(An,{className:"h-4 w-4"})}),i.jsx("button",{className:"p-1 text-red-600 hover:text-red-800",title:"Delete",children:i.jsx(Ks,{className:"h-4 w-4"})})]})})]},f.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"py-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[i.jsx(Ds,{className:"h-12 w-12 text-gray-300 mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No enquiries yet"}),i.jsx("p",{className:"text-sm",children:"New enquiries will appear here automatically"})]})})})})]})})]})]})}function lP(){return i.jsx(oP,{})}function cP(){var b,N,S,E,T,P,D,Y,W,U,Q,ae,K,se,O,z;const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,a]=v.useState(null),[o,l]=v.useState({isOpen:!1,enquiry:null}),c=ht(),{data:u,isLoading:d,isFetching:f,refetch:h,error:g}=Ne(["enquiries",e,n],async()=>{const R=new URLSearchParams;return e&&R.append("name",e),n&&R.append("interestStatus",n),(await te.get(`/api/enquiries?${R}`)).data||[]},{staleTime:3*60*1e3,keepPreviousData:!0,onError:R=>{console.error("Failed to fetch enquiries:",R)},onSuccess:R=>{console.log(" Enquiries refreshed:",(R==null?void 0:R.length)||0,"enquiries found"),a(new Date)}}),{data:p}=Ne("staff-members",async()=>{var R;try{return((R=(await te.get("/api/staff")).data)==null?void 0:R.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),w=Me(async R=>te.delete(`/api/enquiries/${R}`),{onSuccess:(R,$)=>{_.success("Enquiry deleted successfully!"),c.setQueryData(["enquiries",e,n],Z=>Z&&Z.filter(oe=>oe.id!==$)),setTimeout(()=>{c.invalidateQueries("enquiries")},100)},onError:R=>{var $,Z;console.error("Delete error:",R),_.error(((Z=($=R.response)==null?void 0:$.data)==null?void 0:Z.message)||"Failed to delete enquiry")}}),y=Me(async({enquiryId:R,staffId:$,staffName:Z})=>(console.log(" Assigning staff:",{enquiryId:R,staffId:$,staffName:Z}),te.post(`/api/enquiries/${R}/assign`,{staffId:$})),{onSuccess:(R,{staffName:$})=>{console.log(" Staff assignment successful:",R.data),_.success(`Enquiry assigned to ${$} successfully!`),c.invalidateQueries(["enquiries"]),c.setQueryData(["enquiries"],Z=>Z&&Z.map(oe=>oe.id===R.data.id?R.data:oe))},onError:R=>{var $,Z;console.error(" Staff assignment error:",R),_.error(((Z=($=R.response)==null?void 0:$.data)==null?void 0:Z.message)||"Failed to assign staff member")}}),j=(R,$)=>{if($){const Z=p==null?void 0:p.find(oe=>oe.name===$);Z?y.mutate({enquiryId:R,staffId:Z.id,staffName:Z.name}):_.error("Selected staff member not found")}},m=(R,$)=>{window.confirm(`Are you sure you want to delete "${$}"? This will also delete all associated documents.`)&&w.mutate(R)},x=R=>{console.log(" Viewing enquiry:",R.name),l({isOpen:!0,enquiry:R})};return d?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[i.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded w-40 animate-pulse"})]})]}),i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),i.jsx("tbody",{className:"bg-white",children:[...Array(5)].map((R,$)=>i.jsxs("tr",{className:"border-b border-gray-100",children:[i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"})]})})]},$))})]})})]})]}):g&&!u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),i.jsxs(tt,{to:"/enquiries/new",className:"btn-primary inline-flex items-center mt-4 sm:mt-0",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]}),i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-8 text-center",children:[i.jsx("div",{className:"text-red-500 mb-4",children:i.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load enquiries"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the enquiry data. Please try again."}),i.jsx("button",{onClick:()=>h(),className:"btn-primary",children:"Try Again"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),f&&i.jsxs("div",{className:"flex items-center text-blue-600",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{className:"text-sm",children:"Refreshing..."})]})]}),r&&i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",r.toLocaleTimeString(),"  Auto-refreshes every 10 seconds"]})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[i.jsxs("button",{onClick:()=>h(),disabled:f,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Refresh enquiries",children:[i.jsx("svg",{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),i.jsxs("select",{value:n,onChange:R=>s(R.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Statuses"}),i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"}),i.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:" Follow Up Required"})]}),i.jsxs(tt,{to:"/enquiries/new",className:"btn-primary inline-flex items-center whitespace-nowrap",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:e,onChange:R=>t(R.target.value),className:"input-field pl-10"})]}),i.jsxs("select",{value:n,onChange:R=>s(R.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Interest Status"}),i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"}),i.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:" Follow Up Required"})]}),i.jsx("button",{onClick:()=>{t(""),s(""),h()},className:"btn-secondary",children:"Clear Filters"})]})}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"table-modern",children:[i.jsx("div",{className:"px-8 py-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-4 top-3.5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search enquiries...",value:e,onChange:R=>t(R.target.value),className:"input-search w-80"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[(u==null?void 0:u.length)||0," results"]}),i.jsx("div",{className:"h-4 w-px bg-slate-300"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Updated just now"})]})]})}),u&&u.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),i.jsx("tbody",{className:"bg-white",children:u.map((R,$)=>{var Z,oe,me;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:$*.05},className:"table-row",children:[i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:$+1})}),i.jsxs("td",{className:"px-6 py-5 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-slate-900",children:R.enquiryDate?new Date(R.enquiryDate).toLocaleDateString("en-IN"):R.createdAt?new Date(R.createdAt).toLocaleDateString("en-IN"):new Date().toLocaleDateString("en-IN")}),R.followUpDate&&i.jsxs("div",{className:"text-xs text-orange-600",children:[" Follow up: ",new Date(R.followUpDate).toLocaleDateString("en-IN")]})]}),i.jsx("td",{className:"px-6 py-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mr-3",children:i.jsx("span",{className:"text-xs font-semibold text-white",children:((oe=(Z=R.name)==null?void 0:Z.charAt(0))==null?void 0:oe.toUpperCase())||"U"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:R.name||"Unknown"}),i.jsxs("div",{className:"text-sm text-slate-500",children:[" ",R.mobile||"No mobile"]}),R.email&&i.jsxs("div",{className:"text-xs text-slate-400",children:[" ",R.email]})]})]})}),i.jsxs("td",{className:"px-6 py-5",children:[i.jsx("div",{className:"text-sm font-medium text-slate-900",children:R.businessName||R.businessType||"Not Specified"}),R.gst&&i.jsxs("div",{className:"text-xs text-slate-500",children:["GST: ",R.gst]})]}),i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R.interestStatus==="INTERESTED"?"bg-green-100 text-green-800":R.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":R.interestStatus==="FOLLOW_UP_REQUIRED"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:R.interestStatus==="INTERESTED"?" Interested":R.interestStatus==="NOT_INTERESTED"?" Not Interested":R.interestStatus==="FOLLOW_UP_REQUIRED"?" Follow Up":" Interested"}),R.comments&&i.jsx("div",{className:"text-xs text-slate-500",children:R.comments.replace(/_/g," ")})]})}),i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm text-slate-600",children:((me=R.staff)==null?void 0:me.name)||R.assignedStaff||"Unassigned"}),i.jsxs("select",{value:R.assignedStaff||"",onChange:ve=>j(R.id,ve.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white text-slate-600 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:y.isLoading,children:[i.jsx("option",{value:"",children:"Assign to staff..."}),p&&p.map(ve=>i.jsxs("option",{value:ve.name,children:[ve.name," - ",ve.role]},ve.id))]})]})}),i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>x(R),className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 border border-blue-200 rounded-md text-blue-600 hover:bg-blue-200 hover:border-blue-300 transition-all duration-200",title:"View Enquiry",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx(tt,{to:`/enquiries/${R.id}/edit`,className:"inline-flex items-center justify-center w-8 h-8 bg-orange-100 border border-orange-200 rounded-md text-orange-600 hover:bg-orange-200 hover:border-orange-300 transition-all duration-200",title:"Edit Enquiry",children:i.jsx(An,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(R.id,R.name),disabled:w.isLoading,className:"inline-flex items-center justify-center w-8 h-8 bg-red-100 border border-red-200 rounded-md text-red-600 hover:bg-red-200 hover:border-red-300 disabled:opacity-50 transition-all duration-200",title:"Delete Enquiry",children:i.jsx(Ks,{className:"h-4 w-4"})})]})})]},R.id)})})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No enquiries found."}),i.jsxs(tt,{to:"/enquiries/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg inline-flex items-center mt-4",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"Create First Enquiry"]})]})]}),o.isOpen&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Enquiry Details - ",(b=o.enquiry)==null?void 0:b.name]}),i.jsx("button",{onClick:()=>l({isOpen:!1,enquiry:null}),className:"text-gray-400 hover:text-gray-600",children:i.jsx(xn,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((N=o.enquiry)==null?void 0:N.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((S=o.enquiry)==null?void 0:S.mobile)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Type"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((E=o.enquiry)==null?void 0:E.businessType)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Number"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((T=o.enquiry)==null?void 0:T.gstNumber)||((P=o.enquiry)==null?void 0:P.gst)||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Status & Assignment"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),i.jsx("p",{className:"mt-1",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${((D=o.enquiry)==null?void 0:D.interestStatus)==="INTERESTED"?"bg-green-100 text-green-800":((Y=o.enquiry)==null?void 0:Y.interestStatus)==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:((W=o.enquiry)==null?void 0:W.interestStatus)||"PENDING"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((U=o.enquiry)==null?void 0:U.assignedStaff)||((ae=(Q=o.enquiry)==null?void 0:Q.staff)==null?void 0:ae.name)||"Unassigned"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((K=o.enquiry)==null?void 0:K.source)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(se=o.enquiry)!=null&&se.createdAt?new Date(o.enquiry.createdAt).toLocaleDateString():"N/A"})]})]})]}),((O=o.enquiry)==null?void 0:O.comments)&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Comments"}),i.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:o.enquiry.comments})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[i.jsx("button",{onClick:()=>l({isOpen:!1,enquiry:null}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"}),i.jsx(tt,{to:`/enquiries/${(z=o.enquiry)==null?void 0:z.id}/edit`,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700",onClick:()=>l({isOpen:!1,enquiry:null}),children:"Edit Enquiry"})]})]})})]})}function tu(){const e=_t(),{id:t}=Il(),[n]=ON(),s=ht(),r=!!t,a=n.get("view")==="true",{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=er(),{data:d,isLoading:f}=Ne(["enquiry",t],async()=>{if(!t)return null;console.log(" Fetching enquiry data for ID:",t);const w=await te.get(`/api/enquiries/${t}`);return console.log(" Enquiry data received:",w.data),w.data},{enabled:!!t}),{data:h}=Ne("staff-members",async()=>{var w;try{return((w=(await te.get("/api/staff")).data)==null?void 0:w.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),g=Me(async w=>{var j,m,x,b,N,S;console.log(" Mutation executing with data:",w);const y=r?`/api/enquiries/${t}`:"/api/enquiries";console.log(" Making request to:",y);try{const E=r?await te.patch(y,w):await te.post(y,w);return console.log(" API response received:",E.data),E}catch(E){throw console.error(" API request failed:",E),console.error(" Error details:",{message:E.message,status:(j=E.response)==null?void 0:j.status,statusText:(m=E.response)==null?void 0:m.statusText,data:(x=E.response)==null?void 0:x.data,config:{url:(b=E.config)==null?void 0:b.url,method:(N=E.config)==null?void 0:N.method,baseURL:(S=E.config)==null?void 0:S.baseURL}}),E}},{onSuccess:w=>{console.log(" Mutation success:",w.data);const y=r?"Enquiry updated successfully!":"Enquiry created successfully!";_.success(y),r?(s.invalidateQueries(["enquiries"]),s.invalidateQueries(["enquiry",t]),s.setQueryData(["enquiries"],j=>j&&j.map(m=>m.id===parseInt(t)?{...m,...w.data}:m)),e("/enquiries")):(s.invalidateQueries(["enquiries"]),_.success("Redirecting to document verification...",{duration:2e3}),setTimeout(()=>{e("/documents/verification")},1500))},onError:w=>{var j,m;console.error(" Mutation error:",w);const y=((m=(j=w.response)==null?void 0:j.data)==null?void 0:m.message)||w.message||"Something went wrong";console.error(" Error message to show:",y),_.error(y)}});v.useEffect(()=>{var w;if(d&&(r||a)){console.log(" Resetting form with enquiry data:",d);const y={name:d.name||"",mobile:d.mobile||"",businessType:d.businessType||d.businessName||"",gstNumber:d.gstNumber||d.gst||"",comments:d.comments||"",interestStatus:d.interestStatus||"",assignedStaff:d.assignedStaff||((w=d.staff)==null?void 0:w.name)||"",enquiryDate:d.enquiryDate?new Date(d.enquiryDate).toISOString().split("T")[0]:d.createdAt?new Date(d.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],followUpDate:d.followUpDate?new Date(d.followUpDate).toISOString().split("T")[0]:"",additionalComments:d.additionalComments||""};console.log(" Form data being set:",y),c(y)}},[d,r,a,c]);const p=w=>{var j,m;if(console.log(" Submitting enquiry form with data:",w),console.log(" Form validation - Name:",w.name,"Mobile:",w.mobile),console.log(" API endpoint will be:",r?`/api/enquiries/${t}`:"/api/enquiries"),!((j=w.name)!=null&&j.trim())){console.error(" Validation failed: Name is empty"),_.error("Please enter a valid name");return}if(!((m=w.mobile)!=null&&m.match(/^[0-9]{10}$/))){console.error(" Validation failed: Invalid mobile number:",w.mobile),_.error("Please enter a valid 10-digit mobile number");return}console.log(" Client-side validation passed"),w.assignedStaff?console.log(" Enquiry assigned to staff:",w.assignedStaff):console.log(" No staff assigned to this enquiry");const y=_.loading(r?"Updating enquiry...":"Creating enquiry...");console.log(" Starting API request..."),g.mutate(w,{onSettled:()=>{console.log(" API request completed"),_.dismiss(y)}})};return(r||a)&&f?i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Enquiry..."}),i.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the enquiry data"})]})]})}),i.jsx("div",{className:"card space-y-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]})]})})]})}):i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a?"View Enquiry":r?"Edit Enquiry":"New Enquiry"}),i.jsx("p",{className:"text-gray-600",children:a?"View enquiry details":r?"Update enquiry information":"Create a new business loan enquiry"})]})]})}),i.jsxs("form",{onSubmit:l(p),className:"card space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{...o("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name",readOnly:a}),u.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),i.jsx("input",{...o("mobile",{required:"Mobile number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}}),type:"tel",className:"input-field",placeholder:"Enter mobile number",readOnly:a}),u.mobile&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.mobile.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),i.jsx("input",{...o("businessType"),type:"text",className:"input-field",placeholder:"Enter business type",readOnly:a})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),i.jsx("input",{...o("gstNumber"),type:"text",className:"input-field",placeholder:"Enter GST number (optional)",readOnly:a})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Status"}),i.jsxs("select",{...o("interestStatus"),className:"input-field",disabled:a,children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"INTERESTED",children:"Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:"Not Interested"}),i.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:"Follow Up Required"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments Status"}),i.jsxs("select",{...o("comments"),className:"input-field",disabled:a,children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"NO_RESPONSE",children:"No Response"}),i.jsx("option",{value:"CHAT_CALL1_COMPLETED",children:"First Call Completed"}),i.jsx("option",{value:"SECOND_CALL_COMPLETED",children:"Second Call Completed"}),i.jsx("option",{value:"THIRD_CALL_COMPLETED",children:"Third Call Completed"}),i.jsx("option",{value:"ELIGIBLE",children:"Eligible"}),i.jsx("option",{value:"NOT_ELIGIBLE",children:"Not Eligible"}),i.jsx("option",{value:"NO_GST",children:"No GST"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Staff Member"}),i.jsxs("select",{...o("assignedStaff"),className:"input-field",disabled:a,children:[i.jsx("option",{value:"",children:"Select staff member (optional)"}),h&&h.map(w=>i.jsxs("option",{value:w.name,children:[w.name," - ",w.role]},w.id))]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a staff member to assign this enquiry to"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enquiry Date *"}),i.jsx("input",{...o("enquiryDate",{required:"Enquiry date is required"}),type:"date",className:"input-field",defaultValue:new Date().toISOString().split("T")[0],readOnly:a}),u.enquiryDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.enquiryDate.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow Up Date"}),i.jsx("input",{...o("followUpDate"),type:"date",className:"input-field",placeholder:"Select follow up date (optional)",readOnly:a}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set a date for follow up if required"})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments"}),i.jsx("textarea",{...o("additionalComments"),rows:4,className:"input-field resize-none",placeholder:"Enter any additional comments or notes about this enquiry...",readOnly:a}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add detailed notes, conversation summary, or any other relevant information"})]})}),!a&&i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/enquiries"),className:"btn-secondary",children:"Cancel"}),r&&i.jsx("button",{type:"button",onClick:()=>e(`/enquiries/${t}?view=true`),className:"btn-secondary",children:"View Mode"}),a&&i.jsx("button",{type:"button",onClick:()=>e(`/enquiries/${t}/edit`),className:"btn-secondary",children:"Edit Mode"}),i.jsx(q.button,{type:"submit",disabled:g.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:g.isLoading?r?"Updating...":"Creating...":r?"Update Enquiry":"Create Enquiry"})]})]})]})})}function S0({onUpload:e,accept:t=".pdf",maxSize:n=10*1024*1024}){const[s,r]=v.useState(null),[a,o]=v.useState(0),[l,c]=v.useState(!1),[u,d]=v.useState(!1),f=w=>{if(w.size>n){alert(`File size must be less than ${n/(1024*1024)}MB`);return}if(w.type!=="application/pdf"){alert("Only PDF files are allowed");return}r(w),d(!0),o(0);const y=setInterval(()=>{o(j=>j>=100?(clearInterval(y),d(!1),e(w),100):j+10)},200)},h=w=>{w.preventDefault(),c(!1);const y=w.dataTransfer.files[0];y&&f(y)},g=w=>{w.preventDefault(),c(!0)},p=()=>{c(!1)};return i.jsxs(q.div,{className:`border-2 border-dashed p-8 rounded-lg text-center transition-colors ${l?"border-primary-500 bg-primary-50":u?"border-blue-500 bg-blue-50":"border-gray-300"} ${u?"pointer-events-none opacity-75":""}`,whileHover:{scale:u?1:1.02},transition:{duration:.3},onDrop:u?void 0:h,onDragOver:u?void 0:g,onDragLeave:u?void 0:p,children:[i.jsx(t5,{className:`h-12 w-12 mx-auto mb-4 ${u?"text-blue-500 animate-pulse":"text-gray-400"}`}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:u?"cursor-not-allowed":"cursor-pointer",children:[i.jsx("span",{className:`btn-primary ${u?"opacity-50 cursor-not-allowed":""}`,children:u?"Uploading...":"Choose File"}),i.jsx("input",{type:"file",accept:t,onChange:w=>{var y;return((y=w.target.files)==null?void 0:y[0])&&f(w.target.files[0])},className:"hidden",disabled:u})]})}),i.jsx("p",{className:`text-gray-600 mb-2 ${u?"text-blue-600":""}`,children:u?"Processing your file...":"or drag and drop your file here"}),i.jsxs("p",{className:"text-sm text-gray-500",children:["PDF files only  Max ",n/(1024*1024),"MB"]}),s&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.name}),a>0&&a<100&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:i.jsx(q.div,{className:"bg-primary-600 h-2 rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.3}})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a,"% uploaded"]})]}),a===100&&i.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Upload complete"})]})]})}function H1({isOpen:e,onClose:t,documentName:n,documentType:s,documentUrl:r,documentId:a,isVerified:o,onVerify:l}){const[c,u]=v.useState(!1),[d,f]=v.useState(!0),[h,g]=v.useState(!1);console.log(" PDFViewer render:",{isOpen:e,documentName:n,documentType:s,documentUrl:r});const p=()=>{g(!h)};if(v.useEffect(()=>{const j=m=>{m.key==="Escape"&&(h?g(!1):t())};if(e)return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[e,h,t]),v.useEffect(()=>{e&&(u(!1),f(!0),g(!1))},[e]),!e)return console.log(" PDFViewer not open, returning null"),null;console.log(" PDFViewer is open, rendering modal");const y=(()=>r?(console.log(" Using backend document URL:",r),r):null)();return i.jsx("div",{className:`fixed inset-0 bg-black z-[9999] flex items-center justify-center ${h?"bg-opacity-95":"bg-opacity-50 p-4"}`,onClick:t,children:i.jsxs("div",{className:`bg-white shadow-xl flex flex-col ${h?"w-full h-full":"rounded-lg max-w-4xl w-full max-h-[90vh]"}`,onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Documents",children:i.jsx(Ir,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),i.jsx("p",{className:"text-sm text-gray-500",children:s.replace("_"," ")})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[a&&l&&!o&&i.jsxs("button",{onClick:()=>l(a),className:"flex items-center px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors",title:"Verify Document",children:[i.jsx(Ct,{className:"h-4 w-4 mr-1"})," Verify"]}),o&&i.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 text-sm rounded border border-green-200",children:[i.jsx(Ct,{className:"h-4 w-4 mr-1"})," Verified"]}),i.jsx("button",{onClick:p,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:h?"Exit Fullscreen":"Enter Fullscreen",children:h?i.jsx(mS,{className:"h-5 w-5"}):i.jsx(xS,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>{if(y){const j=document.createElement("a");j.href=y,j.download=`${n}.pdf`,j.click()}},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",title:"Download PDF",disabled:!y,children:" Download"}),i.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(xn,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"flex-1 p-4",children:y?i.jsxs("div",{className:"h-full",children:[d&&i.jsxs("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-200 rounded text-sm flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),i.jsxs("span",{children:[" ",i.jsx("strong",{children:"Loading document:"})," ",n]})]}),c?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-8 max-w-md",children:[i.jsx(ts,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"PDF Display Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to display the PDF in the browser. This might be due to browser restrictions or PDF format issues."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:()=>{u(!1),f(!0)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:" Try Again"}),i.jsx("a",{href:y,className:"block w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-center",download:`${n}.pdf`,children:" Download PDF"}),i.jsx("button",{onClick:()=>window.open(y,"_blank"),className:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:" Open in New Tab"})]})]})}):i.jsxs("div",{className:"h-full relative",children:[i.jsx("iframe",{src:`${y}#toolbar=1&navpanes=1&scrollbar=1&page=1&view=FitH&zoom=page-fit`,className:`w-full h-full border border-gray-300 ${h?"min-h-screen":"rounded-lg min-h-[600px]"}`,title:`${n} - PDF Viewer`,onLoad:()=>{console.log(" PDF loaded successfully from:",y),f(!1)},onError:j=>{console.error(" Failed to load PDF:",y,j),u(!0),f(!1)},allow:"fullscreen",children:i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(ts,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Your browser doesn't support inline PDF viewing."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("a",{href:y,className:"inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mr-2",download:`${n}.pdf`,children:" Download PDF"}),i.jsx("button",{onClick:()=>window.open(y,"_blank"),className:"inline-block px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:" Open in New Tab"})]})]})}),i.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg p-2 flex space-x-2",children:[i.jsx("button",{onClick:()=>window.open(y,"_blank"),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",title:"Open in new tab",children:""}),i.jsx("a",{href:y,download:`${n}.pdf`,className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",title:"Download PDF",children:""})]})]})]}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-8",children:[i.jsx(ts,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Document Available"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"No file URL provided for this document."}),i.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Document:"})," ",n]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",s]}),i.jsxs("p",{children:[i.jsx("strong",{children:"File:"})," ",r||"Not specified"]})]})]})})})]})})}const Qa=[{value:"GST",label:"GST Certificate",required:!0},{value:"UDYAM",label:"Udyam Registration",required:!0},{value:"BANK_STATEMENT",label:"Bank Statement",required:!0},{value:"OWNER_PAN",label:"Owner PAN Card",required:!0},{value:"AADHAR",label:"Aadhar Card",required:!0},{value:"WEBSITE_GATEWAY",label:"Website & Gateway",required:!1},{value:"IE_CODE",label:"IE Code",required:!1}];function uP({isOpen:e,onClose:t,clientId:n,clientName:s,documents:r}){const[a,o]=v.useState({isOpen:!1,documentUrl:"",documentName:"",documentType:""}),{data:l,isLoading:c,error:u}=Ne(["documents",n],async()=>{if(!n)return null;console.log(" Fetching documents for client ID:",n);const x=await te.get(`/api/documents/enquiry/${n}`);return console.log(" Documents response:",x.data),x.data},{enabled:e&&!!n,refetchOnWindowFocus:!1});if(!e)return null;if(c)return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading documents..."})]})});if(u)return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[i.jsx("div",{className:"text-red-500 text-center mb-4",children:""}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Documents"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load documents for this client."}),i.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Close"})]})});const d=l||[],f=d.length>0?d[0].enquiry:{name:s,mobile:"",businessType:""},h=new Set(d.map(x=>x.type)),g=Qa.filter(x=>x.required),p=g.filter(x=>h.has(x.value)),w=g.length>0?Math.round(p.length/g.length*100):0,y=x=>{var b;o({isOpen:!0,documentUrl:`http://localhost:5002/api/documents/${x.id}/view`,documentName:`${x.enquiry.name} - ${((b=Qa.find(N=>N.value===x.type))==null?void 0:b.label)||x.type}`,documentType:x.type})},j=()=>{o({isOpen:!1,documentUrl:"",documentName:"",documentType:""})},m=x=>{const b=d.find(S=>S.type===x);if(b)return{status:"uploaded",document:b,verified:b.verified};const N=Qa.find(S=>S.value===x);return{status:N!=null&&N.required?"missing":"optional",document:null,verified:!1}};return i.jsxs(i.Fragment,{children:[i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:x=>x.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f.name}),i.jsxs("p",{className:"text-gray-600",children:[" ",f.mobile,"  ",f.businessType]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Document Portfolio"})]}),i.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(xn,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Completion Status"}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[w,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"font-semibold text-gray-900",children:[p.length,"/",g.length]}),i.jsx("div",{className:"text-gray-600",children:"Required Documents"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:d.filter(x=>x.verified).length}),i.jsx("div",{className:"text-gray-600",children:"Verified Documents"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:d.length}),i.jsx("div",{className:"text-gray-600",children:"Total Uploaded"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Qa.map(x=>{const b=m(x.value);return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`border-2 rounded-lg p-4 transition-all duration-200 hover:shadow-md ${b.status==="uploaded"?b.verified?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50":b.status==="missing"?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ts,{className:`h-6 w-6 mr-2 ${b.status==="uploaded"?b.verified?"text-green-600":"text-yellow-600":b.status==="missing"?"text-red-600":"text-gray-400"}`}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:x.label}),i.jsx("p",{className:"text-xs text-gray-500",children:x.required?"Required":"Optional"})]})]}),i.jsx("div",{className:"flex items-center",children:b.status==="uploaded"?b.verified?i.jsx(Ct,{className:"h-5 w-5 text-green-600"}):i.jsx(Vs,{className:"h-5 w-5 text-yellow-600"}):b.status==="missing"?i.jsx(Vs,{className:"h-5 w-5 text-red-600"}):i.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"})})]}),b.document?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Status: "}),i.jsx("span",{className:`font-medium ${b.verified?"text-green-600":"text-yellow-600"}`,children:b.verified?"Verified":"Pending Verification"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Uploaded: "}),new Date(b.document.uploadedAt).toLocaleDateString()]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"By: "}),b.document.uploadedBy.name]}),i.jsxs("button",{onClick:()=>y(b.document),className:"w-full mt-3 flex items-center justify-center px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 transition-colors",children:[i.jsx(Tt,{className:"h-4 w-4 mr-2"}),"View Document"]})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:`text-sm font-medium ${b.status==="missing"?"text-red-600":"text-gray-500"}`,children:b.status==="missing"?"Missing Document":"Not Required"}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:b.status==="missing"?"This document needs to be uploaded":"This document is optional"})]})]},x.value)})})})]})}),i.jsx(H1,{isOpen:a.isOpen,onClose:j,documentName:a.documentName,documentType:a.documentType,documentUrl:a.documentUrl})]})}function dP(){const[e,t]=v.useState(""),[n,s]=v.useState(""),[r,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState({isOpen:!1,documentUrl:"",documentName:"",documentType:"",documentId:void 0,isVerified:!1}),[d,f]=v.useState({isOpen:!1,clientId:0,clientName:""}),h=ht(),g=_t(),{data:p,isLoading:w,error:y}=Ne("enquiries",async()=>{var k;console.log(" Fetching enquiries from /enquiries...");try{const I=await te.get("/api/enquiries");return console.log(" Enquiries response:",I.data),I.data}catch(I){if(console.error(" Enquiries fetch error:",I),I.code==="ECONNREFUSED"||(k=I.message)!=null&&k.includes("Network Error"))return console.log(" Backend not available, returning empty enquiries array"),[];throw I}},{staleTime:4*60*1e3,keepPreviousData:!0,onSuccess:k=>{console.log(" Enquiries query success:",(k==null?void 0:k.length)||0,"enquiries")},onError:k=>{console.error(" Enquiries query error:",k)}}),{data:j}=Ne("staff-members",async()=>{var k;try{return((k=(await te.get("/api/staff")).data)==null?void 0:k.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3,keepPreviousData:!0}),{data:m,isLoading:x,refetch:b}=Ne("documents",async()=>{console.log(" Fetching documents from /documents...");const k=await te.get("/api/documents");return console.log(" Documents response:",k.data),k.data},{staleTime:8*60*1e3,keepPreviousData:!0,onSuccess:k=>{console.log(" Documents query success:",(k==null?void 0:k.length)||0,"documents")},onError:k=>{console.error(" Documents query error:",k)}}),{data:N}=Ne(["documentStatus",e],async()=>e?(await te.get(`/api/documents/enquiry/${e}`)).data:null,{enabled:!!e,staleTime:3*60*1e3,keepPreviousData:!0}),S=Me(async({file:k,enquiryId:I,type:J})=>{const ce=new FormData;ce.append("file",k),ce.append("enquiryId",I.toString()),ce.append("type",J);const je=p==null?void 0:p.find(Ce=>Ce.id===I);return je!=null&&je.assignedStaff&&ce.append("assignedStaff",je.assignedStaff),te.post("/api/documents/upload",ce,{headers:{"Content-Type":"multipart/form-data"}})},{onSuccess:k=>{console.log(" Upload success response:",k.data),_.success("Document uploaded successfully!"),k.data.document&&h.setQueryData("documents",I=>I?[k.data.document,...I]:[k.data.document]),h.invalidateQueries("documents"),h.invalidateQueries(["documentStatus",e]),s(""),o&&setTimeout(()=>{var J;const I=$();I?(s(I.document.value),_.success(` ${(J=se.find(ce=>ce.value===k.data.document.type))==null?void 0:J.label} uploaded! Next: ${I.document.label}`)):(_.success(" All required documents uploaded!"),l(!1),s(""))},500)},onError:k=>{var J,ce,je,Ce,js,Yr,C,A,F,X;console.error("Upload error:",k);let I="Upload failed";(ce=(J=k.response)==null?void 0:J.data)!=null&&ce.message?I=k.response.data.message:(Ce=(je=k.response)==null?void 0:je.data)!=null&&Ce.error?I=k.response.data.error:k.message?I=k.message:((js=k.response)==null?void 0:js.status)===413?I="File too large. Maximum size is 10MB.":((Yr=k.response)==null?void 0:Yr.status)===415?I="Unsupported file type. Please upload PDF files only.":((C=k.response)==null?void 0:C.status)===400&&((X=(F=(A=k.response)==null?void 0:A.data)==null?void 0:F.message)!=null&&X.includes("already exists")?(I=k.response.data.message,s("")):I="Invalid file or missing required information."),_.error(I)}}),E=Me(async k=>te.patch(`/api/documents/${k}/verify`,{verified:!0}),{onSuccess:(k,I)=>{_.success("Document verified successfully!"),h.setQueryData("documents",J=>J&&J.map(ce=>ce.id===I?{...ce,verified:!0,verifiedAt:new Date().toISOString()}:ce)),e&&h.invalidateQueries(["documentStatus",e]),setTimeout(()=>{h.invalidateQueries("documents")},100)},onError:k=>{var I,J;_.error(((J=(I=k.response)==null?void 0:I.data)==null?void 0:J.message)||"Verification failed")}}),T=Me(async k=>te.delete(`/api/documents/${k}`),{onSuccess:(k,I)=>{_.success("Document deleted successfully!"),h.setQueryData("documents",J=>J&&J.filter(ce=>ce.id!==I)),e&&h.invalidateQueries(["documentStatus",e]),setTimeout(()=>{h.invalidateQueries("documents")},100)},onError:k=>{var I,J;_.error(((J=(I=k.response)==null?void 0:I.data)==null?void 0:J.message)||"Delete failed")}}),P=Me(async k=>te.post("/api/shortlist",{enquiryId:k.id,name:k.name||k.businessName,mobile:k.mobile,businessName:k.businessName,businessNature:k.businessType,loanAmount:k.loanAmount||5e5,comments:"Shortlisted from document management"}),{onSuccess:k=>{console.log("Shortlist response:",k.data),_.success(k.data.message||"Client shortlisted successfully!"),h.invalidateQueries("shortlists"),h.invalidateQueries(["shortlists"]),k.data.shortlist&&h.setQueryData(["shortlists",""],I=>I?I.some(ce=>ce.id===k.data.shortlist.id)?I:[k.data.shortlist,...I]:[k.data.shortlist]),setTimeout(()=>{var I;g("/shortlist",{state:{fromAdd:!0,clientName:((I=k.data.shortlist)==null?void 0:I.name)||k.data.name,timestamp:Date.now()}})},1e3)},onError:k=>{var J,ce;console.error("Shortlist error:",k);const I=((ce=(J=k.response)==null?void 0:J.data)==null?void 0:ce.message)||k.message||"Shortlist failed";_.error(`Shortlist failed: ${I}`)}}),D=Me(async({enquiryId:k,staffName:I})=>te.patch(`/enquiries/${k}`,{assignedStaff:I}),{onSuccess:(k,{enquiryId:I,staffName:J})=>{console.log(`Staff ${J} assigned to enquiry ${I}`),h.setQueryData("enquiries",ce=>ce&&ce.map(je=>je.id===I?{...je,assignedStaff:J}:je)),_.success(`Staff assigned to ${J} successfully!`)},onError:k=>{console.error("Staff assignment error:",k),_.error("Failed to assign staff member")}}),Y=async k=>{var je;const I=o?oe==null?void 0:oe.value:n;if(!e||!I||!r){_.error("Please select enquiry, document type, and assign staff before uploading");return}const J=10*1024*1024;if(k.size>J){_.error("File size must be less than 10MB");return}if(k.type!=="application/pdf"){_.error("Only PDF files are allowed");return}if(console.log(" Uploading file:",{name:k.name,size:k.size,type:k.type,enquiryId:e,documentType:I,isSequentialMode:o}),((m==null?void 0:m.filter(Ce=>Ce.enquiry.id.toString()===e&&Ce.type===I))||[]).length>0){const Ce=((je=se.find(js=>js.value===I))==null?void 0:je.label)||I;_.error(`${Ce} already exists for this client. Please select a different document type.`);return}S.mutate({file:k,enquiryId:parseInt(e),type:I})},W=async k=>{var I;try{const ce={isOpen:!0,documentUrl:`http://localhost:5002/api/documents/${k.id}/view`,documentName:`${k.enquiry.name} - ${((I=se.find(je=>je.value===k.type))==null?void 0:I.label)||k.type}`,documentType:k.type,documentId:k.id,isVerified:k.verified};u(ce)}catch(J){console.error("Error getting document URL:",J),_.error("Failed to load document. Please try again.")}},U=k=>{f({isOpen:!0,clientId:k.id,clientName:k.name})},Q=()=>{u({isOpen:!1,documentUrl:"",documentName:"",documentType:"",documentId:void 0,isVerified:!1})},ae=()=>{f({isOpen:!1,clientId:0,clientName:""})},K=k=>{window.confirm("Are you sure you want to delete this document?")&&T.mutate(k)},se=[{value:"GST",label:"GST Certificate",required:!0},{value:"UDYAM",label:"Udyam Registration",required:!0},{value:"BANK_STATEMENT",label:"Bank Statement",required:!0},{value:"OWNER_PAN",label:"Owner PAN Card",required:!0},{value:"AADHAR",label:"Aadhar Card",required:!0},{value:"WEBSITE_GATEWAY",label:"Website & Gateway",required:!0},{value:"IE_CODE",label:"IE Code",required:!0}],O=p==null?void 0:p.find(k=>k.id.toString()===e),z=(m==null?void 0:m.filter(k=>k.enquiry.id.toString()===e))||[],R=z.map(k=>k.type),$=()=>{const k=se.filter(I=>I.required);for(let I=0;I<k.length;I++)if(!R.includes(k[I].value))return{index:I,document:k[I]};return null},Z=$(),oe=Z==null?void 0:Z.document,me={current:R.length,total:se.filter(k=>k.required).length,percentage:Math.round(R.length/se.filter(k=>k.required).length*100)},ve=se.filter(k=>k.required),M=ve.filter(k=>R.includes(k.value)),de=ve.length>0?Math.round(M.length/ve.length*100):0,ie=de===100,xe=z.length>0&&ve.every(k=>{const I=z.find(J=>J.type===k.value);return I&&I.verified}),B=O==null?void 0:O.shortlist,Re=xe&&e;return console.log(" DocumentUpload render state:",{enquiriesLoading:w,enquiriesCount:(p==null?void 0:p.length)||0,enquiriesError:!!y,isLoading:x,documentsCount:(m==null?void 0:m.length)||0}),w&&x?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Document Management"}),i.jsx("p",{className:"text-gray-600",children:"Upload and manage loan application documents"})]}),Re&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card border-green-200 bg-green-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-green-600 text-2xl mr-3",children:""}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-green-900",children:"All Documents Verified!"}),i.jsx("p",{className:"text-green-700",children:"Client is ready for shortlisting"})]})]}),B?i.jsxs("div",{className:"px-6 py-3 bg-blue-100 text-blue-800 font-semibold rounded-lg flex items-center",children:[i.jsx(Ct,{className:"h-5 w-5 mr-2"}),"Already Shortlisted"]}):i.jsxs("button",{onClick:()=>P.mutate(O),disabled:P.isLoading,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",children:[i.jsx(ki,{className:"h-5 w-5 mr-2"}),P.isLoading?"Adding to Shortlist...":"Add to Shortlist"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:se.filter(k=>k.required).map(k=>i.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-green-200",children:[i.jsx(Ct,{className:"h-5 w-5 text-green-600 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-900",children:k.label}),i.jsx("p",{className:"text-sm text-green-600",children:"Verified "})]})]},k.value))}),i.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[i.jsxs("h4",{className:"text-red-800 font-medium mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""}),"All Documents Now Mandatory"]}),i.jsxs("p",{className:"text-sm text-red-700",children:[i.jsx("span",{className:"font-semibold",children:"Website & Gateway"})," and ",i.jsx("span",{className:"font-semibold",children:"IE Code"})," are now required documents. All 7 document types must be uploaded and verified before the client can proceed to shortlist."]})]})]}),e&&!Re&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card bg-blue-50 border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Document Upload Mode"}),i.jsx("p",{className:"text-blue-700 text-sm",children:o?"Sequential mode: Upload documents one by one":"Standard mode: Choose any document type to upload"})]}),i.jsx("button",{onClick:()=>{const k=!o;if(l(k),k){const I=$();I?(s(I.document.value),_.success(` Sequential mode activated! Starting with: ${I.document.label}`)):(_.success("All required documents are already uploaded!"),l(!1))}else s(""),_.success(" Switched to standard mode")},className:`px-4 py-2 rounded-lg font-medium transition-colors ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-blue-600 border border-blue-300 hover:bg-blue-50"}`,children:o?" Sequential Mode":" Switch to Sequential"})]}),o&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Upload Progress"}),i.jsxs("span",{className:"text-blue-900 font-semibold",children:[me.current,"/",me.total," documents"]})]}),i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3",children:i.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${me.percentage}%`}})}),oe&&i.jsx("div",{className:"mt-3 p-3 bg-white rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-2xl mr-3",children:""}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-blue-900",children:["Next: ",oe.label]}),i.jsxs("p",{className:"text-sm text-blue-600",children:["Step ",me.current+1," of ",me.total]})]})]})})]})]}),!Re&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload New Document"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Enquiry *"}),i.jsxs("select",{value:e,onChange:k=>{const I=k.target.value;if(t(I),s(""),I&&p){const J=p.find(ce=>ce.id.toString()===I);J!=null&&J.assignedStaff?a(J.assignedStaff):a("")}else a("")},className:"input-field",disabled:w,children:[i.jsx("option",{value:"",children:w?"Loading enquiries...":y?"Backend server not available - Please start the backend server":!p||p.length===0?"No enquiries available - Backend may be offline":"Choose enquiry..."}),p==null?void 0:p.map(k=>i.jsxs("option",{value:k.id,children:[k.name," - ",k.mobile," (",k.businessType||"No business type",")",k.assignedStaff?`  Staff: ${k.assignedStaff}`:""]},k.id))]}),!!y&&i.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[i.jsxs("p",{className:"text-sm text-red-600",children:[i.jsx("strong",{children:"Backend Connection Error:"})," Cannot connect to the backend server."]}),i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please ensure the backend server is running on port 5002. Check the console for more details."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Staff *"}),i.jsxs("select",{value:r,onChange:k=>{const I=k.target.value;a(I),e&&I&&D.mutate({enquiryId:parseInt(e),staffName:I})},className:"input-field",disabled:!e,required:!0,children:[i.jsx("option",{value:"",children:e?"Choose staff member...":"Select enquiry first..."}),j&&j.map(k=>i.jsxs("option",{value:k.name,children:[k.name," - ",k.role]},k.id))]}),e&&i.jsx("div",{className:"mt-1",children:r?i.jsxs("p",{className:"text-sm text-green-600",children:[" Staff assigned: ",r]}):i.jsx("p",{className:"text-sm text-red-600",children:"Staff assignment is required before uploading documents"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),o?i.jsxs("div",{className:"input-field bg-blue-50 border-blue-300",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-blue-900",children:oe?oe.label:"All documents uploaded!"}),oe&&i.jsxs("span",{className:"text-sm text-blue-600 bg-blue-200 px-2 py-1 rounded",children:["Step ",me.current+1,"/",me.total]})]}),!oe&&i.jsx("p",{className:"text-sm text-green-600 mt-1",children:" All required documents completed!"})]}):i.jsxs("select",{value:n,onChange:k=>s(k.target.value),className:"input-field",disabled:!e,children:[i.jsx("option",{value:"",children:e?"Choose type...":"Select enquiry first..."}),se.map(k=>{const I=R.includes(k.value);return i.jsxs("option",{value:k.value,disabled:I,children:[k.label," ",k.required?"*":"(Optional)"," ",I?" Already Uploaded":""]},k.value)})]})]})]}),O&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-medium text-blue-900",children:"Selected Client Details"}),i.jsx("button",{onClick:()=>U(O),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:" View All Documents"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Name:"}),i.jsx("span",{className:"ml-2 text-blue-900",children:O.name})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Mobile:"}),i.jsx("span",{className:"ml-2 text-blue-900",children:O.mobile})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Business:"}),i.jsx("span",{className:"ml-2 text-blue-900",children:O.businessType})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Document Completion"}),i.jsxs("span",{className:"text-blue-900 font-semibold",children:[de,"%"]})]}),i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${de}%`}})}),i.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[M.length," of ",ve.length," required documents uploaded"]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-blue-700 font-medium mb-3",children:"Document Status"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:se.map(k=>{var ce,je;const I=z.some(Ce=>Ce.type===k.value)||((ce=N==null?void 0:N.documents)==null?void 0:ce.some(Ce=>Ce.type===k.value)),J=z.find(Ce=>Ce.type===k.value)||((je=N==null?void 0:N.documents)==null?void 0:je.find(Ce=>Ce.type===k.value));return i.jsxs("div",{className:"flex items-center space-x-2",children:[I?J!=null&&J.verified?i.jsx("span",{className:"text-green-600 text-lg",title:"Verified",children:""}):i.jsx("span",{className:"text-yellow-600 text-lg",title:"Uploaded but not verified",children:""}):k.required?i.jsx("span",{className:"text-red-600 text-lg",title:"Missing required document",children:""}):i.jsx("span",{className:"text-gray-400 text-lg",title:"Optional document",children:""}),i.jsxs("span",{className:`text-sm ${I?J!=null&&J.verified?"text-green-700 font-medium":"text-yellow-700 font-medium":k.required?"text-red-700":"text-gray-600"}`,children:[k.label,k.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"}),I&&i.jsxs("span",{className:"ml-2 text-xs",children:["(",J!=null&&J.verified?"Verified":"Pending Verification",")"]})]})]},k.value)})}),i.jsxs("div",{className:"mt-3 text-xs text-blue-600",children:[i.jsx("span",{className:"text-green-600",children:" Verified"})," ",i.jsx("span",{className:"text-yellow-600 ml-2",children:" Uploaded (Pending)"})," ",i.jsx("span",{className:"text-red-600 ml-2",children:" Missing (Required)"})," ",i.jsx("span",{className:"text-gray-600 ml-2",children:" Optional"})]})]}),ie&&i.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-green-600 text-lg mr-2",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-800 font-semibold",children:"Ready for Shortlist!"}),i.jsx("p",{className:"text-green-700 text-sm",children:"All required documents completed"})]})]}),i.jsx("button",{onClick:()=>P.mutate(O),disabled:P.isLoading||!!(O!=null&&O.shortlist),className:`px-4 py-2 rounded-md transition-colors disabled:opacity-50 ${O!=null&&O.shortlist?"bg-gray-500 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:O!=null&&O.shortlist?" Already Shortlisted":P.isLoading?"Adding...":" Add to Shortlist"})]})})]}),e&&(o?oe:n)&&r?i.jsxs("div",{className:"relative",children:[o&&oe&&i.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-3xl mr-3",children:""}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:oe.label}),i.jsx("p",{className:"text-blue-600 text-sm",children:"Upload this document to continue"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:me.current+1}),i.jsxs("div",{className:"text-xs text-blue-500",children:["of ",me.total]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-700",children:[i.jsx("span",{children:" Required document"}),i.jsx("span",{children:""}),i.jsx("span",{children:" Next in sequence"}),me.current>0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[" ",me.current," completed"]})]})]})]}),i.jsx(S0,{onUpload:Y}),S.isLoading&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:o?`Uploading ${oe==null?void 0:oe.label}...`:"Uploading document..."})]})})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-gray-50",children:[i.jsx(ts,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 text-lg",children:e?r?o&&!oe?" All documents uploaded! Switch to standard mode for additional uploads.":"Please select a document type to upload":"Please assign a staff member":"Please select an enquiry first"})]})]}),Re&&i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card bg-gray-50 border-gray-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Need to Upload Additional Documents?"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"All required documents are verified. You can still upload optional documents if needed."}),i.jsx("button",{onClick:()=>{const k=document.getElementById("upload-section");k&&k.scrollIntoView({behavior:"smooth"})},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:" Upload Additional Documents"})]})}),Re&&i.jsxs(q.div,{id:"upload-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card border-blue-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Upload Additional Documents"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Enquiry *"}),i.jsxs("select",{value:e,onChange:k=>{const I=k.target.value;if(t(I),s(""),I&&p){const J=p.find(ce=>ce.id.toString()===I);J!=null&&J.assignedStaff?a(J.assignedStaff):a("")}else a("")},className:"input-field",disabled:w,children:[i.jsx("option",{value:"",children:w?"Loading enquiries...":y?"Backend server not available - Please start the backend server":!p||p.length===0?"No enquiries available - Backend may be offline":"Choose enquiry..."}),p==null?void 0:p.map(k=>i.jsxs("option",{value:k.id,children:[k.name," - ",k.mobile," (",k.businessType||"No business type",")",k.assignedStaff?`  Staff: ${k.assignedStaff}`:""]},k.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Staff *"}),i.jsxs("select",{value:r,onChange:k=>{const I=k.target.value;a(I),e&&I&&D.mutate({enquiryId:parseInt(e),staffName:I})},className:"input-field",disabled:!e,required:!0,children:[i.jsx("option",{value:"",children:e?"Choose staff member...":"Select enquiry first..."}),j&&j.map(k=>i.jsxs("option",{value:k.name,children:[k.name," - ",k.role]},k.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),i.jsxs("select",{value:n,onChange:k=>s(k.target.value),className:"input-field",disabled:!e,children:[i.jsx("option",{value:"",children:e?"Choose type...":"Select enquiry first..."}),se.map(k=>{const I=R.includes(k.value);return i.jsxs("option",{value:k.value,disabled:I,children:[k.label," ",k.required?"*":"(Optional)"," ",I?" Already Uploaded":""]},k.value)})]})]})]}),e&&(o?oe:n)&&r?i.jsxs("div",{className:"relative",children:[i.jsx(S0,{onUpload:Y}),S.isLoading&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:"Uploading document..."})]})})]}):i.jsxs("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center bg-blue-50",children:[i.jsx(ts,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),i.jsx("p",{className:"text-blue-600 text-lg",children:e?r?"Please select a document type to upload":"Please assign a staff member":"Please select an enquiry first"})]})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Uploaded Documents"}),i.jsx("p",{className:"text-sm text-gray-500",children:x?"Loading...":e?`${(z==null?void 0:z.length)||0} documents for ${O==null?void 0:O.name}`:"Select a client to view documents"})]}),i.jsxs("div",{className:"flex space-x-2",children:[e&&i.jsx("button",{onClick:async()=>{try{const k=await te.post(`/api/documents/remove-duplicates/${e}`);k.data.removed>0?(_.success(`Removed ${k.data.removed} duplicate documents`),b()):_.success("No duplicates found for this enquiry")}catch{_.error("Failed to remove duplicates")}},className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:" Clean Duplicates"}),i.jsx("button",{onClick:()=>{console.log(" Manual refresh clicked"),b(),_.success("Refreshing documents...")},disabled:x,className:`px-3 py-1 text-white text-sm rounded transition-colors ${x?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:x?" Loading...":" Refresh"})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enquiry"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded By"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading documents..."})]})})}):m&&m.length>0?m==null?void 0:m.filter(k=>e?k.enquiry.id.toString()===e:!0).map(k=>{var I,J,ce,je,Ce;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ts,{className:"h-5 w-5 text-gray-400 mr-2"}),i.jsx("button",{onClick:()=>W(k),className:"text-primary-600 hover:text-primary-900 font-medium",children:"View Document"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.enquiry.name,i.jsx("div",{className:"text-xs text-gray-500",children:k.enquiry.mobile})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((I=se.find(js=>js.value===k.type))==null?void 0:I.label)||k.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("div",{className:"flex items-center",children:k.verified?i.jsxs(i.Fragment,{children:[i.jsx(Ct,{className:"h-5 w-5 text-green-500 mr-1"}),i.jsx("span",{className:"text-green-800 text-sm font-medium",children:"Verified"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Vs,{className:"h-5 w-5 text-yellow-500 mr-1"}),i.jsx("span",{className:"text-yellow-800 text-sm font-medium",children:"Pending"})]})}),k.savedToSupabase&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-4 w-4 text-blue-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-blue-800 text-xs font-medium",children:"Saved to DB"})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.uploadedBy.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.uploadedAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>E.mutate(k.id),disabled:E.isLoading||k.verified,className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-600 hover:bg-green-200 hover:text-green-700 disabled:opacity-50 disabled:cursor-not-allowed",title:k.verified?"Document verified":"Verify document",children:i.jsx("span",{className:"text-sm font-bold",children:""})}),i.jsx("button",{onClick:()=>U(k.enquiry),className:"text-purple-600 hover:text-purple-900 text-sm font-medium",title:"View all documents for this client",children:"View All"}),i.jsx("button",{onClick:()=>P.mutate(k.enquiry),disabled:P.isLoading||!!((J=k.enquiry)!=null&&J.shortlist),className:`font-medium disabled:opacity-50 ${(ce=k.enquiry)!=null&&ce.shortlist?"text-gray-500 cursor-not-allowed":"text-green-600 hover:text-green-900"}`,title:(je=k.enquiry)!=null&&je.shortlist?"Already shortlisted":"Mark this client as shortlisted",children:(Ce=k.enquiry)!=null&&Ce.shortlist?" Shortlisted":" Shortlist"}),i.jsx("button",{onClick:()=>K(k.id),disabled:T.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:"Delete"})]})})]},`doc-${k.id}-${k.type}`)}):i.jsx("tr",{children:i.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[i.jsx(ts,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No documents uploaded for this client yet."}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Upload documents using the form above to see them listed here."}),i.jsxs("p",{className:"text-blue-600 text-sm mt-2",children:["Selected client: ",O==null?void 0:O.name," - ",O==null?void 0:O.mobile]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"Select a client to view their documents."}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Choose an enquiry from the dropdown above to see uploaded documents."})]})]})})})]})})]}),i.jsx(H1,{isOpen:c.isOpen,onClose:Q,documentName:c.documentName,documentType:c.documentType,documentUrl:c.documentUrl,documentId:c.documentId,isVerified:c.isVerified,onVerify:k=>{E.mutate(k),u(I=>({...I,isVerified:!0}))}}),i.jsx(uP,{isOpen:d.isOpen,onClose:ae,clientId:d.clientId,clientName:d.clientName,documents:m||[]})]})}const fP=()=>{const e=ht(),t=_t(),[n,s]=v.useState({}),{data:r,isLoading:a}=Ne("documents-verification",async()=>(await te.get("/api/documents")).data,{staleTime:3*60*1e3,keepPreviousData:!0}),{data:o}=Ne("staff-members",async()=>{var m;try{return((m=(await te.get("/api/staff")).data)==null?void 0:m.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),l=Me(async({documentId:m,verified:x,enquiryId:b})=>({...await te.patch(`/api/documents/${m}/verify`,{verified:x}),enquiryId:b}),{onSuccess:async m=>{if(_.success("Document verification updated successfully!"),e.invalidateQueries("documents-verification"),m.enquiryId){const N=(await e.fetchQuery("documents-verification",async()=>(await te.get("/api/documents")).data)).reduce((S,E)=>{const T=E.enquiry.id;return S[T]||(S[T]={enquiry:E.enquiry,documents:[]}),S[T].documents.push(E),S},{})[m.enquiryId];if(N){const S=N.documents.every(T=>T.verified),E=N.documents.some(T=>T.enquiry.shortlist);if(S&&!E)try{await te.post("/api/shortlist",{enquiryId:m.enquiryId}),_.success(` All documents verified! ${N.enquiry.name} automatically added to shortlist!`),e.invalidateQueries("documents-verification"),e.invalidateQueries(["shortlists"])}catch(T){console.error("Failed to auto-add to shortlist:",T)}}}},onError:m=>{var x,b;_.error(((b=(x=m.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to update verification")}}),c=Me(async({enquiryId:m,enquiryData:x})=>te.post("/api/shortlist",{enquiryId:m,name:x.name,mobile:x.mobile,businessName:x.businessName||x.name,businessNature:x.businessType,loanAmount:x.loanAmount||5e5,comments:"Added from document verification - all documents verified"}),{onSuccess:m=>{var b;const x=((b=m.data)==null?void 0:b.name)||"Client";_.success(`${x} added to shortlist successfully!`),e.invalidateQueries(["shortlists"]),e.invalidateQueries("documents-verification"),setTimeout(()=>{t("/shortlist")},1e3)},onError:m=>{var x,b;_.error(((b=(x=m.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to add to shortlist")}}),u=Me(async({enquiryId:m,staffName:x})=>te.patch(`/api/supabase/enquiries/${m}`,{assignedStaff:x}),{onSuccess:(m,{staffName:x})=>{_.success(`Staff assigned to ${x} successfully!`),e.invalidateQueries("documents-verification")},onError:m=>{console.error("Assignment error:",m),_.error("Failed to assign staff member")}}),d=(m,x,b)=>{l.mutate({documentId:m,verified:x,enquiryId:b})},f=m=>{var T;if(!n[m]){_.error("Please assign a staff member before adding to shortlist");return}const b=r==null?void 0:r.filter(P=>P.enquiry.id===m);if(!(b==null?void 0:b.every(P=>P.verified))){_.error("All documents must be verified before adding to shortlist");return}const S=y(b||[]);if(S.length>0){const P=S.map(D=>D.label).join(", ");_.error(`Missing mandatory document types: ${P}. Please upload all required documents.`);return}const E=(T=b==null?void 0:b[0])==null?void 0:T.enquiry;if(!E){_.error("Enquiry data not found");return}c.mutate({enquiryId:m,enquiryData:E})},h=(m,x)=>{x&&(s(b=>({...b,[m]:x})),u.mutate({enquiryId:m,staffName:x}))},g=()=>i.jsx(Fc,{className:"h-5 w-5"}),p=m=>m?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[i.jsx(Ct,{className:"h-4 w-4 mr-1"}),"Verified"]}):i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx(ha,{className:"h-4 w-4 mr-1"}),"Pending"]}),w=[{type:"GST",label:"GST Certificate",icon:""},{type:"UDYAM",label:"UDYAM Registration",icon:""},{type:"BANK_STATEMENT",label:"Bank Statement",icon:""},{type:"OWNER_PAN",label:"Owner PAN Card",icon:""},{type:"AADHAR",label:"Aadhar Card",icon:""},{type:"WEBSITE_GATEWAY",label:"Website & Gateway",icon:""},{type:"IE_CODE",label:"IE Code",icon:""}],y=m=>{const x=m.map(b=>b.type);return w.filter(b=>!x.includes(b.type))},j=r==null?void 0:r.reduce((m,x)=>{const b=x.enquiry.id;return m[b]||(m[b]={enquiry:x.enquiry,documents:[]}),m[b].documents.push(x),m},{});return a?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Document Verification"}),i.jsxs("div",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.length)||0," documents to review"]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Fc,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Mandatory Document Types for Verification"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-xs",children:[i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:" GST Certificate"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:" UDYAM Registration"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:" Bank Statement"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:" Owner PAN Card"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:" Aadhar Card"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-red-100 text-red-800 font-medium",children:" Website & Gateway"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-red-100 text-red-800 font-medium",children:" IE Code"})]}),i.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[i.jsx("span",{className:"font-semibold",children:"Note:"})," All 7 document types must be verified before a client can be added to the shortlist.",i.jsx("span",{className:"text-red-700 font-semibold",children:"Website & Gateway and IE Code are now mandatory requirements"})," along with the standard documents."]})]})]})}),j&&Object.keys(j).length>0?i.jsx("div",{className:"space-y-6",children:Object.values(j).map(m=>{const x=m.documents.every(E=>E.verified),b=m.documents.some(E=>E.enquiry.shortlist),S=y(m.documents).length===0;return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md border border-gray-200",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.enquiry.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[" ",m.enquiry.mobile,"  ",m.enquiry.businessType||"Business Type Not Specified"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[x&&S&&!b&&i.jsxs("button",{onClick:()=>f(m.enquiry.id),disabled:c.isLoading,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),"Add to Shortlist"]}),x&&!S&&!b&&i.jsxs("button",{disabled:!0,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-400 cursor-not-allowed",title:"Missing mandatory document types",children:[i.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Missing Documents"]}),b&&i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:" In Shortlist"})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(In,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign Staff Member ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n[m.enquiry.id]||"",onChange:E=>h(m.enquiry.id,E.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:u.isLoading,required:!0,children:[i.jsx("option",{value:"",children:"Select staff member..."}),o&&o.map(E=>i.jsxs("option",{value:E.name,children:[E.name," - ",E.role]},E.id))]}),!n[m.enquiry.id]&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Staff assignment is required before adding to shortlist"})]})]})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.documents.map(E=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[g(),i.jsxs("div",{className:"ml-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:E.type.replace(/_/g," ")}),i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Required"})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Document Type: ",i.jsx("span",{className:"font-semibold text-gray-700",children:E.type})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(E.uploadedAt).toLocaleDateString()]})]})]}),p(E.verified)]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>window.open(E.s3Url,"_blank"),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[i.jsx(Tt,{className:"h-3 w-3 mr-1"}),"View"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>d(E.id,!0,E.enquiry.id),disabled:l.isLoading,className:`p-1 rounded ${E.verified?"text-green-600 bg-green-100":"text-gray-400 hover:text-green-600 hover:bg-green-100"} transition-colors`,title:"Approve",children:i.jsx(Ct,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>d(E.id,!1,E.enquiry.id),disabled:l.isLoading,className:`p-1 rounded ${E.verified?"text-gray-400 hover:text-red-600 hover:bg-red-100":"text-red-600 bg-red-100"} transition-colors`,title:"Reject",children:i.jsx(Vs,{className:"h-4 w-4"})})]})]})]},E.id))}),(()=>{const E=y(m.documents);return E.length>0&&i.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Vs,{className:"h-5 w-5 text-red-600 mt-0.5 mr-2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-red-900 mb-2",children:"Missing Mandatory Document Types"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(T=>i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800",children:[T.icon," ",T.label]},T.type))}),i.jsxs("p",{className:"text-xs text-red-700 mt-2",children:[i.jsx("span",{className:"font-semibold",children:"Action Required:"})," These document types must be uploaded before the client can be added to shortlist."]})]})]})})})(),i.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[i.jsxs("span",{className:"text-gray-600",children:["Verification Progress: ",m.documents.filter(E=>E.verified).length," / ",m.documents.length," documents verified"]}),i.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.documents.filter(E=>E.verified).length/m.documents.length*100}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-600",children:["Document Types: ",m.documents.length," / ",w.length," mandatory types uploaded"]}),i.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.documents.length/w.length*100}%`}})})]})]})]})]},m.enquiry.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Fc,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents to verify"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"All documents have been processed or no documents have been uploaded yet."})]})]})};function hP(){var x,b;const e=nc(),[t,n]=v.useState(""),[s,r]=v.useState(!1),[a,o]=v.useState({isOpen:!1,shortlist:null}),l=ht(),c=vn(),u=Me(async({id:N,interestStatus:S})=>{console.log(" Sending status update request:",{id:N,interestStatus:S});const E=await te.patch(`/api/shortlist/${N}`,{interestStatus:S});return console.log(" Status update response:",E.data),E},{onSuccess:(N,S)=>{const E=S.interestStatus==="NOT_INTERESTED"?"Not Interested":"Interested";_.success(`Status updated to: ${E}`),console.log(" Status successfully updated to:",S.interestStatus),console.log(" Backend response:",N.data),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:(N,S)=>{var E,T;console.error(" Status update failed:",N),console.error("Failed variables:",S),l.setQueryData(["shortlists",t],P=>P&&P.map(D=>{if(D.id===S.id){console.log(" Reverting optimistic update for ID:",S.id);const Y=S.interestStatus==="NOT_INTERESTED"?"INTERESTED":"NOT_INTERESTED";return{...D,interestStatus:Y}}return D})),_.error(`Failed to update status: ${((T=(E=N.response)==null?void 0:E.data)==null?void 0:T.message)||N.message}`)}}),d=(N,S)=>{l.setQueryData(["shortlists",t],E=>E&&E.map(T=>T.id===N?(console.log(" Optimistically updating status for ID:",N,"to:",S),{...T,interestStatus:S}):T)),u.mutate({id:N,interestStatus:S})},f=Me(async N=>{console.log(" Executing DELETE request for shortlist ID:",N);try{await te.get("/api/staff/health"),console.log(" Server is accessible, proceeding with DELETE")}catch(E){throw console.error(" Server not accessible:",E),new Error("Backend server is not running. Please start the server first.")}const S=await te.delete(`/api/shortlist/${N}`);return console.log(" DELETE response received:",S.data),S},{onSuccess:(N,S)=>{console.log(" Delete mutation successful:",N.data),_.success("Shortlist deleted successfully!"),l.setQueryData(["shortlists",t],E=>E&&E.filter(T=>T.id!==S)),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:N=>{var E,T,P,D,Y,W,U,Q,ae;console.error(" Delete mutation failed:",N),console.error("Error details:",{message:N.message,status:(E=N.response)==null?void 0:E.status,statusText:(T=N.response)==null?void 0:T.statusText,data:(P=N.response)==null?void 0:P.data,url:(D=N.config)==null?void 0:D.url,method:(Y=N.config)==null?void 0:Y.method});let S="Failed to delete shortlist";N.message.includes("Backend server is not running")?S="Backend server is not running. Please start the server on port 5001.":((W=N.response)==null?void 0:W.status)===404?S="DELETE endpoint not found. Please ensure backend server is running with Supabase routes.":S=((Q=(U=N.response)==null?void 0:U.data)==null?void 0:Q.message)||`Failed to delete shortlist (${((ae=N.response)==null?void 0:ae.status)||N.message})`,_.error(S)}}),h=(N,S)=>{window.confirm(`Are you sure you want to delete the shortlist for "${S}"? This action cannot be undone.`)&&(console.log(" Attempting to delete shortlist ID:",N),console.log("API endpoint will be:",`/api/shortlist/${N}`),f.mutate(N))},g=N=>{console.log(" Viewing shortlist:",N.name),o({isOpen:!0,shortlist:N})},p=()=>{o({isOpen:!1,shortlist:null})},{data:w,isLoading:y,refetch:j}=Ne(["shortlists",t],async()=>{var N,S;try{const E=new URLSearchParams;t&&E.append("name",t);const T=await te.get(`/api/shortlist?${E}`);return console.log(" Shortlist data received:",((N=T.data)==null?void 0:N.length)||0,"items"),console.log(" First shortlist item details:",(S=T.data)==null?void 0:S[0]),T.data||[]}catch(E){return console.error(" Error fetching shortlists:",E),[]}},{staleTime:5*60*1e3,cacheTime:15*60*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:N=>{console.log(" Shortlists query success:",(N==null?void 0:N.length)||0,"shortlists")},onError:N=>{console.error(" Shortlists query error:",N)}});v.useEffect(()=>{var N,S,E;(N=c.state)!=null&&N.fromEdit&&(console.log("Returning from edit page, forcing refresh...",c.state),r(!0),l.clear(),l.invalidateQueries(["shortlists"]),l.invalidateQueries(["shortlist"]),l.invalidateQueries(["cashfree-applications"]),setTimeout(()=>{l.refetchQueries(["shortlists"]),j().finally(()=>{r(!1)})},50)),(S=c.state)!=null&&S.fromAdd&&((E=c.state)!=null&&E.clientName)&&(_.success(` ${c.state.clientName} has been successfully added to shortlist!`),window.history.replaceState({},document.title))},[c.state,l,j,r]);const m=e==="mobile";return y||s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:s?"Refreshing data...":"Loading..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shortlisted Applications"}),i.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[i.jsx("button",{onClick:()=>{console.log(" Manual refresh triggered"),j(),_.success("Refreshing shortlist data...")},className:"btn-outline inline-flex items-center",children:" Refresh"}),i.jsx("button",{onClick:async()=>{var N;try{const S=await te.get("/api/staff/health");_.success("Backend server is running!"),console.log("Server status:",S.data)}catch(S){_.error(`Backend server not accessible: ${((N=S.response)==null?void 0:N.status)||S.message}`),console.error("Server check failed:",S)}},className:"btn-outline inline-flex items-center",children:"Check Server"}),i.jsxs(tt,{to:"/shortlist/new",className:"btn-primary inline-flex items-center",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"New Shortlist"]})]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:N=>n(N.target.value),className:"input-field pl-10"})]}),i.jsx("button",{onClick:()=>{n(""),j()},className:"btn-secondary",children:"Clear"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:w&&w.length>0?i.jsx("div",{className:`${m?"space-y-4":"overflow-x-auto"}`,children:m?i.jsx("div",{className:"space-y-4",children:w.map(N=>{var S,E,T,P,D,Y,W;return i.jsxs(q.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:N.name||((S=N.enquiry)==null?void 0:S.name)}),i.jsxs("select",{value:N.interestStatus||"INTERESTED",onChange:U=>{console.log("Mobile status change:",N.id,"from:",N.interestStatus,"to:",U.target.value),d(N.id,U.target.value)},className:`text-xs border rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-primary-500 transition-colors duration-200 ${N.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${u.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:u.isLoading,children:[i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",N.mobile||((E=N.enquiry)==null?void 0:E.mobile)]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",N.businessNature||N.businessName||((T=N.enquiry)==null?void 0:T.businessType)||"Business"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",(N.loanAmount||((P=N.enquiry)==null?void 0:P.loanAmount)||0).toLocaleString()]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",N.district||((D=N.enquiry)==null?void 0:D.district)||"Location"]}),i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 mr-2",children:" Loan Status:"}),i.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded",children:"Pending"})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"text-sm text-gray-600 mr-2",children:" Staff:"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:((Y=N.staff)==null?void 0:Y.name)||N.staff||"Unassigned"}),((W=N.staff)==null?void 0:W.role)&&i.jsx("span",{className:"text-xs text-gray-500",children:N.staff.role})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",new Date(N.createdAt||N.date).toLocaleDateString()]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>g(N),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[i.jsx(Tt,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(tt,{to:`/shortlist/${N.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[i.jsx(An,{className:"h-4 w-4 mr-1"}),"Edit"]}),!N.cashfreeApplication&&i.jsx(tt,{to:`/payment-gateway/apply/${N.id}`,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Apply to Payment Gateway"}),i.jsxs("button",{onClick:()=>{var U;return h(N.id,N.name||((U=N.enquiry)==null?void 0:U.name)||"Unknown")},disabled:f.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[i.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},N.id)})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[i.jsx("thead",{className:"bg-indigo-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"District"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Status"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Staff"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((N,S)=>{var E,T,P,D,Y,W,U,Q,ae;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:S*.05},className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:S+1}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.createdAt||N.date).toLocaleDateString()}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:i.jsx("div",{className:"truncate",title:N.name||((E=N.enquiry)==null?void 0:E.name),children:N.name||((T=N.enquiry)==null?void 0:T.name)})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:N.mobile||((P=N.enquiry)==null?void 0:P.mobile)}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:i.jsx("div",{className:"truncate",title:N.businessNature||N.businessName||((D=N.enquiry)==null?void 0:D.businessType)||"Business",children:N.businessNature||N.businessName||((Y=N.enquiry)==null?void 0:Y.businessType)||"Business"})}),i.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",(N.loanAmount||((W=N.enquiry)==null?void 0:W.loanAmount)||0).toLocaleString()]}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:N.district||((U=N.enquiry)==null?void 0:U.district)||"N/A"}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:i.jsxs("select",{value:N.interestStatus||"INTERESTED",onChange:K=>{console.log("Desktop status change:",N.id,"from:",N.interestStatus,"to:",K.target.value),d(N.id,K.target.value)},className:`text-sm border rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 ${N.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${u.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:u.isLoading,children:[i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"})]})}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-gray-900",children:((Q=N.staff)==null?void 0:Q.name)||N.staff||"Unassigned"}),((ae=N.staff)==null?void 0:ae.role)&&i.jsx("span",{className:"text-xs text-gray-500",children:N.staff.role})]})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>g(N),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Shortlist Details",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx(tt,{to:`/shortlist/${N.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Shortlist",children:i.jsx(An,{className:"h-4 w-4"})}),!N.cashfreeApplication&&i.jsx(tt,{to:`/payment-gateway/apply/${N.id}`,className:"text-green-600 hover:text-green-900",title:"Apply to Payment Gateway",children:"Apply"}),i.jsx("button",{onClick:()=>{var K;return h(N.id,N.name||((K=N.enquiry)==null?void 0:K.name)||"Unknown")},disabled:f.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Shortlist",children:i.jsx(Ks,{className:"h-4 w-4"})})]})})]},N.id)})})]})})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No shortlisted applications found."}),i.jsxs(tt,{to:"/shortlist/new",className:"btn-primary inline-flex items-center mt-4",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"Create First Shortlist"]})]})}),a.isOpen&&a.shortlist&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Shortlist Details - ",a.shortlist.name]}),i.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"mt-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.mobile||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.district||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.createdAt?new Date(a.shortlist.createdAt).toLocaleDateString():"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Business Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.businessName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Nature"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.businessNature||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Constitution"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.propPvt||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Status"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.gstStatus||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Financial Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loan Amount"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",a.shortlist.loanAmount?a.shortlist.loanAmount.toLocaleString():"N/A"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CAP Amount"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["",a.shortlist.cap?a.shortlist.cap.toLocaleString():"N/A"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Account"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.bankAccount||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Statement Duration"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.bankStatementDuration||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Assignment & Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:((x=a.shortlist.staff)==null?void 0:x.name)||a.shortlist.staff||"Unassigned"}),((b=a.shortlist.staff)==null?void 0:b.role)&&i.jsx("p",{className:"text-xs text-gray-500",children:a.shortlist.staff.role})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.shortlist.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:a.shortlist.interestStatus==="NOT_INTERESTED"?" Not Interested":" Interested"})]})]})]}),a.shortlist.comments&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Comments"}),i.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:a.shortlist.comments})]})]}),i.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[i.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),i.jsxs(tt,{to:`/shortlist/${a.shortlist.id}/edit`,onClick:p,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),"Edit Shortlist"]})]})]})})})]})}function E0(){const e=_t(),{id:t}=Il(),n=!!t,s=ht(),{register:r,handleSubmit:a,reset:o,control:l,formState:{errors:c}}=er(),u=li({control:l,name:"hasGst"}),d=li({control:l,name:"hasBusinessPan"}),f=li({control:l,name:"hasIec"}),h=li({control:l,name:"hasWebsite"}),g=li({control:l,name:"hasGateway"}),{data:p}=Ne("staff-members",async()=>{var m;try{return((m=(await te.get("/api/staff")).data)==null?void 0:m.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),{data:w}=Ne(["shortlist",t],async()=>t?(await te.get(`/api/shortlist/${t}`)).data:null,{enabled:n}),y=Me(async m=>{if(console.log("Submitting shortlist form data:",m),console.log("Key fields being sent - loanAmount:",m.loanAmount,"district:",m.district,"staff:",m.staff),n){const x=await te.patch(`/api/shortlist/${t}`,m);return console.log("PATCH response:",x.data),x}else{const x=await te.post("/api/shortlist",m);return console.log("POST response:",x.data),x}},{onSuccess:async m=>{_.success(n?"Shortlist updated successfully!":"Shortlist created successfully!"),console.log("Shortlist update/create successful:",m.data),s.clear(),s.invalidateQueries(["shortlists"]),s.invalidateQueries(["shortlist"]),s.invalidateQueries(["cashfree-applications"]),await s.refetchQueries(["shortlists"]),setTimeout(()=>{e("/shortlist",{state:{fromEdit:!0,timestamp:Date.now()}})},100)},onError:m=>{var x,b;_.error(((b=(x=m.response)==null?void 0:x.data)==null?void 0:b.message)||"Something went wrong")}});v.useEffect(()=>{w&&o({name:w.name,mobile:w.mobile,businessName:w.businessName||"",businessNature:w.businessNature||"",district:w.district||"",propPvt:w.propPvt||"",hasGst:w.hasGst||"",gst:w.gst||"",hasBusinessPan:w.hasBusinessPan||"",businessPan:w.businessPan||"",hasIec:w.hasIec||"",iec:w.iec||"",hasNewCurrentAccount:w.hasNewCurrentAccount||"",newCurrentAccount:w.newCurrentAccount||!1,hasWebsite:w.hasWebsite||"",website:w.website||"",hasGateway:w.hasGateway||"",gateway:w.gateway||"",transaction:w.transaction||"",bankStatementDuration:w.bankStatementDuration||"",loanAmount:w.loanAmount||0,cap:w.cap||0,bankAccount:w.bankAccount||"",comments:w.comments||"",staff:w.staff||"",gstStatus:w.gstStatus||"",date:w.date||new Date().toISOString().split("T")[0]})},[w,o]);const j=m=>{y.mutate(m)};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Shortlist":"New Shortlist"}),i.jsx("p",{className:"text-gray-600",children:n?"Update shortlist information":"Create a new shortlisted application"})]})]})}),i.jsxs("form",{onSubmit:a(j),className:"card space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{...r("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name"}),c.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),i.jsx("input",{...r("mobile",{required:"Mobile number is required"}),type:"tel",className:"input-field",placeholder:"Enter mobile number"}),c.mobile&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.mobile.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District"}),i.jsx("input",{...r("district"),type:"text",className:"input-field",placeholder:"Enter district"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),i.jsx("input",{...r("date"),type:"date",className:"input-field"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),i.jsx("input",{...r("businessName"),type:"text",className:"input-field",placeholder:"Enter business name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Nature"}),i.jsx("input",{...r("businessNature"),type:"text",className:"input-field",placeholder:"Enter business nature"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constitution of Business (Prop/PVT)"}),i.jsxs("select",{...r("propPvt"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select type"}),i.jsx("option",{value:"Proprietorship",children:"Proprietorship"}),i.jsx("option",{value:"Private Limited",children:"Private Limited"}),i.jsx("option",{value:"Partnership",children:"Partnership"}),i.jsx("option",{value:"LLP",children:"LLP"}),i.jsx("option",{value:"Public Limited",children:"Public Limited"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST"}),i.jsxs("select",{...r("hasGst"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),u==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),i.jsx("input",{...r("gst"),type:"text",className:"input-field",placeholder:"Enter GST number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card"}),i.jsxs("select",{...r("hasBusinessPan"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),d==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card Number"}),i.jsx("input",{...r("businessPan"),type:"text",className:"input-field",placeholder:"Enter business PAN card number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code"}),i.jsxs("select",{...r("hasIec"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),f==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code Number"}),i.jsx("input",{...r("iec"),type:"text",className:"input-field",placeholder:"Enter IEC code number"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financial Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount"}),i.jsx("input",{...r("loanAmount",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter loan amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CAP Amount"}),i.jsx("input",{...r("cap",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter CAP amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account"}),i.jsx("input",{...r("bankAccount"),type:"text",className:"input-field",placeholder:"Enter bank account details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Statement Duration"}),i.jsxs("select",{...r("bankStatementDuration"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select duration"}),i.jsx("option",{value:"6 months",children:"6 months"}),i.jsx("option",{value:"12 months",children:"12 months"}),i.jsx("option",{value:"18 months",children:"18 months"}),i.jsx("option",{value:"24 months",children:"24 months"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Current Account"}),i.jsxs("select",{...r("hasNewCurrentAccount"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Online Presence"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),i.jsxs("select",{...r("hasWebsite"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),h==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),i.jsx("input",{...r("website"),type:"url",className:"input-field",placeholder:"Enter website URL"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway"}),i.jsxs("select",{...r("hasGateway"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),g==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Gateway Details"}),i.jsx("input",{...r("gateway"),type:"text",className:"input-field",placeholder:"Enter payment gateway details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Details"}),i.jsx("input",{...r("transaction"),type:"text",className:"input-field",placeholder:"Enter transaction details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Status"}),i.jsxs("select",{...r("gstStatus"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"Active",children:"Active"}),i.jsx("option",{value:"Inactive",children:"Inactive"}),i.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Staff Assignment"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Staff Member *"}),i.jsxs("select",{...r("staff",{required:"Staff assignment is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select staff member..."}),p&&p.map(m=>i.jsxs("option",{value:m.name,children:[m.name," - ",m.role," (",m.department,")"]},m.id))]}),c.staff&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.staff.message}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select the staff member responsible for this shortlisted application"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),i.jsx("textarea",{...r("comments"),rows:4,className:"input-field",placeholder:"Enter any additional comments..."})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/shortlist"),className:"btn-secondary",children:"Cancel"}),i.jsx(q.button,{type:"submit",disabled:y.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:y.isLoading?n?"Updating...":"Creating...":n?"Update Shortlist":"Create Shortlist"})]})]})]})})}function mP(){const e=nc(),t=vn(),[n,s]=v.useState(""),[r,a]=v.useState(""),o=ht();v.useEffect(()=>{var y,j;(y=t.state)!=null&&y.message&&((j=t.state)==null?void 0:j.type)==="success"&&(_.success(t.state.message),window.history.replaceState({},document.title))},[t.state]);const{data:l,isLoading:c,refetch:u,error:d}=Ne(["cashfree-applications",n,r],async()=>{try{console.log(" Fetching payment gateway applications...");const j=(await Ri.get("/api/cashfree").catch(x=>(console.warn(" Payment gateway API error:",x.message),{data:[]}))).data||[];console.log(" Fetched payment gateway applications:",j.length);let m=j;return n&&(m=m.filter(x=>{var b,N,S,E,T,P,D;return((N=(b=x.shortlist)==null?void 0:b.name)==null?void 0:N.toLowerCase().includes(n.toLowerCase()))||((E=(S=x.shortlist)==null?void 0:S.mobile)==null?void 0:E.includes(n))||((D=(P=(T=x.shortlist)==null?void 0:T.enquiry)==null?void 0:P.name)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))})),r&&(m=m.filter(x=>x.status===r)),console.log(" Returning filtered payment gateway applications:",m.length),console.log(" Sample application data:",m[0]),m}catch(y){return console.error(" Error fetching payment gateway data:",y),[]}},{staleTime:5*60*1e3,cacheTime:15*60*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:y=>{var j;console.log(" Payment applications query success:",(y==null?void 0:y.length)||0,"applications"),y&&y.length>0&&(console.log(" First application details:",y[0]),console.log(" Shortlist data:",(j=y[0])==null?void 0:j.shortlist))},onError:y=>{console.error(" Payment applications query error:",y)}}),f=Me(async({id:y,status:j})=>Ri.patch(`/api/cashfree/${y}/status`,{status:j}),{onSuccess:()=>{_.success("Status updated successfully!"),o.invalidateQueries("cashfree-applications")},onError:y=>{var j,m;_.error(((m=(j=y.response)==null?void 0:j.data)==null?void 0:m.message)||"Failed to update status")}}),h=Me(async y=>Ri.delete(`/api/cashfree/${y}`),{onSuccess:(y,j)=>{var m;_.success(((m=y.data)==null?void 0:m.message)||"Payment application deleted successfully!"),o.setQueryData(["cashfree-applications",n,r],x=>x&&x.filter(b=>b.id!==j)),o.invalidateQueries("cashfree-applications")},onError:y=>{var j,m;_.error(((m=(j=y.response)==null?void 0:j.data)==null?void 0:m.message)||"Failed to delete payment application")}}),g=y=>{h.mutate(y)},p=e==="mobile",w=y=>{switch(y){case"PENDING":return"bg-yellow-100 text-yellow-800";case"TRANSACTION_DONE":return"bg-green-100 text-green-800";case"CLOSED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment gateway applications..."})]})}):d?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),i.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Applications"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the payment gateway applications."}),i.jsx("button",{onClick:()=>u(),className:"btn-primary",children:"Try Again"})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),i.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:n,onChange:y=>s(y.target.value),className:"input-field pl-10"})]}),i.jsxs("select",{value:r,onChange:y=>a(y.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"PENDING",children:"Pending"}),i.jsx("option",{value:"TRANSACTION_DONE",children:"Transaction Done"}),i.jsx("option",{value:"CLOSED",children:"Closed"})]}),i.jsx("button",{onClick:()=>{s(""),a(""),u()},className:"btn-secondary",children:"Clear Filters"}),i.jsx("button",{onClick:()=>{o.invalidateQueries(["cashfree-applications"]),u()},className:"btn-primary",children:"Refresh Data"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:l&&l.length>0?i.jsx("div",{className:`${p?"space-y-4":"overflow-x-auto"}`,children:p?i.jsx("div",{className:"space-y-4",children:l.map(y=>{var j;return i.jsxs(q.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:y.shortlist.name}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w(y.status)}`,children:y.status.replace("_"," ")})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",y.shortlist.mobile]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",y.shortlist.businessType||y.shortlist.businessName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",((j=y.shortlist.loanAmount)==null?void 0:j.toLocaleString())||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",new Date(y.submittedAt).toLocaleDateString()]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.status==="PENDING"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>f.mutate({id:y.id,status:"TRANSACTION_DONE"}),disabled:f.isLoading,className:"text-green-600 hover:text-green-800 text-sm font-medium disabled:opacity-50",children:"Mark Done"}),i.jsx("button",{onClick:()=>f.mutate({id:y.id,status:"CLOSED"}),disabled:f.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Close"})]}),i.jsx("button",{onClick:()=>g(y.id),disabled:h.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})]})]},y.id)})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[i.jsx("thead",{className:"bg-indigo-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),i.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted By"}),i.jsx("th",{className:"w-44 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((y,j)=>{var m,x;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.05},className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j+1}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.submittedAt).toLocaleDateString()}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:i.jsx("div",{className:"truncate",title:y.shortlist.name,children:y.shortlist.name})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:y.shortlist.mobile}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:i.jsx("div",{className:"truncate",title:y.shortlist.businessType||y.shortlist.businessName||"N/A",children:y.shortlist.businessType||y.shortlist.businessName||"N/A"})}),i.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",((m=y.shortlist.loanAmount)==null?void 0:m.toLocaleString())||"N/A"]}),i.jsx("td",{className:"w-28 px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w(y.status)}`,children:y.status.replace("_"," ")})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((x=y.submittedBy)==null?void 0:x.name)||"N/A"}),i.jsxs("td",{className:"w-44 px-4 py-4 whitespace-nowrap text-sm font-medium",children:[i.jsxs("div",{className:"flex gap-1 items-center",children:[y.status==="PENDING"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>f.mutate({id:y.id,status:"TRANSACTION_DONE"}),disabled:f.isLoading,className:"text-green-600 hover:text-green-900 disabled:opacity-50 text-xs px-1",children:"Mark Done"}),i.jsx("button",{onClick:()=>f.mutate({id:y.id,status:"CLOSED"}),disabled:f.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",children:"Close"})]}),i.jsx("button",{onClick:()=>g(y.id),disabled:h.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",title:"Delete Application",children:"Delete"})]}),y.decisionDate&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Decision: ",new Date(y.decisionDate).toLocaleDateString()]})]})]},y.id)})})]})})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Iy,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Gateway Applications"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"No applications have been submitted to the payment gateway yet."}),i.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[i.jsx("p",{children:"To create payment gateway applications:"}),i.jsx("p",{children:"1. Go to Shortlist Applications"}),i.jsx("p",{children:'2. Click "Apply" on a shortlisted client'}),i.jsx("p",{children:"3. Submit the payment gateway application"})]}),i.jsx("button",{onClick:()=>u(),className:"btn-outline mt-4",children:" Refresh Data"})]})}),l&&l.length>0&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(y=>y.status==="PENDING").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pending Applications"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(y=>y.status==="TRANSACTION_DONE").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Completed Transactions"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(y=>y.status==="CLOSED").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Closed Applications"})]})]})]})}function pP(){var f;const e=_t(),{id:t}=Il(),n=ht(),{register:s,handleSubmit:r,reset:a,formState:{errors:o}}=er(),{data:l,isLoading:c}=Ne(["shortlist",t],async()=>{const h=await te.get(`/api/shortlist/${t}`);return console.log("Fetched shortlist data for payment gateway form:",h.data),h.data},{enabled:!!t,staleTime:0,cacheTime:0}),u=Me(async h=>(console.log("Submitting payment gateway application with data:",h),te.post("/api/cashfree/apply",{...h,shortlistId:parseInt(t),status:"PENDING",appliedAt:new Date})),{onSuccess:async h=>{_.success("Payment gateway application submitted successfully!");try{await te.post(`/api/shortlist/${t}/payment-gateway-applied`,h.data.application)}catch(g){console.log("Failed to mark shortlist as having payment gateway application:",g)}h.data.application&&n.setQueryData(["cashfree-applications"],g=>g?[h.data.application,...g]:[h.data.application]),n.invalidateQueries(["cashfree-applications"]),n.invalidateQueries(["shortlists"]),n.invalidateQueries(["shortlist"]),e("/payment-gateway",{state:{message:"Payment gateway application submitted successfully!",type:"success"}})},onError:h=>{var g,p;_.error(((p=(g=h.response)==null?void 0:g.data)==null?void 0:p.message)||"Application submission failed")}});v.useEffect(()=>{l&&(console.log("Pre-filling payment gateway form with shortlist data:",l),console.log("Loan amount from shortlist:",l.loanAmount),a({loanAmount:l.loanAmount||0,tenure:12,interestRate:12.5,processingFee:2.5,purpose:"Business Expansion",bankAccount:l.bankAccount||"",panCard:l.businessPan||"",salarySlips:!1,itrReturns:!0,businessProof:!0,addressProof:!0}))},[l,a]);const d=h=>{u.mutate(h)};return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Loan Application"}),i.jsxs("p",{className:"text-gray-600",children:["Apply for loan through payment gateway for: ",i.jsx("span",{className:"font-semibold",children:(f=l==null?void 0:l.enquiry)==null?void 0:f.name})]})]})]})}),i.jsxs("form",{onSubmit:r(d),className:"card space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Loan Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount () *"}),i.jsx("input",{...s("loanAmount",{required:"Loan amount is required",min:5e4}),type:"number",className:"input-field",placeholder:"Enter loan amount"}),o.loanAmount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.loanAmount.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenure (Months) *"}),i.jsxs("select",{...s("tenure",{required:"Tenure is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select tenure"}),i.jsx("option",{value:"6",children:"6 Months"}),i.jsx("option",{value:"12",children:"12 Months"}),i.jsx("option",{value:"18",children:"18 Months"}),i.jsx("option",{value:"24",children:"24 Months"}),i.jsx("option",{value:"36",children:"36 Months"})]}),o.tenure&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.tenure.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate (%)"}),i.jsx("input",{...s("interestRate",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"12.5"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee (%)"}),i.jsx("input",{...s("processingFee",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"2.5"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose *"}),i.jsxs("select",{...s("purpose",{required:"Purpose is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select purpose"}),i.jsx("option",{value:"Business Expansion",children:"Business Expansion"}),i.jsx("option",{value:"Working Capital",children:"Working Capital"}),i.jsx("option",{value:"Equipment Purchase",children:"Equipment Purchase"}),i.jsx("option",{value:"Inventory",children:"Inventory"}),i.jsx("option",{value:"Other",children:"Other"})]}),o.purpose&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.purpose.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collateral"}),i.jsx("input",{...s("collateral"),type:"text",className:"input-field",placeholder:"Property, Gold, etc."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bank Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Number *"}),i.jsx("input",{...s("bankAccount",{required:"Bank account is required"}),type:"text",className:"input-field",placeholder:"Enter bank account number"}),o.bankAccount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.bankAccount.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code *"}),i.jsx("input",{...s("ifscCode",{required:"IFSC code is required"}),type:"text",className:"input-field",placeholder:"Enter IFSC code"}),o.ifscCode&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.ifscCode.message})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Document Checklist"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("salarySlips"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Salary Slips (Last 3 months)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("itrReturns"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"ITR Returns (Last 2 years)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("businessProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Business Registration Proof"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("addressProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Address Proof"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),i.jsx("textarea",{...s("remarks"),rows:4,className:"input-field",placeholder:"Any additional information..."})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/shortlist"),className:"btn-secondary",children:"Cancel"}),i.jsx(q.button,{type:"submit",disabled:u.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.isLoading?"Submitting...":"Submit Application"})]})]})]})})}function gP(){const[e,t]=v.useState(!1),[n,s]=v.useState(""),[r,a]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState({}),[d,f]=v.useState(null),[h,g]=v.useState(!1),[p,w]=v.useState({1:"Active",2:"Active",3:"Active",4:"Inactive",5:"Active",6:"Active",7:"Active"}),y=ht(),{register:j,handleSubmit:m,reset:x,setValue:b,formState:{errors:N}}=er(),{data:S,isLoading:E,refetch:T}=Ne("staff",async()=>(await te.get("/api/staff")).data,{staleTime:4*60*1e3,keepPreviousData:!0}),{data:P}=Ne("staff-stats",async()=>(await te.get("/api/staff/stats/summary")).data,{staleTime:5*60*1e3,keepPreviousData:!0}),D=(S==null?void 0:S.staff)||[],Y=(P==null?void 0:P.stats)||{},W=Me(async M=>te.post("/api/staff",M),{onMutate:async M=>{await y.cancelQueries("staff"),await y.cancelQueries("staff-stats");const de=y.getQueryData("staff"),ie=y.getQueryData("staff-stats"),xe={id:Date.now(),name:M.name,email:M.email,role:M.role,status:"PENDING",hasAccess:!1,department:M.department||"",position:M.position||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return y.setQueryData("staff",B=>({...B,staff:[...(B==null?void 0:B.staff)||[],xe]})),y.setQueryData("staff-stats",B=>{var Re,k,I,J,ce;return{...B,stats:{...B==null?void 0:B.stats,totalStaff:(((Re=B==null?void 0:B.stats)==null?void 0:Re.totalStaff)||0)+1,employeeCount:M.role==="EMPLOYEE"?(((k=B==null?void 0:B.stats)==null?void 0:k.employeeCount)||0)+1:((I=B==null?void 0:B.stats)==null?void 0:I.employeeCount)||0,adminCount:M.role==="ADMIN"?(((J=B==null?void 0:B.stats)==null?void 0:J.adminCount)||0)+1:((ce=B==null?void 0:B.stats)==null?void 0:ce.adminCount)||0}}}),{previousStaff:de,previousStats:ie}},onSuccess:M=>{const de=M.data.emailSent?" Verification email sent successfully!":" Failed to send verification email - check SMTP settings";_.success(`Staff member created! ${de}`),t(!1),x(),setTimeout(()=>{y.invalidateQueries("staff"),y.invalidateQueries("staff-stats")},100)},onError:(M,de,ie)=>{var xe,B;ie!=null&&ie.previousStaff&&y.setQueryData("staff",ie.previousStaff),ie!=null&&ie.previousStats&&y.setQueryData("staff-stats",ie.previousStats),_.error(((B=(xe=M.response)==null?void 0:xe.data)==null?void 0:B.message)||"Failed to create staff member")}}),U=Me(async M=>te.delete(`/api/staff/${M}`),{onMutate:async M=>{await y.cancelQueries("staff"),await y.cancelQueries("staff-stats");const de=y.getQueryData("staff"),ie=y.getQueryData("staff-stats"),xe=D.find(B=>B.id===M);return y.setQueryData("staff",B=>{var Re;return{...B,staff:((Re=B==null?void 0:B.staff)==null?void 0:Re.filter(k=>k.id!==M))||[]}}),xe&&y.setQueryData("staff-stats",B=>{var Re,k,I,J,ce,je,Ce;return{...B,stats:{...B==null?void 0:B.stats,totalStaff:Math.max(0,(((Re=B==null?void 0:B.stats)==null?void 0:Re.totalStaff)||0)-1),employeeCount:xe.role==="EMPLOYEE"?Math.max(0,(((k=B==null?void 0:B.stats)==null?void 0:k.employeeCount)||0)-1):((I=B==null?void 0:B.stats)==null?void 0:I.employeeCount)||0,adminCount:xe.role==="ADMIN"?Math.max(0,(((J=B==null?void 0:B.stats)==null?void 0:J.adminCount)||0)-1):((ce=B==null?void 0:B.stats)==null?void 0:ce.adminCount)||0,activeStaff:xe.status==="ACTIVE"?Math.max(0,(((je=B==null?void 0:B.stats)==null?void 0:je.activeStaff)||0)-1):((Ce=B==null?void 0:B.stats)==null?void 0:Ce.activeStaff)||0}}}),{previousStaff:de,previousStats:ie}},onSuccess:()=>{_.success("Staff member deleted successfully!"),setTimeout(()=>{y.invalidateQueries("staff"),y.invalidateQueries("staff-stats")},100)},onError:(M,de,ie)=>{var xe,B;ie!=null&&ie.previousStaff&&y.setQueryData("staff",ie.previousStaff),ie!=null&&ie.previousStats&&y.setQueryData("staff-stats",ie.previousStats),_.error(((B=(xe=M.response)==null?void 0:xe.data)==null?void 0:B.message)||"Failed to delete staff member")}}),Q=Me(async M=>te.post(`/api/staff/${M}/revoke-access`),{onMutate:async M=>{await y.cancelQueries("staff");const de=y.getQueryData("staff");return y.setQueryData("staff",ie=>{var xe;return{...ie,staff:((xe=ie==null?void 0:ie.staff)==null?void 0:xe.map(B=>B.id===M?{...B,hasAccess:!1,status:"INACTIVE"}:B))||[]}}),{previousStaff:de}},onSuccess:()=>{_.success("Access revoked successfully! Notification sent via email."),setTimeout(()=>{y.invalidateQueries("staff"),y.invalidateQueries("staff-stats")},100)},onError:(M,de,ie)=>{var xe,B;ie!=null&&ie.previousStaff&&y.setQueryData("staff",ie.previousStaff),_.error(((B=(xe=M.response)==null?void 0:xe.data)==null?void 0:B.message)||"Failed to revoke access")}}),ae=Me(async M=>te.post(`/api/staff/${M}/grant-access`),{onMutate:async M=>{await y.cancelQueries("staff");const de=y.getQueryData("staff");return y.setQueryData("staff",ie=>{var xe;return{...ie,staff:((xe=ie==null?void 0:ie.staff)==null?void 0:xe.map(B=>B.id===M?{...B,hasAccess:!0,status:"ACTIVE"}:B))||[]}}),{previousStaff:de}},onSuccess:M=>{_.success(`Access granted! ${M.data.newAccessLinkSent?"New access link sent via email.":"Failed to send email."}`),setTimeout(()=>{y.invalidateQueries("staff"),y.invalidateQueries("staff-stats")},100)},onError:(M,de,ie)=>{var xe,B;ie!=null&&ie.previousStaff&&y.setQueryData("staff",ie.previousStaff),_.error(((B=(xe=M.response)==null?void 0:xe.data)==null?void 0:B.message)||"Failed to grant access")}}),K=Me(async M=>te.post(`/api/staff/resend-verification/${M}`),{onSuccess:M=>{_.success(`Verification email ${M.data.emailSent?"sent successfully!":"failed to send."}`),setTimeout(()=>{y.invalidateQueries("staff")},100)},onError:M=>{var de,ie;_.error(((ie=(de=M.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to resend verification email")}}),se=M=>{W.mutate(M)},O=M=>{u(de=>({...de,[M]:!de[M]}))},z=M=>{window.confirm("Are you sure you want to delete this staff member?")&&U.mutate(M)},R=M=>{f(M),g(!0)},$=M=>{w(de=>({...de,[M]:de[M]==="Active"?"Inactive":"Active"}))},Z=D==null?void 0:D.filter(M=>M.name.toLowerCase().includes(n.toLowerCase())||M.email.toLowerCase().includes(n.toLowerCase())),oe=M=>{switch(M){case"SUPER_ADMIN":return"bg-purple-100 text-purple-800";case"ADMIN":return"bg-blue-100 text-blue-800";case"EMPLOYEE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},me=M=>({1:3,2:2,3:4,4:0,5:1,6:2,7:1})[M]||0,ve=M=>({1:"Rajesh Kumar, Priya Sharma, Amit Patel",2:"Sunita Gupta, Vikram Singh",3:"Anita Desai, Ravi Mehta, Sanjay Joshi, Kavita Rao",4:null,5:"Deepak Verma",6:"Neha Agarwal, Rohit Sharma",7:"Manish Gupta"})[M]||null;return E?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-7 gap-4",children:D&&D.slice(0,7).map(M=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-white",children:M.name.split(" ").map(de=>de[0]).join("").substring(0,2)})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.role})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Clients Taken"}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${p[M.id]==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p[M.id]==="Active"?"":""})]}),i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:me(M.id)}),i.jsx("div",{className:"text-xs text-gray-500",children:me(M.id)===1?"Client":"Clients"})]})]})]},M.id))}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage team members and their roles"})]}),i.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[i.jsxs("button",{onClick:()=>T(),className:"btn-secondary inline-flex items-center",children:[i.jsx(el,{className:"h-5 w-5 mr-2"}),"Refresh"]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:()=>{a("ADMIN"),t(!0),setTimeout(()=>b("role","ADMIN"),100)},className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg inline-flex items-center shadow-md hover:shadow-lg transition-all duration-200",children:[i.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Add Admin"]}),i.jsxs("button",{onClick:()=>{a("EMPLOYEE"),t(!0),setTimeout(()=>b("role","EMPLOYEE"),100)},className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg inline-flex items-center shadow-md hover:shadow-lg transition-all duration-200",children:[i.jsx(ki,{className:"h-5 w-5 mr-2"}),"Add Employee"]})]})]})]}),e&&i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>{t(!1),a(null),l(null),x()},className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",title:"Back to Staff Management",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:o?`Edit ${o.name}`:r==="ADMIN"?"Add New Admin":r==="EMPLOYEE"?"Add New Employee":"Add New Staff Member"}),i.jsx("p",{className:"text-sm text-gray-500",children:o?`Update ${o.role.toLowerCase()} account details`:r==="ADMIN"?"Create admin account with full access":r==="EMPLOYEE"?"Create employee account with limited access":"Fill details and send verification email"})]})]}),i.jsx("button",{onClick:()=>{t(!1),a(null),l(null),x()},className:"text-gray-400 hover:text-gray-600",children:i.jsx(xn,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:m(se),className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{...j("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input-field",placeholder:"Enter full name"}),N.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),i.jsx("input",{...j("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter email address"}),N.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.email.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",o?"(leave blank to keep current)":"*"]}),i.jsx("input",{...j("password",{required:o?!1:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input-field",placeholder:o?"Leave blank to keep current password":"Enter password"}),N.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.password.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),i.jsxs("select",{...j("role",{required:"Role is required"}),className:`input-field ${r?"bg-gray-100 cursor-not-allowed":""}`,disabled:!!r,children:[i.jsx("option",{value:"",children:"Select Role"}),i.jsx("option",{value:"ADMIN",children:"Admin"}),i.jsx("option",{value:"EMPLOYEE",children:"Employee"})]}),N.role&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.role.message})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{t(!1),a(null),l(null),x()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:W.isLoading,className:"btn-primary disabled:opacity-50",children:W.isLoading?o?"Updating...":"Creating...":o?"Update Staff":"Create Staff & Send Access Link"})]})]})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search staff members...",value:n,onChange:M=>s(M.target.value),className:"input-field pl-10"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:Z&&Z.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden shadow-sm",children:[i.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Sl No"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Password"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Client Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Available"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Last Login"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map((M,de)=>i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:de*.05},className:"hover:bg-blue-50 transition-all duration-200 border-b border-gray-100",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:de+1})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:i.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-white",children:M.name.split(" ").map(ie=>ie[0]).join("").substring(0,2)})})}),i.jsx("div",{className:"ml-4",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:M.email})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-900 font-mono",children:c[M.id]?M.password||"12345678":""}),i.jsx("button",{onClick:()=>O(M.id),className:"text-gray-400 hover:text-gray-600 transition-colors",title:c[M.id]?"Hide password":"Show password",children:c[M.id]?i.jsx(nl,{className:"h-4 w-4"}):i.jsx(Tt,{className:"h-4 w-4"})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${oe(M.role)}`,children:M.role})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${M.status==="ACTIVE"?"bg-green-100 text-green-800 border border-green-200":M.status==="PENDING"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:M.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:ve(M.id)?i.jsxs("div",{className:"max-w-xs",children:[i.jsx("div",{className:"truncate font-medium",title:ve(M.id)||"",children:ve(M.id)}),i.jsxs("div",{className:"text-xs text-gray-500",children:[me(M.id)," ",me(M.id)===1?"client":"clients"]})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-green-600 font-medium",children:"Available for Assignment"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Ready for New Client"})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("button",{onClick:()=>$(M.id),className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full cursor-pointer transition-all duration-200 hover:shadow-md ${p[M.id]==="Active"?"bg-green-100 text-green-800 border border-green-200 hover:bg-green-200":"bg-red-100 text-red-800 border border-red-200 hover:bg-red-200"}`,title:`Click to toggle to ${p[M.id]==="Active"?"Inactive":"Active"}`,children:p[M.id]==="Active"?i.jsx(i.Fragment,{children:" Active"}):i.jsx(i.Fragment,{children:" Inactive"})})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:M.lastLogin?new Date(M.lastLogin).toLocaleDateString():"Never"}),i.jsx("div",{className:"text-xs text-gray-500",children:M.lastLogin?new Date(M.lastLogin).toLocaleTimeString():"No login yet"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("button",{onClick:()=>R(M),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded-md text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors",title:"View Staff Details",children:i.jsx(Tt,{className:"h-4 w-4"})}),M.status==="PENDING"&&i.jsx("button",{onClick:()=>K.mutate(M.id),disabled:K.isLoading,className:"inline-flex items-center px-2 py-1 border border-orange-300 rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 disabled:opacity-50 transition-colors",title:"Resend Verification Email",children:i.jsx(u5,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>{l(M),a(M.role),t(!0),setTimeout(()=>{b("name",M.name),b("email",M.email),b("role",M.role)},100)},className:"inline-flex items-center px-2 py-1 border border-blue-300 rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",title:"Edit Staff Member",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),M.hasAccess?i.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to revoke access for this staff member?")&&Q.mutate(M.id)},disabled:Q.isLoading,className:"inline-flex items-center px-2 py-1 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 transition-colors",title:"Revoke Access",children:i.jsx(xn,{className:"h-4 w-4"})}):i.jsx("button",{onClick:()=>ae.mutate(M.id),disabled:ae.isLoading,className:"inline-flex items-center px-2 py-1 border border-green-300 rounded-md text-green-700 bg-green-50 hover:bg-green-100 disabled:opacity-50 transition-colors",title:"Grant Access",children:i.jsx(Df,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>z(M.id),disabled:U.isLoading,className:"inline-flex items-center px-2 py-1 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 transition-colors",title:"Delete Staff",children:i.jsx(Ks,{className:"h-4 w-4"})})]})})]},M.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ki,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 text-lg",children:"No staff members found."}),i.jsxs("button",{onClick:()=>t(!0),className:"btn-primary inline-flex items-center mt-4",children:[i.jsx(ki,{className:"h-5 w-5 mr-2"}),"Invite First Staff Member"]})]})}),D&&D.length>0&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Y.totalStaff||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Staff"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:Y.activeStaff||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Y.adminCount||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Admins"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:Y.employeeCount||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Employees"})]})]}),h&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Member Details"}),i.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(xn,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl font-medium text-white",children:d.name.split(" ").map(M=>M[0]).join("").substring(0,2)})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:d.name}),i.jsx("p",{className:"text-gray-600",children:d.email})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${oe(d.role)}`,children:d.role})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${d.status==="ACTIVE"?"bg-green-100 text-green-800 border border-green-200":d.status==="PENDING"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:d.status})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded",children:c[d.id]?d.password||"12345678":""}),i.jsx("button",{onClick:()=>O(d.id),className:"text-gray-400 hover:text-gray-600 transition-colors",title:c[d.id]?"Hide password":"Show password",children:c[d.id]?i.jsx(nl,{className:"h-4 w-4"}):i.jsx(Tt,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available"}),i.jsx("button",{onClick:()=>$(d.id),className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full cursor-pointer transition-all duration-200 hover:shadow-md ${p[d.id]==="Active"?"bg-green-100 text-green-800 border border-green-200 hover:bg-green-200":"bg-red-100 text-red-800 border border-red-200 hover:bg-red-200"}`,title:`Click to toggle to ${p[d.id]==="Active"?"Inactive":"Active"}`,children:p[d.id]==="Active"?i.jsx(i.Fragment,{children:" Active"}):i.jsx(i.Fragment,{children:" Inactive"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),i.jsx("div",{className:"text-sm text-gray-900",children:d.lastLogin?new Date(d.lastLogin).toLocaleDateString():"Never"}),i.jsx("div",{className:"text-xs text-gray-500",children:d.lastLogin?new Date(d.lastLogin).toLocaleTimeString():"No login yet"})]})]})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),i.jsx("span",{className:"ml-2 text-gray-600",children:new Date(d.createdAt).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Updated:"}),i.jsx("span",{className:"ml-2 text-gray-600",children:new Date(d.updatedAt).toLocaleDateString()})]})]})})]}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Close"}),i.jsx("button",{onClick:()=>{l(d),a(d.role),g(!1),t(!0),setTimeout(()=>{b("name",d.name),b("email",d.email),b("role",d.role)},100)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Edit Staff"})]})]})})]})}function xP(){const e=nc(),[t,n]=v.useState(""),[s,r]=v.useState(!1),[a,o]=v.useState({isOpen:!1,transaction:null}),l=ht(),c=vn(),u=Me(async x=>{console.log(" Executing DELETE request for transaction ID:",x);const b=await te.delete(`/api/transactions/${x}`);return console.log(" DELETE response received:",b.data),b},{onSuccess:(x,b)=>{console.log(" Delete mutation successful:",x.data),_.success("Transaction deleted successfully!"),l.setQueryData(["transactions",t],N=>N&&N.filter(S=>S.id!==b)),setTimeout(()=>{l.invalidateQueries(["transactions"])},100)},onError:x=>{var b,N;console.error(" Delete mutation failed:",x),_.error(((N=(b=x.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to delete transaction")}}),d=(x,b)=>{window.confirm(`Are you sure you want to delete the transaction "${b}"? This action cannot be undone.`)&&(console.log(" Attempting to delete transaction ID:",x),u.mutate(x))},f=x=>{console.log(" Viewing transaction:",x.name),o({isOpen:!0,transaction:x})},h=()=>{o({isOpen:!1,transaction:null})},{data:g,isLoading:p,refetch:w}=Ne(["transactions",t],async()=>{const x=new URLSearchParams;t&&x.append("name",t);const b=await te.get(`/api/transactions?${x}`);return console.log("Transaction data received:",b.data),b.data},{staleTime:2*60*1e3,keepPreviousData:!0}),y=x=>new Date(x).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),j={total:(g==null?void 0:g.length)||0,completed:(g==null?void 0:g.filter(x=>x.status==="COMPLETED").length)||0,pending:(g==null?void 0:g.filter(x=>x.status==="PENDING").length)||0,failed:(g==null?void 0:g.filter(x=>x.status==="FAILED").length)||0,totalAmount:(g==null?void 0:g.reduce((x,b)=>x+(b.amount||0),0))||0,completedAmount:(g==null?void 0:g.filter(x=>x.status==="COMPLETED").reduce((x,b)=>x+(b.amount||0),0))||0};v.useEffect(()=>{var x,b,N;(x=c.state)!=null&&x.fromAdd&&((b=c.state)!=null&&b.transactionName)&&(_.success(` ${c.state.transactionName} transaction has been successfully added!`),window.history.replaceState({},document.title)),(N=c.state)!=null&&N.fromEdit&&(console.log("Returning from edit page, forcing refresh...",c.state),r(!0),l.clear(),l.invalidateQueries(["transactions"]),setTimeout(()=>{l.refetchQueries(["transactions"]),w().finally(()=>{r(!1)})},50))},[c.state,l,w,r]);const m=e==="mobile";return p||s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:s?"Refreshing data...":"Loading..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transaction Dashboard"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage all financial transactions"})]}),i.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[i.jsx("button",{onClick:()=>{console.log(" Manual refresh triggered"),w(),_.success("Refreshing transaction data...")},className:"btn-outline inline-flex items-center",children:" Refresh"}),i.jsxs(tt,{to:"/transactions/new",className:"btn-primary inline-flex items-center",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"New Transaction"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Transactions"}),i.jsx("p",{className:"text-3xl font-bold",children:j.total})]}),i.jsx("div",{className:"bg-blue-400 bg-opacity-30 rounded-lg p-3",children:i.jsx(tl,{className:"h-8 w-8"})})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),i.jsx("p",{className:"text-3xl font-bold",children:j.completed}),i.jsxs("p",{className:"text-green-100 text-xs mt-1",children:["",j.completedAmount.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-400 bg-opacity-30 rounded-lg p-3",children:i.jsx(Ct,{className:"h-8 w-8"})})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Pending"}),i.jsx("p",{className:"text-3xl font-bold",children:j.pending})]}),i.jsx("div",{className:"bg-yellow-400 bg-opacity-30 rounded-lg p-3",children:i.jsx(ha,{className:"h-8 w-8"})})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Amount"}),i.jsxs("p",{className:"text-2xl font-bold",children:["",j.totalAmount.toLocaleString()]}),j.failed>0&&i.jsxs("p",{className:"text-purple-100 text-xs mt-1",children:[j.failed," failed"]})]}),i.jsx("div",{className:"bg-purple-400 bg-opacity-30 rounded-lg p-3",children:i.jsx("span",{className:"text-2xl font-bold",children:""})})]})})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Qs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:x=>n(x.target.value),className:"input-field pl-10"})]}),i.jsx("button",{onClick:()=>{n(""),w()},className:"btn-secondary",children:"Clear"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:g&&g.length>0?i.jsx("div",{className:`${m?"space-y-4":"overflow-x-auto"}`,children:m?i.jsx("div",{className:"space-y-4",children:g.map(x=>i.jsxs(q.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.status==="COMPLETED"?"bg-green-100 text-green-800":x.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:x.status})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",new Date(x.date).toLocaleDateString()]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",y(x.date)]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",x.transactionId]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",x.amount.toLocaleString()]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>f(x),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[i.jsx(Tt,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(tt,{to:`/transactions/${x.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[i.jsx(An,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs("button",{onClick:()=>d(x.id,x.name),disabled:u.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[i.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},x.id))}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[i.jsx("thead",{className:"bg-indigo-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Time"}),i.jsx("th",{className:"w-40 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Transaction ID"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((x,b)=>i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.05},className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:b+1}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:i.jsx("div",{className:"truncate",title:x.name,children:x.name})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.date).toLocaleDateString()}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:y(x.date)}),i.jsx("td",{className:"w-40 px-4 py-4 text-sm text-gray-500",children:i.jsx("div",{className:"truncate",title:x.transactionId,children:x.transactionId})}),i.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",x.amount.toLocaleString()]}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.status==="COMPLETED"?"bg-green-100 text-green-800":x.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:x.status})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>f(x),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Transaction Details",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx(tt,{to:`/transactions/${x.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Transaction",children:i.jsx(An,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>d(x.id,x.name),disabled:u.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Transaction",children:i.jsx(Ks,{className:"h-4 w-4"})})]})})]},x.id))})]})})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No transactions found."}),i.jsxs(tt,{to:"/transactions/new",className:"btn-primary inline-flex items-center mt-4",children:[i.jsx(_s,{className:"h-5 w-5 mr-2"}),"Create First Transaction"]})]})}),a.isOpen&&a.transaction&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Transaction Details - ",a.transaction.name]}),i.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"mt-4 space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.transaction.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(a.transaction.date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y(a.transaction.date)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction ID"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:a.transaction.transactionId})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",a.transaction.amount.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.transaction.status==="COMPLETED"?"bg-green-100 text-green-800":a.transaction.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.transaction.status})]})]})}),i.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[i.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),i.jsxs(tt,{to:`/transactions/${a.transaction.id}/edit`,onClick:h,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),"Edit Transaction"]})]})]})})})]})}function k0(){const e=_t(),{id:t}=Il(),n=!!t,s=ht(),{register:r,handleSubmit:a,reset:o,formState:{errors:l}}=er(),{data:c}=Ne(["transaction",t],async()=>t?(await te.get(`/api/transactions/${t}`)).data:null,{enabled:n}),u=Me(async f=>{if(console.log("Submitting transaction form data:",f),n){const h=await te.patch(`/api/transactions/${t}`,f);return console.log("PATCH response:",h.data),h}else{const h=await te.post("/api/transactions",f);return console.log("POST response:",h.data),h}},{onSuccess:async f=>{_.success(n?"Transaction updated successfully!":"Transaction created successfully!"),console.log("Transaction update/create successful:",f.data),s.clear(),s.invalidateQueries(["transactions"]),s.invalidateQueries(["transaction"]),await s.refetchQueries(["transactions"]),setTimeout(()=>{var h;e("/transactions",{state:{fromAdd:!n,fromEdit:n,transactionName:((h=f.data.transaction)==null?void 0:h.name)||f.data.name,timestamp:Date.now()}})},100)},onError:f=>{var h,g;_.error(((g=(h=f.response)==null?void 0:h.data)==null?void 0:g.message)||"Something went wrong")}});v.useEffect(()=>{if(c){const f=c.date?new Date(c.date):new Date;o({name:c.name,date:f.toISOString().split("T")[0],time:f.toTimeString().split(" ")[0].substring(0,5),transactionId:c.transactionId,amount:c.amount,status:c.status})}},[c,o]);const d=f=>{const h=`${f.date}T${f.time}:00.000Z`,g={...f,date:h};u.mutate(g)};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/transactions"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Back to Transactions"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Transaction":"New Transaction"}),i.jsx("p",{className:"text-gray-600",children:n?"Update transaction information":"Create a new transaction record"})]})]})}),i.jsxs("form",{onSubmit:a(d),className:"card space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),i.jsx("input",{...r("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter transaction name"}),l.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),i.jsx("input",{...r("date",{required:"Date is required"}),type:"date",className:"input-field"}),l.date&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.date.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),i.jsx("input",{...r("time",{required:"Time is required"}),type:"time",className:"input-field"}),l.time&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.time.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID *"}),i.jsx("input",{...r("transactionId",{required:"Transaction ID is required"}),type:"text",className:"input-field",placeholder:"Enter transaction ID"}),l.transactionId&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.transactionId.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),i.jsx("input",{...r("amount",{required:"Amount is required",min:{value:.01,message:"Amount must be greater than 0"}}),type:"number",step:"0.01",className:"input-field",placeholder:"Enter amount"}),l.amount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.amount.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),i.jsxs("select",{...r("status",{required:"Status is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"PENDING",children:"Pending"}),i.jsx("option",{value:"COMPLETED",children:"Completed"}),i.jsx("option",{value:"FAILED",children:"Failed"})]}),l.status&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.status.message})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/transactions"),className:"btn-secondary",children:"Cancel"}),i.jsx(q.button,{type:"submit",disabled:u.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.isLoading?n?"Updating...":"Creating...":n?"Update Transaction":"Create Transaction"})]})]})]})})}const yP=["Manufacturing","Trading","Service","Retail","Wholesale","Construction","Transportation","Agriculture","Technology","Healthcare","Education","Hospitality","Other"],vP=()=>{const[e,t]=v.useState(!1),n=_t(),{register:s,handleSubmit:r,formState:{errors:a},reset:o}=er(),l=async c=>{var u,d,f,h,g,p,w;t(!0);try{console.log(" Submitting loan application:",c);const y=await Ri.post("/api/enquiries",{name:c.name,mobile:c.mobile,businessType:c.businessType||null,businessName:c.businessName||null,source:"ONLINE_APPLICATION",interestStatus:"INTERESTED"});console.log(" Application submitted successfully:",y.data),y.data&&(ze.success("Application submitted successfully! We will contact you soon."),o(),setTimeout(()=>{n("/")},2e3))}catch(y){console.error(" Error submitting application:",y),console.error(" Error details:",{status:(u=y.response)==null?void 0:u.status,statusText:(d=y.response)==null?void 0:d.statusText,data:(f=y.response)==null?void 0:f.data,message:y.message});let j="Failed to submit application. Please try again.";((h=y.response)==null?void 0:h.status)===404?j="Service not available. Please try again later.":((g=y.response)==null?void 0:g.status)===500?j="Server error. Please try again later.":(w=(p=y.response)==null?void 0:p.data)!=null&&w.message?j=y.response.data.message:y.message.includes("Network Error")&&(j="Network error. Please check your connection and try again."),ze.error(j)}finally{t(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"h-20 w-20 object-contain drop-shadow-lg hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Loan Portal"}),i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Apply for Business Loans Online"})]})]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Need help? Call us at +91-XXXXXXXXXX"})]})})}),i.jsx("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Loan Application"}),i.jsx("p",{className:"text-gray-600",children:"Apply for a business loan in just a few steps"})]}),i.jsxs("form",{onSubmit:r(l),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"name",...s("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter your full name"}),a.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-2",children:["Mobile Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"tel",id:"mobile",...s("mobile",{required:"Mobile number is required",pattern:{value:/^[6-9]\d{9}$/,message:"Please enter a valid 10-digit mobile number"}}),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.mobile?"border-red-300":"border-gray-300"}`,placeholder:"Enter your mobile number",maxLength:10}),a.mobile&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.mobile.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"businessType",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Type ",i.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),i.jsxs("select",{id:"businessType",...s("businessType"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select business type"}),yP.map(c=>i.jsx("option",{value:c,children:c},c))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",i.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),i.jsx("input",{type:"text",id:"businessName",...s("businessName"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your business name"})]}),i.jsx("button",{type:"submit",disabled:e,className:`w-full py-3 px-4 rounded-md text-white font-medium transition-colors ${e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}`,children:e?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Application"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-sm text-gray-500",children:"By submitting this form, you agree to our terms and conditions."})})]})})})]})};class bP{constructor(t){Na(this,"results",[]);Na(this,"queryClient");this.queryClient=t}async testAllEndpoints(){console.log(" Starting comprehensive auto-refresh test...");const t=[{page:"Dashboard",endpoint:"/api/enquiries",queryKey:"dashboard-data"},{page:"Enquiry List",endpoint:"/api/enquiries",queryKey:"enquiries"},{page:"Document Verification",endpoint:"/api/documents",queryKey:"documents-verification"},{page:"Document Upload",endpoint:"/api/documents",queryKey:"documents"},{page:"Shortlist",endpoint:"/api/shortlist",queryKey:"shortlists"},{page:"Payment Gateway",endpoint:"/api/cashfree",queryKey:"cashfree-applications"},{page:"Staff Management",endpoint:"/api/staff",queryKey:"staff"}];for(const n of t)await this.testEndpoint(n.page,n.endpoint,n.queryKey);return this.results}async testEndpoint(t,n,s){try{console.log(` Testing ${t} - ${n}`);const r=await fetch(n),a=await r.json();if(r.ok){const o=this.queryClient.getQueryData(s);this.results.push({page:t,endpoint:n,status:"success",message:` API working, data count: ${Array.isArray(a)?a.length:"N/A"}${o?", cached data exists":", no cached data"}`,timestamp:new Date().toISOString(),dataCount:Array.isArray(a)?a.length:void 0}),console.log(` ${t} test passed`)}else throw new Error(`HTTP ${r.status}: ${r.statusText}`)}catch(r){this.results.push({page:t,endpoint:n,status:"error",message:` ${r.message}`,timestamp:new Date().toISOString()}),console.error(` ${t} test failed:`,r.message)}}async testCacheInvalidation(){console.log(" Testing cache invalidation...");const t=["dashboard-data","enquiries","documents","documents-verification","shortlists","cashfree-applications","staff"];for(const n of t)try{const s=this.queryClient.getQueryData(n);await this.queryClient.invalidateQueries(n),await new Promise(a=>setTimeout(a,1e3));const r=this.queryClient.getQueryData(n);this.results.push({page:`Cache Test - ${n}`,endpoint:"cache-invalidation",status:"success",message:` Cache invalidated successfully. Before: ${s?"exists":"empty"}, After: ${r?"exists":"empty"}`,timestamp:new Date().toISOString()}),console.log(` Cache invalidation test passed for ${n}`)}catch(s){this.results.push({page:`Cache Test - ${n}`,endpoint:"cache-invalidation",status:"error",message:` Cache invalidation failed: ${s.message}`,timestamp:new Date().toISOString()}),console.error(` Cache invalidation test failed for ${n}:`,s.message)}}async testAutoRefreshIntervals(){console.log(" Testing auto-refresh intervals...");const t=35e3,n=Date.now(),s={"dashboard-data":this.queryClient.getQueryData("dashboard-data"),enquiries:this.queryClient.getQueryData("enquiries"),shortlists:this.queryClient.getQueryData("shortlists")};return new Promise(r=>{const a=setInterval(()=>{if(Date.now()-n>=t){clearInterval(a);const l={"dashboard-data":this.queryClient.getQueryData("dashboard-data"),enquiries:this.queryClient.getQueryData("enquiries"),shortlists:this.queryClient.getQueryData("shortlists")};let c=!1;for(const[u,d]of Object.entries(s)){const f=l[u];if(d!==f){c=!0;break}}this.results.push({page:"Auto-refresh Monitor",endpoint:"interval-refresh",status:c?"success":"error",message:c?` Auto-refresh detected within ${t/1e3}s`:` No auto-refresh detected within ${t/1e3}s`,timestamp:new Date().toISOString()}),console.log(c?" Auto-refresh test passed":" Auto-refresh test failed - no refresh detected"),r()}},5e3)})}generateReport(){const t=this.results.filter(r=>r.status==="success").length,n=this.results.filter(r=>r.status==="error").length;let s=`
 AUTO-REFRESH FUNCTIONALITY TEST REPORT
==========================================

 Summary:
- Total Tests: ${this.results.length}
- Passed: ${t} 
- Failed: ${n} 
- Success Rate: ${(t/this.results.length*100).toFixed(1)}%

 Detailed Results:
`;return this.results.forEach((r,a)=>{s+=`
${a+1}. ${r.page}
   Endpoint: ${r.endpoint}
   Status: ${r.status==="success"?" PASS":" FAIL"}
   Message: ${r.message}
   Time: ${new Date(r.timestamp).toLocaleTimeString()}
   ${r.dataCount!==void 0?`Data Count: ${r.dataCount}`:""}
`}),s+=`
==========================================
Test completed at: ${new Date().toLocaleString()}
`,s}clearResults(){this.results=[]}}const wP=()=>{const[e,t]=v.useState(!1),[n,s]=v.useState([]),[r,a]=v.useState(""),o=ht(),l=async()=>{t(!0),s([]),a("Initializing tests...");try{const h=new bP(o);a("Testing API endpoints..."),await h.testAllEndpoints(),a("Testing cache invalidation..."),await h.testCacheInvalidation();const g=h.results;s(g);const p=h.generateReport();console.log(p);const w=g.filter(j=>j.status==="success").length,y=g.length;_.success(`Tests completed! ${w}/${y} passed`),a(`Completed: ${w}/${y} tests passed`)}catch(h){console.error("Test execution failed:",h),_.error(`Test execution failed: ${h.message}`),a(`Failed: ${h.message}`)}finally{t(!1)}},c=()=>{s([]),a("")},u=()=>{a("Manually refreshing all queries..."),["dashboard-data","enquiries","documents","documents-verification","shortlists","cashfree-applications","staff"].forEach(g=>{o.invalidateQueries(g)}),_.success("Manual refresh triggered for all queries"),a("Manual refresh completed")},d=h=>h==="success"?"":"",f=h=>h==="success"?"text-green-600":"text-red-600";return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Auto-Refresh Functionality Test"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:l,disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:e?i.jsxs(i.Fragment,{children:[i.jsx(sE,{className:"h-4 w-4 mr-2"}),"Running..."]}):i.jsxs(i.Fragment,{children:[i.jsx(H5,{className:"h-4 w-4 mr-2"}),"Run Tests"]})}),i.jsxs("button",{onClick:u,disabled:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(el,{className:"h-4 w-4 mr-2"}),"Manual Refresh"]}),i.jsx("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear Results"})]})]}),r&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:i.jsx("p",{className:"text-sm text-blue-800",children:r})}),n.length>0&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((h,g)=>i.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:g*.1},className:`p-4 border rounded-lg ${h.status==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:h.page}),i.jsx("span",{className:"text-lg",children:d(h.status)})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:i.jsx("code",{className:"bg-gray-100 px-1 rounded",children:h.endpoint})}),i.jsx("p",{className:`text-sm ${f(h.status)} mb-2`,children:h.message}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[i.jsx("span",{children:new Date(h.timestamp).toLocaleTimeString()}),h.dataCount!==void 0&&i.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[h.dataCount," items"]})]})]},g))}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Tests"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(h=>h.status==="success").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Passed"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.filter(h=>h.status==="error").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Testing Instructions"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsx("li",{children:' Click "Run Tests" to verify all API endpoints and cache functionality'}),i.jsx("li",{children:' Use "Manual Refresh" to trigger immediate data refresh across all pages'}),i.jsx("li",{children:" Check browser console for detailed logs and reports"}),i.jsx("li",{children:" Navigate between pages to verify data persistence"}),i.jsx("li",{children:" Refresh the browser page to test data persistence after reload"})]})]})]})},jP=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(0),o=ht(),l=[{key:"enquiries",endpoint:"/api/enquiries",label:"Enquiries"},{key:"shortlists",endpoint:"/api/shortlist",label:"Shortlist"},{key:"documents",endpoint:"/api/documents",label:"Documents"},{key:"staff",endpoint:"/api/staff",label:"Staff"},{key:"cashfree",endpoint:"/api/cashfree",label:"Payment Gateway"}],c=async y=>{try{const m=(await te.get(y)).data;return{endpoint:y,status:"success",data:m,lastUpdated:new Date().toLocaleTimeString(),dataCount:Array.isArray(m)?m.length:Array.isArray(m==null?void 0:m.staff)?m.staff.length:void 0}}catch(j){return{endpoint:y,status:"error",error:j.message,lastUpdated:new Date().toLocaleTimeString()}}},u=async()=>{t(m=>m.map(x=>({...x,status:"loading"})));const y=await Promise.all(l.map(({endpoint:m})=>c(m)));t(y),a(m=>m+1);const j=y.filter(m=>m.status==="success").length;_.success(`Test completed: ${j}/${y.length} endpoints working`)};v.useEffect(()=>{u()},[]),v.useEffect(()=>{if(!n)return;const y=setInterval(()=>{console.log(" Auto-refresh triggered by test page"),u()},3e4);return()=>clearInterval(y)},[n]);const{data:d}=Ne("enquiries",()=>te.get("/api/enquiries").then(y=>y.data),{staleTime:3*60*1e3,keepPreviousData:!0}),{data:f}=Ne("shortlists",()=>te.get("/api/shortlist").then(y=>y.data),{staleTime:2*60*1e3,keepPreviousData:!0}),{data:h}=Ne("documents",()=>te.get("/api/documents").then(y=>y.data),{staleTime:8*60*1e3,keepPreviousData:!0}),g=y=>{switch(y){case"loading":return i.jsx(ha,{className:"h-5 w-5 text-yellow-500 animate-spin"});case"success":return i.jsx(Ct,{className:"h-5 w-5 text-green-500"});case"error":return i.jsx(Vs,{className:"h-5 w-5 text-red-500"})}},p=y=>{switch(y){case"loading":return"border-yellow-200 bg-yellow-50";case"success":return"border-green-200 bg-green-50";case"error":return"border-red-200 bg-red-50"}},w=()=>{["enquiries","shortlists","documents","staff","cashfree","dashboard-data"].forEach(j=>{o.invalidateQueries(j)}),_.success("All caches invalidated - data will refresh automatically")};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Persistence & Auto-Refresh Test"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:n,onChange:y=>s(y.target.checked),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh (30s)"})]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Refreshes: ",r]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[i.jsx(el,{className:"h-4 w-4 mr-2"}),"Test All Endpoints"]}),i.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[i.jsx(el,{className:"h-4 w-4 mr-2"}),"Invalidate Caches"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Endpoint Status"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((y,j)=>{var m;return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:`p-4 border rounded-lg ${p(y.status)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:((m=l.find(x=>x.endpoint===y.endpoint))==null?void 0:m.label)||y.endpoint}),g(y.status)]}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:i.jsx("code",{className:"bg-gray-100 px-1 rounded",children:y.endpoint})}),y.status==="success"&&i.jsxs("div",{className:"space-y-1",children:[y.dataCount!==void 0&&i.jsxs("p",{className:"text-sm text-green-700",children:[" ",y.dataCount," items found"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",y.lastUpdated]})]}),y.status==="error"&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm text-red-700",children:[" ",y.error]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Failed at: ",y.lastUpdated]})]}),y.status==="loading"&&i.jsx("p",{className:"text-sm text-yellow-700",children:" Testing..."})]},y.endpoint)})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"React Query Cache Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Enquiries Cache"}),i.jsx("p",{className:"text-sm text-gray-600",children:d?` ${Array.isArray(d)?d.length:"N/A"} items cached`:" No cache"})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Shortlist Cache"}),i.jsx("p",{className:"text-sm text-gray-600",children:f?` ${Array.isArray(f)?f.length:"N/A"} items cached`:" No cache"})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Documents Cache"}),i.jsx("p",{className:"text-sm text-gray-600",children:h?` ${Array.isArray(h)?h.length:"N/A"} items cached`:" No cache"})]})]})]}),i.jsx(wP,{}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Testing Instructions"}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Auto-refresh:"})," This page automatically tests endpoints every 30 seconds when enabled"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Manual test:"}),' Click "Test All Endpoints" to immediately check all API endpoints']}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Cache test:"}),' Click "Invalidate Caches" to test cache refresh functionality']}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Navigation test:"})," Navigate to other pages and return - data should persist"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Refresh test:"})," Refresh the browser page - data should remain visible"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Console logs:"})," Check browser console for detailed refresh activity"]})]})]})]})};function NP(){const[e,t]=v.useState("admin@gmail.com"),[n,s]=v.useState("admin123"),[r,a]=v.useState(!1),{login:o,isAuthenticated:l,user:c}=an(),u=_t(),d=async()=>{a(!0);try{console.log(" Testing login..."),await o({email:e,password:n}),console.log(" Login completed, auth state:",l),setTimeout(()=>{console.log(" Attempting manual navigation..."),u("/dashboard")},1e3)}catch(h){console.error(" Login test failed:",h)}finally{a(!1)}},f=()=>{console.log(" Testing direct navigation..."),u("/dashboard")};return i.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Login Test Page"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email:"}),i.jsx("input",{type:"email",value:e,onChange:h=>t(h.target.value),className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password:"}),i.jsx("input",{type:"password",value:n,onChange:h=>s(h.target.value),className:"w-full p-2 border rounded"})]}),i.jsx("button",{onClick:d,disabled:r,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:r?"Testing Login...":"Test Login"}),i.jsx("button",{onClick:f,className:"w-full bg-green-600 text-white p-2 rounded hover:bg-green-700",children:"Test Direct Navigation"})]}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Current State:"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Authenticated:"})," ",l?"Yes":"No"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"User:"})," ",c?`${c.name} (${c.role})`:"None"]})]})]})})}function SP(){const{isAuthenticated:e,user:t}=an();return i.jsxs(Pm,{children:[i.jsx(Ae,{path:"/apply",element:i.jsx(vP,{})}),i.jsx(Ae,{path:"/login",element:i.jsx(sP,{})}),i.jsx(Ae,{path:"/login-test",element:i.jsx(NP,{})}),e?i.jsx(Ae,{path:"/*",element:i.jsx(OA,{children:i.jsxs(Pm,{children:[i.jsx(Ae,{path:"/dashboard",element:i.jsx(lP,{})}),i.jsx(Ae,{path:"/enquiries",element:i.jsx(cP,{})}),i.jsx(Ae,{path:"/enquiries/new",element:i.jsx(tu,{})}),i.jsx(Ae,{path:"/enquiries/:id",element:i.jsx(tu,{})}),i.jsx(Ae,{path:"/enquiries/:id/edit",element:i.jsx(tu,{})}),i.jsx(Ae,{path:"/documents",element:i.jsx(dP,{})}),i.jsx(Ae,{path:"/documents/verification",element:i.jsx(fP,{})}),i.jsx(Ae,{path:"/shortlist",element:i.jsx(hP,{})}),i.jsx(Ae,{path:"/shortlist/new",element:i.jsx(E0,{})}),i.jsx(Ae,{path:"/shortlist/:id/edit",element:i.jsx(E0,{})}),i.jsx(Ae,{path:"/payment-gateway",element:i.jsx(mP,{})}),i.jsx(Ae,{path:"/payment-gateway/apply/:id",element:i.jsx(pP,{})}),(t==null?void 0:t.role)==="ADMIN"&&i.jsxs(i.Fragment,{children:[i.jsx(Ae,{path:"/staff",element:i.jsx(gP,{})}),i.jsx(Ae,{path:"/transactions",element:i.jsx(xP,{})}),i.jsx(Ae,{path:"/transactions/new",element:i.jsx(k0,{})}),i.jsx(Ae,{path:"/transactions/:id/edit",element:i.jsx(k0,{})}),i.jsx(Ae,{path:"/test-refresh",element:i.jsx(jP,{})})]}),i.jsx(Ae,{path:"/",element:i.jsx(Oc,{to:"/dashboard"})}),i.jsx(Ae,{path:"*",element:i.jsx(Oc,{to:"/dashboard"})})]})})}):i.jsx(Ae,{path:"*",element:i.jsx(Oc,{to:"/login"})})]})}class EP extends v.Component{constructor(){super(...arguments);Na(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"h-20 w-20 object-contain drop-shadow-lg hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})})}),i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Refresh Page"}),i.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}}const ue=e=>typeof e=="string",ui=()=>{let e,t;const n=new Promise((s,r)=>{e=s,t=r});return n.resolve=e,n.reject=t,n},C0=e=>e==null?"":""+e,kP=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},CP=/###/g,T0=e=>e&&e.indexOf("###")>-1?e.replace(CP,"."):e,A0=e=>!e||ue(e),Oi=(e,t,n)=>{const s=ue(t)?t.split("."):t;let r=0;for(;r<s.length-1;){if(A0(e))return{};const a=T0(s[r]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++r}return A0(e)?{}:{obj:e,k:T0(s[r])}},P0=(e,t,n)=>{const{obj:s,k:r}=Oi(e,t,Object);if(s!==void 0||t.length===1){s[r]=n;return}let a=t[t.length-1],o=t.slice(0,t.length-1),l=Oi(e,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=Oi(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},TP=(e,t,n,s)=>{const{obj:r,k:a}=Oi(e,t,Object);r[a]=r[a]||[],r[a].push(n)},gl=(e,t)=>{const{obj:n,k:s}=Oi(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},AP=(e,t,n)=>{const s=gl(e,n);return s!==void 0?s:gl(t,n)},W1=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?ue(e[s])||e[s]instanceof String||ue(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):W1(e[s],t[s],n):e[s]=t[s]);return e},sr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var PP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const RP=e=>ue(e)?e.replace(/[&<>"'\/]/g,t=>PP[t]):e;class LP{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const DP=[" ",",","?","!",";"],OP=new LP(20),MP=(e,t,n)=>{t=t||"",n=n||"";const s=DP.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(s.length===0)return!0;const r=OP.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(e);if(!a){const o=e.indexOf(n);o>0&&!r.test(e.substring(0,o))&&(a=!0)}return a},Rd=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let r=e;for(let a=0;a<s.length;){if(!r||typeof r!="object")return;let o,l="";for(let c=a;c<s.length;++c)if(c!==a&&(l+=n),l+=s[c],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;a+=c-a+1;break}r=o}return r},ra=e=>e==null?void 0:e.replace("_","-"),FP={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,t)}};class xl{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||FP,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,r){return r&&!this.debug?null:(ue(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new xl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new xl(this.logger,t)}}var mn=new xl;class rc{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r.apply(r,[t,...n])})}}class R0 extends rc{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,r={}){var u,d;const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],s&&(Array.isArray(s)?l.push(...s):ue(s)&&a?l.push(...s.split(a)):l.push(s)));const c=gl(this.data,l);return!c&&!n&&!s&&t.indexOf(".")>-1&&(t=l[0],n=l[1],s=l.slice(2).join(".")),c||!o||!ue(s)?c:Rd((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],s,a)}addResource(t,n,s,r,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[t,n];s&&(l=l.concat(o?s.split(o):s)),t.indexOf(".")>-1&&(l=t.split("."),r=n,n=l[1]),this.addNamespaces(n),P0(this.data,l,r),a.silent||this.emit("added",t,n,s,r)}addResources(t,n,s,r={silent:!1}){for(const a in s)(ue(s[a])||Array.isArray(s[a]))&&this.addResource(t,n,a,s[a],{silent:!0});r.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,r,a,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),r=s,s=n,n=l[1]),this.addNamespaces(n);let c=gl(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?W1(c,s,a):c={...c,...s},P0(this.data,l,c),o.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var Q1={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,r){return e.forEach(a=>{var o;t=((o=this.processors[a])==null?void 0:o.process(t,n,s,r))??t}),t}};const K1=Symbol("i18next/PATH_KEY");function IP(){const e=[],t=Object.create(null);let n;return t.get=(s,r)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),r===K1?e:(e.push(r),n=Proxy.revocable(s,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function Ld(e,t){const{[K1]:n}=e(IP());return n.join((t==null?void 0:t.keySeparator)??".")}const L0={},D0=e=>!ue(e)&&typeof e!="boolean"&&typeof e!="number";class yl extends rc{constructor(t,n={}){super(),kP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const r=this.resolve(t,s);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=s&&t.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!MP(t,s,r);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:ue(a)?[a]:a};const u=t.split(s);(s!==r||s===r&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),t=u.join(r)}return{key:t,namespaces:ue(a)?[a]:a}}translate(t,n,s){let r=typeof n=="object"?{...n}:n;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";typeof t=="function"&&(t=Ld(t,{...this.options,...r})),Array.isArray(t)||(t=[String(t)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],r),u=c[c.length-1];let d=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?a?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${d}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:l;const g=this.resolve(t,r);let p=g==null?void 0:g.res;const w=(g==null?void 0:g.usedKey)||l,y=(g==null?void 0:g.exactUsedKey)||l,j=["[object Number]","[object Function]","[object RegExp]"],m=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,b=r.count!==void 0&&!ue(r.count),N=yl.hasDefaultValue(r),S=b?this.pluralResolver.getSuffix(f,r.count,r):"",E=r.ordinal&&b?this.pluralResolver.getSuffix(f,r.count,{ordinal:!1}):"",T=b&&!r.ordinal&&r.count===0,P=T&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${S}`]||r[`defaultValue${E}`]||r.defaultValue;let D=p;x&&!p&&N&&(D=P);const Y=D0(D),W=Object.prototype.toString.apply(D);if(x&&D&&Y&&j.indexOf(W)<0&&!(ue(m)&&Array.isArray(D))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,D,{...r,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(g.res=U,g.usedParams=this.getUsedParamsDetails(r),g):U}if(o){const U=Array.isArray(D),Q=U?[]:{},ae=U?y:w;for(const K in D)if(Object.prototype.hasOwnProperty.call(D,K)){const se=`${ae}${o}${K}`;N&&!p?Q[K]=this.translate(se,{...r,defaultValue:D0(P)?P[K]:void 0,joinArrays:!1,ns:c}):Q[K]=this.translate(se,{...r,joinArrays:!1,ns:c}),Q[K]===se&&(Q[K]=D[K])}p=Q}}else if(x&&ue(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,t,r,s));else{let U=!1,Q=!1;!this.isValidLookup(p)&&N&&(U=!0,p=P),this.isValidLookup(p)||(Q=!0,p=l);const K=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:p,se=N&&P!==p&&this.options.updateMissing;if(Q||U||se){if(this.logger.log(se?"updateKey":"missingKey",f,u,l,se?P:p),o){const $=this.resolve(l,{...r,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let $=0;$<z.length;$++)O.push(z[$]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(r.lng||this.language):O.push(r.lng||this.language);const R=($,Z,oe)=>{var ve;const me=N&&oe!==p?oe:K;this.options.missingKeyHandler?this.options.missingKeyHandler($,u,Z,me,se,r):(ve=this.backendConnector)!=null&&ve.saveMissing&&this.backendConnector.saveMissing($,u,Z,me,se,r),this.emit("missingKey",$,u,Z,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?O.forEach($=>{const Z=this.pluralResolver.getSuffixes($,r);T&&r[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(oe=>{R([$],l+oe,r[`defaultValue${oe}`]||P)})}):R(O,l,P))}p=this.extendTranslation(p,t,r,g,s),Q&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(Q||U)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?p:void 0,r))}return a?(g.res=p,g.usedParams=this.getUsedParamsDetails(r),g):p}extendTranslation(t,n,s,r,a){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=ue(t)&&(((u=s==null?void 0:s.interpolation)==null?void 0:u.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const g=t.match(this.interpolator.nestingRegexp);f=g&&g.length}let h=s.replace&&!ue(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,s.lng||this.language||r.usedLng,s),d){const g=t.match(this.interpolator.nestingRegexp),p=g&&g.length;f<p&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...g)=>(a==null?void 0:a[0])===g[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=ue(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&s.applyPostProcessor!==!1&&(t=Q1.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,r,a,o,l;return ue(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(c,n),d=u.key;r=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!ue(n.count),g=h&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(ue(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(y=>{var j,m;this.isValidLookup(s)||(l=y,!L0[`${w[0]}-${y}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(l))&&(L0[`${w[0]}-${y}`]=!0,this.logger.warn(`key "${r}" for languages "${w.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{var S;if(this.isValidLookup(s))return;o=x;const b=[d];if((S=this.i18nFormat)!=null&&S.addLookupKeys)this.i18nFormat.addLookupKeys(b,d,x,y,n);else{let E;h&&(E=this.pluralResolver.getSuffix(x,n.count,n));const T=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&E.indexOf(P)===0&&b.push(d+E.replace(P,this.options.pluralSeparator)),b.push(d+E),g&&b.push(d+T)),p){const D=`${d}${this.options.contextSeparator||"_"}${n.context}`;b.push(D),h&&(n.ordinal&&E.indexOf(P)===0&&b.push(D+E.replace(P,this.options.pluralSeparator)),b.push(D+E),g&&b.push(D+T))}}let N;for(;N=b.pop();)this.isValidLookup(s)||(a=N,s=this.getResource(x,y,N,n))}))})}),{res:s,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,r={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(t,n,s,r):this.resourceStore.getResource(t,n,s,r)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!ue(t.replace);let r=s?t.replace:t;if(s&&typeof t.count<"u"&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const a of n)delete r[a]}return r}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class O0{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mn.create("languageUtils")}getScriptPartFromCode(t){if(t=ra(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ra(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(ue(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return n=r;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),ue(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ue(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):ue(t)&&a(this.formatLanguageCode(t)),s.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}const M0={zero:0,one:1,two:2,few:3,many:4,other:5},F0={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class $P{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=mn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=ra(t==="dev"?"en":t),r=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),F0;if(!t.match(/-|_/))return F0;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[a]=o,o}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(r=>`${n}${r}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((r,a)=>M0[r]-M0[a]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(t,n,s={}){const r=this.getRule(t,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const I0=(e,t,n,s=".",r=!0)=>{let a=AP(e,t,n);return!a&&r&&ue(n)&&(a=Rd(e,n,s),a===void 0&&(a=Rd(t,n,s))),a},nu=e=>e.replace(/\$/g,"$$$$");class _P{constructor(t={}){var n;this.logger=mn.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:p,nestingSuffixEscaped:w,nestingOptionsSeparator:y,maxReplaces:j,alwaysFormat:m}=t.interpolation;this.escape=n!==void 0?n:RP,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?sr(a):o||"{{",this.suffix=l?sr(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?sr(h):g||sr("$t("),this.nestingSuffix=p?sr(p):w||sr(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=j||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,r){var g;let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=I0(n,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,s,{...r,...n,interpolationkey:p}):m}const w=p.split(this.formatSeparator),y=w.shift().trim(),j=w.join(this.formatSeparator).trim();return this.format(I0(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),j,s,{...r,...n,interpolationkey:y})};this.resetRegExp();const d=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>nu(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?nu(this.escape(p)):nu(p)}].forEach(p=>{for(l=0;a=p.regex.exec(t);){const w=a[1].trim();if(o=u(w),o===void 0)if(typeof d=="function"){const j=d(t,a,r);o=ue(j)?j:""}else if(r&&Object.prototype.hasOwnProperty.call(r,w))o="";else if(f){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${t}`),o="";else!ue(o)&&!this.useRawValueToEscape&&(o=C0(o));const y=p.safeValue(o);if(t=t.replace(a[0],y),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,s={}){let r,a,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const g=h.match(/'/g),p=h.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,w),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(t);){let c=[];o={...s},o=o.replace&&!ue(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(c=r[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),a=n(l.call(this,r[1].trim(),o),o),a&&r[0]===t&&!ue(a))return a;ue(a)||(a=C0(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),a=""),c.length&&(a=c.reduce((d,f)=>this.format(d,f,s.lng,{...s,interpolationkey:r[1].trim()}),a.trim())),t=t.replace(r[0],a),this.regexp.lastIndex=0}return t}}const VP=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);t==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):t==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},$0=e=>{const t={};return(n,s,r)=>{let a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a={...a,[r.interpolationkey]:void 0});const o=s+JSON.stringify(a);let l=t[o];return l||(l=e(ra(s),r),t[o]=l),l(n)}},UP=e=>(t,n,s)=>e(ra(n),s)(t);class BP{constructor(t={}){this.logger=mn.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?$0:UP;this.formats={number:s((r,a)=>{const o=new Intl.NumberFormat(r,{...a});return l=>o.format(l)}),currency:s((r,a)=>{const o=new Intl.NumberFormat(r,{...a,style:"currency"});return l=>o.format(l)}),datetime:s((r,a)=>{const o=new Intl.DateTimeFormat(r,{...a});return l=>o.format(l)}),relativetime:s((r,a)=>{const o=new Intl.RelativeTimeFormat(r,{...a});return l=>o.format(l,a.range||"day")}),list:s((r,a)=>{const o=new Intl.ListFormat(r,{...a});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=$0(n)}format(t,n,s,r={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=VP(c);if(this.formats[u]){let h=l;try{const g=((f=r==null?void 0:r.formatParams)==null?void 0:f[r.interpolationkey])||{},p=g.locale||g.lng||r.locale||r.lng||s;h=this.formats[u](l,p,{...d,...r,...g})}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const qP=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class zP extends rc{constructor(t,n,s,r={}){var a,o;super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=mn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,s,r.backend,r)}queueLoad(t,n,s,r){const a={},o={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(f=>{const h=`${u}|${f}`;!s.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),a[h]===void 0&&(a[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,s){const r=t.split("|"),a=r[0],o=r[1];n&&this.emit("failedLoading",a,o,n),!n&&s&&this.store.addResourceBundle(a,o,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const l={};this.queue.forEach(c=>{TP(c.loaded,[a],o),qP(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,s,r=0,a=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:r,wait:a,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,r+1,a*2,o)},a);return}o(u,d)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ue(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ue(n)&&(n=[n]);const a=this.queueLoad(t,n,s,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),r=s[0],a=s[1];this.read(r,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${r} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${r}`,l),this.loaded(t,o,l)})}saveMissing(t,n,s,r,a,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((h=this.backend)!=null&&h.create){const g={...o,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let w;p.length===5?w=p(t,n,s,r,g):w=p(t,n,s,r),w&&typeof w.then=="function"?w.then(y=>l(null,y)).catch(l):l(null,w)}catch(w){l(w)}else p(t,n,s,r,l,g)}!t||!t[0]||this.store.addResource(t[0],n,s,r)}}}const _0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ue(e[1])&&(t.defaultValue=e[1]),ue(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),V0=e=>{var t,n;return ue(e.ns)&&(e.ns=[e.ns]),ue(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ue(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ka=()=>{},HP=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class ia extends rc{constructor(t={},n){if(super(),this.options=V0(t),this.services={},this.logger=mn,this.modules={external:[]},HP(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(ue(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=_0();this.options={...s,...this.options,...V0(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?mn.init(r(this.modules.logger),this.options):mn.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=BP;const d=new O0(this.options);this.store=new R0(this.options.resources,this.options);const f=this.services;f.logger=mn,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new $P(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=r(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new _P(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new zP(r(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(g,...p)=>{this.emit(g,...p)}),this.modules.languageDetector&&(f.languageDetector=r(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=r(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new yl(this.services,this.options),this.translator.on("*",(g,...p)=>{this.emit(g,...p)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ka),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=ui(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=Ka){var a,o;let s=n;const r=ue(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(u)})}else s(null)}reloadResources(t,n,s){const r=ui();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=Ka),this.services.backendConnector.reload(t,n,a=>{r.resolve(),s(a)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Q1.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=ui();this.emit("languageChanging",t);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===t&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=ue(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ue(l)?[l]:l);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{a(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),s}getFixedT(t,n,s){const r=(a,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(l)):c={...o},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||r.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(a)?d=a.map(f=>(typeof f=="function"&&(f=Ld(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof a=="function"&&(a=Ld(a,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${a}`:a),this.t(d,c)};return ue(t)?r.lng=t:r.lngs=t,r.ns=n,r.keyPrefix=s,r}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,t)&&(!r||o(a,t)))}loadNamespaces(t,n){const s=ui();return this.options.ns?(ue(t)&&(t=[t]),t.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=ui();ue(t)&&(t=[t]);const r=this.options.preload||[],a=t.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}dir(t){var r,a;if(t||(t=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((a=this.services)==null?void 0:a.languageUtils)||new O0(_0());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new ia(t,n)}cloneInstance(t={},n=Ka){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},a=new ia(r);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});a.store=new R0(l,r),a.services.resourceStore=a.store}return a.translator=new yl(a.services,r),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(r,n),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const mt=ia.createInstance();mt.createInstance=ia.createInstance;mt.createInstance;mt.dir;mt.init;mt.loadResources;mt.reloadResources;mt.use;mt.changeLanguage;mt.getFixedT;mt.t;mt.exists;mt.setDefaultNamespace;mt.hasLoadedNamespace;mt.loadNamespaces;mt.loadLanguages;const{slice:WP,forEach:QP}=[];function KP(e){return QP.call(WP.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function GP(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const U0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,YP=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(t);let a=`${e}=${r}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!U0.test(s.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${s.domain}`}if(s.path){if(!U0.test(s.path))throw new TypeError("option path is invalid");a+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(a+="; Partitioned"),a},B0={create(e,t,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),s&&(r.domain=s),document.cookie=YP(e,t,r)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let r=n[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var ZP={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return B0.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:r,cookieOptions:a}=t;n&&typeof document<"u"&&B0.create(n,e,s,r,a)}},XP={name:"querystring",lookup(e){var s;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},JP={name:"hash",lookup(e){var r;let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(s=l[c].substring(u+1))}}if(s)return s;if(!s&&n>-1){const l=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(r=l[typeof n=="number"?n:0])==null?void 0:r.replace("/",""):void 0}}}return s}};let rr=null;const q0=()=>{if(rr!==null)return rr;try{if(rr=typeof window<"u"&&window.localStorage!==null,!rr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{rr=!1}return rr};var e6={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&q0())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&q0()&&window.localStorage.setItem(n,e)}};let ir=null;const z0=()=>{if(ir!==null)return ir;try{if(ir=typeof window<"u"&&window.sessionStorage!==null,!ir)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{ir=!1}return ir};var t6={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&z0())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&z0()&&window.sessionStorage.setItem(n,e)}},n6={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:r}=navigator;if(n)for(let a=0;a<n.length;a++)t.push(n[a]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},s6={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},r6={name:"path",lookup(e){var r;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(r=n[typeof t=="number"?t:0])==null?void 0:r.replace("/",""):void 0}},i6={name:"subdomain",lookup(e){var r,a;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&((a=(r=window.location)==null?void 0:r.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[n]}};let G1=!1;try{document.cookie,G1=!0}catch{}const Y1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];G1||Y1.splice(1,1);const a6=()=>({order:Y1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Z1{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=KP(n,this.options||{},a6()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(ZP),this.addDetector(XP),this.addDetector(e6),this.addDetector(t6),this.addDetector(n6),this.addDetector(s6),this.addDetector(r6),this.addDetector(i6),this.addDetector(JP)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(n=n.concat(r))}}),n=n.filter(s=>s!=null&&!GP(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}Z1.type="languageDetector";const o6={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search anything...",welcome:"Welcome",logout:"Logout",login:"Login",dashboard:"Dashboard",profile:"Profile",settings:"Settings",notifications:"Notifications",help:"Help",back:"Back",next:"Next",submit:"Submit",close:"Close"},l6={title:"Loan Management Dashboard",searchPlaceholder:"Search anything...",aiAssistant:"AI Assistant",language:"Language",notifications:"Notifications",settings:"Settings",profile:"Profile Settings",security:"Security",preferences:"Preferences"},c6={dashboard:"Dashboard",enquiries:"Enquiries",documents:"Documents",shortlist:"Shortlist",staff:"Staff Management",reports:"Reports",settings:"Settings"},u6={title:"Business Loan Management Dashboard",totalEnquiries:"Total Enquiries",pendingReview:"Pending Review",approved:"Approved",rejected:"Rejected",recentEnquiries:"Recent Enquiries",quickActions:"Quick Actions",systemHealth:"System Health",analytics:"Analytics"},d6={title:"Loan Enquiries",newEnquiry:"New Enquiry",companyName:"Company Name",contactPerson:"Contact Person",email:"Email",phone:"Phone",loanAmount:"Loan Amount",purpose:"Purpose",status:"Status",createdAt:"Created At",actions:"Actions",pending:"Pending",approved:"Approved",rejected:"Rejected",underReview:"Under Review"},f6={title:"Staff Management",addAdmin:"Add Admin",addEmployee:"Add Employee",name:"Name",email:"Email",role:"Role",status:"Status",actions:"Actions",active:"Active",inactive:"Inactive",pending:"Pending",admin:"Admin",employee:"Employee",grantAccess:"Grant Access",revokeAccess:"Revoke Access",deleteUser:"Delete User"},h6={title:"Document Management",upload:"Upload Document",fileName:"File Name",fileType:"File Type",uploadDate:"Upload Date",status:"Status",verified:"Verified",pending:"Pending",rejected:"Rejected",download:"Download",verify:"Verify",reject:"Reject"},m6={signIn:"Sign In",signOut:"Sign Out",email:"Email",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",selectRole:"Select your role",admin:"Admin",employee:"Employee",signingIn:"Signing in...",welcomeBack:"Welcome Back!",loginDescription:"Access your business loan management dashboard with secure authentication and role-based permissions."},p6={title:"AI Assistant",subtitle:"Business Loan Helper",placeholder:"Ask me anything about the loan system...",thinking:"AI is thinking...",welcome:"Hello {{name}}!  I'm your AI assistant for the Business Loan Management System. I can help you with:",features:{loanManagement:` **Loan Management**
- Enquiry creation and tracking
- Document upload and verification
- Application processing`,staffManagement:` **Staff Management** {{access}}
- User roles and permissions
- Staff operations`,analytics:` **Dashboard & Analytics**
- System navigation
- Feature explanations`},howCanIHelp:" **How can I help you today?**",models:{smart:"Smart",flash:"Flash",pro:"Pro"}},g6={connecting:"Connecting...",loadingInterface:"Loading Interface...",preparingData:"Preparing Data...",finalizing:"Finalizing...",almostReady:"Almost Ready...",welcome:"Welcome!",systemTitle:"Business Loan Management",systemSubtitle:"Streamline Your Financial Operations",features:{secure:"Secure",fast:"Fast",smart:"Smart"},poweredBy:"Powered by Gemini AI"},x6={newLoanApplication:"New loan application",documentVerified:"Document verified",paymentUpdate:"Payment Gateway update",viewAll:"View all notifications"},y6={common:o6,header:l6,sidebar:c6,dashboard:u6,enquiries:d6,staff:f6,documents:h6,auth:m6,chatbot:p6,loading:g6,notifications:x6},v6={loading:"   ...",save:" ",cancel:" ",delete:"",edit:" ",view:"",search:"  ...",welcome:" ",logout:" ",login:" ",dashboard:"",profile:"",settings:"",notifications:"",help:"",back:"",next:"",submit:" ",close:" "},b6={title:"  ",searchPlaceholder:"  ...",aiAssistant:"AI ",language:"",notifications:"",settings:"",profile:" ",security:"",preferences:""},w6={dashboard:"",enquiries:"",documents:"",shortlist:"",staff:" ",reports:"",settings:""},j6={title:"   ",totalEnquiries:" ",pendingReview:"   ",approved:"",rejected:"",recentEnquiries:"  ",quickActions:" ",systemHealth:" ",analytics:""},N6={title:" ",newEnquiry:" ",companyName:"  ",contactPerson:" ",email:"",phone:"",loanAmount:" ",purpose:"",status:"",createdAt:" ",actions:"",pending:"",approved:"",rejected:"",underReview:""},S6={title:" ",addAdmin:" ",addEmployee:" ",name:"",email:"",role:"",status:"",actions:"",active:"",inactive:"",pending:"",admin:"",employee:"",grantAccess:"  ",revokeAccess:"  ",deleteUser:" "},E6={title:" ",upload:"  ",fileName:"  ",fileType:" ",uploadDate:" ",status:"",verified:"",pending:"",rejected:"",download:"",verify:" ",reject:" "},k6={signIn:"  ",signOut:" ",email:"",password:"",rememberMe:"  ",forgotPassword:"  ?",selectRole:"  ",admin:"",employee:"",signingIn:"    ...",welcomeBack:"  !",loginDescription:"   -          "},C6={title:"AI ",subtitle:"  ",placeholder:"        ...",thinking:"AI   ...",welcome:" {{name}}!          AI        :",features:{loanManagement:` ** **
-    
-    
-  `,staffManagement:` ** ** {{access}}
-    
-  `,analytics:` **  **
-  
-  `},howCanIHelp:" **       ?**",models:{smart:"",flash:"",pro:""}},T6={connecting:"   ...",loadingInterface:"    ...",preparingData:"    ...",finalizing:"     ...",almostReady:" ...",welcome:" !",systemTitle:"  ",systemSubtitle:"     ",features:{secure:"",fast:"",smart:""},poweredBy:"Gemini AI  "},A6={newLoanApplication:"  ",documentVerified:" ",paymentUpdate:"  ",viewAll:"  "},P6={common:v6,header:b6,sidebar:w6,dashboard:j6,enquiries:N6,staff:S6,documents:E6,auth:k6,chatbot:C6,loading:T6,notifications:A6},R6={loading:"...",save:"",cancel:" ",delete:"",edit:"",view:"",search:" ...",welcome:"",logout:"",login:"",dashboard:"",profile:"",settings:"",notifications:"",help:"",back:"",next:"",submit:"",close:""},L6={title:"  ",searchPlaceholder:" ...",aiAssistant:"AI ",language:"",notifications:"",settings:"",profile:" ",security:"",preferences:""},D6={dashboard:"",enquiries:"",documents:"",shortlist:" ",staff:" ",reports:"",settings:""},O6={title:"   ",totalEnquiries:" ",pendingReview:" ",approved:"",rejected:"",recentEnquiries:" ",quickActions:" ",systemHealth:" ",analytics:""},M6={title:" ",newEnquiry:" ",companyName:" ",contactPerson:" ",email:"",phone:"",loanAmount:" ",purpose:"",status:"",createdAt:"",actions:"",pending:"",approved:"",rejected:"",underReview:""},F6={title:" ",addAdmin:" ",addEmployee:" ",name:"",email:"",role:"",status:"",actions:"",active:"",inactive:"",pending:"",admin:"",employee:"",grantAccess:" ",revokeAccess:"  ",deleteUser:" "},I6={title:" ",upload:" ",fileName:" ",fileType:" ",uploadDate:" ",status:"",verified:"",pending:"",rejected:"",download:"",verify:"",reject:""},$6={signIn:"",signOut:"",email:"",password:"",rememberMe:"  ",forgotPassword:" ?",selectRole:"  ",admin:"",employee:"",signingIn:"...",welcomeBack:" !",loginDescription:"           ."},_6={title:"AI ",subtitle:"  ",placeholder:"     ...",thinking:"AI ...",welcome:" {{name}}!        AI .    :",features:{loanManagement:` ** **
-    
-    
-  `,staffManagement:` ** ** {{access}}
-    
-  `,analytics:` **  **
-  
-  `},howCanIHelp:" **     ?**",models:{smart:"",flash:"",pro:""}},V6={connecting:"...",loadingInterface:" ...",preparingData:" ...",finalizing:" ...",almostReady:" ...",welcome:"!",systemTitle:"  ",systemSubtitle:"   ",features:{secure:"",fast:"",smart:""},poweredBy:"Gemini AI  "},U6={newLoanApplication:"  ",documentVerified:" ",paymentUpdate:"   ",viewAll:"  "},B6={common:R6,header:L6,sidebar:D6,dashboard:O6,enquiries:M6,staff:F6,documents:I6,auth:$6,chatbot:_6,loading:V6,notifications:U6},q6={loading:" ...",save:" ",cancel:" ",delete:"",edit:"",view:"",search:" ...",welcome:"",logout:" ",login:"",dashboard:"",profile:"",settings:"",notifications:"",help:"",back:"",next:"",submit:"",close:""},z6={title:"  ",searchPlaceholder:" ...",aiAssistant:"AI ",language:"",notifications:"",settings:"",profile:" ",security:"",preferences:""},H6={dashboard:"",enquiries:"",documents:"",shortlist:"",staff:" ",reports:"",settings:""},W6={title:"   ",totalEnquiries:" ",pendingReview:" ",approved:"",rejected:"",recentEnquiries:" ",quickActions:" ",systemHealth:" ",analytics:""},Q6={title:" ",newEnquiry:" ",companyName:" ",contactPerson:" ",email:"",phone:"",loanAmount:" ",purpose:"",status:"",createdAt:"",actions:"",pending:"",approved:"",rejected:"",underReview:""},K6={title:" ",addAdmin:" ",addEmployee:" ",name:"",email:"",role:"",status:"",actions:"",active:"",inactive:" ",pending:"",admin:"",employee:"",grantAccess:" ",revokeAccess:"  ",deleteUser:" "},G6={title:" ",upload:"  ",fileName:" ",fileType:" ",uploadDate:" ",status:"",verified:"",pending:"",rejected:"",download:"",verify:"",reject:""},Y6={signIn:" ",signOut:" ",email:"",password:"",rememberMe:" ",forgotPassword:" ?",selectRole:"  ",admin:"",employee:"",signingIn:"  ...",welcomeBack:" !",loginDescription:"   -        ."},Z6={title:"AI ",subtitle:"  ",placeholder:"     ...",thinking:"AI ...",welcome:" {{name}}!        AI .    :",features:{loanManagement:` ** **
-    
-    
-  `,staffManagement:` ** ** {{access}}
-    
-  `,analytics:` **  **
-  
-  `},howCanIHelp:" **      ?**",models:{smart:"",flash:"",pro:""}},X6={connecting:" ...",loadingInterface:"  ...",preparingData:"  ...",finalizing:" ...",almostReady:" ...",welcome:"!",systemTitle:"  ",systemSubtitle:"   ",features:{secure:"",fast:"",smart:""},poweredBy:"Gemini AI  "},J6={newLoanApplication:"  ",documentVerified:" ",paymentUpdate:"  ",viewAll:"  "},eR={common:q6,header:z6,sidebar:H6,dashboard:W6,enquiries:Q6,staff:K6,documents:G6,auth:Y6,chatbot:Z6,loading:X6,notifications:J6},tR={en:{translation:y6},hi:{translation:P6},ta:{translation:B6},te:{translation:eR}};mt.use(Z1).use(PE).init({resources:tR,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});const X1=new e2({defaultOptions:{queries:{staleTime:5*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,refetchInterval:30*1e3,refetchIntervalInBackground:!1,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),keepPreviousData:!0,notifyOnChangeProps:["data","error","isLoading"]},mutations:{retry:1,onMutate:async()=>{await X1.cancelQueries()}}}});function nR(){return i.jsx(EP,{children:i.jsx(a2,{client:X1,children:i.jsx(J2,{children:i.jsx(AA,{children:i.jsxs(TN,{children:[i.jsx(SP,{}),i.jsx(X2,{position:"top-right"})]})})})})})}su.createRoot(document.getElementById("root")).render(i.jsx(fe.StrictMode,{children:i.jsx(nR,{})}));
