var Z1=Object.defineProperty;var J1=(e,t,n)=>t in e?Z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ba=(e,t,n)=>(J1(e,typeof t!="symbol"?t+"":t,n),n);function X1(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z0={exports:{}},ml={},H0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),eb=Symbol.for("react.portal"),tb=Symbol.for("react.fragment"),nb=Symbol.for("react.strict_mode"),sb=Symbol.for("react.profiler"),rb=Symbol.for("react.provider"),ib=Symbol.for("react.context"),ab=Symbol.for("react.forward_ref"),ob=Symbol.for("react.suspense"),lb=Symbol.for("react.memo"),cb=Symbol.for("react.lazy"),hh=Symbol.iterator;function ub(e){return e===null||typeof e!="object"?null:(e=hh&&e[hh]||e["@@iterator"],typeof e=="function"?e:null)}var Q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,K0={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=K0,this.updater=n||Q0}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G0(){}G0.prototype=Vr.prototype;function Td(e,t,n){this.props=e,this.context=t,this.refs=K0,this.updater=n||Q0}var Ad=Td.prototype=new G0;Ad.constructor=Td;W0(Ad,Vr.prototype);Ad.isPureReactComponent=!0;var mh=Array.isArray,Y0=Object.prototype.hasOwnProperty,Rd={current:null},Z0={key:!0,ref:!0,__self:!0,__source:!0};function J0(e,t,n){var s,r={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Y0.call(t,s)&&!Z0.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:sa,type:e,key:a,ref:o,props:r,_owner:Rd.current}}function db(e,t){return{$$typeof:sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===sa}function fb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ph=/\/+/g;function rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fb(""+e.key):t.toString(36)}function Qa(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sa:case eb:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+rc(o,0):s,mh(r)?(n="",e!=null&&(n=e.replace(ph,"$&/")+"/"),Qa(r,t,n,"",function(u){return u})):r!=null&&(Ld(r)&&(r=db(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ph,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",mh(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+rc(a,l);o+=Qa(a,t,n,c,r)}else if(c=ub(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+rc(a,l++),o+=Qa(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wa(e,t,n){if(e==null)return e;var s=[],r=0;return Qa(e,s,"","",function(a){return t.call(n,a,r++)}),s}function hb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Wa={transition:null},mb={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Wa,ReactCurrentOwner:Rd};function X0(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:wa,forEach:function(e,t,n){wa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wa(e,function(){t++}),t},toArray:function(e){return wa(e,function(t){return t})||[]},only:function(e){if(!Ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Vr;de.Fragment=tb;de.Profiler=sb;de.PureComponent=Td;de.StrictMode=nb;de.Suspense=ob;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;de.act=X0;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=W0({},e.props),r=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Rd.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Y0.call(t,c)&&!Z0.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:sa,type:e.type,key:r,ref:a,props:s,_owner:o}};de.createContext=function(e){return e={$$typeof:ib,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rb,_context:e},e.Consumer=e};de.createElement=J0;de.createFactory=function(e){var t=J0.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:ab,render:e}};de.isValidElement=Ld;de.lazy=function(e){return{$$typeof:cb,_payload:{_status:-1,_result:e},_init:hb}};de.memo=function(e,t){return{$$typeof:lb,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Wa.transition;Wa.transition={};try{e()}finally{Wa.transition=t}};de.unstable_act=X0;de.useCallback=function(e,t){return mt.current.useCallback(e,t)};de.useContext=function(e){return mt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};de.useEffect=function(e,t){return mt.current.useEffect(e,t)};de.useId=function(){return mt.current.useId()};de.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return mt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};de.useRef=function(e){return mt.current.useRef(e)};de.useState=function(e){return mt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return mt.current.useTransition()};de.version="18.3.1";H0.exports=de;var b=H0.exports;const le=q0(b),pb=X1({__proto__:null,default:le},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=b,xb=Symbol.for("react.element"),yb=Symbol.for("react.fragment"),vb=Object.prototype.hasOwnProperty,bb=gb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wb={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)vb.call(t,s)&&!wb.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:xb,type:e,key:a,ref:o,props:r,_owner:bb.current}}ml.Fragment=yb;ml.jsx=eg;ml.jsxs=eg;z0.exports=ml;var i=z0.exports,Jc={},tg={exports:{}},Lt={},ng={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,W){var ee=$.length;$.push(W);e:for(;0<ee;){var z=ee-1>>>1,ie=$[z];if(0<r(ie,W))$[z]=W,$[ee]=ie,ee=z;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],ee=$.pop();if(ee!==W){$[0]=ee;e:for(var z=0,ie=$.length,we=ie>>>1;z<we;){var ge=2*(z+1)-1,Se=$[ge],S=ge+1,R=$[S];if(0>r(Se,ee))S<ie&&0>r(R,Se)?($[z]=R,$[S]=ee,z=S):($[z]=Se,$[ge]=ee,z=ge);else if(S<ie&&0>r(R,ee))$[z]=R,$[S]=ee,z=S;else break e}}return W}function r($,W){var ee=$.sortIndex-W.sortIndex;return ee!==0?ee:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var W=n(u);W!==null;){if(W.callback===null)s(u);else if(W.startTime<=$)s(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(u)}}function N($){if(w=!1,v($),!y)if(n(c)!==null)y=!0,I(j);else{var W=n(u);W!==null&&se(N,W.startTime-$)}}function j($,W){y=!1,w&&(w=!1,p(P),P=-1),m=!0;var ee=h;try{for(v(W),f=n(c);f!==null&&(!(f.expirationTime>W)||$&&!G());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var ie=z(f.expirationTime<=W);W=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(c)&&s(c),v(W)}else s(c);f=n(c)}if(f!==null)var we=!0;else{var ge=n(u);ge!==null&&se(N,ge.startTime-W),we=!1}return we}finally{f=null,h=ee,m=!1}}var E=!1,k=null,P=-1,L=5,D=-1;function G(){return!(e.unstable_now()-D<L)}function H(){if(k!==null){var $=e.unstable_now();D=$;var W=!0;try{W=k(!0,$)}finally{W?U():(E=!1,k=null)}}else E=!1}var U;if(typeof g=="function")U=function(){g(H)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=H,U=function(){ne.postMessage(null)}}else U=function(){x(H,0)};function I($){k=$,E||(E=!0,U())}function se($,W){P=x(function(){$(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,I(j))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ee=h;h=W;try{return $()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=h;h=$;try{return W()}finally{h=ee}},e.unstable_scheduleCallback=function($,W,ee){var z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?z+ee:z):ee=z,$){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,$={id:d++,callback:W,priorityLevel:$,startTime:ee,expirationTime:ie,sortIndex:-1},ee>z?($.sortIndex=ee,t(u,$),n(c)===null&&$===n(u)&&(w?(p(P),P=-1):w=!0,se(N,ee-z))):($.sortIndex=ie,t(c,$),y||m||(y=!0,I(j))),$},e.unstable_shouldYield=G,e.unstable_wrapCallback=function($){var W=h;return function(){var ee=h;h=W;try{return $.apply(this,arguments)}finally{h=ee}}}})(sg);ng.exports=sg;var jb=ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=b,At=jb;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rg=new Set,Li={};function Ks(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(Li[e]=t,e=0;e<t.length;e++)rg.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=Object.prototype.hasOwnProperty,Sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gh={},xh={};function Eb(e){return Xc.call(xh,e)?!0:Xc.call(gh,e)?!1:Sb.test(e)?xh[e]=!0:(gh[e]=!0,!1)}function Cb(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kb(e,t,n,s){if(t===null||typeof t>"u"||Cb(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,s,r,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function Od(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dd,Od);tt[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dd,Od);tt[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dd,Od);tt[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fd(e,t,n,s){var r=tt.hasOwnProperty(t)?tt[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kb(t,n,r,s)&&(n=null),s||r===null?Eb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Fn=Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),ir=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),Md=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Id=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),$d=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),og=Symbol.for("react.offscreen"),yh=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=yh&&e[yh]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,ic;function ci(e){if(ic===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ic=t&&t[1]||""}return`
`+ic+e}var ac=!1;function oc(e,t){if(!e||ac)return"";ac=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ac=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ci(e):""}function Pb(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=oc(e.type,!1),e;case 11:return e=oc(e.type.render,!1),e;case 1:return e=oc(e.type,!0),e;default:return""}}function su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case ir:return"Portal";case eu:return"Profiler";case Md:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ag:return(e.displayName||"Context")+".Consumer";case ig:return(e._context.displayName||"Context")+".Provider";case Id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $d:return t=e.displayName||null,t!==null?t:su(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return su(e(t))}catch{}}return null}function Tb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return su(t);case 8:return t===Md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ab(e){var t=lg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Na(e){e._valueTracker||(e._valueTracker=Ab(e))}function cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=lg(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ru(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vh(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=us(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ug(e,t){t=t.checked,t!=null&&Fd(e,"checked",t,!1)}function iu(e,t){ug(e,t);var n=us(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?au(e,t.type,n):t.hasOwnProperty("defaultValue")&&au(e,t.type,us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function au(e,t,n){(t!=="number"||po(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ui=Array.isArray;function wr(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+us(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(ui(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:us(n)}}function dg(e,t){var n=us(t.value),s=us(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sa,hg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rb=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){Rb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function mg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function pg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=mg(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Lb=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cu(e,t){if(t){if(Lb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fu=null,jr=null,Nr=null;function Nh(e){if(e=aa(e)){if(typeof fu!="function")throw Error(_(280));var t=e.stateNode;t&&(t=vl(t),fu(e.stateNode,e.type,t))}}function gg(e){jr?Nr?Nr.push(e):Nr=[e]:jr=e}function xg(){if(jr){var e=jr,t=Nr;if(Nr=jr=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function yg(e,t){return e(t)}function vg(){}var lc=!1;function bg(e,t,n){if(lc)return e(t,n);lc=!0;try{return yg(e,t,n)}finally{lc=!1,(jr!==null||Nr!==null)&&(vg(),xg())}}function Oi(e,t){var n=e.stateNode;if(n===null)return null;var s=vl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var hu=!1;if(Tn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){hu=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{hu=!1}function Db(e,t,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var pi=!1,go=null,xo=!1,mu=null,Ob={onError:function(e){pi=!0,go=e}};function Fb(e,t,n,s,r,a,o,l,c){pi=!1,go=null,Db.apply(Ob,arguments)}function Mb(e,t,n,s,r,a,o,l,c){if(Fb.apply(this,arguments),pi){if(pi){var u=go;pi=!1,go=null}else throw Error(_(198));xo||(xo=!0,mu=u)}}function Gs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sh(e){if(Gs(e)!==e)throw Error(_(188))}function Ib(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Sh(r),e;if(a===s)return Sh(r),t;a=a.sibling}throw Error(_(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==s)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function jg(e){return e=Ib(e),e!==null?Ng(e):null}function Ng(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ng(e);if(t!==null)return t;e=e.sibling}return null}var Sg=At.unstable_scheduleCallback,Eh=At.unstable_cancelCallback,$b=At.unstable_shouldYield,_b=At.unstable_requestPaint,$e=At.unstable_now,Vb=At.unstable_getCurrentPriorityLevel,Vd=At.unstable_ImmediatePriority,Eg=At.unstable_UserBlockingPriority,yo=At.unstable_NormalPriority,Ub=At.unstable_LowPriority,Cg=At.unstable_IdlePriority,pl=null,hn=null;function Bb(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Hb,qb=Math.log,zb=Math.LN2;function Hb(e){return e>>>=0,e===0?32:31-(qb(e)/zb|0)|0}var Ea=64,Ca=4194304;function di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vo(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=di(l):(a&=o,a!==0&&(s=di(a)))}else o=n&~r,o!==0?s=di(o):a!==0&&(s=di(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Jt(t),r=1<<n,s|=e[n],t&=~r;return s}function Qb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wb(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Jt(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=Qb(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function pu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kg(){var e=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),e}function cc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function Kb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Jt(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}function Ud(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Jt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var pe=0;function Pg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tg,Bd,Ag,Rg,Lg,gu=!1,ka=[],Jn=null,Xn=null,es=null,Fi=new Map,Mi=new Map,Hn=[],Gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function Zr(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=aa(t),t!==null&&Bd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Yb(e,t,n,s,r){switch(t){case"focusin":return Jn=Zr(Jn,e,t,n,s,r),!0;case"dragenter":return Xn=Zr(Xn,e,t,n,s,r),!0;case"mouseover":return es=Zr(es,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return Fi.set(a,Zr(Fi.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Mi.set(a,Zr(Mi.get(a)||null,e,t,n,s,r)),!0}return!1}function Dg(e){var t=Ps(e.target);if(t!==null){var n=Gs(t);if(n!==null){if(t=n.tag,t===13){if(t=wg(n),t!==null){e.blockedOn=t,Lg(e.priority,function(){Ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);du=s,n.target.dispatchEvent(s),du=null}else return t=aa(n),t!==null&&Bd(t),e.blockedOn=n,!1;t.shift()}return!0}function kh(e,t,n){Ka(e)&&n.delete(t)}function Zb(){gu=!1,Jn!==null&&Ka(Jn)&&(Jn=null),Xn!==null&&Ka(Xn)&&(Xn=null),es!==null&&Ka(es)&&(es=null),Fi.forEach(kh),Mi.forEach(kh)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,gu||(gu=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,Zb)))}function Ii(e){function t(r){return Jr(r,e)}if(0<ka.length){Jr(ka[0],e);for(var n=1;n<ka.length;n++){var s=ka[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Jn!==null&&Jr(Jn,e),Xn!==null&&Jr(Xn,e),es!==null&&Jr(es,e),Fi.forEach(t),Mi.forEach(t),n=0;n<Hn.length;n++)s=Hn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Dg(n),n.blockedOn===null&&Hn.shift()}var Sr=Fn.ReactCurrentBatchConfig,bo=!0;function Jb(e,t,n,s){var r=pe,a=Sr.transition;Sr.transition=null;try{pe=1,qd(e,t,n,s)}finally{pe=r,Sr.transition=a}}function Xb(e,t,n,s){var r=pe,a=Sr.transition;Sr.transition=null;try{pe=4,qd(e,t,n,s)}finally{pe=r,Sr.transition=a}}function qd(e,t,n,s){if(bo){var r=xu(e,t,n,s);if(r===null)vc(e,t,s,wo,n),Ch(e,s);else if(Yb(r,e,t,n,s))s.stopPropagation();else if(Ch(e,s),t&4&&-1<Gb.indexOf(e)){for(;r!==null;){var a=aa(r);if(a!==null&&Tg(a),a=xu(e,t,n,s),a===null&&vc(e,t,s,wo,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else vc(e,t,s,null,n)}}var wo=null;function xu(e,t,n,s){if(wo=null,e=_d(s),e=Ps(e),e!==null)if(t=Gs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wo=e,null}function Og(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vb()){case Vd:return 1;case Eg:return 4;case yo:case Ub:return 16;case Cg:return 536870912;default:return 16}default:return 16}}var Kn=null,zd=null,Ga=null;function Fg(){if(Ga)return Ga;var e,t=zd,n=t.length,s,r="value"in Kn?Kn.value:Kn.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[a-s];s++);return Ga=r.slice(e,1<s?1-s:void 0)}function Ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function Ph(){return!1}function Dt(e){function t(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pa:Ph,this.isPropagationStopped=Ph,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hd=Dt(Ur),ia=Oe({},Ur,{view:0,detail:0}),ew=Dt(ia),uc,dc,Xr,gl=Oe({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(uc=e.screenX-Xr.screenX,dc=e.screenY-Xr.screenY):dc=uc=0,Xr=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),Th=Dt(gl),tw=Oe({},gl,{dataTransfer:0}),nw=Dt(tw),sw=Oe({},ia,{relatedTarget:0}),fc=Dt(sw),rw=Oe({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),iw=Dt(rw),aw=Oe({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ow=Dt(aw),lw=Oe({},Ur,{data:0}),Ah=Dt(lw),cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dw[e])?!!t[e]:!1}function Qd(){return fw}var hw=Oe({},ia,{key:function(e){if(e.key){var t=cw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(e){return e.type==="keypress"?Ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mw=Dt(hw),pw=Oe({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=Dt(pw),gw=Oe({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),xw=Dt(gw),yw=Oe({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=Dt(yw),bw=Oe({},gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ww=Dt(bw),jw=[9,13,27,32],Wd=Tn&&"CompositionEvent"in window,gi=null;Tn&&"documentMode"in document&&(gi=document.documentMode);var Nw=Tn&&"TextEvent"in window&&!gi,Mg=Tn&&(!Wd||gi&&8<gi&&11>=gi),Lh=String.fromCharCode(32),Dh=!1;function Ig(e,t){switch(e){case"keyup":return jw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Sw(e,t){switch(e){case"compositionend":return $g(t);case"keypress":return t.which!==32?null:(Dh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Dh?null:e;default:return null}}function Ew(e,t){if(or)return e==="compositionend"||!Wd&&Ig(e,t)?(e=Fg(),Ga=zd=Kn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mg&&t.locale!=="ko"?null:t.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cw[e.type]:t==="textarea"}function _g(e,t,n,s){gg(s),t=jo(t,"onChange"),0<t.length&&(n=new Hd("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var xi=null,$i=null;function kw(e){Yg(e,0)}function xl(e){var t=ur(e);if(cg(t))return e}function Pw(e,t){if(e==="change")return t}var Vg=!1;if(Tn){var hc;if(Tn){var mc="oninput"in document;if(!mc){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),mc=typeof Fh.oninput=="function"}hc=mc}else hc=!1;Vg=hc&&(!document.documentMode||9<document.documentMode)}function Mh(){xi&&(xi.detachEvent("onpropertychange",Ug),$i=xi=null)}function Ug(e){if(e.propertyName==="value"&&xl($i)){var t=[];_g(t,$i,e,_d(e)),bg(kw,t)}}function Tw(e,t,n){e==="focusin"?(Mh(),xi=t,$i=n,xi.attachEvent("onpropertychange",Ug)):e==="focusout"&&Mh()}function Aw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl($i)}function Rw(e,t){if(e==="click")return xl(t)}function Lw(e,t){if(e==="input"||e==="change")return xl(t)}function Dw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:Dw;function _i(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Xc.call(t,r)||!tn(e[r],t[r]))return!1}return!0}function Ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var n=Ih(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ih(n)}}function Bg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qg(){for(var e=window,t=po();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=po(e.document)}return t}function Kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ow(e){var t=qg(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bg(n.ownerDocument.documentElement,n)){if(s!==null&&Kd(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=$h(n,a);var o=$h(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fw=Tn&&"documentMode"in document&&11>=document.documentMode,lr=null,yu=null,yi=null,vu=!1;function _h(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vu||lr==null||lr!==po(s)||(s=lr,"selectionStart"in s&&Kd(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yi&&_i(yi,s)||(yi=s,s=jo(yu,"onSelect"),0<s.length&&(t=new Hd("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=lr)))}function Ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},pc={},zg={};Tn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function yl(e){if(pc[e])return pc[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zg)return pc[e]=t[n];return e}var Hg=yl("animationend"),Qg=yl("animationiteration"),Wg=yl("animationstart"),Kg=yl("transitionend"),Gg=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(e,t){Gg.set(e,t),Ks(t,[e])}for(var gc=0;gc<Vh.length;gc++){var xc=Vh[gc],Mw=xc.toLowerCase(),Iw=xc[0].toUpperCase()+xc.slice(1);ms(Mw,"on"+Iw)}ms(Hg,"onAnimationEnd");ms(Qg,"onAnimationIteration");ms(Wg,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(Kg,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function Uh(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Mb(s,t,void 0,e),e.currentTarget=null}function Yg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Uh(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Uh(r,l,u),a=c}}}if(xo)throw e=mu,xo=!1,mu=null,e}function je(e,t){var n=t[Su];n===void 0&&(n=t[Su]=new Set);var s=e+"__bubble";n.has(s)||(Zg(t,e,2,!1),n.add(s))}function yc(e,t,n){var s=0;t&&(s|=4),Zg(n,e,s,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Aa]){e[Aa]=!0,rg.forEach(function(n){n!=="selectionchange"&&($w.has(n)||yc(n,!1,e),yc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,yc("selectionchange",!1,t))}}function Zg(e,t,n,s){switch(Og(t)){case 1:var r=Jb;break;case 4:r=Xb;break;default:r=qd}n=r.bind(null,t,n,e),r=void 0,!hu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function vc(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ps(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}bg(function(){var u=a,d=_d(n),f=[];e:{var h=Gg.get(e);if(h!==void 0){var m=Hd,y=e;switch(e){case"keypress":if(Ya(n)===0)break e;case"keydown":case"keyup":m=mw;break;case"focusin":y="focus",m=fc;break;case"focusout":y="blur",m=fc;break;case"beforeblur":case"afterblur":m=fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xw;break;case Hg:case Qg:case Wg:m=iw;break;case Kg:m=vw;break;case"scroll":m=ew;break;case"wheel":m=ww;break;case"copy":case"cut":case"paste":m=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rh}var w=(t&4)!==0,x=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var g=u,v;g!==null;){v=g;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,p!==null&&(N=Oi(g,p),N!=null&&w.push(Ui(g,N,v)))),x)break;g=g.return}0<w.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==du&&(y=n.relatedTarget||n.fromElement)&&(Ps(y)||y[An]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ps(y):null,y!==null&&(x=Gs(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Th,N="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=Rh,N="onPointerLeave",p="onPointerEnter",g="pointer"),x=m==null?h:ur(m),v=y==null?h:ur(y),h=new w(N,g+"leave",m,n,d),h.target=x,h.relatedTarget=v,N=null,Ps(d)===u&&(w=new w(p,g+"enter",y,n,d),w.target=v,w.relatedTarget=x,N=w),x=N,m&&y)t:{for(w=m,p=y,g=0,v=w;v;v=Xs(v))g++;for(v=0,N=p;N;N=Xs(N))v++;for(;0<g-v;)w=Xs(w),g--;for(;0<v-g;)p=Xs(p),v--;for(;g--;){if(w===p||p!==null&&w===p.alternate)break t;w=Xs(w),p=Xs(p)}w=null}else w=null;m!==null&&Bh(f,h,m,w,!1),y!==null&&x!==null&&Bh(f,x,y,w,!0)}}e:{if(h=u?ur(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Pw;else if(Oh(h))if(Vg)j=Lw;else{j=Aw;var E=Tw}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Rw);if(j&&(j=j(e,u))){_g(f,j,n,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&au(h,"number",h.value)}switch(E=u?ur(u):window,e){case"focusin":(Oh(E)||E.contentEditable==="true")&&(lr=E,yu=u,yi=null);break;case"focusout":yi=yu=lr=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,_h(f,n,d);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":_h(f,n,d)}var k;if(Wd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else or?Ig(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Mg&&n.locale!=="ko"&&(or||P!=="onCompositionStart"?P==="onCompositionEnd"&&or&&(k=Fg()):(Kn=d,zd="value"in Kn?Kn.value:Kn.textContent,or=!0)),E=jo(u,P),0<E.length&&(P=new Ah(P,e,null,n,d),f.push({event:P,listeners:E}),k?P.data=k:(k=$g(n),k!==null&&(P.data=k)))),(k=Nw?Sw(e,n):Ew(e,n))&&(u=jo(u,"onBeforeInput"),0<u.length&&(d=new Ah("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}Yg(f,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jo(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Oi(e,n),a!=null&&s.unshift(Ui(e,a,r)),a=Oi(e,t),a!=null&&s.push(Ui(e,a,r))),e=e.return}return s}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bh(e,t,n,s,r){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Oi(n,a),c!=null&&o.unshift(Ui(n,c,l))):r||(c=Oi(n,a),c!=null&&o.push(Ui(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _w=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(_w,`
`).replace(Vw,"")}function Ra(e,t,n){if(t=qh(t),qh(e)!==t&&n)throw Error(_(425))}function No(){}var bu=null,wu=null;function ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(qw)}:Nu;function qw(e){setTimeout(function(){throw e})}function bc(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Ii(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Ii(t)}function ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),un="__reactFiber$"+Br,Bi="__reactProps$"+Br,An="__reactContainer$"+Br,Su="__reactEvents$"+Br,zw="__reactListeners$"+Br,Hw="__reactHandles$"+Br;function Ps(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hh(e);e!==null;){if(n=e[un])return n;e=Hh(e)}return t}e=n,n=e.parentNode}return null}function aa(e){return e=e[un]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function vl(e){return e[Bi]||null}var Eu=[],dr=-1;function ps(e){return{current:e}}function Ne(e){0>dr||(e.current=Eu[dr],Eu[dr]=null,dr--)}function ye(e,t){dr++,Eu[dr]=e.current,e.current=t}var ds={},lt=ps(ds),bt=ps(!1),Vs=ds;function Tr(e,t){var n=e.type.contextTypes;if(!n)return ds;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function wt(e){return e=e.childContextTypes,e!=null}function So(){Ne(bt),Ne(lt)}function Qh(e,t,n){if(lt.current!==ds)throw Error(_(168));ye(lt,t),ye(bt,n)}function Jg(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(_(108,Tb(e)||"Unknown",r));return Oe({},n,s)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ds,Vs=lt.current,ye(lt,e),ye(bt,bt.current),!0}function Wh(e,t,n){var s=e.stateNode;if(!s)throw Error(_(169));n?(e=Jg(e,t,Vs),s.__reactInternalMemoizedMergedChildContext=e,Ne(bt),Ne(lt),ye(lt,e)):Ne(bt),ye(bt,n)}var bn=null,bl=!1,wc=!1;function Xg(e){bn===null?bn=[e]:bn.push(e)}function Qw(e){bl=!0,Xg(e)}function gs(){if(!wc&&bn!==null){wc=!0;var e=0,t=pe;try{var n=bn;for(pe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}bn=null,bl=!1}catch(r){throw bn!==null&&(bn=bn.slice(e+1)),Sg(Vd,gs),r}finally{pe=t,wc=!1}}return null}var fr=[],hr=0,Co=null,ko=0,It=[],$t=0,Us=null,jn=1,Nn="";function Ns(e,t){fr[hr++]=ko,fr[hr++]=Co,Co=e,ko=t}function ex(e,t,n){It[$t++]=jn,It[$t++]=Nn,It[$t++]=Us,Us=e;var s=jn;e=Nn;var r=32-Jt(s)-1;s&=~(1<<r),n+=1;var a=32-Jt(t)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,jn=1<<32-Jt(t)+r|n<<r|s,Nn=a+e}else jn=1<<a|n<<r|s,Nn=e}function Gd(e){e.return!==null&&(Ns(e,1),ex(e,1,0))}function Yd(e){for(;e===Co;)Co=fr[--hr],fr[hr]=null,ko=fr[--hr],fr[hr]=null;for(;e===Us;)Us=It[--$t],It[$t]=null,Nn=It[--$t],It[$t]=null,jn=It[--$t],It[$t]=null}var Pt=null,kt=null,Pe=!1,Gt=null;function tx(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,kt=ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Us!==null?{id:jn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,kt=null,!0):!1;default:return!1}}function Cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ku(e){if(Pe){var t=kt;if(t){var n=t;if(!Kh(e,t)){if(Cu(e))throw Error(_(418));t=ts(n.nextSibling);var s=Pt;t&&Kh(e,t)?tx(s,n):(e.flags=e.flags&-4097|2,Pe=!1,Pt=e)}}else{if(Cu(e))throw Error(_(418));e.flags=e.flags&-4097|2,Pe=!1,Pt=e}}}function Gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function La(e){if(e!==Pt)return!1;if(!Pe)return Gh(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ju(e.type,e.memoizedProps)),t&&(t=kt)){if(Cu(e))throw nx(),Error(_(418));for(;t;)tx(e,t),t=ts(t.nextSibling)}if(Gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=ts(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Pt?ts(e.stateNode.nextSibling):null;return!0}function nx(){for(var e=kt;e;)e=ts(e.nextSibling)}function Ar(){kt=Pt=null,Pe=!1}function Zd(e){Gt===null?Gt=[e]:Gt.push(e)}var Ww=Fn.ReactCurrentBatchConfig;function ei(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var s=n.stateNode}if(!s)throw Error(_(147,e));var r=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yh(e){var t=e._init;return t(e._payload)}function sx(e){function t(p,g){if(e){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function s(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function r(p,g){return p=is(p,g),p.index=0,p.sibling=null,p}function a(p,g,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,v,N){return g===null||g.tag!==6?(g=Pc(v,p.mode,N),g.return=p,g):(g=r(g,v),g.return=p,g)}function c(p,g,v,N){var j=v.type;return j===ar?d(p,g,v.props.children,N,v.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Un&&Yh(j)===g.type)?(N=r(g,v.props),N.ref=ei(p,g,v),N.return=p,N):(N=so(v.type,v.key,v.props,null,p.mode,N),N.ref=ei(p,g,v),N.return=p,N)}function u(p,g,v,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Tc(v,p.mode,N),g.return=p,g):(g=r(g,v.children||[]),g.return=p,g)}function d(p,g,v,N,j){return g===null||g.tag!==7?(g=Ms(v,p.mode,N,j),g.return=p,g):(g=r(g,v),g.return=p,g)}function f(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Pc(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ja:return v=so(g.type,g.key,g.props,null,p.mode,v),v.ref=ei(p,null,g),v.return=p,v;case ir:return g=Tc(g,p.mode,v),g.return=p,g;case Un:var N=g._init;return f(p,N(g._payload),v)}if(ui(g)||Gr(g))return g=Ms(g,p.mode,v,null),g.return=p,g;Da(p,g)}return null}function h(p,g,v,N){var j=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(p,g,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ja:return v.key===j?c(p,g,v,N):null;case ir:return v.key===j?u(p,g,v,N):null;case Un:return j=v._init,h(p,g,j(v._payload),N)}if(ui(v)||Gr(v))return j!==null?null:d(p,g,v,N,null);Da(p,v)}return null}function m(p,g,v,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(v)||null,l(g,p,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ja:return p=p.get(N.key===null?v:N.key)||null,c(g,p,N,j);case ir:return p=p.get(N.key===null?v:N.key)||null,u(g,p,N,j);case Un:var E=N._init;return m(p,g,v,E(N._payload),j)}if(ui(N)||Gr(N))return p=p.get(v)||null,d(g,p,N,j,null);Da(g,N)}return null}function y(p,g,v,N){for(var j=null,E=null,k=g,P=g=0,L=null;k!==null&&P<v.length;P++){k.index>P?(L=k,k=null):L=k.sibling;var D=h(p,k,v[P],N);if(D===null){k===null&&(k=L);break}e&&k&&D.alternate===null&&t(p,k),g=a(D,g,P),E===null?j=D:E.sibling=D,E=D,k=L}if(P===v.length)return n(p,k),Pe&&Ns(p,P),j;if(k===null){for(;P<v.length;P++)k=f(p,v[P],N),k!==null&&(g=a(k,g,P),E===null?j=k:E.sibling=k,E=k);return Pe&&Ns(p,P),j}for(k=s(p,k);P<v.length;P++)L=m(k,p,P,v[P],N),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?P:L.key),g=a(L,g,P),E===null?j=L:E.sibling=L,E=L);return e&&k.forEach(function(G){return t(p,G)}),Pe&&Ns(p,P),j}function w(p,g,v,N){var j=Gr(v);if(typeof j!="function")throw Error(_(150));if(v=j.call(v),v==null)throw Error(_(151));for(var E=j=null,k=g,P=g=0,L=null,D=v.next();k!==null&&!D.done;P++,D=v.next()){k.index>P?(L=k,k=null):L=k.sibling;var G=h(p,k,D.value,N);if(G===null){k===null&&(k=L);break}e&&k&&G.alternate===null&&t(p,k),g=a(G,g,P),E===null?j=G:E.sibling=G,E=G,k=L}if(D.done)return n(p,k),Pe&&Ns(p,P),j;if(k===null){for(;!D.done;P++,D=v.next())D=f(p,D.value,N),D!==null&&(g=a(D,g,P),E===null?j=D:E.sibling=D,E=D);return Pe&&Ns(p,P),j}for(k=s(p,k);!D.done;P++,D=v.next())D=m(k,p,P,D.value,N),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?P:D.key),g=a(D,g,P),E===null?j=D:E.sibling=D,E=D);return e&&k.forEach(function(H){return t(p,H)}),Pe&&Ns(p,P),j}function x(p,g,v,N){if(typeof v=="object"&&v!==null&&v.type===ar&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ja:e:{for(var j=v.key,E=g;E!==null;){if(E.key===j){if(j=v.type,j===ar){if(E.tag===7){n(p,E.sibling),g=r(E,v.props.children),g.return=p,p=g;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Un&&Yh(j)===E.type){n(p,E.sibling),g=r(E,v.props),g.ref=ei(p,E,v),g.return=p,p=g;break e}n(p,E);break}else t(p,E);E=E.sibling}v.type===ar?(g=Ms(v.props.children,p.mode,N,v.key),g.return=p,p=g):(N=so(v.type,v.key,v.props,null,p.mode,N),N.ref=ei(p,g,v),N.return=p,p=N)}return o(p);case ir:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=r(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Tc(v,p.mode,N),g.return=p,p=g}return o(p);case Un:return E=v._init,x(p,g,E(v._payload),N)}if(ui(v))return y(p,g,v,N);if(Gr(v))return w(p,g,v,N);Da(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=r(g,v),g.return=p,p=g):(n(p,g),g=Pc(v,p.mode,N),g.return=p,p=g),o(p)):n(p,g)}return x}var Rr=sx(!0),rx=sx(!1),Po=ps(null),To=null,mr=null,Jd=null;function Xd(){Jd=mr=To=null}function ef(e){var t=Po.current;Ne(Po),e._currentValue=t}function Pu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){To=e,Jd=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(Jd!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(To===null)throw Error(_(308));mr=e,To.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var Ts=null;function tf(e){Ts===null?Ts=[e]:Ts.push(e)}function ix(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,tf(t)):(n.next=r.next,r.next=n),t.interleaved=n,Rn(e,s)}function Rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bn=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ax(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,he&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Rn(e,n)}return r=s.interleaved,r===null?(t.next=t,tf(s)):(t.next=r.next,r.next=t),s.interleaved=t,Rn(e,n)}function Za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ud(e,n)}}function Zh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ao(e,t,n,s){var r=e.updateQueue;Bn=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(h=t,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Oe({},f,h);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);qs|=o,e.lanes=o,e.memoizedState=f}}function Jh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(_(191,r));r.call(s)}}}var oa={},mn=ps(oa),qi=ps(oa),zi=ps(oa);function As(e){if(e===oa)throw Error(_(174));return e}function sf(e,t){switch(ye(zi,t),ye(qi,e),ye(mn,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lu(t,e)}Ne(mn),ye(mn,t)}function Lr(){Ne(mn),Ne(qi),Ne(zi)}function ox(e){As(zi.current);var t=As(mn.current),n=lu(t,e.type);t!==n&&(ye(qi,e),ye(mn,n))}function rf(e){qi.current===e&&(Ne(mn),Ne(qi))}var Ae=ps(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jc=[];function af(){for(var e=0;e<jc.length;e++)jc[e]._workInProgressVersionPrimary=null;jc.length=0}var Ja=Fn.ReactCurrentDispatcher,Nc=Fn.ReactCurrentBatchConfig,Bs=0,Le=null,Qe=null,Ge=null,Lo=!1,vi=!1,Hi=0,Kw=0;function st(){throw Error(_(321))}function of(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function lf(e,t,n,s,r,a){if(Bs=a,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=e===null||e.memoizedState===null?Jw:Xw,e=n(s,r),vi){a=0;do{if(vi=!1,Hi=0,25<=a)throw Error(_(301));a+=1,Ge=Qe=null,t.updateQueue=null,Ja.current=ej,e=n(s,r)}while(vi)}if(Ja.current=Do,t=Qe!==null&&Qe.next!==null,Bs=0,Ge=Qe=Le=null,Lo=!1,t)throw Error(_(300));return e}function cf(){var e=Hi!==0;return Hi=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Le.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function qt(){if(Qe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Ge===null?Le.memoizedState:Ge.next;if(t!==null)Ge=t,Qe=e;else{if(e===null)throw Error(_(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ge===null?Le.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Qi(e,t){return typeof t=="function"?t(e):t}function Sc(e){var t=qt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var s=Qe,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Le.lanes|=d,qs|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,tn(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do a=r.lane,Le.lanes|=a,qs|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ec(e){var t=qt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);tn(a,t.memoizedState)||(vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function lx(){}function cx(e,t){var n=Le,s=qt(),r=t(),a=!tn(s.memoizedState,r);if(a&&(s.memoizedState=r,vt=!0),s=s.queue,uf(fx.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Wi(9,dx.bind(null,n,s,r,t),void 0,null),Ze===null)throw Error(_(349));Bs&30||ux(n,t,r)}return r}function ux(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dx(e,t,n,s){t.value=n,t.getSnapshot=s,hx(t)&&mx(e)}function fx(e,t,n){return n(function(){hx(t)&&mx(e)})}function hx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function mx(e){var t=Rn(e,1);t!==null&&Xt(t,e,1,-1)}function Xh(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t.queue=e,e=e.dispatch=Zw.bind(null,Le,e),[t.memoizedState,e]}function Wi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function px(){return qt().memoizedState}function Xa(e,t,n,s){var r=ln();Le.flags|=e,r.memoizedState=Wi(1|t,n,void 0,s===void 0?null:s)}function wl(e,t,n,s){var r=qt();s=s===void 0?null:s;var a=void 0;if(Qe!==null){var o=Qe.memoizedState;if(a=o.destroy,s!==null&&of(s,o.deps)){r.memoizedState=Wi(t,n,a,s);return}}Le.flags|=e,r.memoizedState=Wi(1|t,n,a,s)}function em(e,t){return Xa(8390656,8,e,t)}function uf(e,t){return wl(2048,8,e,t)}function gx(e,t){return wl(4,2,e,t)}function xx(e,t){return wl(4,4,e,t)}function yx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vx(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,yx.bind(null,t,e),n)}function df(){}function bx(e,t){var n=qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&of(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function wx(e,t){var n=qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&of(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function jx(e,t,n){return Bs&21?(tn(n,t)||(n=kg(),Le.lanes|=n,qs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function Gw(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var s=Nc.transition;Nc.transition={};try{e(!1),t()}finally{pe=n,Nc.transition=s}}function Nx(){return qt().memoizedState}function Yw(e,t,n){var s=rs(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Sx(e))Ex(t,n);else if(n=ix(e,t,n,s),n!==null){var r=ht();Xt(n,e,s,r),Cx(n,t,s)}}function Zw(e,t,n){var s=rs(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sx(e))Ex(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,tn(l,o)){var c=t.interleaved;c===null?(r.next=r,tf(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=ix(e,t,r,s),n!==null&&(r=ht(),Xt(n,e,s,r),Cx(n,t,s))}}function Sx(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Ex(e,t){vi=Lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ud(e,n)}}var Do={readContext:Bt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Jw={readContext:Bt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:em,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xa(4194308,4,yx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xa(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=ln();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Yw.bind(null,Le,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Xh,useDebugValue:df,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Xh(!1),t=e[0];return e=Gw.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Le,r=ln();if(Pe){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Ze===null)throw Error(_(349));Bs&30||ux(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,em(fx.bind(null,s,a,e),[e]),s.flags|=2048,Wi(9,dx.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=ln(),t=Ze.identifierPrefix;if(Pe){var n=Nn,s=jn;n=(s&~(1<<32-Jt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xw={readContext:Bt,useCallback:bx,useContext:Bt,useEffect:uf,useImperativeHandle:vx,useInsertionEffect:gx,useLayoutEffect:xx,useMemo:wx,useReducer:Sc,useRef:px,useState:function(){return Sc(Qi)},useDebugValue:df,useDeferredValue:function(e){var t=qt();return jx(t,Qe.memoizedState,e)},useTransition:function(){var e=Sc(Qi)[0],t=qt().memoizedState;return[e,t]},useMutableSource:lx,useSyncExternalStore:cx,useId:Nx,unstable_isNewReconciler:!1},ej={readContext:Bt,useCallback:bx,useContext:Bt,useEffect:uf,useImperativeHandle:vx,useInsertionEffect:gx,useLayoutEffect:xx,useMemo:wx,useReducer:Ec,useRef:px,useState:function(){return Ec(Qi)},useDebugValue:df,useDeferredValue:function(e){var t=qt();return Qe===null?t.memoizedState=e:jx(t,Qe.memoizedState,e)},useTransition:function(){var e=Ec(Qi)[0],t=qt().memoizedState;return[e,t]},useMutableSource:lx,useSyncExternalStore:cx,useId:Nx,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ht(),r=rs(e),a=En(s,r);a.payload=t,n!=null&&(a.callback=n),t=ns(e,a,r),t!==null&&(Xt(t,e,r,s),Za(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ht(),r=rs(e),a=En(s,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ns(e,a,r),t!==null&&(Xt(t,e,r,s),Za(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),s=rs(e),r=En(n,s);r.tag=2,t!=null&&(r.callback=t),t=ns(e,r,s),t!==null&&(Xt(t,e,s,n),Za(t,e,s))}};function tm(e,t,n,s,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!_i(n,s)||!_i(r,a):!0}function kx(e,t,n){var s=!1,r=ds,a=t.contextType;return typeof a=="object"&&a!==null?a=Bt(a):(r=wt(t)?Vs:lt.current,s=t.contextTypes,a=(s=s!=null)?Tr(e,r):ds),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function nm(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function Au(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},nf(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=Bt(a):(a=wt(t)?Vs:lt.current,r.context=Tr(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Tu(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&jl.enqueueReplaceState(r,r.state,null),Ao(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",s=t;do n+=Pb(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function Cc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ru(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tj=typeof WeakMap=="function"?WeakMap:Map;function Px(e,t,n){n=En(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Fo||(Fo=!0,Uu=s),Ru(e,t)},n}function Tx(e,t,n){n=En(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Ru(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ru(e,t),typeof s!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sm(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new tj;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=pj.bind(null,e,t,n),t.then(e,e))}function rm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function im(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=En(-1,1),t.tag=2,ns(n,t,1))),n.lanes|=1),e)}var nj=Fn.ReactCurrentOwner,vt=!1;function dt(e,t,n,s){t.child=e===null?rx(t,null,n,s):Rr(t,e.child,n,s)}function am(e,t,n,s,r){n=n.render;var a=t.ref;return Er(t,r),s=lf(e,t,n,s,a,r),n=cf(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ln(e,t,r)):(Pe&&n&&Gd(t),t.flags|=1,dt(e,t,s,r),t.child)}function om(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!vf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ax(e,t,a,s,r)):(e=so(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(o,s)&&e.ref===t.ref)return Ln(e,t,r)}return t.flags|=1,e=is(a,s),e.ref=t.ref,e.return=t,t.child=e}function Ax(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(_i(a,s)&&e.ref===t.ref)if(vt=!1,t.pendingProps=s=a,(e.lanes&r)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Ln(e,t,r)}return Lu(e,t,n,s,r)}function Rx(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(gr,Et),Et|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(gr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ye(gr,Et),Et|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ye(gr,Et),Et|=s;return dt(e,t,r,n),t.child}function Lx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lu(e,t,n,s,r){var a=wt(n)?Vs:lt.current;return a=Tr(t,a),Er(t,r),n=lf(e,t,n,s,a,r),s=cf(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ln(e,t,r)):(Pe&&s&&Gd(t),t.flags|=1,dt(e,t,n,r),t.child)}function lm(e,t,n,s,r){if(wt(n)){var a=!0;Eo(t)}else a=!1;if(Er(t,r),t.stateNode===null)eo(e,t),kx(t,n,s),Au(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bt(u):(u=wt(n)?Vs:lt.current,u=Tr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&nm(t,o,s,u),Bn=!1;var h=t.memoizedState;o.state=h,Ao(t,s,o,r),c=t.memoizedState,l!==s||h!==c||bt.current||Bn?(typeof d=="function"&&(Tu(t,n,d,s),c=t.memoizedState),(l=Bn||tm(t,n,l,s,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,ax(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wt(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=wt(n)?Vs:lt.current,c=Tr(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nm(t,o,s,c),Bn=!1,h=t.memoizedState,o.state=h,Ao(t,s,o,r);var y=t.memoizedState;l!==f||h!==y||bt.current||Bn?(typeof m=="function"&&(Tu(t,n,m,s),y=t.memoizedState),(u=Bn||tm(t,n,u,s,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Du(e,t,n,s,a,r)}function Du(e,t,n,s,r,a){Lx(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&Wh(t,n,!1),Ln(e,t,a);s=t.stateNode,nj.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Rr(t,e.child,null,a),t.child=Rr(t,null,l,a)):dt(e,t,l,a),t.memoizedState=s.state,r&&Wh(t,n,!0),t.child}function Dx(e){var t=e.stateNode;t.pendingContext?Qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qh(e,t.context,!1),sf(e,t.containerInfo)}function cm(e,t,n,s,r){return Ar(),Zd(r),t.flags|=256,dt(e,t,n,s),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ox(e,t,n){var s=t.pendingProps,r=Ae.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ye(Ae,r&1),e===null)return ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=El(o,s,0,null),e=Ms(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fu(n),t.memoizedState=Ou,e):ff(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return sj(e,t,o,s,l,r,n);if(a){a=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=is(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=is(l,a):(a=Ms(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Fu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Ou,s}return a=e.child,e=a.sibling,s=is(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ff(e,t){return t=El({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,s){return s!==null&&Zd(s),Rr(t,e.child,null,n),e=ff(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sj(e,t,n,s,r,a,o){if(n)return t.flags&256?(t.flags&=-257,s=Cc(Error(_(422))),Oa(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=El({mode:"visible",children:s.children},r,0,null),a=Ms(a,r,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Rr(t,e.child,null,o),t.child.memoizedState=Fu(o),t.memoizedState=Ou,a);if(!(t.mode&1))return Oa(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(_(419)),s=Cc(a,s,void 0),Oa(e,t,o,s)}if(l=(o&e.childLanes)!==0,vt||l){if(s=Ze,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Rn(e,r),Xt(s,e,r,-1))}return yf(),s=Cc(Error(_(421))),Oa(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=gj.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,kt=ts(r.nextSibling),Pt=t,Pe=!0,Gt=null,e!==null&&(It[$t++]=jn,It[$t++]=Nn,It[$t++]=Us,jn=e.id,Nn=e.overflow,Us=t),t=ff(t,s.children),t.flags|=4096,t)}function um(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Pu(e.return,t,n)}function kc(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Fx(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(dt(e,t,s.children,n),s=Ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,n,t);else if(e.tag===19)um(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ye(Ae,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),kc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ro(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}kc(t,!0,n,null,a);break;case"together":kc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=is(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=is(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rj(e,t,n){switch(t.tag){case 3:Dx(t),Ar();break;case 5:ox(t);break;case 1:wt(t.type)&&Eo(t);break;case 4:sf(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;ye(Po,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ye(Ae,Ae.current&1),t.flags|=128,null):n&t.child.childLanes?Ox(e,t,n):(ye(Ae,Ae.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);ye(Ae,Ae.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Fx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ye(Ae,Ae.current),s)break;return null;case 22:case 23:return t.lanes=0,Rx(e,t,n)}return Ln(e,t,n)}var Mx,Mu,Ix,$x;Mx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mu=function(){};Ix=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,As(mn.current);var a=null;switch(n){case"input":r=ru(e,r),s=ru(e,s),a=[];break;case"select":r=Oe({},r,{value:void 0}),s=Oe({},s,{value:void 0}),a=[];break;case"textarea":r=ou(e,r),s=ou(e,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=No)}cu(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$x=function(e,t,n,s){n!==s&&(t.flags|=4)};function ti(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function ij(e,t,n){var s=t.pendingProps;switch(Yd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return wt(t.type)&&So(),rt(t),null;case 3:return s=t.stateNode,Lr(),Ne(bt),Ne(lt),af(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(La(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(zu(Gt),Gt=null))),Mu(e,t),rt(t),null;case 5:rf(t);var r=As(zi.current);if(n=t.type,e!==null&&t.stateNode!=null)Ix(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(_(166));return rt(t),null}if(e=As(mn.current),La(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[un]=t,s[Bi]=a,e=(t.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(r=0;r<fi.length;r++)je(fi[r],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":vh(s,a),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},je("invalid",s);break;case"textarea":wh(s,a),je("invalid",s)}cu(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ra(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ra(s.textContent,l,e),r=["children",""+l]):Li.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&je("scroll",s)}switch(n){case"input":Na(s),bh(s,a,!0);break;case"textarea":Na(s),jh(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=No)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[un]=t,e[Bi]=s,Mx(e,t,!1,!1),t.stateNode=e;e:{switch(o=uu(n,s),n){case"dialog":je("cancel",e),je("close",e),r=s;break;case"iframe":case"object":case"embed":je("load",e),r=s;break;case"video":case"audio":for(r=0;r<fi.length;r++)je(fi[r],e);r=s;break;case"source":je("error",e),r=s;break;case"img":case"image":case"link":je("error",e),je("load",e),r=s;break;case"details":je("toggle",e),r=s;break;case"input":vh(e,s),r=ru(e,s),je("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=Oe({},s,{value:void 0}),je("invalid",e);break;case"textarea":wh(e,s),r=ou(e,s),je("invalid",e);break;default:r=s}cu(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?pg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Di(e,c):typeof c=="number"&&Di(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Li.hasOwnProperty(a)?c!=null&&a==="onScroll"&&je("scroll",e):c!=null&&Fd(e,a,c,o))}switch(n){case"input":Na(e),bh(e,s,!1);break;case"textarea":Na(e),jh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+us(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?wr(e,!!s.multiple,a,!1):s.defaultValue!=null&&wr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=No)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)$x(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(_(166));if(n=As(zi.current),As(mn.current),La(t)){if(s=t.stateNode,n=t.memoizedProps,s[un]=t,(a=s.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Ra(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[un]=t,t.stateNode=s}return rt(t),null;case 13:if(Ne(Ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&kt!==null&&t.mode&1&&!(t.flags&128))nx(),Ar(),t.flags|=98560,a=!1;else if(a=La(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(_(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_(317));a[un]=t}else Ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),a=!1}else Gt!==null&&(zu(Gt),Gt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?We===0&&(We=3):yf())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Lr(),Mu(e,t),e===null&&Vi(t.stateNode.containerInfo),rt(t),null;case 10:return ef(t.type._context),rt(t),null;case 17:return wt(t.type)&&So(),rt(t),null;case 19:if(Ne(Ae),a=t.memoizedState,a===null)return rt(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)ti(a,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,ti(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ae,Ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&$e()>Or&&(t.flags|=128,s=!0,ti(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ro(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ti(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Pe)return rt(t),null}else 2*$e()-a.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,s=!0,ti(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=Ae.current,ye(Ae,s?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return xf(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Et&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function aj(e,t){switch(Yd(t),t.tag){case 1:return wt(t.type)&&So(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),Ne(bt),Ne(lt),af(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rf(t),null;case 13:if(Ne(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Ae),null;case 4:return Lr(),null;case 10:return ef(t.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Fa=!1,at=!1,oj=typeof WeakSet=="function"?WeakSet:Set,J=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Fe(e,t,s)}else n.current=null}function Iu(e,t,n){try{n()}catch(s){Fe(e,t,s)}}var dm=!1;function lj(e,t){if(bu=bo,e=qg(),Kd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===r&&(l=o),h===a&&++d===s&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:e,selectionRange:n},bo=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Wt(t.type,w),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(N){Fe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=dm,dm=!1,y}function bi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&Iu(t,n,a)}r=r.next}while(r!==s)}}function Nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _x(e){var t=e.alternate;t!==null&&(e.alternate=null,_x(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Bi],delete t[Su],delete t[zw],delete t[Hw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vx(e){return e.tag===5||e.tag===3||e.tag===4}function fm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=No));else if(s!==4&&(e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function Vu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}var Je=null,Kt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Ux(e,t,n),n=n.sibling}function Ux(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:at||pr(n,t);case 6:var s=Je,r=Kt;Je=null,_n(e,t,n),Je=s,Kt=r,Je!==null&&(Kt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Kt?(e=Je,n=n.stateNode,e.nodeType===8?bc(e.parentNode,n):e.nodeType===1&&bc(e,n),Ii(e)):bc(Je,n.stateNode));break;case 4:s=Je,r=Kt,Je=n.stateNode.containerInfo,Kt=!0,_n(e,t,n),Je=s,Kt=r;break;case 0:case 11:case 14:case 15:if(!at&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Iu(n,t,o),r=r.next}while(r!==s)}_n(e,t,n);break;case 1:if(!at&&(pr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Fe(n,t,l)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(at=(s=at)||n.memoizedState!==null,_n(e,t,n),at=s):_n(e,t,n);break;default:_n(e,t,n)}}function hm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oj),t.forEach(function(s){var r=xj.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,Kt=!1;break e;case 3:Je=l.stateNode.containerInfo,Kt=!0;break e;case 4:Je=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Je===null)throw Error(_(160));Ux(a,o,r),Je=null,Kt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){Fe(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bx(t,e),t=t.sibling}function Bx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),an(e),s&4){try{bi(3,e,e.return),Nl(3,e)}catch(w){Fe(e,e.return,w)}try{bi(5,e,e.return)}catch(w){Fe(e,e.return,w)}}break;case 1:Qt(t,e),an(e),s&512&&n!==null&&pr(n,n.return);break;case 5:if(Qt(t,e),an(e),s&512&&n!==null&&pr(n,n.return),e.flags&32){var r=e.stateNode;try{Di(r,"")}catch(w){Fe(e,e.return,w)}}if(s&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&ug(r,a),uu(l,o);var u=uu(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?pg(r,f):d==="dangerouslySetInnerHTML"?hg(r,f):d==="children"?Di(r,f):Fd(r,d,f,u)}switch(l){case"input":iu(r,a);break;case"textarea":dg(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?wr(r,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?wr(r,!!a.multiple,a.defaultValue,!0):wr(r,!!a.multiple,a.multiple?[]:"",!1))}r[Bi]=a}catch(w){Fe(e,e.return,w)}}break;case 6:if(Qt(t,e),an(e),s&4){if(e.stateNode===null)throw Error(_(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(w){Fe(e,e.return,w)}}break;case 3:if(Qt(t,e),an(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(w){Fe(e,e.return,w)}break;case 4:Qt(t,e),an(e);break;case 13:Qt(t,e),an(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(pf=$e())),s&4&&hm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(at=(u=at)||d,Qt(t,e),at=u):Qt(t,e),an(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(h=J,m=h.child,h.tag){case 0:case 11:case 14:case 15:bi(4,h,h.return);break;case 1:pr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Fe(s,n,w)}}break;case 5:pr(h,h.return);break;case 22:if(h.memoizedState!==null){pm(f);continue}}m!==null?(m.return=h,J=m):pm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mg("display",o))}catch(w){Fe(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Fe(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(t,e),an(e),s&4&&hm(e);break;case 21:break;default:Qt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vx(n)){var s=n;break e}n=n.return}throw Error(_(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Di(r,""),s.flags&=-33);var a=fm(e);Vu(e,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=fm(e);_u(e,l,o);break;default:throw Error(_(161))}}catch(c){Fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cj(e,t,n){J=e,qx(e)}function qx(e,t,n){for(var s=(e.mode&1)!==0;J!==null;){var r=J,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Fa;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||at;l=Fa;var u=at;if(Fa=o,(at=c)&&!u)for(J=r;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?gm(r):c!==null?(c.return=o,J=c):gm(r);for(;a!==null;)J=a,qx(a),a=a.sibling;J=r,Fa=l,at=u}mm(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,J=a):mm(e)}}function mm(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Nl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!at)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Jh(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ii(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}at||t.flags&512&&$u(t)}catch(h){Fe(t,t.return,h)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function pm(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function gm(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nl(4,t)}catch(c){Fe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){Fe(t,r,c)}}var a=t.return;try{$u(t)}catch(c){Fe(t,a,c)}break;case 5:var o=t.return;try{$u(t)}catch(c){Fe(t,o,c)}}}catch(c){Fe(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var uj=Math.ceil,Oo=Fn.ReactCurrentDispatcher,hf=Fn.ReactCurrentOwner,Ut=Fn.ReactCurrentBatchConfig,he=0,Ze=null,qe=null,et=0,Et=0,gr=ps(0),We=0,Ki=null,qs=0,Sl=0,mf=0,wi=null,yt=null,pf=0,Or=1/0,vn=null,Fo=!1,Uu=null,ss=null,Ma=!1,Gn=null,Mo=0,ji=0,Bu=null,to=-1,no=0;function ht(){return he&6?$e():to!==-1?to:to=$e()}function rs(e){return e.mode&1?he&2&&et!==0?et&-et:Ww.transition!==null?(no===0&&(no=kg()),no):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Og(e.type)),e):1}function Xt(e,t,n,s){if(50<ji)throw ji=0,Bu=null,Error(_(185));ra(e,n,s),(!(he&2)||e!==Ze)&&(e===Ze&&(!(he&2)&&(Sl|=n),We===4&&Qn(e,et)),jt(e,s),n===1&&he===0&&!(t.mode&1)&&(Or=$e()+500,bl&&gs()))}function jt(e,t){var n=e.callbackNode;Wb(e,t);var s=vo(e,e===Ze?et:0);if(s===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?Qw(xm.bind(null,e)):Xg(xm.bind(null,e)),Bw(function(){!(he&6)&&gs()}),n=null;else{switch(Pg(s)){case 1:n=Vd;break;case 4:n=Eg;break;case 16:n=yo;break;case 536870912:n=Cg;break;default:n=yo}n=Zx(n,zx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zx(e,t){if(to=-1,no=0,he&6)throw Error(_(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var s=vo(e,e===Ze?et:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Io(e,s);else{t=s;var r=he;he|=2;var a=Qx();(Ze!==e||et!==t)&&(vn=null,Or=$e()+500,Fs(e,t));do try{hj();break}catch(l){Hx(e,l)}while(1);Xd(),Oo.current=a,he=r,qe!==null?t=0:(Ze=null,et=0,t=We)}if(t!==0){if(t===2&&(r=pu(e),r!==0&&(s=r,t=qu(e,r))),t===1)throw n=Ki,Fs(e,0),Qn(e,s),jt(e,$e()),n;if(t===6)Qn(e,s);else{if(r=e.current.alternate,!(s&30)&&!dj(r)&&(t=Io(e,s),t===2&&(a=pu(e),a!==0&&(s=a,t=qu(e,a))),t===1))throw n=Ki,Fs(e,0),Qn(e,s),jt(e,$e()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(_(345));case 2:Ss(e,yt,vn);break;case 3:if(Qn(e,s),(s&130023424)===s&&(t=pf+500-$e(),10<t)){if(vo(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){ht(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Nu(Ss.bind(null,e,yt,vn),t);break}Ss(e,yt,vn);break;case 4:if(Qn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-Jt(s);a=1<<o,o=t[o],o>r&&(r=o),s&=~a}if(s=r,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*uj(s/1960))-s,10<s){e.timeoutHandle=Nu(Ss.bind(null,e,yt,vn),s);break}Ss(e,yt,vn);break;case 5:Ss(e,yt,vn);break;default:throw Error(_(329))}}}return jt(e,$e()),e.callbackNode===n?zx.bind(null,e):null}function qu(e,t){var n=wi;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Io(e,t),e!==2&&(t=yt,yt=n,t!==null&&zu(t)),e}function zu(e){yt===null?yt=e:yt.push.apply(yt,e)}function dj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!tn(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~mf,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),s=1<<n;e[n]=-1,t&=~s}}function xm(e){if(he&6)throw Error(_(327));Cr();var t=vo(e,0);if(!(t&1))return jt(e,$e()),null;var n=Io(e,t);if(e.tag!==0&&n===2){var s=pu(e);s!==0&&(t=s,n=qu(e,s))}if(n===1)throw n=Ki,Fs(e,0),Qn(e,t),jt(e,$e()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,yt,vn),jt(e,$e()),null}function gf(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(Or=$e()+500,bl&&gs())}}function zs(e){Gn!==null&&Gn.tag===0&&!(he&6)&&Cr();var t=he;he|=1;var n=Ut.transition,s=pe;try{if(Ut.transition=null,pe=1,e)return e()}finally{pe=s,Ut.transition=n,he=t,!(he&6)&&gs()}}function xf(){Et=gr.current,Ne(gr)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Uw(n)),qe!==null)for(n=qe.return;n!==null;){var s=n;switch(Yd(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&So();break;case 3:Lr(),Ne(bt),Ne(lt),af();break;case 5:rf(s);break;case 4:Lr();break;case 13:Ne(Ae);break;case 19:Ne(Ae);break;case 10:ef(s.type._context);break;case 22:case 23:xf()}n=n.return}if(Ze=e,qe=e=is(e.current,null),et=Et=t,We=0,Ki=null,mf=Sl=qs=0,yt=wi=null,Ts!==null){for(t=0;t<Ts.length;t++)if(n=Ts[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Ts=null}return e}function Hx(e,t){do{var n=qe;try{if(Xd(),Ja.current=Do,Lo){for(var s=Le.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lo=!1}if(Bs=0,Ge=Qe=Le=null,vi=!1,Hi=0,hf.current=null,n===null||n.return===null){We=1,Ki=t,qe=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rm(o);if(m!==null){m.flags&=-257,im(m,o,l,a,t),m.mode&1&&sm(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(c),t.updateQueue=w}else y.add(c);break e}else{if(!(t&1)){sm(a,u,t),yf();break e}c=Error(_(426))}}else if(Pe&&l.mode&1){var x=rm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),im(x,o,l,a,t),Zd(Dr(c,l));break e}}a=c=Dr(c,l),We!==4&&(We=2),wi===null?wi=[a]:wi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Px(a,c,t);Zh(a,p);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ss===null||!ss.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Tx(a,l,t);Zh(a,N);break e}}a=a.return}while(a!==null)}Kx(n)}catch(j){t=j,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function Qx(){var e=Oo.current;return Oo.current=Do,e===null?Do:e}function yf(){(We===0||We===3||We===2)&&(We=4),Ze===null||!(qs&268435455)&&!(Sl&268435455)||Qn(Ze,et)}function Io(e,t){var n=he;he|=2;var s=Qx();(Ze!==e||et!==t)&&(vn=null,Fs(e,t));do try{fj();break}catch(r){Hx(e,r)}while(1);if(Xd(),he=n,Oo.current=s,qe!==null)throw Error(_(261));return Ze=null,et=0,We}function fj(){for(;qe!==null;)Wx(qe)}function hj(){for(;qe!==null&&!$b();)Wx(qe)}function Wx(e){var t=Yx(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Kx(e):qe=t,hf.current=null}function Kx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aj(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,qe=null;return}}else if(n=ij(n,t,Et),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);We===0&&(We=5)}function Ss(e,t,n){var s=pe,r=Ut.transition;try{Ut.transition=null,pe=1,mj(e,t,n,s)}finally{Ut.transition=r,pe=s}return null}function mj(e,t,n,s){do Cr();while(Gn!==null);if(he&6)throw Error(_(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Kb(e,a),e===Ze&&(qe=Ze=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ma||(Ma=!0,Zx(yo,function(){return Cr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ut.transition,Ut.transition=null;var o=pe;pe=1;var l=he;he|=4,hf.current=null,lj(e,n),Bx(n,e),Ow(wu),bo=!!bu,wu=bu=null,e.current=n,cj(n),_b(),he=l,pe=o,Ut.transition=a}else e.current=n;if(Ma&&(Ma=!1,Gn=e,Mo=r),a=e.pendingLanes,a===0&&(ss=null),Bb(n.stateNode),jt(e,$e()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Fo)throw Fo=!1,e=Uu,Uu=null,e;return Mo&1&&e.tag!==0&&Cr(),a=e.pendingLanes,a&1?e===Bu?ji++:(ji=0,Bu=e):ji=0,gs(),null}function Cr(){if(Gn!==null){var e=Pg(Mo),t=Ut.transition,n=pe;try{if(Ut.transition=null,pe=16>e?16:e,Gn===null)var s=!1;else{if(e=Gn,Gn=null,Mo=0,he&6)throw Error(_(331));var r=he;for(he|=4,J=e.current;J!==null;){var a=J,o=a.child;if(J.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:bi(8,d,a)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var h=d.sibling,m=d.return;if(_x(d),d===u){J=null;break}if(h!==null){h.return=m,J=h;break}J=m}}}var y=a.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}J=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,J=o;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bi(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,J=p;break e}J=a.return}}var g=e.current;for(J=g;J!==null;){o=J;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,J=v;else e:for(o=g;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nl(9,l)}}catch(j){Fe(l,l.return,j)}if(l===o){J=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,J=N;break e}J=l.return}}if(he=r,gs(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(pl,e)}catch{}s=!0}return s}finally{pe=n,Ut.transition=t}}return!1}function ym(e,t,n){t=Dr(n,t),t=Px(e,t,1),e=ns(e,t,1),t=ht(),e!==null&&(ra(e,1,t),jt(e,t))}function Fe(e,t,n){if(e.tag===3)ym(e,e,n);else for(;t!==null;){if(t.tag===3){ym(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ss===null||!ss.has(s))){e=Dr(n,e),e=Tx(t,e,1),t=ns(t,e,1),e=ht(),t!==null&&(ra(t,1,e),jt(t,e));break}}t=t.return}}function pj(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(et&n)===n&&(We===4||We===3&&(et&130023424)===et&&500>$e()-pf?Fs(e,0):mf|=n),jt(e,t)}function Gx(e,t){t===0&&(e.mode&1?(t=Ca,Ca<<=1,!(Ca&130023424)&&(Ca=4194304)):t=1);var n=ht();e=Rn(e,t),e!==null&&(ra(e,t,n),jt(e,n))}function gj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gx(e,n)}function xj(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(_(314))}s!==null&&s.delete(t),Gx(e,n)}var Yx;Yx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,rj(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Pe&&t.flags&1048576&&ex(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;eo(e,t),e=t.pendingProps;var r=Tr(t,lt.current);Er(t,n),r=lf(null,t,s,e,r,n);var a=cf();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(s)?(a=!0,Eo(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,nf(t),r.updater=jl,t.stateNode=r,r._reactInternals=t,Au(t,s,e,n),t=Du(null,t,s,!0,a,n)):(t.tag=0,Pe&&a&&Gd(t),dt(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(eo(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=vj(s),e=Wt(s,e),r){case 0:t=Lu(null,t,s,e,n);break e;case 1:t=lm(null,t,s,e,n);break e;case 11:t=am(null,t,s,e,n);break e;case 14:t=om(null,t,s,Wt(s.type,e),n);break e}throw Error(_(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),Lu(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),lm(e,t,s,r,n);case 3:e:{if(Dx(t),e===null)throw Error(_(387));s=t.pendingProps,a=t.memoizedState,r=a.element,ax(e,t),Ao(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Dr(Error(_(423)),t),t=cm(e,t,s,n,r);break e}else if(s!==r){r=Dr(Error(_(424)),t),t=cm(e,t,s,n,r);break e}else for(kt=ts(t.stateNode.containerInfo.firstChild),Pt=t,Pe=!0,Gt=null,n=rx(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),s===r){t=Ln(e,t,n);break e}dt(e,t,s,n)}t=t.child}return t;case 5:return ox(t),e===null&&ku(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,o=r.children,ju(s,r)?o=null:a!==null&&ju(s,a)&&(t.flags|=32),Lx(e,t),dt(e,t,o,n),t.child;case 6:return e===null&&ku(t),null;case 13:return Ox(e,t,n);case 4:return sf(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rr(t,null,s,n):dt(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),am(e,t,s,r,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,ye(Po,s._currentValue),s._currentValue=o,a!==null)if(tn(a.value,o)){if(a.children===r.children&&!bt.current){t=Ln(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=En(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Pu(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(_(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pu(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Er(t,n),r=Bt(r),s=s(r),t.flags|=1,dt(e,t,s,n),t.child;case 14:return s=t.type,r=Wt(s,t.pendingProps),r=Wt(s.type,r),om(e,t,s,r,n);case 15:return Ax(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),eo(e,t),t.tag=1,wt(s)?(e=!0,Eo(t)):e=!1,Er(t,n),kx(t,s,r),Au(t,s,r,n),Du(null,t,s,!0,e,n);case 19:return Fx(e,t,n);case 22:return Rx(e,t,n)}throw Error(_(156,t.tag))};function Zx(e,t){return Sg(e,t)}function yj(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,s){return new yj(e,t,n,s)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vj(e){if(typeof e=="function")return vf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Id)return 11;if(e===$d)return 14}return 2}function is(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function so(e,t,n,s,r,a){var o=2;if(s=e,typeof e=="function")vf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ar:return Ms(n.children,r,a,t);case Md:o=8,r|=8;break;case eu:return e=_t(12,n,t,r|2),e.elementType=eu,e.lanes=a,e;case tu:return e=_t(13,n,t,r),e.elementType=tu,e.lanes=a,e;case nu:return e=_t(19,n,t,r),e.elementType=nu,e.lanes=a,e;case og:return El(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ig:o=10;break e;case ag:o=9;break e;case Id:o=11;break e;case $d:o=14;break e;case Un:o=16,s=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=_t(o,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function Ms(e,t,n,s){return e=_t(7,e,s,t),e.lanes=n,e}function El(e,t,n,s){return e=_t(22,e,s,t),e.elementType=og,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Tc(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bj(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function bf(e,t,n,s,r,a,o,l,c){return e=new bj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_t(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(a),e}function wj(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Jx(e){if(!e)return ds;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(wt(n))return Jg(e,n,t)}return t}function Xx(e,t,n,s,r,a,o,l,c){return e=bf(n,s,!0,e,r,a,o,l,c),e.context=Jx(null),n=e.current,s=ht(),r=rs(n),a=En(s,r),a.callback=t??null,ns(n,a,r),e.current.lanes=r,ra(e,r,s),jt(e,s),e}function Cl(e,t,n,s){var r=t.current,a=ht(),o=rs(r);return n=Jx(n),t.context===null?t.context=n:t.pendingContext=n,t=En(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ns(r,t,o),e!==null&&(Xt(e,r,o,a),Za(e,r,o)),o}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wf(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function jj(){return null}var ey=typeof reportError=="function"?reportError:function(e){console.error(e)};function jf(e){this._internalRoot=e}kl.prototype.render=jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Cl(e,t,null,null)};kl.prototype.unmount=jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zs(function(){Cl(null,e,null,null)}),t[An]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Dg(e)}};function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bm(){}function Nj(e,t,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=$o(o);a.call(u)}}var o=Xx(t,s,e,0,null,!1,!1,"",bm);return e._reactRootContainer=o,e[An]=o.current,Vi(e.nodeType===8?e.parentNode:e),zs(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=$o(c);l.call(u)}}var c=bf(e,0,!1,null,null,!1,!1,"",bm);return e._reactRootContainer=c,e[An]=c.current,Vi(e.nodeType===8?e.parentNode:e),zs(function(){Cl(t,c,n,s)}),c}function Tl(e,t,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=$o(o);l.call(c)}}Cl(t,o,e,r)}else o=Nj(n,t,e,r,s);return $o(o)}Tg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=di(t.pendingLanes);n!==0&&(Ud(t,n|1),jt(t,$e()),!(he&6)&&(Or=$e()+500,gs()))}break;case 13:zs(function(){var s=Rn(e,1);if(s!==null){var r=ht();Xt(s,e,1,r)}}),wf(e,1)}};Bd=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var n=ht();Xt(t,e,134217728,n)}wf(e,134217728)}};Ag=function(e){if(e.tag===13){var t=rs(e),n=Rn(e,t);if(n!==null){var s=ht();Xt(n,e,t,s)}wf(e,t)}};Rg=function(){return pe};Lg=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};fu=function(e,t,n){switch(t){case"input":if(iu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=vl(s);if(!r)throw Error(_(90));cg(s),iu(s,r)}}}break;case"textarea":dg(e,n);break;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}};yg=gf;vg=zs;var Sj={usingClientEntryPoint:!1,Events:[aa,ur,vl,gg,xg,gf]},ni={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ej={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jg(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||jj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{pl=Ia.inject(Ej),hn=Ia}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sj;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(t))throw Error(_(200));return wj(e,t,null,n)};Lt.createRoot=function(e,t){if(!Nf(e))throw Error(_(299));var n=!1,s="",r=ey;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=bf(e,1,!1,null,null,n,!1,s,r),e[An]=t.current,Vi(e.nodeType===8?e.parentNode:e),new jf(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=jg(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return zs(e)};Lt.hydrate=function(e,t,n){if(!Pl(t))throw Error(_(200));return Tl(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Nf(e))throw Error(_(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=ey;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Xx(t,null,e,1,n??null,r,!1,a,o),e[An]=t.current,Vi(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new kl(t)};Lt.render=function(e,t,n){if(!Pl(t))throw Error(_(200));return Tl(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!Pl(e))throw Error(_(40));return e._reactRootContainer?(zs(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};Lt.unstable_batchedUpdates=gf;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Pl(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Tl(e,t,n,!1,s)};Lt.version="18.3.1-next-f1338f8080-20240426";function ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ty)}catch(e){console.error(e)}}ty(),tg.exports=Lt;var ny=tg.exports;const Cj=q0(ny);var wm=ny;Jc.createRoot=wm.createRoot,Jc.hydrateRoot=wm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gi.apply(this,arguments)}var Yn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yn||(Yn={}));const jm="popstate";function kj(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return Hu("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:_o(r)}return Tj(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pj(){return Math.random().toString(36).substr(2,8)}function Nm(e,t){return{usr:e.state,key:e.key,idx:t}}function Hu(e,t,n,s){return n===void 0&&(n=null),Gi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qr(t):t,{state:n,key:t&&t.key||s||Pj()})}function _o(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Tj(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=Yn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Yn.Pop;let x=d(),p=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:p})}function h(x,p){l=Yn.Push;let g=Hu(w.location,x,p);n&&n(g,x),u=d()+1;let v=Nm(g,u),N=w.createHref(g);try{o.pushState(v,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(N)}a&&c&&c({action:l,location:w.location,delta:1})}function m(x,p){l=Yn.Replace;let g=Hu(w.location,x,p);n&&n(g,x),u=d();let v=Nm(g,u),N=w.createHref(g);o.replaceState(v,"",N),a&&c&&c({action:l,location:w.location,delta:0})}function y(x){let p=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof x=="string"?x:_o(x);return g=g.replace(/ $/,"%20"),De(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let w={get action(){return l},get location(){return e(r,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(jm,f),c=x,()=>{r.removeEventListener(jm,f),c=null}},createHref(x){return t(r,x)},createURL:y,encodeLocation(x){let p=y(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(x){return o.go(x)}};return w}var Sm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sm||(Sm={}));function Aj(e,t,n){return n===void 0&&(n="/"),Rj(e,t,n,!1)}function Rj(e,t,n,s){let r=typeof t=="string"?qr(t):t,a=Fr(r.pathname||"/",n);if(a==null)return null;let o=ry(e);Lj(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=qj(a);l=Uj(o[c],u,s)}return l}function ry(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=as([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(De(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ry(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:_j(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of iy(a.path))r(a,o,c)}),t}function iy(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=iy(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Lj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vj(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Dj=/^:[\w-]+$/,Oj=3,Fj=2,Mj=1,Ij=10,$j=-2,Em=e=>e==="*";function _j(e,t){let n=e.split("/"),s=n.length;return n.some(Em)&&(s+=$j),t&&(s+=Fj),n.filter(r=>!Em(r)).reduce((r,a)=>r+(Dj.test(a)?Oj:a===""?Mj:Ij),s)}function Vj(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function Uj(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Vo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=Vo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:as([a,f.pathname]),pathnameBase:Wj(as([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=as([a,f.pathnameBase]))}return o}function Vo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Bj(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let w=l[f]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Bj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function qj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function zj(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?qr(e):e;return{pathname:n?n.startsWith("/")?n:Hj(n,t):t,search:Kj(s),hash:Gj(r)}}function Hj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ac(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sf(e,t){let n=Qj(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ef(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=qr(e):(r=Gi({},e),De(!r.pathname||!r.pathname.includes("?"),Ac("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),Ac("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),Ac("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=zj(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const as=e=>e.join("/").replace(/\/\/+/g,"/"),Wj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ay=["post","put","patch","delete"];new Set(ay);const Zj=["get",...ay];new Set(Zj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yi.apply(this,arguments)}const Al=b.createContext(null),oy=b.createContext(null),Mn=b.createContext(null),Rl=b.createContext(null),In=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ly=b.createContext(null);function Jj(e,t){let{relative:n}=t===void 0?{}:t;zr()||De(!1);let{basename:s,navigator:r}=b.useContext(Mn),{hash:a,pathname:o,search:l}=Dl(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:as([s,o])),r.createHref({pathname:c,search:l,hash:a})}function zr(){return b.useContext(Rl)!=null}function gn(){return zr()||De(!1),b.useContext(Rl).location}function cy(e){b.useContext(Mn).static||b.useLayoutEffect(e)}function nn(){let{isDataRoute:e}=b.useContext(In);return e?dN():Xj()}function Xj(){zr()||De(!1);let e=b.useContext(Al),{basename:t,future:n,navigator:s}=b.useContext(Mn),{matches:r}=b.useContext(In),{pathname:a}=gn(),o=JSON.stringify(Sf(r,n.v7_relativeSplatPath)),l=b.useRef(!1);return cy(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=Ef(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:as([t,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[t,s,o,a,e])}function Ll(){let{matches:e}=b.useContext(In),t=e[e.length-1];return t?t.params:{}}function Dl(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=b.useContext(Mn),{matches:r}=b.useContext(In),{pathname:a}=gn(),o=JSON.stringify(Sf(r,s.v7_relativeSplatPath));return b.useMemo(()=>Ef(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function eN(e,t){return tN(e,t)}function tN(e,t,n,s){zr()||De(!1);let{navigator:r}=b.useContext(Mn),{matches:a}=b.useContext(In),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=gn(),d;if(t){var f;let x=typeof t=="string"?qr(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||De(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Aj(e,{pathname:m}),w=aN(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:as([c,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:as([c,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,s);return t&&w?b.createElement(Rl.Provider,{value:{location:Yi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yn.Pop}},w):w}function nN(){let e=uN(),t=Yj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:r},n):null,a)}const sN=b.createElement(nN,null);class rN extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(In.Provider,{value:this.props.routeContext},b.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iN(e){let{routeContext:t,match:n,children:s}=e,r=b.useContext(Al);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(In.Provider,{value:t},s)}function aN(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,w=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||sN,c&&(u<0&&h===0?(fN("route-fallback",!1),y=!0,x=null):u===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),g=()=>{let v;return m?v=w:y?v=x:f.route.Component?v=b.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,b.createElement(iN,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(rN,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var uy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uy||{}),Uo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uo||{});function oN(e){let t=b.useContext(Al);return t||De(!1),t}function lN(e){let t=b.useContext(oy);return t||De(!1),t}function cN(e){let t=b.useContext(In);return t||De(!1),t}function dy(e){let t=cN(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function uN(){var e;let t=b.useContext(ly),n=lN(Uo.UseRouteError),s=dy(Uo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function dN(){let{router:e}=oN(uy.UseNavigateStable),t=dy(Uo.UseNavigateStable),n=b.useRef(!1);return cy(()=>{n.current=!0}),b.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Yi({fromRouteId:t},a)))},[e,t])}const Cm={};function fN(e,t,n){!t&&!Cm[e]&&(Cm[e]=!0)}function hN(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Rc(e){let{to:t,replace:n,state:s,relative:r}=e;zr()||De(!1);let{future:a,static:o}=b.useContext(Mn),{matches:l}=b.useContext(In),{pathname:c}=gn(),u=nn(),d=Ef(t,Sf(l,a.v7_relativeSplatPath),c,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:r}),[u,f,r,n,s]),null}function Ee(e){De(!1)}function mN(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Yn.Pop,navigator:a,static:o=!1,future:l}=e;zr()&&De(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Yi({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=qr(s));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=s,w=b.useMemo(()=>{let x=Fr(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:y},navigationType:r}},[c,d,f,h,m,y,r]);return w==null?null:b.createElement(Mn.Provider,{value:u},b.createElement(Rl.Provider,{children:n,value:w}))}function km(e){let{children:t,location:n}=e;return eN(Qu(t),n)}new Promise(()=>{});function Qu(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(s,r)=>{if(!b.isValidElement(s))return;let a=[...t,r];if(s.type===b.Fragment){n.push.apply(n,Qu(s.props.children,a));return}s.type!==Ee&&De(!1),!s.props.index||!s.props.children||De(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Qu(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bo.apply(this,arguments)}function fy(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function pN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gN(e,t){return e.button===0&&(!t||t==="_self")&&!pN(e)}function Wu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function xN(e,t){let n=Wu(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)})}),n}const yN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bN="6";try{window.__reactRouterVersion=bN}catch{}const wN=b.createContext({isTransitioning:!1}),jN="startTransition",Pm=pb[jN];function NN(e){let{basename:t,children:n,future:s,window:r}=e,a=b.useRef();a.current==null&&(a.current=kj({window:r,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=b.useCallback(f=>{u&&Pm?Pm(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>hN(s),[s]),b.createElement(mN,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const SN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=b.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=fy(t,yN),{basename:m}=b.useContext(Mn),y,w=!1;if(typeof u=="string"&&EN.test(u)&&(y=u,SN))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=Fr(N.pathname,m);N.origin===v.origin&&j!=null?u=j+N.search+N.hash:w=!0}catch{}let x=Jj(u,{relative:r}),p=PN(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});function g(v){s&&s(v),v.defaultPrevented||p(v)}return b.createElement("a",Bo({},h,{href:y||x,onClick:w||a?s:g,ref:n,target:c}))}),CN=b.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=fy(t,vN),h=Dl(c,{relative:f.relative}),m=gn(),y=b.useContext(oy),{navigator:w,basename:x}=b.useContext(Mn),p=y!=null&&AN(h)&&u===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=m.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(v=v.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&x&&(N=Fr(N,x)||N);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=v===g||!o&&v.startsWith(g)&&v.charAt(j)==="/",k=N!=null&&(N===g||!o&&N.startsWith(g)&&N.charAt(g.length)==="/"),P={isActive:E,isPending:k,isTransitioning:p},L=E?s:void 0,D;typeof a=="function"?D=a(P):D=[a,E?"active":null,k?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(P):l;return b.createElement(Ye,Bo({},f,{"aria-current":L,className:D,ref:n,style:G,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var Ku;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ku||(Ku={}));var Tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tm||(Tm={}));function kN(e){let t=b.useContext(Al);return t||De(!1),t}function PN(e,t){let{target:n,replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=nn(),u=gn(),d=Dl(e,{relative:o});return b.useCallback(f=>{if(gN(f,n)){f.preventDefault();let h=s!==void 0?s:_o(u)===_o(d);c(e,{replace:h,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,r,n,e,a,o,l])}function TN(e){let t=b.useRef(Wu(e)),n=b.useRef(!1),s=gn(),r=b.useMemo(()=>xN(s.search,n.current?null:t.current),[s.search]),a=nn(),o=b.useCallback((l,c)=>{const u=Wu(typeof l=="function"?l(r):l);n.current=!0,a("?"+u,c)},[a,r]);return[r,o]}function AN(e,t){t===void 0&&(t={});let n=b.useContext(wN);n==null&&De(!1);let{basename:s}=kN(Ku.useViewTransitionState),r=Dl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vo(r.pathname,o)!=null||Vo(r.pathname,a)!=null}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gu(e,t)}function Hr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Gu(e,t)}var Qr=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(s){var r=this,a=s||function(){};return this.listeners.push(a),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(o){return o!==a}),r.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ue.apply(null,arguments)}var qo=typeof window>"u";function Xe(){}function RN(e,t){return typeof e=="function"?e(t):e}function Yu(e){return typeof e=="number"&&e>=0&&e!==1/0}function zo(e){return Array.isArray(e)?e:[e]}function hy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ro(e,t,n){return la(e)?typeof t=="function"?ue({},n,{queryKey:e,queryFn:t}):ue({},t,{queryKey:e}):e}function LN(e,t,n){return la(e)?typeof t=="function"?ue({},n,{mutationKey:e,mutationFn:t}):ue({},t,{mutationKey:e}):typeof e=="function"?ue({},t,{mutationFn:e}):ue({},e)}function qn(e,t,n){return la(e)?[ue({},t,{queryKey:e}),n]:[e||{},t]}function DN(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function Am(e,t){var n=e.active,s=e.exact,r=e.fetching,a=e.inactive,o=e.predicate,l=e.queryKey,c=e.stale;if(la(l)){if(s){if(t.queryHash!==Cf(l,t.options))return!1}else if(!Ho(t.queryKey,l))return!1}var u=DN(n,a);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof r=="boolean"&&t.isFetching()!==r||o&&!o(t))}function Rm(e,t){var n=e.exact,s=e.fetching,r=e.predicate,a=e.mutationKey;if(la(a)){if(!t.options.mutationKey)return!1;if(n){if(Rs(t.options.mutationKey)!==Rs(a))return!1}else if(!Ho(t.options.mutationKey,a))return!1}return!(typeof s=="boolean"&&t.state.status==="loading"!==s||r&&!r(t))}function Cf(e,t){var n=(t==null?void 0:t.queryKeyHashFn)||Rs;return n(e)}function Rs(e){var t=zo(e);return ON(t)}function ON(e){return JSON.stringify(e,function(t,n){return Zu(n)?Object.keys(n).sort().reduce(function(s,r){return s[r]=n[r],s},{}):n})}function Ho(e,t){return my(zo(e),zo(t))}function my(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!my(e[n],t[n])}):!1}function Qo(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||Zu(e)&&Zu(t)){for(var s=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),a=r.length,o=n?[]:{},l=0,c=0;c<a;c++){var u=n?c:r[c];o[u]=Qo(e[u],t[u]),o[u]===e[u]&&l++}return s===a&&l===s?e:o}return t}function FN(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function Zu(e){if(!Lm(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!Lm(n)||!n.hasOwnProperty("isPrototypeOf"))}function Lm(e){return Object.prototype.toString.call(e)==="[object Object]"}function la(e){return typeof e=="string"||Array.isArray(e)}function MN(e){return new Promise(function(t){setTimeout(t,e)})}function Dm(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function py(){if(typeof AbortController=="function")return new AbortController}var IN=function(e){Hr(t,e);function t(){var s;return s=e.call(this)||this,s.setup=function(r){var a;if(!qo&&((a=window)!=null&&a.addEventListener)){var o=function(){return r()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},s}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var a,o=this;this.setup=r,(a=this.cleanup)==null||a.call(this),this.cleanup=r(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},n.setFocused=function(r){this.focused=r,r&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(r){r()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Qr),Ni=new IN,$N=function(e){Hr(t,e);function t(){var s;return s=e.call(this)||this,s.setup=function(r){var a;if(!qo&&((a=window)!=null&&a.addEventListener)){var o=function(){return r()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},s}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var a,o=this;this.setup=r,(a=this.cleanup)==null||a.call(this),this.cleanup=r(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},n.setOnline=function(r){this.online=r,r&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(r){r()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Qr),io=new $N;function _N(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Wo(e){return typeof(e==null?void 0:e.cancel)=="function"}var gy=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function ao(e){return e instanceof gy}var xy=function(t){var n=this,s=!1,r,a,o,l;this.abort=t.abort,this.cancel=function(h){return r==null?void 0:r(h)},this.cancelRetry=function(){s=!0},this.continueRetry=function(){s=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,m){o=h,l=m});var c=function(m){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(m),a==null||a(),o(m))},u=function(m){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(m),a==null||a(),l(m))},d=function(){return new Promise(function(m){a=m,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){a=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function h(){if(!n.isResolved){var m;try{m=t.fn()}catch(y){m=Promise.reject(y)}r=function(w){if(!n.isResolved&&(u(new gy(w)),n.abort==null||n.abort(),Wo(m)))try{m.cancel()}catch{}},n.isTransportCancelable=Wo(m),Promise.resolve(m).then(c).catch(function(y){var w,x;if(!n.isResolved){var p=(w=t.retry)!=null?w:3,g=(x=t.retryDelay)!=null?x:_N,v=typeof g=="function"?g(n.failureCount,y):g,N=p===!0||typeof p=="number"&&n.failureCount<p||typeof p=="function"&&p(n.failureCount,y);if(s||!N){u(y);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,y),MN(v).then(function(){if(!Ni.isFocused()||!io.isOnline())return d()}).then(function(){s?u(y):h()})}})}};f()},VN=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(s){var r;this.transactions++;try{r=s()}finally{this.transactions--,this.transactions||this.flush()}return r},t.schedule=function(s){var r=this;this.transactions?this.queue.push(s):Dm(function(){r.notifyFn(s)})},t.batchCalls=function(s){var r=this;return function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];r.schedule(function(){s.apply(void 0,o)})}},t.flush=function(){var s=this,r=this.queue;this.queue=[],r.length&&Dm(function(){s.batchNotifyFn(function(){r.forEach(function(a){s.notifyFn(a)})})})},t.setNotifyFunction=function(s){this.notifyFn=s},t.setBatchNotifyFunction=function(s){this.batchNotifyFn=s},e}(),ke=new VN,yy=console;function Ko(){return yy}function UN(e){yy=e}var BN=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(s){var r;this.options=ue({},this.defaultOptions,s),this.meta=s==null?void 0:s.meta,this.cacheTime=Math.max(this.cacheTime||0,(r=this.options.cacheTime)!=null?r:5*60*1e3)},t.setDefaultOptions=function(s){this.defaultOptions=s},t.scheduleGc=function(){var s=this;this.clearGcTimeout(),Yu(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){s.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(s,r){var a,o,l=this.state.data,c=RN(s,l);return(a=(o=this.options).isDataEqual)!=null&&a.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Qo(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt}),c},t.setState=function(s,r){this.dispatch({type:"setState",state:s,setStateOptions:r})},t.cancel=function(s){var r,a=this.promise;return(r=this.retryer)==null||r.cancel(s),a?a.then(Xe).catch(Xe):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(s){return s.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(s){return s.getCurrentResult().isStale})},t.isStaleByTime=function(s){return s===void 0&&(s=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!hy(this.state.dataUpdatedAt,s)},t.onFocus=function(){var s,r=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});r&&r.refetch(),(s=this.retryer)==null||s.continue()},t.onOnline=function(){var s,r=this.observers.find(function(a){return a.shouldFetchOnReconnect()});r&&r.refetch(),(s=this.retryer)==null||s.continue()},t.addObserver=function(s){this.observers.indexOf(s)===-1&&(this.observers.push(s),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:s}))},t.removeObserver=function(s){this.observers.indexOf(s)!==-1&&(this.observers=this.observers.filter(function(r){return r!==s}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:s}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(s,r){var a=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(s&&this.setOptions(s),!this.options.queryFn){var d=this.observers.find(function(g){return g.options.queryFn});d&&this.setOptions(d.options)}var f=zo(this.queryKey),h=py(),m={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(h)return a.abortSignalConsumed=!0,h.signal}});var y=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(m)):Promise.reject("Missing queryFn")},w={fetchOptions:r,options:this.options,queryKey:f,state:this.state,fetchFn:y,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(w)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=w.fetchOptions)==null?void 0:l.meta)){var p;this.dispatch({type:"fetch",meta:(p=w.fetchOptions)==null?void 0:p.meta})}return this.retryer=new xy({fn:w.fetchFn,abort:h==null||(c=h.abort)==null?void 0:c.bind(h),onSuccess:function(v){a.setData(v),a.cache.config.onSuccess==null||a.cache.config.onSuccess(v,a),a.cacheTime===0&&a.optionalRemove()},onError:function(v){ao(v)&&v.silent||a.dispatch({type:"error",error:v}),ao(v)||(a.cache.config.onError==null||a.cache.config.onError(v,a),Ko().error(v)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(s){var r=this;this.state=this.reducer(this.state,s),ke.batch(function(){r.observers.forEach(function(a){a.onQueryUpdate(s)}),r.cache.notify({query:r,type:"queryUpdated",action:s})})},t.getDefaultState=function(s){var r=typeof s.initialData=="function"?s.initialData():s.initialData,a=typeof s.initialData<"u",o=a?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0,l=typeof r<"u";return{data:r,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(s,r){var a,o;switch(r.type){case"failed":return ue({},s,{fetchFailureCount:s.fetchFailureCount+1});case"pause":return ue({},s,{isPaused:!0});case"continue":return ue({},s,{isPaused:!1});case"fetch":return ue({},s,{fetchFailureCount:0,fetchMeta:(a=r.meta)!=null?a:null,isFetching:!0,isPaused:!1},!s.dataUpdatedAt&&{error:null,status:"loading"});case"success":return ue({},s,{data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(o=r.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=r.error;return ao(l)&&l.revert&&this.revertState?ue({},this.revertState):ue({},s,{error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return ue({},s,{isInvalidated:!0});case"setState":return ue({},s,r.state);default:return s}},e}(),qN=function(e){Hr(t,e);function t(s){var r;return r=e.call(this)||this,r.config=s||{},r.queries=[],r.queriesMap={},r}var n=t.prototype;return n.build=function(r,a,o){var l,c=a.queryKey,u=(l=a.queryHash)!=null?l:Cf(c,a),d=this.get(u);return d||(d=new BN({cache:this,queryKey:c,queryHash:u,options:r.defaultQueryOptions(a),state:o,defaultOptions:r.getQueryDefaults(c),meta:a.meta}),this.add(d)),d},n.add=function(r){this.queriesMap[r.queryHash]||(this.queriesMap[r.queryHash]=r,this.queries.push(r),this.notify({type:"queryAdded",query:r}))},n.remove=function(r){var a=this.queriesMap[r.queryHash];a&&(r.destroy(),this.queries=this.queries.filter(function(o){return o!==r}),a===r&&delete this.queriesMap[r.queryHash],this.notify({type:"queryRemoved",query:r}))},n.clear=function(){var r=this;ke.batch(function(){r.queries.forEach(function(a){r.remove(a)})})},n.get=function(r){return this.queriesMap[r]},n.getAll=function(){return this.queries},n.find=function(r,a){var o=qn(r,a),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return Am(l,c)})},n.findAll=function(r,a){var o=qn(r,a),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return Am(l,c)}):this.queries},n.notify=function(r){var a=this;ke.batch(function(){a.listeners.forEach(function(o){o(r)})})},n.onFocus=function(){var r=this;ke.batch(function(){r.queries.forEach(function(a){a.onFocus()})})},n.onOnline=function(){var r=this;ke.batch(function(){r.queries.forEach(function(a){a.onOnline()})})},t}(Qr),zN=function(){function e(n){this.options=ue({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||vy(),this.meta=n.meta}var t=e.prototype;return t.setState=function(s){this.dispatch({type:"setState",state:s})},t.addObserver=function(s){this.observers.indexOf(s)===-1&&this.observers.push(s)},t.removeObserver=function(s){this.observers=this.observers.filter(function(r){return r!==s})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Xe).catch(Xe)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var s=this,r,a=this.state.status==="loading",o=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){s.mutationCache.config.onMutate==null||s.mutationCache.config.onMutate(s.state.variables,s)}).then(function(){return s.options.onMutate==null?void 0:s.options.onMutate(s.state.variables)}).then(function(l){l!==s.state.context&&s.dispatch({type:"loading",context:l,variables:s.state.variables})})),o.then(function(){return s.executeMutation()}).then(function(l){r=l,s.mutationCache.config.onSuccess==null||s.mutationCache.config.onSuccess(r,s.state.variables,s.state.context,s)}).then(function(){return s.options.onSuccess==null?void 0:s.options.onSuccess(r,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(r,null,s.state.variables,s.state.context)}).then(function(){return s.dispatch({type:"success",data:r}),r}).catch(function(l){return s.mutationCache.config.onError==null||s.mutationCache.config.onError(l,s.state.variables,s.state.context,s),Ko().error(l),Promise.resolve().then(function(){return s.options.onError==null?void 0:s.options.onError(l,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(void 0,l,s.state.variables,s.state.context)}).then(function(){throw s.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var s=this,r;return this.retryer=new xy({fn:function(){return s.options.mutationFn?s.options.mutationFn(s.state.variables):Promise.reject("No mutationFn found")},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:(r=this.options.retry)!=null?r:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(s){var r=this;this.state=HN(this.state,s),ke.batch(function(){r.observers.forEach(function(a){a.onMutationUpdate(s)}),r.mutationCache.notify(r)})},e}();function vy(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function HN(e,t){switch(t.type){case"failed":return ue({},e,{failureCount:e.failureCount+1});case"pause":return ue({},e,{isPaused:!0});case"continue":return ue({},e,{isPaused:!1});case"loading":return ue({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return ue({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return ue({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return ue({},e,t.state);default:return e}}var QN=function(e){Hr(t,e);function t(s){var r;return r=e.call(this)||this,r.config=s||{},r.mutations=[],r.mutationId=0,r}var n=t.prototype;return n.build=function(r,a,o){var l=new zN({mutationCache:this,mutationId:++this.mutationId,options:r.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?r.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(l),l},n.add=function(r){this.mutations.push(r),this.notify(r)},n.remove=function(r){this.mutations=this.mutations.filter(function(a){return a!==r}),r.cancel(),this.notify(r)},n.clear=function(){var r=this;ke.batch(function(){r.mutations.forEach(function(a){r.remove(a)})})},n.getAll=function(){return this.mutations},n.find=function(r){return typeof r.exact>"u"&&(r.exact=!0),this.mutations.find(function(a){return Rm(r,a)})},n.findAll=function(r){return this.mutations.filter(function(a){return Rm(r,a)})},n.notify=function(r){var a=this;ke.batch(function(){a.listeners.forEach(function(o){o(r)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var r=this.mutations.filter(function(a){return a.state.isPaused});return ke.batch(function(){return r.reduce(function(a,o){return a.then(function(){return o.continue().catch(Xe)})},Promise.resolve())})},t}(Qr);function WN(){return{onFetch:function(t){t.fetchFn=function(){var n,s,r,a,o,l,c=(n=t.fetchOptions)==null||(s=n.meta)==null?void 0:s.refetchPage,u=(r=t.fetchOptions)==null||(a=r.meta)==null?void 0:a.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",m=((o=t.state.data)==null?void 0:o.pages)||[],y=((l=t.state.data)==null?void 0:l.pageParams)||[],w=py(),x=w==null?void 0:w.signal,p=y,g=!1,v=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},N=function(Q,ne,I,se){return p=se?[ne].concat(p):[].concat(p,[ne]),se?[I].concat(Q):[].concat(Q,[I])},j=function(Q,ne,I,se){if(g)return Promise.reject("Cancelled");if(typeof I>"u"&&!ne&&Q.length)return Promise.resolve(Q);var $={queryKey:t.queryKey,signal:x,pageParam:I,meta:t.meta},W=v($),ee=Promise.resolve(W).then(function(ie){return N(Q,I,ie,se)});if(Wo(W)){var z=ee;z.cancel=W.cancel}return ee},E;if(!m.length)E=j([]);else if(f){var k=typeof d<"u",P=k?d:Om(t.options,m);E=j(m,k,P)}else if(h){var L=typeof d<"u",D=L?d:KN(t.options,m);E=j(m,L,D,!0)}else(function(){p=[];var U=typeof t.options.getNextPageParam>"u",Q=c&&m[0]?c(m[0],0,m):!0;E=Q?j([],U,y[0]):Promise.resolve(N([],y[0],m[0]));for(var ne=function($){E=E.then(function(W){var ee=c&&m[$]?c(m[$],$,m):!0;if(ee){var z=U?y[$]:Om(t.options,W);return j(W,U,z)}return Promise.resolve(N(W,y[$],m[$]))})},I=1;I<m.length;I++)ne(I)})();var G=E.then(function(U){return{pages:U,pageParams:p}}),H=G;return H.cancel=function(){g=!0,w==null||w.abort(),Wo(E)&&E.cancel()},G}}}}function Om(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function KN(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var GN=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new qN,this.mutationCache=n.mutationCache||new QN,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var s=this;this.unsubscribeFocus=Ni.subscribe(function(){Ni.isFocused()&&io.isOnline()&&(s.mutationCache.onFocus(),s.queryCache.onFocus())}),this.unsubscribeOnline=io.subscribe(function(){Ni.isFocused()&&io.isOnline()&&(s.mutationCache.onOnline(),s.queryCache.onOnline())})},t.unmount=function(){var s,r;(s=this.unsubscribeFocus)==null||s.call(this),(r=this.unsubscribeOnline)==null||r.call(this)},t.isFetching=function(s,r){var a=qn(s,r),o=a[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(s){return this.mutationCache.findAll(ue({},s,{fetching:!0})).length},t.getQueryData=function(s,r){var a;return(a=this.queryCache.find(s,r))==null?void 0:a.state.data},t.getQueriesData=function(s){return this.getQueryCache().findAll(s).map(function(r){var a=r.queryKey,o=r.state,l=o.data;return[a,l]})},t.setQueryData=function(s,r,a){var o=ro(s),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(r,a)},t.setQueriesData=function(s,r,a){var o=this;return ke.batch(function(){return o.getQueryCache().findAll(s).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,r,a)]})})},t.getQueryState=function(s,r){var a;return(a=this.queryCache.find(s,r))==null?void 0:a.state},t.removeQueries=function(s,r){var a=qn(s,r),o=a[0],l=this.queryCache;ke.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},t.resetQueries=function(s,r,a){var o=this,l=qn(s,r,a),c=l[0],u=l[1],d=this.queryCache,f=ue({},c,{active:!0});return ke.batch(function(){return d.findAll(c).forEach(function(h){h.reset()}),o.refetchQueries(f,u)})},t.cancelQueries=function(s,r,a){var o=this,l=qn(s,r,a),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=ke.batch(function(){return o.queryCache.findAll(c).map(function(h){return h.cancel(d)})});return Promise.all(f).then(Xe).catch(Xe)},t.invalidateQueries=function(s,r,a){var o,l,c,u=this,d=qn(s,r,a),f=d[0],h=d[1],m=ue({},f,{active:(o=(l=f.refetchActive)!=null?l:f.active)!=null?o:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return ke.batch(function(){return u.queryCache.findAll(f).forEach(function(y){y.invalidate()}),u.refetchQueries(m,h)})},t.refetchQueries=function(s,r,a){var o=this,l=qn(s,r,a),c=l[0],u=l[1],d=ke.batch(function(){return o.queryCache.findAll(c).map(function(h){return h.fetch(void 0,ue({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),f=Promise.all(d).then(Xe);return u!=null&&u.throwOnError||(f=f.catch(Xe)),f},t.fetchQuery=function(s,r,a){var o=ro(s,r,a),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},t.prefetchQuery=function(s,r,a){return this.fetchQuery(s,r,a).then(Xe).catch(Xe)},t.fetchInfiniteQuery=function(s,r,a){var o=ro(s,r,a);return o.behavior=WN(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(s,r,a){return this.fetchInfiniteQuery(s,r,a).then(Xe).catch(Xe)},t.cancelMutations=function(){var s=this,r=ke.batch(function(){return s.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(r).then(Xe).catch(Xe)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(s){return this.mutationCache.build(this,s).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(s){this.defaultOptions=s},t.setQueryDefaults=function(s,r){var a=this.queryDefaults.find(function(o){return Rs(s)===Rs(o.queryKey)});a?a.defaultOptions=r:this.queryDefaults.push({queryKey:s,defaultOptions:r})},t.getQueryDefaults=function(s){var r;return s?(r=this.queryDefaults.find(function(a){return Ho(s,a.queryKey)}))==null?void 0:r.defaultOptions:void 0},t.setMutationDefaults=function(s,r){var a=this.mutationDefaults.find(function(o){return Rs(s)===Rs(o.mutationKey)});a?a.defaultOptions=r:this.mutationDefaults.push({mutationKey:s,defaultOptions:r})},t.getMutationDefaults=function(s){var r;return s?(r=this.mutationDefaults.find(function(a){return Ho(s,a.mutationKey)}))==null?void 0:r.defaultOptions:void 0},t.defaultQueryOptions=function(s){if(s!=null&&s._defaulted)return s;var r=ue({},this.defaultOptions.queries,this.getQueryDefaults(s==null?void 0:s.queryKey),s,{_defaulted:!0});return!r.queryHash&&r.queryKey&&(r.queryHash=Cf(r.queryKey,r)),r},t.defaultQueryObserverOptions=function(s){return this.defaultQueryOptions(s)},t.defaultMutationOptions=function(s){return s!=null&&s._defaulted?s:ue({},this.defaultOptions.mutations,this.getMutationDefaults(s==null?void 0:s.mutationKey),s,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),YN=function(e){Hr(t,e);function t(s,r){var a;return a=e.call(this)||this,a.client=s,a.options=r,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(r),a}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Fm(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Ju(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Ju(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(r,a){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&Mm(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(a),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(r){var a=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,a);return this.createResult(o,a)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(r,a){var o=this,l={},c=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(r).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),r[u]}})}),(a.useErrorBoundary||a.suspense)&&c("error"),l},n.getNextResult=function(r){var a=this;return new Promise(function(o,l){var c=a.subscribe(function(u){u.isFetching||(c(),u.isError&&(r!=null&&r.throwOnError)?l(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(r){return this.fetch(ue({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},n.fetchOptimistic=function(r){var a=this,o=this.client.defaultQueryObserverOptions(r),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return a.createResult(l,o)})},n.fetch=function(r){var a=this;return this.executeFetch(r).then(function(){return a.updateResult(),a.currentResult})},n.executeFetch=function(r){this.updateQuery();var a=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(a=a.catch(Xe)),a},n.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(qo||this.currentResult.isStale||!Yu(this.options.staleTime))){var a=hy(this.currentResult.dataUpdatedAt,this.options.staleTime),o=a+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},o)}},n.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},n.updateRefetchInterval=function(r){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(qo||this.options.enabled===!1||!Yu(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||Ni.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(r,a){var o=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=r!==o,h=f?r.state:this.currentQueryInitialState,m=f?this.currentResult:this.previousQueryResult,y=r.state,w=y.dataUpdatedAt,x=y.error,p=y.errorUpdatedAt,g=y.isFetching,v=y.status,N=!1,j=!1,E;if(a.optimisticResults){var k=this.hasListeners(),P=!k&&Fm(r,a),L=k&&Mm(r,o,a,l);(P||L)&&(g=!0,w||(v="loading"))}if(a.keepPreviousData&&!y.dataUpdateCount&&(m!=null&&m.isSuccess)&&v!=="error")E=m.data,w=m.dataUpdatedAt,v=m.status,N=!0;else if(a.select&&typeof y.data<"u")if(c&&y.data===(u==null?void 0:u.data)&&a.select===this.selectFn)E=this.selectResult;else try{this.selectFn=a.select,E=a.select(y.data),a.structuralSharing!==!1&&(E=Qo(c==null?void 0:c.data,E)),this.selectResult=E,this.selectError=null}catch(H){Ko().error(H),this.selectError=H}else E=y.data;if(typeof a.placeholderData<"u"&&typeof E>"u"&&(v==="loading"||v==="idle")){var D;if(c!=null&&c.isPlaceholderData&&a.placeholderData===(d==null?void 0:d.placeholderData))D=c.data;else if(D=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof D<"u")try{D=a.select(D),a.structuralSharing!==!1&&(D=Qo(c==null?void 0:c.data,D)),this.selectError=null}catch(H){Ko().error(H),this.selectError=H}typeof D<"u"&&(v="success",E=D,j=!0)}this.selectError&&(x=this.selectError,E=this.selectResult,p=Date.now(),v="error");var G={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:E,dataUpdatedAt:w,error:x,errorUpdatedAt:p,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:g,isRefetching:g&&v!=="loading",isLoadingError:v==="error"&&y.dataUpdatedAt===0,isPlaceholderData:j,isPreviousData:N,isRefetchError:v==="error"&&y.dataUpdatedAt!==0,isStale:kf(r,a),refetch:this.refetch,remove:this.remove};return G},n.shouldNotifyListeners=function(r,a){if(!a)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(r).some(function(d){var f=d,h=r[f]!==a[f],m=u==null?void 0:u.some(function(w){return w===d}),y=c==null?void 0:c.some(function(w){return w===d});return h&&!y&&(!u||m)})},n.updateResult=function(r){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!FN(this.currentResult,a)){var o={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(o.listeners=!0),this.notify(ue({},o,r))}},n.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var a=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),r.addObserver(this))}},n.onQueryUpdate=function(r){var a={};r.type==="success"?a.onSuccess=!0:r.type==="error"&&!ao(r.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},n.notify=function(r){var a=this;ke.batch(function(){r.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):r.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),r.listeners&&a.listeners.forEach(function(o){o(a.currentResult)}),r.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},t}(Qr);function ZN(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Fm(e,t){return ZN(e,t)||e.state.dataUpdatedAt>0&&Ju(e,t,t.refetchOnMount)}function Ju(e,t,n){if(t.enabled!==!1){var s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&kf(e,t)}return!1}function Mm(e,t,n,s){return n.enabled!==!1&&(e!==t||s.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&kf(e,n)}function kf(e,t){return e.isStaleByTime(t.staleTime)}var JN=function(e){Hr(t,e);function t(s,r){var a;return a=e.call(this)||this,a.client=s,a.setOptions(r),a.bindMethods(),a.updateResult(),a}var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(r){this.options=this.client.defaultMutationOptions(r)},n.onUnsubscribe=function(){if(!this.listeners.length){var r;(r=this.currentMutation)==null||r.removeObserver(this)}},n.onMutationUpdate=function(r){this.updateResult();var a={listeners:!0};r.type==="success"?a.onSuccess=!0:r.type==="error"&&(a.onError=!0),this.notify(a)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(r,a){return this.mutateOptions=a,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,ue({},this.options,{variables:typeof r<"u"?r:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var r=this.currentMutation?this.currentMutation.state:vy(),a=ue({},r,{isLoading:r.status==="loading",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=a},n.notify=function(r){var a=this;ke.batch(function(){a.mutateOptions&&(r.onSuccess?(a.mutateOptions.onSuccess==null||a.mutateOptions.onSuccess(a.currentResult.data,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(a.currentResult.data,null,a.currentResult.variables,a.currentResult.context)):r.onError&&(a.mutateOptions.onError==null||a.mutateOptions.onError(a.currentResult.error,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(void 0,a.currentResult.error,a.currentResult.variables,a.currentResult.context))),r.listeners&&a.listeners.forEach(function(o){o(a.currentResult)})})},t}(Qr),XN=Cj.unstable_batchedUpdates;ke.setBatchNotifyFunction(XN);var e2=console;UN(e2);var Im=le.createContext(void 0),by=le.createContext(!1);function wy(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Im),window.ReactQueryClientContext):Im}var gt=function(){var t=le.useContext(wy(le.useContext(by)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},t2=function(t){var n=t.client,s=t.contextSharing,r=s===void 0?!1:s,a=t.children;le.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=wy(r);return le.createElement(by.Provider,{value:r},le.createElement(o.Provider,{value:n},a))};function n2(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var s2=le.createContext(n2()),r2=function(){return le.useContext(s2)};function jy(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function Te(e,t,n){var s=le.useRef(!1),r=le.useState(0),a=r[1],o=LN(e,t,n),l=gt(),c=le.useRef();c.current?c.current.setOptions(o):c.current=new JN(l,o);var u=c.current.getCurrentResult();le.useEffect(function(){s.current=!0;var f=c.current.subscribe(ke.batchCalls(function(){s.current&&a(function(h){return h+1})}));return function(){s.current=!1,f()}},[]);var d=le.useCallback(function(f,h){c.current.mutate(f,h).catch(Xe)},[]);if(u.error&&jy(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return ue({},u,{mutate:d,mutateAsync:u.mutate})}function i2(e,t){var n=le.useRef(!1),s=le.useState(0),r=s[1],a=gt(),o=r2(),l=a.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=ke.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=ke.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=ke.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=le.useState(function(){return new t(a,l)}),u=c[0],d=u.getOptimisticResult(l);if(le.useEffect(function(){n.current=!0,o.clearReset();var f=u.subscribe(ke.batchCalls(function(){n.current&&r(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,f()}},[o,u]),le.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&d.isLoading)throw u.fetchOptimistic(l).then(function(f){var h=f.data;l.onSuccess==null||l.onSuccess(h),l.onSettled==null||l.onSettled(h,null)}).catch(function(f){o.clearReset(),l.onError==null||l.onError(f),l.onSettled==null||l.onSettled(void 0,f)});if(d.isError&&!o.isReset()&&!d.isFetching&&jy(l.suspense,l.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return l.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,l)),d}function ve(e,t,n){var s=ro(e,t,n);return i2(s,YN)}let a2={data:""},o2=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||a2},l2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c2=/\/\*[^]*?\*\/|  +/g,$m=/\n+/g,Wn=(e,t)=>{let n="",s="",r="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":s+=a[1]=="f"?Wn(o,a):a+"{"+Wn(o,a[1]=="k"?"":t)+"}":typeof o=="object"?s+=Wn(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Wn.p?Wn.p(a,o):a+":"+o+";")}return n+(t&&r?t+"{"+r+"}":r)+s},xn={},Ny=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Ny(e[n]);return t}return e},u2=(e,t,n,s,r)=>{let a=Ny(e),o=xn[a]||(xn[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!xn[o]){let c=a!==e?e:(u=>{let d,f,h=[{}];for(;d=l2.exec(u.replace(c2,""));)d[4]?h.shift():d[3]?(f=d[3].replace($m," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace($m," ").trim();return h[0]})(e);xn[o]=Wn(r?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&xn.g?xn.g:null;return n&&(xn.g=xn[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(xn[o],t,s,l),o},d2=(e,t,n)=>e.reduce((s,r,a)=>{let o=t[a];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Wn(l,""):l===!1?"":l}return s+r+(o??"")},"");function Ol(e){let t=this||{},n=e.call?e(t.p):e;return u2(n.unshift?n.raw?d2(n,[].slice.call(arguments,1),t.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(t.p):r),{}):n,o2(t.target),t.g,t.o,t.k)}let Sy,Xu,ed;Ol.bind({g:1});let Dn=Ol.bind({k:1});function f2(e,t,n,s){Wn.p=t,Sy=e,Xu=n,ed=s}function xs(e,t){let n=this||{};return function(){let s=arguments;function r(a,o){let l=Object.assign({},a),c=l.className||r.className;n.p=Object.assign({theme:Xu&&Xu()},l),n.o=/ *go\d+/.test(c),l.className=Ol.apply(n,s)+(c?" "+c:""),t&&(l.ref=o);let u=e;return e[0]&&(u=l.as||e,delete l.as),ed&&u[0]&&ed(l),Sy(u,l)}return t?t(r):r}}var h2=e=>typeof e=="function",Go=(e,t)=>h2(e)?e(t):e,m2=(()=>{let e=0;return()=>(++e).toString()})(),Ey=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),p2=20,Pf="default",Cy=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return Cy(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},oo=[],ky={toasts:[],pausedAt:void 0,settings:{toastLimit:p2}},dn={},Py=(e,t=Pf)=>{dn[t]=Cy(dn[t]||ky,e),oo.forEach(([n,s])=>{n===t&&s(dn[t])})},Ty=e=>Object.keys(dn).forEach(t=>Py(e,t)),g2=e=>Object.keys(dn).find(t=>dn[t].toasts.some(n=>n.id===e)),Fl=(e=Pf)=>t=>{Py(t,e)},x2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},y2=(e={},t=Pf)=>{let[n,s]=b.useState(dn[t]||ky),r=b.useRef(dn[t]);b.useEffect(()=>(r.current!==dn[t]&&s(dn[t]),oo.push([t,s]),()=>{let o=oo.findIndex(([l])=>l===t);o>-1&&oo.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||x2[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:a}},v2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||m2()}),ca=e=>(t,n)=>{let s=v2(t,e,n);return Fl(s.toasterId||g2(s.id))({type:2,toast:s}),s.id},_e=(e,t)=>ca("blank")(e,t);_e.error=ca("error");_e.success=ca("success");_e.loading=ca("loading");_e.custom=ca("custom");_e.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Fl(t)(n):Ty(n)};_e.dismissAll=e=>_e.dismiss(void 0,e);_e.remove=(e,t)=>{let n={type:4,toastId:e};t?Fl(t)(n):Ty(n)};_e.removeAll=e=>_e.remove(void 0,e);_e.promise=(e,t,n)=>{let s=_e.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let a=t.success?Go(t.success,r):void 0;return a?_e.success(a,{id:s,...n,...n==null?void 0:n.success}):_e.dismiss(s),r}).catch(r=>{let a=t.error?Go(t.error,r):void 0;a?_e.error(a,{id:s,...n,...n==null?void 0:n.error}):_e.dismiss(s)}),e};var b2=1e3,w2=(e,t="default")=>{let{toasts:n,pausedAt:s}=y2(e,t),r=b.useRef(new Map).current,a=b.useCallback((f,h=b2)=>{if(r.has(f))return;let m=setTimeout(()=>{r.delete(f),o({type:4,toastId:f})},h);r.set(f,m)},[]);b.useEffect(()=>{if(s)return;let f=Date.now(),h=n.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(y<0){m.visible&&_e.dismiss(m.id);return}return setTimeout(()=>_e.dismiss(m.id,t),y)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[n,s,t]);let o=b.useCallback(Fl(t),[t]),l=b.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=b.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=b.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),d=b.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:w}=h||{},x=n.filter(v=>(v.position||w)===(f.position||w)&&v.height),p=x.findIndex(v=>v.id===f.id),g=x.filter((v,N)=>N<p&&v.visible).length;return x.filter(v=>v.visible).slice(...m?[g+1]:[0,g]).reduce((v,N)=>v+(N.height||0)+y,0)},[n]);return b.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=r.get(f.id);h&&(clearTimeout(h),r.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},j2=Dn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,N2=Dn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,S2=Dn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,E2=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${N2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${S2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,C2=Dn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,k2=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${C2} 1s linear infinite;
`,P2=Dn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,T2=Dn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,A2=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${T2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R2=xs("div")`
  position: absolute;
`,L2=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,D2=Dn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O2=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${D2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,F2=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?b.createElement(O2,null,t):t:n==="blank"?null:b.createElement(L2,null,b.createElement(k2,{...s}),n!=="loading"&&b.createElement(R2,null,n==="error"?b.createElement(E2,{...s}):b.createElement(A2,{...s})))},M2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,I2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,$2="0%{opacity:0;} 100%{opacity:1;}",_2="0%{opacity:1;} 100%{opacity:0;}",V2=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U2=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B2=(e,t)=>{let n=e.includes("top")?1:-1,[s,r]=Ey()?[$2,_2]:[M2(n),I2(n)];return{animation:t?`${Dn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Dn(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},q2=b.memo(({toast:e,position:t,style:n,children:s})=>{let r=e.height?B2(e.position||t||"top-center",e.visible):{opacity:0},a=b.createElement(F2,{toast:e}),o=b.createElement(U2,{...e.ariaProps},Go(e.message,e));return b.createElement(V2,{className:e.className,style:{...r,...n,...e.style}},typeof s=="function"?s({icon:a,message:o}):b.createElement(b.Fragment,null,a,o))});f2(b.createElement);var z2=({id:e,className:t,style:n,onHeightUpdate:s,children:r})=>{let a=b.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;s(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return b.createElement("div",{ref:a,className:t,style:n},r)},H2=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ey()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...r}},Q2=Ol`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$a=16,W2=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:r,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=w2(n,a);return b.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:$a,left:$a,right:$a,bottom:$a,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),m=H2(f,h);return b.createElement(z2,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Q2:"",style:m},d.type==="custom"?Go(d.message,d):r?r(d):b.createElement(q2,{toast:d,position:f}))}))},V=_e;const Ay=b.createContext(void 0),K2=({children:e})=>{const[t,n]=b.useState(null),[s,r]=b.useState(!1),[a,o]=b.useState(!0);b.useEffect(()=>{localStorage.getItem("token")?l():o(!1)},[]);const l=async()=>{try{const f=localStorage.getItem("user");if(f){const h=JSON.parse(f);n(h),r(!0)}else n({id:1,name:"Demo User",email:"demo@example.com",role:"ADMIN"}),r(!0)}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}finally{o(!1)}},c=async f=>{try{console.log("Attempting login with:",f.email);const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),m=await h.json();if(h.ok&&m.access_token)localStorage.setItem("token",m.access_token),localStorage.setItem("user",JSON.stringify(m.user)),n(m.user),r(!0),V.success("Login successful!");else throw new Error(m.message||"Login failed")}catch(h){throw console.error("Login error:",h),V.error(h.message||"Login failed"),h}},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(!1),V.success("Logged out successfully")},d=async f=>{try{console.log(" Force fresh login for:",f.email),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),r(!1);const h=await fetch("/api/auth/force-fresh-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),m=await h.json();if(h.ok&&m.access_token)localStorage.setItem("token",m.access_token),localStorage.setItem("user",JSON.stringify(m.user)),n(m.user),r(!0),console.log(" Force fresh login successful:",m.user),V.success(`Fresh login successful! Welcome ${m.user.name} (${m.user.role})`);else throw new Error(m.message||"Fresh login failed")}catch(h){throw console.error(" Force fresh login error:",h),V.error(h.message||"Fresh login failed"),h}};return i.jsx(Ay.Provider,{value:{user:t,login:c,logout:u,isAuthenticated:s,loading:a,forceFreshLogin:d},children:e})},ys=()=>{const e=b.useContext(Ay);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function G2({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const Y2=b.forwardRef(G2),Z2=Y2;function J2({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const X2=b.forwardRef(J2),ua=X2;function eS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const tS=b.forwardRef(eS),Yo=tS;function nS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const sS=b.forwardRef(nS),Ry=sS;function rS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const iS=b.forwardRef(rS),_m=iS;function aS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const oS=b.forwardRef(aS),lS=oS;function cS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const uS=b.forwardRef(cS),dS=uS;function fS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const hS=b.forwardRef(fS),mS=hS;function pS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const gS=b.forwardRef(pS),xS=gS;function yS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const vS=b.forwardRef(yS),Lc=vS;function bS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const wS=b.forwardRef(bS),kr=wS;function jS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const NS=b.forwardRef(jS),Vm=NS;function SS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const ES=b.forwardRef(SS),Ly=ES;function CS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const kS=b.forwardRef(CS),Vt=kS;function PS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const TS=b.forwardRef(PS),Tf=TS;function AS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const RS=b.forwardRef(AS),LS=RS;function DS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const OS=b.forwardRef(DS),Ml=OS;function FS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const MS=b.forwardRef(FS),td=MS;function IS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const $S=b.forwardRef(IS),_S=$S;function VS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const US=b.forwardRef(VS),Af=US;function BS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qS=b.forwardRef(BS),zS=qS;function HS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const QS=b.forwardRef(HS),WS=QS;function KS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const GS=b.forwardRef(KS),nd=GS;function YS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ZS=b.forwardRef(YS),sd=ZS;function JS({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const XS=b.forwardRef(JS),Zn=XS;function e5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const t5=b.forwardRef(e5),n5=t5;function s5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const r5=b.forwardRef(s5),Zo=r5;function i5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const a5=b.forwardRef(i5),Tt=a5;function o5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const l5=b.forwardRef(o5),c5=l5;function u5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const d5=b.forwardRef(u5),f5=d5;function h5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const m5=b.forwardRef(h5),p5=m5;function g5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const x5=b.forwardRef(g5),y5=x5;function v5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const b5=b.forwardRef(v5),w5=b5;function j5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const N5=b.forwardRef(j5),Hs=N5;function S5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const E5=b.forwardRef(S5),C5=E5;function k5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const P5=b.forwardRef(k5),T5=P5;function A5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const R5=b.forwardRef(A5),os=R5;function L5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const D5=b.forwardRef(L5),O5=D5;function F5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const M5=b.forwardRef(F5),Is=M5;function I5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const $5=b.forwardRef(I5),Jo=$5;function _5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const V5=b.forwardRef(_5),U5=V5;function B5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const q5=b.forwardRef(B5),z5=q5;function H5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Q5=b.forwardRef(H5),Qs=Q5;function W5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const K5=b.forwardRef(W5),Dy=K5;function G5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Y5=b.forwardRef(G5),$s=Y5;function Z5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const J5=b.forwardRef(Z5),Mr=J5;function X5({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const eE=b.forwardRef(X5),Zi=eE;function tE({title:e,titleId:t,...n},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const nE=b.forwardRef(tE),Cn=nE;function sE(){var r;const{user:e,logout:t}=ys(),n=(e==null?void 0:e.role)==="ADMIN",s=[{name:"Dashboard",href:"/dashboard",icon:p5,show:!0},{name:"Enquiries",href:"/enquiries",icon:sd,show:!0},{name:"Doc Verification",href:"/documents",icon:c5,show:!0},{name:"Shortlist",href:"/shortlist",icon:w5,show:n},{name:"Payment Gateway Applications",href:"/payment-gateway",icon:Af,show:n},{name:"Staff Management",href:"/staff",icon:Dy,show:n},{name:"Transactions",href:"/transactions",icon:xS,show:n}];return i.jsxs("aside",{className:"sidebar-modern",children:[i.jsx("div",{className:"p-8 border-b border-slate-700/50",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-lg font-bold text-white",children:"BLM"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-white text-xl font-poppins font-bold",children:"Portal"}),i.jsx("p",{className:"text-slate-400 text-xs",children:"Business Loan Management"})]})]})}),i.jsx("nav",{className:"py-6",children:i.jsx("ul",{className:"space-y-1",children:s.filter(a=>a.show).map(a=>i.jsx("li",{children:i.jsxs(CN,{to:a.href,className:({isActive:o})=>`sidebar-nav-item ${o?"active":""}`,children:[i.jsx(a.icon,{className:"h-5 w-5 mr-4"}),i.jsx("span",{className:"font-medium",children:a.name})]})},a.name))})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-semibold text-white",children:((r=e==null?void 0:e.name)==null?void 0:r.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate",children:e==null?void 0:e.name}),i.jsx("div",{className:"text-slate-400 text-sm",children:e==null?void 0:e.role})]})]}),i.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-slate-300 hover:text-white hover:bg-red-500/20 hover:border-red-400 rounded-xl transition-all duration-200 border border-slate-700 hover:border-red-400",children:[i.jsx(Ry,{className:"h-5 w-5 mr-3"}),i.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}const rE=(e,t,n,s)=>{var a,o,l,c;const r=[n,{code:t,...s||{}}];if((o=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&o.forward)return e.services.logger.forward(r,"warn","react-i18next::",!0);_s(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},Um={},rd=(e,t,n,s)=>{_s(n)&&Um[n]||(_s(n)&&(Um[n]=new Date),rE(e,t,n,s))},Oy=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},id=(e,t,n)=>{e.loadNamespaces(t,Oy(e,n))},Bm=(e,t,n,s)=>{if(_s(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return id(e,n,s);n.forEach(r=>{e.options.ns.indexOf(r)<0&&e.options.ns.push(r)}),e.loadLanguages(t,Oy(e,s))},iE=(e,t,n={})=>!t.languages||!t.languages.length?(rd(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,e))return!1}}),_s=e=>typeof e=="string",aE=e=>typeof e=="object"&&e!==null,oE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},cE=e=>lE[e],uE=e=>e.replace(oE,cE);let ad={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:uE};const dE=(e={})=>{ad={...ad,...e}},fE=()=>ad;let Fy;const hE=e=>{Fy=e},mE=()=>Fy,pE={type:"3rdParty",init(e){dE(e.options.react),hE(e)}},gE=b.createContext();class xE{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const yE=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current},My=(e,t,n,s)=>e.getFixedT(t,n,s),vE=(e,t,n,s)=>b.useCallback(My(e,t,n,s),[e,t,n,s]),Il=(e,t={})=>{var N,j,E,k;const{i18n:n}=t,{i18n:s,defaultNS:r}=b.useContext(gE)||{},a=n||s||mE();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new xE),!a){rd(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const P=(D,G)=>_s(G)?G:aE(G)&&_s(G.defaultValue)?G.defaultValue:Array.isArray(D)?D[D.length-1]:D,L=[P,{},!1];return L.t=P,L.i18n={},L.ready=!1,L}(N=a.options.react)!=null&&N.wait&&rd(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...fE(),...a.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=e||r||((j=a.options)==null?void 0:j.defaultNS);u=_s(u)?[u]:u||["translation"],(k=(E=a.reportNamespaces).addUsedNamespaces)==null||k.call(E,u);const d=(a.isInitialized||a.initializedStoreOnce)&&u.every(P=>iE(P,a,o)),f=vE(a,t.lng||null,o.nsMode==="fallback"?u:u[0],c),h=()=>f,m=()=>My(a,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[y,w]=b.useState(h);let x=u.join();t.lng&&(x=`${t.lng}${x}`);const p=yE(x),g=b.useRef(!0);b.useEffect(()=>{const{bindI18n:P,bindI18nStore:L}=o;g.current=!0,!d&&!l&&(t.lng?Bm(a,t.lng,u,()=>{g.current&&w(m)}):id(a,u,()=>{g.current&&w(m)})),d&&p&&p!==x&&g.current&&w(m);const D=()=>{g.current&&w(m)};return P&&(a==null||a.on(P,D)),L&&(a==null||a.store.on(L,D)),()=>{g.current=!1,a&&P&&(P==null||P.split(" ").forEach(G=>a.off(G,D))),L&&a&&L.split(" ").forEach(G=>a.store.off(G,D))}},[a,x]),b.useEffect(()=>{g.current&&d&&w(h)},[a,c,d]);const v=[y,a,d];if(v.t=y,v.i18n=a,v.ready=d,d||!d&&!l)return v;throw new Promise(P=>{t.lng?Bm(a,t.lng,u,()=>P()):id(a,u,()=>P())})},Iy=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$l=b.createContext({}),_l=b.createContext(null),Vl=typeof document<"u",Rf=Vl?b.useLayoutEffect:b.useEffect,$y=b.createContext({strict:!1}),Lf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),bE="framerAppearId",_y="data-"+Lf(bE);function wE(e,t,n,s){const{visualElement:r}=b.useContext($l),a=b.useContext($y),o=b.useContext(_l),l=b.useContext(Iy).reducedMotion,c=b.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(n,o)});const d=b.useRef(!!(n[_y]&&!window.HandoffComplete));return Rf(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function xr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jE(e,t,n){return b.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):xr(n)&&(n.current=s))},[t])}function Ji(e){return typeof e=="string"||Array.isArray(e)}function Ul(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Df=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Of=["initial",...Df];function Bl(e){return Ul(e.animate)||Of.some(t=>Ji(e[t]))}function Vy(e){return!!(Bl(e)||e.variants)}function NE(e,t){if(Bl(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ji(n)?n:void 0,animate:Ji(s)?s:void 0}}return e.inherit!==!1?t:{}}function SE(e){const{initial:t,animate:n}=NE(e,b.useContext($l));return b.useMemo(()=>({initial:t,animate:n}),[qm(t),qm(n)])}function qm(e){return Array.isArray(e)?e.join(" "):e}const zm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xi={};for(const e in zm)Xi[e]={isEnabled:t=>zm[e].some(n=>!!t[n])};function EE(e){for(const t in e)Xi[t]={...Xi[t],...e[t]}}const Ff=b.createContext({}),Uy=b.createContext({}),CE=Symbol.for("motionComponentSymbol");function kE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&EE(e);function a(l,c){let u;const d={...b.useContext(Iy),...l,layoutId:PE(l)},{isStatic:f}=d,h=SE(l),m=s(l,f);if(!f&&Vl){h.visualElement=wE(r,m,d,t);const y=b.useContext(Uy),w=b.useContext($y).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,w,e,y))}return b.createElement($l.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...d}):null,n(r,l,jE(m,h.visualElement,c),m,f,h.visualElement))}const o=b.forwardRef(a);return o[CE]=r,o}function PE({layoutId:e}){const t=b.useContext(Ff).id;return t&&e!==void 0?t+"-"+e:e}function TE(e){function t(s,r={}){return kE(e(s,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const AE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mf(e){return typeof e!="string"||e.includes("-")?!1:!!(AE.indexOf(e)>-1||/[A-Z]/.test(e))}const Xo={};function RE(e){Object.assign(Xo,e)}const da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ys=new Set(da);function By(e,{layout:t,layoutId:n}){return Ys.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xo[e]||e==="opacity")}const St=e=>!!(e&&e.getVelocity),LE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DE=da.length;function OE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<DE;o++){const l=da[o];if(e[l]!==void 0){const c=LE[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,s?"":a):n&&s&&(a="none"),a}const qy=e=>t=>typeof t=="string"&&t.startsWith(e),zy=qy("--"),od=qy("var(--"),FE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ME=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fs=(e,t,n)=>Math.min(Math.max(n,e),t),Zs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Si={...Zs,transform:e=>fs(0,1,e)},_a={...Zs,default:1},Ei=e=>Math.round(e*1e5)/1e5,ql=/(-)?([\d]*\.?[\d])+/g,Hy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,IE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fa(e){return typeof e=="string"}const ha=e=>({test:t=>fa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vn=ha("deg"),pn=ha("%"),ae=ha("px"),$E=ha("vh"),_E=ha("vw"),Hm={...pn,parse:e=>pn.parse(e)/100,transform:e=>pn.transform(e*100)},Qm={...Zs,transform:Math.round},Qy={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:Vn,rotateX:Vn,rotateY:Vn,rotateZ:Vn,scale:_a,scaleX:_a,scaleY:_a,scaleZ:_a,skew:Vn,skewX:Vn,skewY:Vn,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Si,originX:Hm,originY:Hm,originZ:ae,zIndex:Qm,fillOpacity:Si,strokeOpacity:Si,numOctaves:Qm};function If(e,t,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(zy(f)){a[f]=h;continue}const m=Qy[f],y=ME(h,m);if(Ys.has(f)){if(c=!0,o[f]=y,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):r[f]=y}if(t.transform||(c||s?r.transform=OE(e.transform,n,d,s):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;r.transformOrigin=`${f} ${h} ${m}`}}const $f=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wy(e,t,n){for(const s in t)!St(t[s])&&!By(s,n)&&(e[s]=t[s])}function VE({transformTemplate:e},t,n){return b.useMemo(()=>{const s=$f();return If(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function UE(e,t,n){const s=e.style||{},r={};return Wy(r,s,e),Object.assign(r,VE(e,t,n)),e.transformValues?e.transformValues(r):r}function BE(e,t,n){const s={},r=UE(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const qE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function el(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qE.has(e)}let Ky=e=>!el(e);function zE(e){e&&(Ky=t=>t.startsWith("on")?!el(t):e(t))}try{zE(require("@emotion/is-prop-valid").default)}catch{}function HE(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Ky(r)||n===!0&&el(r)||!t&&!el(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function Wm(e,t,n){return typeof e=="string"?e:ae.transform(t+n*e)}function QE(e,t,n){const s=Wm(t,e.x,e.width),r=Wm(n,e.y,e.height);return`${s} ${r}`}const WE={offset:"stroke-dashoffset",array:"stroke-dasharray"},KE={offset:"strokeDashoffset",array:"strokeDasharray"};function GE(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?WE:KE;e[a.offset]=ae.transform(-s);const o=ae.transform(t),l=ae.transform(n);e[a.array]=`${o} ${l}`}function _f(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(If(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y,dimensions:w}=e;m.transform&&(w&&(y.transform=m.transform),delete m.transform),w&&(r!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=QE(w,r!==void 0?r:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),o!==void 0&&GE(m,o,l,c,!1)}const Gy=()=>({...$f(),attrs:{}}),Vf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YE(e,t,n,s){const r=b.useMemo(()=>{const a=Gy();return _f(a,t,{enableHardwareAcceleration:!1},Vf(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Wy(a,e.style,e),r.style={...a,...r.style}}return r}function ZE(e=!1){return(n,s,r,{latestValues:a},o)=>{const c=(Mf(n)?YE:BE)(s,a,o,n),d={...HE(s,typeof n=="string",e),...c,ref:r},{children:f}=s,h=b.useMemo(()=>St(f)?f.get():f,[f]);return b.createElement(n,{...d,children:h})}}function Yy(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const Zy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jy(e,t,n,s){Yy(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Zy.has(r)?r:Lf(r),t.attrs[r])}function Uf(e,t){const{style:n}=e,s={};for(const r in n)(St(n[r])||t.style&&St(t.style[r])||By(r,e))&&(s[r]=n[r]);return s}function Xy(e,t){const n=Uf(e,t);for(const s in e)if(St(e[s])||St(t[s])){const r=da.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=e[s]}return n}function Bf(e,t,n,s={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),t}function ev(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const tl=e=>Array.isArray(e),JE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XE=e=>tl(e)?e[e.length-1]||0:e;function lo(e){const t=St(e)?e.get():e;return JE(t)?t.toValue():t}function eC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,r,a){const o={latestValues:tC(s,r,a,e),renderState:t()};return n&&(o.mount=l=>n(s,l,o)),o}const tv=e=>(t,n)=>{const s=b.useContext($l),r=b.useContext(_l),a=()=>eC(e,t,s,r);return n?a():ev(a)};function tC(e,t,n,s){const r={},a=s(e,{});for(const h in a)r[h]=lo(a[h]);let{initial:o,animate:l}=e;const c=Bl(e),u=Vy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!Ul(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=Bf(e,m);if(!y)return;const{transitionEnd:w,transition:x,...p}=y;for(const g in p){let v=p[g];if(Array.isArray(v)){const N=d?v.length-1:0;v=v[N]}v!==null&&(r[g]=v)}for(const g in w)r[g]=w[g]}),r}const Me=e=>e;class Km{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function nC(e){let t=new Km,n=new Km,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&r,h=f?t:n;return u&&o.add(c),h.add(c)&&f&&r&&(s=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(r){a=!0;return}if(r=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let u=0;u<s;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}r=!1,a&&(a=!1,l.process(c))}};return l}const Va=["prepare","read","update","preRender","render","postRender"],sC=40;function rC(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=Va.reduce((f,h)=>(f[h]=nC(()=>n=!0),f),{}),o=f=>a[f].process(r),l=()=>{const f=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,sC),1),r.timestamp=f,r.isProcessing=!0,Va.forEach(o),r.isProcessing=!1,n&&t&&(s=!1,e(l))},c=()=>{n=!0,s=!0,r.isProcessing||e(l)};return{schedule:Va.reduce((f,h)=>{const m=a[h];return f[h]=(y,w=!1,x=!1)=>(n||c(),m.schedule(y,w,x)),f},{}),cancel:f=>Va.forEach(h=>a[h].cancel(f)),state:r,steps:a}}const{schedule:be,cancel:On,state:it,steps:Dc}=rC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Me,!0),iC={useVisualState:tv({scrapeMotionValuesFromProps:Xy,createRenderState:Gy,onMount:(e,t,{renderState:n,latestValues:s})=>{be.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{_f(n,s,{enableHardwareAcceleration:!1},Vf(t.tagName),e.transformTemplate),Jy(t,n)})}})},aC={useVisualState:tv({scrapeMotionValuesFromProps:Uf,createRenderState:$f})};function oC(e,{forwardMotionProps:t=!1},n,s){return{...Mf(e)?iC:aC,preloadedFeatures:n,useRender:ZE(t),createVisualElement:s,Component:e}}function Sn(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const nv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function zl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const lC=e=>t=>nv(t)&&e(t,zl(t));function kn(e,t,n,s){return Sn(e,t,lC(n),s)}const cC=(e,t)=>n=>t(e(n)),ls=(...e)=>e.reduce(cC);function sv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Gm=sv("dragHorizontal"),Ym=sv("dragVertical");function rv(e){let t=!1;if(e==="y")t=Ym();else if(e==="x")t=Gm();else{const n=Gm(),s=Ym();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function iv(){const e=rv(!0);return e?(e(),!1):!0}class vs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Zm(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||iv())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&be.update(()=>l[s](a,o))};return kn(e.current,n,r,{passive:!e.getProps()[s]})}class uC extends vs{mount(){this.unmount=ls(Zm(this.node,!0),Zm(this.node,!1))}unmount(){}}class dC extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ls(Sn(this.node.current,"focus",()=>this.onFocus()),Sn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const av=(e,t)=>t?e===t?!0:av(e,t.parentElement):!1;function Oc(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,zl(n))}class fC extends vs{constructor(){super(...arguments),this.removeStartListeners=Me,this.removeEndListeners=Me,this.removeAccessibleListeners=Me,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=kn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();be.update(()=>{!f&&!av(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=kn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=ls(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Oc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&be.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Sn(this.node.current,"keyup",o),Oc("down",(l,c)=>{this.startPress(l,c)})},n=Sn(this.node.current,"keydown",t),s=()=>{this.isPressing&&Oc("cancel",(a,o)=>this.cancelPress(a,o))},r=Sn(this.node.current,"blur",s);this.removeAccessibleListeners=ls(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&be.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!iv()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&be.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=kn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Sn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ls(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ld=new WeakMap,Fc=new WeakMap,hC=e=>{const t=ld.get(e.target);t&&t(e)},mC=e=>{e.forEach(hC)};function pC({root:e,...t}){const n=e||document;Fc.has(n)||Fc.set(n,{});const s=Fc.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(mC,{root:e,...t})),s[r]}function gC(e,t,n){const s=pC(t);return ld.set(e,n),s.observe(e),()=>{ld.delete(e),s.unobserve(e)}}const xC={some:0,all:1};class yC extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:xC[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return gC(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vC(t,n))&&this.startObserver()}unmount(){}}function vC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bC={inView:{Feature:yC},tap:{Feature:fC},focus:{Feature:dC},hover:{Feature:uC}};function ov(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function wC(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function jC(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function Hl(e,t,n){const s=e.getProps();return Bf(s,t,n!==void 0?n:s.custom,wC(e),jC(e))}let NC=Me,qf=Me;const cs=e=>e*1e3,Pn=e=>e/1e3,SC={current:!1},lv=e=>Array.isArray(e)&&typeof e[0]=="number";function cv(e){return!!(!e||typeof e=="string"&&uv[e]||lv(e)||Array.isArray(e)&&e.every(cv))}const hi=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,uv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hi([0,.65,.55,1]),circOut:hi([.55,0,1,.45]),backIn:hi([.31,.01,.66,-.59]),backOut:hi([.33,1.53,.69,.99])};function dv(e){if(e)return lv(e)?hi(e):Array.isArray(e)?e.map(dv):uv[e]}function EC(e,t,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=dv(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function CC(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const fv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kC=1e-7,PC=12;function TC(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=fv(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>kC&&++l<PC);return o}function ma(e,t,n,s){if(e===t&&n===s)return Me;const r=a=>TC(a,0,1,e,n);return a=>a===0||a===1?a:fv(r(a),t,s)}const AC=ma(.42,0,1,1),RC=ma(0,0,.58,1),hv=ma(.42,0,.58,1),LC=e=>Array.isArray(e)&&typeof e[0]!="number",mv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pv=e=>t=>1-e(1-t),zf=e=>1-Math.sin(Math.acos(e)),gv=pv(zf),DC=mv(zf),xv=ma(.33,1.53,.69,.99),Hf=pv(xv),OC=mv(Hf),FC=e=>(e*=2)<1?.5*Hf(e):.5*(2-Math.pow(2,-10*(e-1))),MC={linear:Me,easeIn:AC,easeInOut:hv,easeOut:RC,circIn:zf,circInOut:DC,circOut:gv,backIn:Hf,backInOut:OC,backOut:xv,anticipate:FC},Jm=e=>{if(Array.isArray(e)){qf(e.length===4);const[t,n,s,r]=e;return ma(t,n,s,r)}else if(typeof e=="string")return MC[e];return e},Qf=(e,t)=>n=>!!(fa(n)&&IE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),yv=(e,t,n)=>s=>{if(!fa(s))return s;const[r,a,o,l]=s.match(ql);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},IC=e=>fs(0,255,e),Mc={...Zs,transform:e=>Math.round(IC(e))},Ls={test:Qf("rgb","red"),parse:yv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Mc.transform(e)+", "+Mc.transform(t)+", "+Mc.transform(n)+", "+Ei(Si.transform(s))+")"};function $C(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const cd={test:Qf("#"),parse:$C,transform:Ls.transform},yr={test:Qf("hsl","hue"),parse:yv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+pn.transform(Ei(t))+", "+pn.transform(Ei(n))+", "+Ei(Si.transform(s))+")"},ut={test:e=>Ls.test(e)||cd.test(e)||yr.test(e),parse:e=>Ls.test(e)?Ls.parse(e):yr.test(e)?yr.parse(e):cd.parse(e),transform:e=>fa(e)?e:e.hasOwnProperty("red")?Ls.transform(e):yr.transform(e)},Re=(e,t,n)=>-n*e+n*t+e;function Ic(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _C({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=Ic(c,l,e+1/3),a=Ic(c,l,e),o=Ic(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const $c=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},VC=[cd,Ls,yr],UC=e=>VC.find(t=>t.test(e));function Xm(e){const t=UC(e);let n=t.parse(e);return t===yr&&(n=_C(n)),n}const vv=(e,t)=>{const n=Xm(e),s=Xm(t),r={...n};return a=>(r.red=$c(n.red,s.red,a),r.green=$c(n.green,s.green,a),r.blue=$c(n.blue,s.blue,a),r.alpha=Re(n.alpha,s.alpha,a),Ls.transform(r))};function BC(e){var t,n;return isNaN(e)&&fa(e)&&(((t=e.match(ql))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Hy))===null||n===void 0?void 0:n.length)||0)>0}const bv={regex:FE,countKey:"Vars",token:"${v}",parse:Me},wv={regex:Hy,countKey:"Colors",token:"${c}",parse:ut.parse},jv={regex:ql,countKey:"Numbers",token:"${n}",parse:Zs.parse};function _c(e,{regex:t,countKey:n,token:s,parse:r}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...a.map(r)))}function nl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&_c(n,bv),_c(n,wv),_c(n,jv),n}function Nv(e){return nl(e).values}function Sv(e){const{values:t,numColors:n,numVars:s,tokenised:r}=nl(e),a=t.length;return o=>{let l=r;for(let c=0;c<a;c++)c<s?l=l.replace(bv.token,o[c]):c<s+n?l=l.replace(wv.token,ut.transform(o[c])):l=l.replace(jv.token,Ei(o[c]));return l}}const qC=e=>typeof e=="number"?0:e;function zC(e){const t=Nv(e);return Sv(e)(t.map(qC))}const hs={test:BC,parse:Nv,createTransformer:Sv,getAnimatableNone:zC},Ev=(e,t)=>n=>`${n>0?t:e}`;function Cv(e,t){return typeof e=="number"?n=>Re(e,t,n):ut.test(e)?vv(e,t):e.startsWith("var(")?Ev(e,t):Pv(e,t)}const kv=(e,t)=>{const n=[...e],s=n.length,r=e.map((a,o)=>Cv(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},HC=(e,t)=>{const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Cv(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},Pv=(e,t)=>{const n=hs.createTransformer(t),s=nl(e),r=nl(t);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?ls(kv(s.values,r.values),n):Ev(e,t)},ea=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},ep=(e,t)=>n=>Re(e,t,n);function QC(e){return typeof e=="number"?ep:typeof e=="string"?ut.test(e)?vv:Pv:Array.isArray(e)?kv:typeof e=="object"?HC:ep}function WC(e,t,n){const s=[],r=n||QC(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Me:t;l=ls(c,l)}s.push(l)}return s}function Tv(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(qf(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=WC(t,s,r),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ea(e[d],e[d+1],u);return o[d](f)};return n?u=>c(fs(e[0],e[a-1],u)):c}function KC(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=ea(0,t,s);e.push(Re(n,1,r))}}function GC(e){const t=[0];return KC(t,e.length-1),t}function YC(e,t){return e.map(n=>n*t)}function ZC(e,t){return e.map(()=>t||hv).splice(0,e.length-1)}function sl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=LC(s)?s.map(Jm):Jm(s),a={done:!1,value:t[0]},o=YC(n&&n.length===t.length?n:GC(t),e),l=Tv(o,t,{ease:Array.isArray(r)?r:ZC(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Av(e,t){return t?e*(1e3/t):0}const JC=5;function Rv(e,t,n){const s=Math.max(t-JC,0);return Av(n-e(s),t-s)}const Vc=.001,XC=.01,tp=10,ek=.05,tk=1;function nk({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let r,a;NC(e<=cs(tp));let o=1-t;o=fs(ek,tk,o),e=fs(XC,tp,Pn(e)),o<1?(r=u=>{const d=u*o,f=d*e,h=d-n,m=ud(u,o),y=Math.exp(-f);return Vc-h/m*y},a=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),w=ud(Math.pow(u,2),o);return(-r(u)+Vc>0?-1:1)*((h-m)*y)/w}):(r=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Vc+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=rk(r,a,l);if(e=cs(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const sk=12;function rk(e,t,n){let s=n;for(let r=1;r<sk;r++)s=s-e(s)/t(s);return s}function ud(e,t){return e*Math.sqrt(1-t*t)}const ik=["duration","bounce"],ak=["stiffness","damping","mass"];function np(e,t){return t.some(n=>e[n]!==void 0)}function ok(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!np(e,ak)&&np(e,ik)){const n=nk(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Lv({keyframes:e,restDelta:t,restSpeed:n,...s}){const r=e[0],a=e[e.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=ok({...s,velocity:-Pn(s.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),w=a-r,x=Pn(Math.sqrt(l/u)),p=Math.abs(w)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let g;if(y<1){const v=ud(x,y);g=N=>{const j=Math.exp(-y*x*N);return a-j*((m+y*x*w)/v*Math.sin(v*N)+w*Math.cos(v*N))}}else if(y===1)g=v=>a-Math.exp(-x*v)*(w+(m+x*w)*v);else{const v=x*Math.sqrt(y*y-1);g=N=>{const j=Math.exp(-y*x*N),E=Math.min(v*N,300);return a-j*((m+y*x*w)*Math.sinh(E)+v*w*Math.cosh(E))/v}}return{calculatedDuration:h&&d||null,next:v=>{const N=g(v);if(h)o.done=v>=d;else{let j=m;v!==0&&(y<1?j=Rv(g,v,N):j=0);const E=Math.abs(j)<=n,k=Math.abs(a-N)<=t;o.done=E&&k}return o.value=o.done?a:N,o}}}function sp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,y=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let w=n*t;const x=f+w,p=o===void 0?x:o(x);p!==x&&(w=p-f);const g=P=>-w*Math.exp(-P/s),v=P=>p+g(P),N=P=>{const L=g(P),D=v(P);h.done=Math.abs(L)<=u,h.value=h.done?p:D};let j,E;const k=P=>{m(h.value)&&(j=P,E=Lv({keyframes:[h.value,y(h.value)],velocity:Rv(v,P,h.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:P=>{let L=!1;return!E&&j===void 0&&(L=!0,N(P),k(P)),j!==void 0&&P>j?E.next(P-j):(!L&&N(P),h)}}}const lk=e=>{const t=({timestamp:n})=>e(n);return{start:()=>be.update(t,!0),stop:()=>On(t),now:()=>it.isProcessing?it.timestamp:performance.now()}},rp=2e4;function ip(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<rp;)t+=n,s=e.next(t);return t>=rp?1/0:t}const ck={decay:sp,inertia:sp,tween:sl,keyframes:sl,spring:Lv};function rl({autoplay:e=!0,delay:t=0,driver:n=lk,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,y=!1,w,x;const p=()=>{x=new Promise(z=>{w=z})};p();let g;const v=ck[r]||sl;let N;v!==sl&&typeof s[0]!="number"&&(N=Tv([0,100],s,{clamp:!1}),s=[0,100]);const j=v({...h,keyframes:s});let E;l==="mirror"&&(E=v({...h,keyframes:[...s].reverse(),velocity:-(h.velocity||0)}));let k="idle",P=null,L=null,D=null;j.calculatedDuration===null&&a&&(j.calculatedDuration=ip(j));const{calculatedDuration:G}=j;let H=1/0,U=1/0;G!==null&&(H=G+o,U=H*(a+1)-o);let Q=0;const ne=z=>{if(L===null)return;m>0&&(L=Math.min(L,z)),m<0&&(L=Math.min(z-U/m,L)),P!==null?Q=P:Q=Math.round(z-L)*m;const ie=Q-t*(m>=0?1:-1),we=m>=0?ie<0:ie>U;Q=Math.max(ie,0),k==="finished"&&P===null&&(Q=U);let ge=Q,Se=j;if(a){const Y=Math.min(Q,U)/H;let F=Math.floor(Y),fe=Y%1;!fe&&Y>=1&&(fe=1),fe===1&&F--,F=Math.min(F,a+1),!!(F%2)&&(l==="reverse"?(fe=1-fe,o&&(fe-=o/H)):l==="mirror"&&(Se=E)),ge=fs(0,1,fe)*H}const S=we?{done:!1,value:s[0]}:Se.next(ge);N&&(S.value=N(S.value));let{done:R}=S;!we&&G!==null&&(R=m>=0?Q>=U:Q<=0);const M=P===null&&(k==="finished"||k==="running"&&R);return f&&f(S.value),M&&$(),S},I=()=>{g&&g.stop(),g=void 0},se=()=>{k="idle",I(),w(),p(),L=D=null},$=()=>{k="finished",d&&d(),I(),w()},W=()=>{if(y)return;g||(g=n(ne));const z=g.now();c&&c(),P!==null?L=z-P:(!L||k==="finished")&&(L=z),k==="finished"&&p(),D=L,P=null,k="running",g.start()};e&&W();const ee={then(z,ie){return x.then(z,ie)},get time(){return Pn(Q)},set time(z){z=cs(z),Q=z,P!==null||!g||m===0?P=z:L=g.now()-z/m},get duration(){const z=j.calculatedDuration===null?ip(j):j.calculatedDuration;return Pn(z)},get speed(){return m},set speed(z){z===m||!g||(m=z,ee.time=Pn(Q))},get state(){return k},play:W,pause:()=>{k="paused",P=Q},stop:()=>{y=!0,k!=="idle"&&(k="idle",u&&u(),se())},cancel:()=>{D!==null&&ne(D),se()},complete:()=>{k="finished"},sample:z=>(L=0,ne(z))};return ee}function uk(e){let t;return()=>(t===void 0&&(t=e()),t)}const dk=uk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fk=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ua=10,hk=2e4,mk=(e,t)=>t.type==="spring"||e==="backgroundColor"||!cv(t.ease);function pk(e,t,{onUpdate:n,onComplete:s,...r}){if(!(dk()&&fk.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(v=>{l=v})};d();let{keyframes:f,duration:h=300,ease:m,times:y}=r;if(mk(t,r)){const v=rl({...r,repeat:0,delay:0});let N={done:!1,value:f[0]};const j=[];let E=0;for(;!N.done&&E<hk;)N=v.sample(E),j.push(N.value),E+=Ua;y=void 0,f=j,h=E-Ua,m="linear"}const w=EC(e.owner.current,t,f,{...r,duration:h,ease:m,times:y}),x=()=>{u=!1,w.cancel()},p=()=>{u=!0,be.update(x),l(),d()};return w.onfinish=()=>{u||(e.set(CC(f,r)),s&&s(),p())},{then(v,N){return c.then(v,N)},attachTimeline(v){return w.timeline=v,w.onfinish=null,Me},get time(){return Pn(w.currentTime||0)},set time(v){w.currentTime=cs(v)},get speed(){return w.playbackRate},set speed(v){w.playbackRate=v},get duration(){return Pn(h)},play:()=>{o||(w.play(),On(x))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:v}=w;if(v){const N=rl({...r,autoplay:!1});e.setWithVelocity(N.sample(v-Ua).value,N.sample(v).value,Ua)}p()},complete:()=>{u||w.finish()},cancel:p}}function gk({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const r=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Me,pause:Me,stop:Me,then:a=>(a(),Promise.resolve()),cancel:Me,complete:Me});return t?rl({keyframes:[0,1],duration:0,delay:t,onComplete:r}):r()}const xk={type:"spring",stiffness:500,damping:25,restSpeed:10},yk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vk={type:"keyframes",duration:.8},bk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wk=(e,{keyframes:t})=>t.length>2?vk:Ys.has(e)?e.startsWith("scale")?yk(t[1]):xk:bk,dd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url(")),jk=new Set(["brightness","contrast","saturate","opacity"]);function Nk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(ql)||[];if(!s)return e;const r=n.replace(s,"");let a=jk.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const Sk=/([a-z-]*)\(.*?\)/g,fd={...hs,getAnimatableNone:e=>{const t=e.match(Sk);return t?t.map(Nk).join(" "):e}},Ek={...Qy,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:fd,WebkitFilter:fd},Wf=e=>Ek[e];function Dv(e,t){let n=Wf(e);return n!==fd&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ov=e=>/^0[^.\s]+$/.test(e);function Ck(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Ov(e)}function kk(e,t,n,s){const r=dd(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),Ck(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(r&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=Dv(t,l)}return a}function Pk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Kf(e,t){return e[t]||e.default||e}const Tk={skipAnimations:!1},Gf=(e,t,n,s={})=>r=>{const a=Kf(s,e)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-cs(o);const c=kk(t,e,n,a),u=c[0],d=c[c.length-1],f=dd(e,u),h=dd(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:y=>{t.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(Pk(a)||(m={...m,...wk(e,m)}),m.duration&&(m.duration=cs(m.duration)),m.repeatDelay&&(m.repeatDelay=cs(m.repeatDelay)),!f||!h||SC.current||a.type===!1||Tk.skipAnimations)return gk(m);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=pk(t,e,m);if(y)return y}return rl(m)};function il(e){return!!(St(e)&&e.add)}const Fv=e=>/^\-?\d*\.?\d+$/.test(e);function Yf(e,t){e.indexOf(t)===-1&&e.push(t)}function Zf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Jf{constructor(){this.subscriptions=[]}add(t){return Yf(this.subscriptions,t),()=>Zf(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ak=e=>!isNaN(parseFloat(e));class Rk{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=it;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Ak(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Jf);const s=this.events[t].add(n);return t==="change"?()=>{s(),be.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Av(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ir(e,t){return new Rk(e,t)}const Mv=e=>t=>t.test(e),Lk={test:e=>e==="auto",parse:e=>e},Iv=[Zs,ae,pn,Vn,_E,$E,Lk],si=e=>Iv.find(Mv(e)),Dk=[...Iv,ut,hs],Ok=e=>Dk.find(Mv(e));function Fk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ir(n))}function Mk(e,t){const n=Hl(e,t);let{transitionEnd:s={},transition:r={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=XE(a[o]);Fk(e,o,l)}}function Ik(e,t,n){var s,r;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&r!==void 0?r:t[c]),d!=null&&(typeof d=="string"&&(Fv(d)||Ov(d))?d=parseFloat(d):!Ok(d)&&hs.test(u)&&(d=Dv(c,u)),e.addValue(c,Ir(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function $k(e,t){return t?(t[e]||t.default||t).from:void 0}function _k(e,t,n){const s={};for(const r in e){const a=$k(r,t);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function Vk({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Uk(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function $v(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(a=s);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const f in l){const h=e.getValue(f),m=l[f];if(!h||m===void 0||d&&Vk(d,f))continue;const y={delay:n,elapsed:0,...Kf(a||{},f)};if(window.HandoffAppearAnimations){const p=e.getProps()[_y];if(p){const g=window.HandoffAppearAnimations(p,f,h,be);g!==null&&(y.elapsed=g,y.isHandoff=!0)}}let w=!y.isHandoff&&!Uk(h,m);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(Gf(f,h,m,e.shouldReduceMotion&&Ys.has(f)?{type:!1}:y));const x=h.animation;il(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&Mk(e,o)}),u}function hd(e,t,n={}){const s=Hl(e,t,n.custom);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all($v(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=r;return Bk(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function Bk(e,t,n=0,s=0,r=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(qk).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(hd(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function qk(e,t){return e.sortNodePosition(t)}function zk(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>hd(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=hd(e,t,n);else{const r=typeof t=="function"?Hl(e,t,n.custom):t;s=Promise.all($v(e,r,n))}return s.then(()=>e.notify("AnimationComplete",t))}const Hk=[...Df].reverse(),Qk=Df.length;function Wk(e){return t=>Promise.all(t.map(({animation:n,options:s})=>zk(e,n,s)))}function Kk(e){let t=Wk(e);const n=Yk();let s=!0;const r=(c,u)=>{const d=Hl(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let y={},w=1/0;for(let p=0;p<Qk;p++){const g=Hk[p],v=n[g],N=d[g]!==void 0?d[g]:f[g],j=Ji(N),E=g===u?v.isActive:null;E===!1&&(w=p);let k=N===f[g]&&N!==d[g]&&j;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...y},!v.isActive&&E===null||!N&&!v.prevProp||Ul(N)||typeof N=="boolean")continue;let L=Gk(v.prevProp,N)||g===u&&v.isActive&&!k&&j||p>w&&j,D=!1;const G=Array.isArray(N)?N:[N];let H=G.reduce(r,{});E===!1&&(H={});const{prevResolvedValues:U={}}=v,Q={...U,...H},ne=I=>{L=!0,m.has(I)&&(D=!0,m.delete(I)),v.needsAnimating[I]=!0};for(const I in Q){const se=H[I],$=U[I];if(y.hasOwnProperty(I))continue;let W=!1;tl(se)&&tl($)?W=!ov(se,$):W=se!==$,W?se!==void 0?ne(I):m.add(I):se!==void 0&&m.has(I)?ne(I):v.protectedKeys[I]=!0}v.prevProp=N,v.prevResolvedValues=H,v.isActive&&(y={...y,...H}),s&&e.blockInitialAnimation&&(L=!1),L&&(!k||D)&&h.push(...G.map(I=>({animation:I,options:{type:g,...c}})))}if(m.size){const p={};m.forEach(g=>{const v=e.getBaseTarget(g);v!==void 0&&(p[g]=v)}),h.push({animation:p})}let x=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),s=!1,x?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const h=o(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function Gk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ov(t,e):!1}function js(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yk(){return{animate:js(!0),whileInView:js(),whileHover:js(),whileTap:js(),whileDrag:js(),whileFocus:js(),exit:js()}}class Zk extends vs{constructor(t){super(t),t.animationState||(t.animationState=Kk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ul(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Jk=0;class Xk extends vs{constructor(){super(...arguments),this.id=Jk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const e4={animation:{Feature:Zk},exit:{Feature:Xk}},ap=(e,t)=>Math.abs(e-t);function t4(e,t){const n=ap(e.x,t.x),s=ap(e.y,t.y);return Math.sqrt(n**2+s**2)}class _v{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Bc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=t4(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:w}=it;this.history.push({...y,timestamp:w});const{onStart:x,onMove:p}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Uc(h,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Bc(f.type==="pointercancel"?this.lastMoveEventInfo:Uc(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),y&&y(f,x)},!nv(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=zl(t),l=Uc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=it;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Bc(l,this.history)),this.removeListeners=ls(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),On(this.updatePoint)}}function Uc(e,t){return t?{point:t(e.point)}:e}function op(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bc({point:e},t){return{point:e,delta:op(e,Vv(t)),offset:op(e,n4(t)),velocity:s4(t,.1)}}function n4(e){return e[0]}function Vv(e){return e[e.length-1]}function s4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=Vv(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>cs(t)));)n--;if(!s)return{x:0,y:0};const a=Pn(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rt(e){return e.max-e.min}function md(e,t=0,n=.01){return Math.abs(e-t)<=n}function lp(e,t,n,s=.5){e.origin=s,e.originPoint=Re(t.min,t.max,e.origin),e.scale=Rt(n)/Rt(t),(md(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Re(n.min,n.max,e.origin)-e.originPoint,(md(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ci(e,t,n,s){lp(e.x,t.x,n.x,s?s.originX:void 0),lp(e.y,t.y,n.y,s?s.originY:void 0)}function cp(e,t,n){e.min=n.min+t.min,e.max=e.min+Rt(t)}function r4(e,t,n){cp(e.x,t.x,n.x),cp(e.y,t.y,n.y)}function up(e,t,n){e.min=t.min-n.min,e.max=e.min+Rt(t)}function ki(e,t,n){up(e.x,t.x,n.x),up(e.y,t.y,n.y)}function i4(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Re(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Re(n,e,s.max):Math.min(e,n)),e}function dp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a4(e,{top:t,left:n,bottom:s,right:r}){return{x:dp(e.x,n,r),y:dp(e.y,t,s)}}function fp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function o4(e,t){return{x:fp(e.x,t.x),y:fp(e.y,t.y)}}function l4(e,t){let n=.5;const s=Rt(e),r=Rt(t);return r>s?n=ea(t.min,t.max-s,e.min):s>r&&(n=ea(e.min,e.max-r,t.min)),fs(0,1,n)}function c4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const pd=.35;function u4(e=pd){return e===!1?e=0:e===!0&&(e=pd),{x:hp(e,"left","right"),y:hp(e,"top","bottom")}}function hp(e,t,n){return{min:mp(e,t),max:mp(e,n)}}function mp(e,t){return typeof e=="number"?e:e[t]||0}const pp=()=>({translate:0,scale:1,origin:0,originPoint:0}),vr=()=>({x:pp(),y:pp()}),gp=()=>({min:0,max:0}),Ue=()=>({x:gp(),y:gp()});function Mt(e){return[e("x"),e("y")]}function Uv({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function d4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function f4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function qc(e){return e===void 0||e===1}function gd({scale:e,scaleX:t,scaleY:n}){return!qc(e)||!qc(t)||!qc(n)}function Es(e){return gd(e)||Bv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Bv(e){return xp(e.x)||xp(e.y)}function xp(e){return e&&e!=="0%"}function al(e,t,n){const s=e-n,r=t*s;return n+r}function yp(e,t,n,s,r){return r!==void 0&&(e=al(e,r,s)),al(e,n,s)+t}function xd(e,t=0,n=1,s,r){e.min=yp(e.min,t,n,s,r),e.max=yp(e.max,t,n,s,r)}function qv(e,{x:t,y:n}){xd(e.x,t.translate,t.scale,t.originPoint),xd(e.y,n.translate,n.scale,n.originPoint)}function h4(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&br(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,qv(e,o)),s&&Es(a.latestValues)&&br(e,a.latestValues))}t.x=vp(t.x),t.y=vp(t.y)}function vp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zn(e,t){e.min=e.min+t,e.max=e.max+t}function bp(e,t,[n,s,r]){const a=t[r]!==void 0?t[r]:.5,o=Re(e.min,e.max,a);xd(e,t[n],t[s],o,t.scale)}const m4=["x","scaleX","originX"],p4=["y","scaleY","originY"];function br(e,t){bp(e.x,t,m4),bp(e.y,t,p4)}function zv(e,t){return Uv(f4(e.getBoundingClientRect(),t))}function g4(e,t,n){const s=zv(e,n),{scroll:r}=t;return r&&(zn(s.x,r.offset.x),zn(s.y,r.offset.y)),s}const Hv=({current:e})=>e?e.ownerDocument.defaultView:null,x4=new WeakMap;class y4{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zl(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rv(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(x=>{let p=this.getAxisMotionValue(x).get()||0;if(pn.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[x];v&&(p=Rt(v)*(parseFloat(p)/100))}}this.originPoint[x]=p}),y&&be.update(()=>y(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=v4(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Mt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _v(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Hv(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&be.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!Ba(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=i4(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&xr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=a4(r.layoutBox,n):this.constraints=!1,this.elastic=u4(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=c4(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xr(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=g4(s,r.root,this.visualElement.getTransformPagePoint());let o=o4(r.layout.layoutBox,a);if(n){const l=n(d4(o));this.hasMutatedConstraints=!!l,l&&(o=Uv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Mt(d=>{if(!Ba(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:s?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Gf(t,s,0,n))}stopAnimation(){Mt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Mt(n=>{const{drag:s}=this.getProps();if(!Ba(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-Re(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xr(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();r[o]=l4({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Mt(o=>{if(!Ba(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Re(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;x4.set(this.visualElement,this);const t=this.visualElement.current,n=kn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();xr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=Sn(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=pd,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ba(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function v4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class b4 extends vs{constructor(t){super(t),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new y4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}unmount(){this.removeGroupControls(),this.removeListeners()}}const wp=e=>(t,n)=>{e&&be.update(()=>e(t,n))};class w4 extends vs{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(t){this.session=new _v(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:wp(t),onStart:wp(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&be.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function j4(){const e=b.useContext(_l);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=b.useId();return b.useEffect(()=>s(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}const co={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ri={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ae.test(e))e=parseFloat(e);else return e;const n=jp(e,t.target.x),s=jp(e,t.target.y);return`${n}% ${s}%`}},N4={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=hs.parse(e);if(r.length>5)return s;const a=hs.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=Re(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};class S4 extends le.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;RE(E4),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),co.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||be.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Qv(e){const[t,n]=j4(),s=b.useContext(Ff);return le.createElement(S4,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(Uy),isPresent:t,safeToRemove:n})}const E4={borderRadius:{...ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ri,borderTopRightRadius:ri,borderBottomLeftRadius:ri,borderBottomRightRadius:ri,boxShadow:N4},Wv=["TopLeft","TopRight","BottomLeft","BottomRight"],C4=Wv.length,Np=e=>typeof e=="string"?parseFloat(e):e,Sp=e=>typeof e=="number"||ae.test(e);function k4(e,t,n,s,r,a){r?(e.opacity=Re(0,n.opacity!==void 0?n.opacity:1,P4(s)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,T4(s))):a&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<C4;o++){const l=`border${Wv[o]}Radius`;let c=Ep(t,l),u=Ep(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Sp(c)===Sp(u)?(e[l]=Math.max(Re(Np(c),Np(u),s),0),(pn.test(u)||pn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Re(t.rotate||0,n.rotate||0,s))}function Ep(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const P4=Kv(0,.5,gv),T4=Kv(.5,.95,Me);function Kv(e,t,n){return s=>s<e?0:s>t?1:n(ea(e,t,s))}function Cp(e,t){e.min=t.min,e.max=t.max}function Ft(e,t){Cp(e.x,t.x),Cp(e.y,t.y)}function kp(e,t,n,s,r){return e-=t,e=al(e,1/n,s),r!==void 0&&(e=al(e,1/r,s)),e}function A4(e,t=0,n=1,s=.5,r,a=e,o=e){if(pn.test(t)&&(t=parseFloat(t),t=Re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Re(a.min,a.max,s);e===a&&(l-=t),e.min=kp(e.min,t,n,l,r),e.max=kp(e.max,t,n,l,r)}function Pp(e,t,[n,s,r],a,o){A4(e,t[n],t[s],t[r],t.scale,a,o)}const R4=["x","scaleX","originX"],L4=["y","scaleY","originY"];function Tp(e,t,n,s){Pp(e.x,t,R4,n?n.x:void 0,s?s.x:void 0),Pp(e.y,t,L4,n?n.y:void 0,s?s.y:void 0)}function Ap(e){return e.translate===0&&e.scale===1}function Gv(e){return Ap(e.x)&&Ap(e.y)}function D4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Yv(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Rp(e){return Rt(e.x)/Rt(e.y)}class O4{constructor(){this.members=[]}add(t){Yf(this.members,t),t.scheduleRender()}remove(t){if(Zf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lp(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const F4=(e,t)=>e.depth-t.depth;class M4{constructor(){this.children=[],this.isDirty=!1}add(t){Yf(this.children,t),this.isDirty=!0}remove(t){Zf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F4),this.isDirty=!1,this.children.forEach(t)}}function I4(e,t){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(On(s),e(a-t))};return be.read(s,!0),()=>On(s)}function $4(e){window.MotionDebug&&window.MotionDebug.record(e)}function _4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function V4(e,t,n){const s=St(e)?e:Ir(e);return s.start(Gf("",s,t,n)),s.animation}const Dp=["","X","Y","Z"],U4={visibility:"hidden"},Op=1e3;let B4=0;const Cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Zv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=B4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cs.totalNodes=Cs.resolvedTargetDeltas=Cs.recalculatedProjection=0,this.nodes.forEach(H4),this.nodes.forEach(Y4),this.nodes.forEach(Z4),this.nodes.forEach(Q4),$4(Cs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new M4)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_4(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=I4(h,250),co.hasAnimatedSinceResize&&(co.hasAnimatedSinceResize=!1,this.nodes.forEach(Mp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||n3,{onLayoutAnimationStart:x,onLayoutAnimationComplete:p}=d.getProps(),g=!this.targetLayout||!Yv(this.targetLayout,y)||m,v=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const N={...Kf(w,"layout"),onPlay:x,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||Mp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,On(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fp);return}this.isUpdating||this.nodes.forEach(K4),this.isUpdating=!1,this.nodes.forEach(G4),this.nodes.forEach(q4),this.nodes.forEach(z4),this.clearAllSnapshots();const l=performance.now();it.delta=fs(0,1e3/60,l-it.timestamp),it.timestamp=l,it.isProcessing=!0,Dc.update.process(it),Dc.preRender.process(it),Dc.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(W4),this.sharedNodes.forEach(X4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Gv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Es(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),s3(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ue();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(zn(l.x,c.offset.x),zn(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ue();Ft(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ft(l,o);const{scroll:h}=this.root;h&&(zn(l.x,-h.offset.x),zn(l.y,-h.offset.y))}zn(l.x,d.offset.x),zn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Ue();Ft(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&br(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Es(d.latestValues)&&br(c,d.latestValues)}return Es(this.latestValues)&&br(c,this.latestValues),c}removeTransform(o){const l=Ue();Ft(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Es(u.latestValues))continue;gd(u.latestValues)&&u.updateSnapshot();const d=Ue(),f=u.measurePageBox();Ft(d,f),Tp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Es(this.latestValues)&&Tp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=it.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ki(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ft(this.target,this.layout.layoutBox),qv(this.target,this.targetDelta)):Ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ki(this.relativeTargetOrigin,this.target,m.target),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gd(this.parent.latestValues)||Bv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===it.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ft(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;h4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=vr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vr(),this.projectionDeltaWithTransform=vr());const w=this.projectionTransform;Ci(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Lp(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=vr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ue(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,x=this.getStack(),p=!x||x.members.length<=1,g=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(t3));this.animationProgress=0;let v;this.mixTargetDelta=N=>{const j=N/1e3;Ip(f.x,o.x,j),Ip(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ki(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e3(this.relativeTarget,this.relativeTargetOrigin,h,j),v&&D4(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ue()),Ft(v,this.relativeTarget)),w&&(this.animationValues=d,k4(d,u,this.latestValues,j,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(On(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{co.hasAnimatedSinceResize=!0,this.currentAnimation=V4(0,Op,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Op),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Jv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ue();const f=Rt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Rt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ft(l,c),br(l,d),Ci(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O4),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Dp.length;d++){const f="rotate"+Dp[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return U4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=lo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Es(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Lp(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Xo){if(h[w]===void 0)continue;const{correct:x,applyTo:p}=Xo[w],g=u.transform==="none"?h[w]:x(h[w],f);if(p){const v=p.length;for(let N=0;N<v;N++)u[p[N]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=f===this?lo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Fp),this.root.sharedNodes.clear()}}}function q4(e){e.updateLayout()}function z4(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Mt(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Rt(h);h.min=s[f].min,h.max=h.min+m}):Jv(a,n.layoutBox,s)&&Mt(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Rt(s[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=vr();Ci(l,s,n.layoutBox);const c=vr();o?Ci(c,e.applyTransform(r,!0),n.measuredBox):Ci(c,s,n.layoutBox);const u=!Gv(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Ue();ki(y,n.layoutBox,h.layoutBox);const w=Ue();ki(w,s,m.layoutBox),Yv(y,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function H4(e){Cs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Q4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function W4(e){e.clearSnapshot()}function Fp(e){e.clearMeasurements()}function K4(e){e.isLayoutDirty=!1}function G4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Y4(e){e.resolveTargetDelta()}function Z4(e){e.calcProjection()}function J4(e){e.resetRotation()}function X4(e){e.removeLeadSnapshot()}function Ip(e,t,n){e.translate=Re(t.translate,0,n),e.scale=Re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $p(e,t,n,s){e.min=Re(t.min,n.min,s),e.max=Re(t.max,n.max,s)}function e3(e,t,n,s){$p(e.x,t.x,n.x,s),$p(e.y,t.y,n.y,s)}function t3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const n3={duration:.45,ease:[.4,0,.1,1]},_p=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Vp=_p("applewebkit/")&&!_p("chrome/")?Math.round:Me;function Up(e){e.min=Vp(e.min),e.max=Vp(e.max)}function s3(e){Up(e.x),Up(e.y)}function Jv(e,t,n){return e==="position"||e==="preserve-aspect"&&!md(Rp(t),Rp(n),.2)}const r3=Zv({attachResizeListener:(e,t)=>Sn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zc={current:void 0},Xv=Zv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zc.current){const e=new r3({});e.mount(window),e.setOptions({layoutScroll:!0}),zc.current=e}return zc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i3={pan:{Feature:w4},drag:{Feature:b4,ProjectionNode:Xv,MeasureLayout:Qv}},a3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function o3(e){const t=a3.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function yd(e,t,n=1){const[s,r]=o3(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return Fv(o)?parseFloat(o):o}else return od(r)?yd(r,t,n+1):r}function l3(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const a=r.get();if(!od(a))return;const o=yd(a,s);o&&r.set(o)});for(const r in t){const a=t[r];if(!od(a))continue;const o=yd(a,s);o&&(t[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:t,transitionEnd:n}}const c3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),e1=e=>c3.has(e),u3=e=>Object.keys(e).some(e1),Bp=e=>e===Zs||e===ae,qp=(e,t)=>parseFloat(e.split(", ")[t]),zp=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return qp(r[1],t);{const a=s.match(/^matrix\((.+)\)$/);return a?qp(a[1],e):0}},d3=new Set(["x","y","z"]),f3=da.filter(e=>!d3.has(e));function h3(e){const t=[];return f3.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const $r={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zp(4,13),y:zp(5,14)};$r.translateX=$r.x;$r.translateY=$r.y;const m3=(e,t,n)=>{const s=t.measureViewportBox(),r=t.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=$r[u](s,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=$r[u](c,a)}),e},p3=(e,t,n={},s={})=>{t={...t},s={...s};const r=Object.keys(t).filter(e1);let a=[],o=!1;const l=[];if(r.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=si(d);const h=t[c];let m;if(tl(h)){const y=h.length,w=h[0]===null?1:0;d=h[w],f=si(d);for(let x=w;x<y&&h[x]!==null;x++)m?qf(si(h[x])===m):m=si(h[x])}else m=si(h);if(f!==m)if(Bp(f)&&Bp(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===ae&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(o||(a=h3(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=m3(t,e,l);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Vl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:t,transitionEnd:s}};function g3(e,t,n,s){return u3(t)?p3(e,t,n,s):{target:t,transitionEnd:s}}const x3=(e,t,n,s)=>{const r=l3(e,t,s);return t=r.target,s=r.transitionEnd,g3(e,t,n,s)},vd={current:null},t1={current:!1};function y3(){if(t1.current=!0,!!Vl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vd.current=e.matches;e.addListener(t),t()}else vd.current=!1}function v3(e,t,n){const{willChange:s}=t;for(const r in t){const a=t[r],o=n[r];if(St(a))e.addValue(r,a),il(s)&&s.add(r);else if(St(o))e.addValue(r,Ir(a,{owner:e})),il(s)&&s.remove(r);else if(o!==a)if(e.hasValue(r)){const l=e.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(r);e.addValue(r,Ir(l!==void 0?l:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Hp=new WeakMap,n1=Object.keys(Xi),b3=n1.length,Qp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],w3=Of.length;class j3{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Bl(n),this.isVariantNode=Vy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&St(h)&&(h.set(l[f],!1),il(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Hp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),t1.current||y3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Hp.delete(this.current),this.projection&&this.projection.unmount(),On(this.notifyUpdate),On(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=Ys.has(t),r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&be.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,r,a){let o,l;for(let c=0;c<b3;c++){const u=n1[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Xi[u];h&&(o=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&xr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Qp.length;s++){const r=Qp[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=t["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=v3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<w3;s++){const r=Of[s],a=this.props[r];(Ji(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ir(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=Bf(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!St(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Jf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class s1 extends j3{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:r},a){let o=_k(s,t||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){Ik(this,s,o);const l=x3(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:n,...s}}}function N3(e){return window.getComputedStyle(e)}class S3 extends s1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ys.has(n)){const s=Wf(n);return s&&s.default||0}else{const s=N3(t),r=(zy(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return zv(t,n)}build(t,n,s,r){If(t,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Uf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;St(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,r){Yy(t,n,s,r)}}class E3 extends s1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ys.has(n)){const s=Wf(n);return s&&s.default||0}return n=Zy.has(n)?n:Lf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ue()}scrapeMotionValuesFromProps(t,n){return Xy(t,n)}build(t,n,s,r){_f(t,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,s,r){Jy(t,n,s,r)}mount(t){this.isSVGTag=Vf(t.tagName),super.mount(t)}}const C3=(e,t)=>Mf(e)?new E3(t,{enableHardwareAcceleration:!1}):new S3(t,{enableHardwareAcceleration:!0}),k3={layout:{ProjectionNode:Xv,MeasureLayout:Qv}},P3={...e4,...bC,...i3,...k3},q=TE((e,t)=>oC(e,t,P3,C3));function r1(){const e=b.useRef(!1);return Rf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function T3(){const e=r1(),[t,n]=b.useState(0),s=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>be.postRender(s),[s]),t]}class A3 extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function R3({children:e,isPresent:t}){const n=b.useId(),s=b.useRef(null),r=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=r.current;if(t||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(A3,{isPresent:t,childRef:s,sizeRef:r},b.cloneElement(e,{ref:s}))}const Hc=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=ev(L3),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;s&&s()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[n]);return b.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=b.createElement(R3,{isPresent:n},e)),b.createElement(_l.Provider,{value:u},e)};function L3(){return new Map}function D3(e){return b.useEffect(()=>()=>e(),[])}const ks=e=>e.key||"";function O3(e,t){e.forEach(n=>{const s=ks(n);t.set(s,n)})}function F3(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const Ql=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=b.useContext(Ff).forceRender||T3()[0],c=r1(),u=F3(e);let d=u;const f=b.useRef(new Map).current,h=b.useRef(d),m=b.useRef(new Map).current,y=b.useRef(!0);if(Rf(()=>{y.current=!1,O3(u,m),h.current=d}),D3(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return b.createElement(b.Fragment,null,d.map(g=>b.createElement(Hc,{key:ks(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},g)));d=[...d];const w=h.current.map(ks),x=u.map(ks),p=w.length;for(let g=0;g<p;g++){const v=w[g];x.indexOf(v)===-1&&!f.has(v)&&f.set(v,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((g,v)=>{if(x.indexOf(v)!==-1)return;const N=m.get(v);if(!N)return;const j=w.indexOf(v);let E=g;if(!E){const k=()=>{f.delete(v);const P=Array.from(m.keys()).filter(L=>!x.includes(L));if(P.forEach(L=>m.delete(L)),h.current=u.filter(L=>{const D=ks(L);return D===v||P.includes(D)}),!f.size){if(c.current===!1)return;l(),s&&s()}};E=b.createElement(Hc,{key:ks(N),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:a,mode:o},N),f.set(v,E)}d.splice(j,0,E)}),d=d.map(g=>{const v=g.key;return f.has(v)?g:b.createElement(Hc,{key:ks(g),isPresent:!0,presenceAffectsLayout:a,mode:o},g)}),b.createElement(b.Fragment,null,f.size?d:d.map(g=>b.cloneElement(g)))};function M3({isOpen:e,onClose:t}){const{t:n,i18n:s}=Il(),{user:r}=ys(),[a,o]=b.useState("profile"),[l,c]=b.useState(!1),[u,d]=b.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:{email:!0,push:!0,sms:!1,marketing:!1},theme:"light",language:s.language}),f=[{id:"profile",name:n("header.profile","Profile Settings"),icon:Mr,color:"text-blue-600 bg-blue-50"},{id:"notifications",name:n("header.notifications","Notification Settings"),icon:kr,color:"text-green-600 bg-green-50"},{id:"security",name:n("header.security","Security"),icon:Jo,color:"text-red-600 bg-red-50"},{id:"preferences",name:n("header.preferences","Preferences"),icon:td,color:"text-purple-600 bg-purple-50"}],h=(N,j)=>{d(E=>({...E,[N]:j}))},m=(N,j)=>{d(E=>({...E,notifications:{...E.notifications,[N]:j}}))},y=()=>{V.success("Settings saved successfully!"),setTimeout(()=>{t()},1e3)},w=()=>i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:u.name,onChange:N=>h("name",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:u.email,onChange:N=>h("email",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),i.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-600",children:(r==null?void 0:r.role)||"Not specified"})]})]})]})}),x=()=>i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),i.jsx("div",{className:"space-y-4",children:Object.entries(u.notifications).map(([N,j])=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 capitalize",children:[N," Notifications"]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Receive ",N," notifications for important updates"]})]}),i.jsx("button",{onClick:()=>m(N,!j),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${j?"bg-blue-600":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${j?"translate-x-6":"translate-x-1"}`})})]},N))})]})}),p=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:l?"text":"password",value:u.currentPassword,onChange:N=>h("currentPassword",N.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?i.jsx(Zo,{className:"h-5 w-5 text-gray-400"}):i.jsx(Tt,{className:"h-5 w-5 text-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsx("input",{type:l?"text":"password",value:u.newPassword,onChange:N=>h("newPassword",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),i.jsx("input",{type:l?"text":"password",value:u.confirmPassword,onChange:N=>h("confirmPassword",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]})]})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Options"}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(y5,{className:"h-5 w-5 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium",children:"Two-Factor Authentication"})]}),i.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})})]})]}),g=()=>i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),i.jsxs("select",{value:u.language,onChange:N=>{h("language",N.target.value),s.changeLanguage(N.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"en",children:"English"}),i.jsx("option",{value:"hi",children:" (Hindi)"}),i.jsx("option",{value:"ta",children:" (Tamil)"}),i.jsx("option",{value:"te",children:" (Telugu)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:["light","dark"].map(N=>i.jsxs("button",{onClick:()=>h("theme",N),className:`p-3 border-2 rounded-lg flex items-center justify-center space-x-2 transition-colors ${u.theme===N?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx(C5,{className:"h-4 w-4"}),i.jsx("span",{className:"capitalize",children:N}),u.theme===N&&i.jsx(Tf,{className:"h-4 w-4 text-blue-600"})]},N))})]})]})]})}),v=()=>{switch(a){case"profile":return w();case"notifications":return x();case"security":return p();case"preferences":return g();default:return w()}};return i.jsx(Ql,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:t}),i.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Cn,{className:"h-6 w-6 text-gray-500"})})]}),i.jsxs("div",{className:"flex h-[calc(90vh-8rem)]",children:[i.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200 p-4",children:i.jsx("nav",{className:"space-y-2",children:f.map(N=>{const j=N.icon;return i.jsxs("button",{onClick:()=>o(N.id),className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-left transition-colors ${a===N.id?"bg-white shadow-sm border border-gray-200":"hover:bg-white hover:bg-opacity-50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${N.color}`,children:i.jsx(j,{className:"h-4 w-4"})}),i.jsx("span",{className:"font-medium text-gray-900",children:N.name})]},N.id)})})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-6",children:v()})})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})})}function i1(e,t){return function(){return e.apply(t,arguments)}}const{toString:I3}=Object.prototype,{getPrototypeOf:Xf}=Object,{iterator:Wl,toStringTag:a1}=Symbol,Kl=(e=>t=>{const n=I3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sn=e=>(e=e.toLowerCase(),t=>Kl(t)===e),Gl=e=>t=>typeof t===e,{isArray:Wr}=Array,_r=Gl("undefined");function pa(e){return e!==null&&!_r(e)&&e.constructor!==null&&!_r(e.constructor)&&Nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const o1=sn("ArrayBuffer");function $3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&o1(e.buffer),t}const _3=Gl("string"),Nt=Gl("function"),l1=Gl("number"),ga=e=>e!==null&&typeof e=="object",V3=e=>e===!0||e===!1,uo=e=>{if(Kl(e)!=="object")return!1;const t=Xf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(a1 in e)&&!(Wl in e)},U3=e=>{if(!ga(e)||pa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},B3=sn("Date"),q3=sn("File"),z3=sn("Blob"),H3=sn("FileList"),Q3=e=>ga(e)&&Nt(e.pipe),W3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nt(e.append)&&((t=Kl(e))==="formdata"||t==="object"&&Nt(e.toString)&&e.toString()==="[object FormData]"))},K3=sn("URLSearchParams"),[G3,Y3,Z3,J3]=["ReadableStream","Request","Response","Headers"].map(sn),X3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Wr(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(pa(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function c1(e,t){if(pa(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ds=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),u1=e=>!_r(e)&&e!==Ds;function bd(){const{caseless:e,skipUndefined:t}=u1(this)&&this||{},n={},s=(r,a)=>{const o=e&&c1(n,a)||a;uo(n[o])&&uo(r)?n[o]=bd(n[o],r):uo(r)?n[o]=bd({},r):Wr(r)?n[o]=r.slice():(!t||!_r(r))&&(n[o]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&xa(arguments[r],s);return n}const eP=(e,t,n,{allOwnKeys:s}={})=>(xa(t,(r,a)=>{n&&Nt(r)?e[a]=i1(r,n):e[a]=r},{allOwnKeys:s}),e),tP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nP=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sP=(e,t,n,s)=>{let r,a,o;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Xf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},iP=e=>{if(!e)return null;if(Wr(e))return e;let t=e.length;if(!l1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},aP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Xf(Uint8Array)),oP=(e,t)=>{const s=(e&&e[Wl]).call(e);let r;for(;(r=s.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},lP=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},cP=sn("HTMLFormElement"),uP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Wp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),dP=sn("RegExp"),d1=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};xa(n,(r,a)=>{let o;(o=t(r,a,e))!==!1&&(s[a]=o||r)}),Object.defineProperties(e,s)},fP=e=>{d1(e,(t,n)=>{if(Nt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Nt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hP=(e,t)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return Wr(e)?s(e):s(String(e).split(t)),n},mP=()=>{},pP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gP(e){return!!(e&&Nt(e.append)&&e[a1]==="FormData"&&e[Wl])}const xP=e=>{const t=new Array(10),n=(s,r)=>{if(ga(s)){if(t.indexOf(s)>=0)return;if(pa(s))return s;if(!("toJSON"in s)){t[r]=s;const a=Wr(s)?[]:{};return xa(s,(o,l)=>{const c=n(o,r+1);!_r(c)&&(a[l]=c)}),t[r]=void 0,a}}return s};return n(e,0)},yP=sn("AsyncFunction"),vP=e=>e&&(ga(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),f1=((e,t)=>e?setImmediate:t?((n,s)=>(Ds.addEventListener("message",({source:r,data:a})=>{r===Ds&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nt(Ds.postMessage)),bP=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||f1,wP=e=>e!=null&&Nt(e[Wl]),A={isArray:Wr,isArrayBuffer:o1,isBuffer:pa,isFormData:W3,isArrayBufferView:$3,isString:_3,isNumber:l1,isBoolean:V3,isObject:ga,isPlainObject:uo,isEmptyObject:U3,isReadableStream:G3,isRequest:Y3,isResponse:Z3,isHeaders:J3,isUndefined:_r,isDate:B3,isFile:q3,isBlob:z3,isRegExp:dP,isFunction:Nt,isStream:Q3,isURLSearchParams:K3,isTypedArray:aP,isFileList:H3,forEach:xa,merge:bd,extend:eP,trim:X3,stripBOM:tP,inherits:nP,toFlatObject:sP,kindOf:Kl,kindOfTest:sn,endsWith:rP,toArray:iP,forEachEntry:oP,matchAll:lP,isHTMLForm:cP,hasOwnProperty:Wp,hasOwnProp:Wp,reduceDescriptors:d1,freezeMethods:fP,toObjectSet:hP,toCamelCase:uP,noop:mP,toFiniteNumber:pP,findKey:c1,global:Ds,isContextDefined:u1,isSpecCompliantForm:gP,toJSONObject:xP,isAsyncFn:yP,isThenable:vP,setImmediate:f1,asap:bP,isIterable:wP};function ce(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}A.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const h1=ce.prototype,m1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{m1[e]={value:e}});Object.defineProperties(ce,m1);Object.defineProperty(h1,"isAxiosError",{value:!0});ce.from=(e,t,n,s,r,a)=>{const o=Object.create(h1);A.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ce.call(o,l,c,n,s,r),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const jP=null;function wd(e){return A.isPlainObject(e)||A.isArray(e)}function p1(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function Kp(e,t,n){return e?e.concat(t).map(function(r,a){return r=p1(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function NP(e){return A.isArray(e)&&!e.some(wd)}const SP=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function Yl(e,t,n){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!A.isUndefined(x[w])});const s=n.metaTokens,r=n.visitor||d,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(r))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(A.isDate(y))return y.toISOString();if(A.isBoolean(y))return y.toString();if(!c&&A.isBlob(y))throw new ce("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(y)||A.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,x){let p=y;if(y&&!x&&typeof y=="object"){if(A.endsWith(w,"{}"))w=s?w:w.slice(0,-2),y=JSON.stringify(y);else if(A.isArray(y)&&NP(y)||(A.isFileList(y)||A.endsWith(w,"[]"))&&(p=A.toArray(y)))return w=p1(w),p.forEach(function(v,N){!(A.isUndefined(v)||v===null)&&t.append(o===!0?Kp([w],N,a):o===null?w:w+"[]",u(v))}),!1}return wd(y)?!0:(t.append(Kp(x,w,a),u(y)),!1)}const f=[],h=Object.assign(SP,{defaultVisitor:d,convertValue:u,isVisitable:wd});function m(y,w){if(!A.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(y),A.forEach(y,function(p,g){(!(A.isUndefined(p)||p===null)&&r.call(t,p,A.isString(g)?g.trim():g,w,h))===!0&&m(p,w?w.concat(g):[g])}),f.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Gp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function eh(e,t){this._pairs=[],e&&Yl(e,this,t)}const g1=eh.prototype;g1.append=function(t,n){this._pairs.push([t,n])};g1.toString=function(t){const n=t?function(s){return t.call(this,s,Gp)}:Gp;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function EP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function x1(e,t,n){if(!t)return e;const s=n&&n.encode||EP;A.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=A.isURLSearchParams(t)?t.toString():new eh(t,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class CP{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Yp=CP,y1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kP=typeof URLSearchParams<"u"?URLSearchParams:eh,PP=typeof FormData<"u"?FormData:null,TP=typeof Blob<"u"?Blob:null,AP={isBrowser:!0,classes:{URLSearchParams:kP,FormData:PP,Blob:TP},protocols:["http","https","file","blob","url","data"]},th=typeof window<"u"&&typeof document<"u",jd=typeof navigator=="object"&&navigator||void 0,RP=th&&(!jd||["ReactNative","NativeScript","NS"].indexOf(jd.product)<0),LP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),DP=th&&window.location.href||"http://localhost",OP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:th,hasStandardBrowserEnv:RP,hasStandardBrowserWebWorkerEnv:LP,navigator:jd,origin:DP},Symbol.toStringTag,{value:"Module"})),ot={...OP,...AP};function FP(e,t){return Yl(e,new ot.classes.URLSearchParams,{visitor:function(n,s,r,a){return ot.isNode&&A.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function MP(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function IP(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}function v1(e){function t(n,s,r,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&A.isArray(r)?r.length:o,c?(A.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!A.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],a)&&A.isArray(r[o])&&(r[o]=IP(r[o])),!l)}if(A.isFormData(e)&&A.isFunction(e.entries)){const n={};return A.forEachEntry(e,(s,r)=>{t(MP(s),r,n,0)}),n}return null}function $P(e,t,n){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const nh={transitional:y1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=A.isObject(t);if(a&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return r?JSON.stringify(v1(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return FP(t,this.formSerializer).toString();if((l=A.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Yl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),$P(t)):t}],transformResponse:[function(t){const n=this.transitional||nh.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ce.from(l,ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{nh.headers[e]={}});const sh=nh,_P=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VP=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&_P[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Zp=Symbol("internals");function ii(e){return e&&String(e).trim().toLowerCase()}function fo(e){return e===!1||e==null?e:A.isArray(e)?e.map(fo):String(e)}function UP(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const BP=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qc(e,t,n,s,r){if(A.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!A.isString(t)){if(A.isString(s))return t.indexOf(s)!==-1;if(A.isRegExp(s))return s.test(t)}}function qP(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function zP(e,t){const n=A.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,a,o){return this[s].call(this,t,r,a,o)},configurable:!0})})}class Zl{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function a(l,c,u){const d=ii(c);if(!d)throw new Error("header name must be a non-empty string");const f=A.findKey(r,d);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||c]=fo(l))}const o=(l,c)=>A.forEach(l,(u,d)=>a(u,d,c));if(A.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(A.isString(t)&&(t=t.trim())&&!BP(t))o(VP(t),n);else if(A.isObject(t)&&A.isIterable(t)){let l={},c,u;for(const d of t){if(!A.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?A.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=ii(t),t){const s=A.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return UP(r);if(A.isFunction(n))return n.call(this,r,s);if(A.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ii(t),t){const s=A.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Qc(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function a(o){if(o=ii(o),o){const l=A.findKey(s,o);l&&(!n||Qc(s,s[l],l,n))&&(delete s[l],r=!0)}}return A.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!t||Qc(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,s={};return A.forEach(this,(r,a)=>{const o=A.findKey(s,a);if(o){n[o]=fo(r),delete n[a];return}const l=t?qP(a):String(a).trim();l!==a&&delete n[a],n[l]=fo(r),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return A.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&A.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Zp]=this[Zp]={accessors:{}}).accessors,r=this.prototype;function a(o){const l=ii(o);s[l]||(zP(r,o),s[l]=!0)}return A.isArray(t)?t.forEach(a):a(t),this}}Zl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(Zl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});A.freezeMethods(Zl);const en=Zl;function Wc(e,t){const n=this||sh,s=t||n,r=en.from(s.headers);let a=s.data;return A.forEach(e,function(l){a=l.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function b1(e){return!!(e&&e.__CANCEL__)}function Kr(e,t,n){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,n),this.name="CanceledError"}A.inherits(Kr,ce,{__CANCEL__:!0});function w1(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HP(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function QP(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[a];o||(o=u),n[r]=c,s[r]=u;let f=a,h=0;for(;f!==r;)h+=n[f++],f=f%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function WP(e,t){let n=0,s=1e3/t,r,a;const o=(u,d=Date.now())=>{n=d,r=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=s?o(u,d):(r=u,a||(a=setTimeout(()=>{a=null,o(r)},s-f)))},()=>r&&o(r)]}const ol=(e,t,n=3)=>{let s=0;const r=QP(50,250);return WP(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=r(c),d=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Jp=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Xp=e=>(...t)=>A.asap(()=>e(...t)),KP=ot.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ot.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,GP=ot.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const o=[e+"="+encodeURIComponent(t)];A.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),A.isString(s)&&o.push("path="+s),A.isString(r)&&o.push("domain="+r),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YP(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ZP(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function j1(e,t,n){let s=!YP(t);return e&&(s||n==!1)?ZP(e,t):t}const e0=e=>e instanceof en?{...e}:e;function Ws(e,t){t=t||{};const n={};function s(u,d,f,h){return A.isPlainObject(u)&&A.isPlainObject(d)?A.merge.call({caseless:h},u,d):A.isPlainObject(d)?A.merge({},d):A.isArray(d)?d.slice():d}function r(u,d,f,h){if(A.isUndefined(d)){if(!A.isUndefined(u))return s(void 0,u,f,h)}else return s(u,d,f,h)}function a(u,d){if(!A.isUndefined(d))return s(void 0,d)}function o(u,d){if(A.isUndefined(d)){if(!A.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,f){if(f in t)return s(u,d);if(f in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>r(e0(u),e0(d),f,!0)};return A.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||r,h=f(e[d],t[d],d);A.isUndefined(h)&&f!==l||(n[d]=h)}),n}const N1=e=>{const t=Ws({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=en.from(o),t.url=x1(j1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),A.isFormData(n)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(A.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(ot.hasStandardBrowserEnv&&(s&&A.isFunction(s)&&(s=s(t)),s||s!==!1&&KP(t.url))){const c=r&&a&&GP.read(a);c&&o.set(r,c)}return t},JP=typeof XMLHttpRequest<"u",XP=JP&&function(e){return new Promise(function(n,s){const r=N1(e);let a=r.data;const o=en.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=r,d,f,h,m,y;function w(){m&&m(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function p(){if(!x)return;const v=en.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:v,config:e,request:x};w1(function(k){n(k),w()},function(k){s(k),w()},j),x=null}"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(p)},x.onabort=function(){x&&(s(new ce("Request aborted",ce.ECONNABORTED,e,x)),x=null)},x.onerror=function(N){const j=N&&N.message?N.message:"Network Error",E=new ce(j,ce.ERR_NETWORK,e,x);E.event=N||null,s(E),x=null},x.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const j=r.transitional||y1;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),s(new ce(N,j.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,x)),x=null},a===void 0&&o.setContentType(null),"setRequestHeader"in x&&A.forEach(o.toJSON(),function(N,j){x.setRequestHeader(j,N)}),A.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),l&&l!=="json"&&(x.responseType=r.responseType),u&&([h,y]=ol(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=ol(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(d=v=>{x&&(s(!v||v.type?new Kr(null,e,x):v),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const g=HP(r.url);if(g&&ot.protocols.indexOf(g)===-1){s(new ce("Unsupported protocol "+g+":",ce.ERR_BAD_REQUEST,e));return}x.send(a||null)})},eT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const a=function(u){if(!r){r=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof ce?d:new Kr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>A.asap(l),c}},tT=eT,nT=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},sT=async function*(e,t){for await(const n of rT(e))yield*nT(n,t)},rT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},t0=(e,t,n,s)=>{const r=sT(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=a+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},n0=64*1024,{isFunction:qa}=A,iT=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:s0,TextEncoder:r0}=A.global,i0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},aT=e=>{e=A.merge.call({skipUndefined:!0},iT,e);const{fetch:t,Request:n,Response:s}=e,r=t?qa(t):typeof fetch=="function",a=qa(n),o=qa(s);if(!r)return!1;const l=r&&qa(s0),c=r&&(typeof r0=="function"?(y=>w=>y.encode(w))(new r0):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=a&&l&&i0(()=>{let y=!1;const w=new n(ot.origin,{body:new s0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),d=o&&l&&i0(()=>A.isReadableStream(new s("").body)),f={stream:d&&(y=>y.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(w,x)=>{let p=w&&w[y];if(p)return p.call(w);throw new ce(`Response type '${y}' is not supported`,ce.ERR_NOT_SUPPORT,x)})});const h=async y=>{if(y==null)return 0;if(A.isBlob(y))return y.size;if(A.isSpecCompliantForm(y))return(await new n(ot.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(A.isArrayBufferView(y)||A.isArrayBuffer(y))return y.byteLength;if(A.isURLSearchParams(y)&&(y=y+""),A.isString(y))return(await c(y)).byteLength},m=async(y,w)=>{const x=A.toFiniteNumber(y.getContentLength());return x??h(w)};return async y=>{let{url:w,method:x,data:p,signal:g,cancelToken:v,timeout:N,onDownloadProgress:j,onUploadProgress:E,responseType:k,headers:P,withCredentials:L="same-origin",fetchOptions:D}=N1(y),G=t||fetch;k=k?(k+"").toLowerCase():"text";let H=tT([g,v&&v.toAbortSignal()],N),U=null;const Q=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let ne;try{if(E&&u&&x!=="get"&&x!=="head"&&(ne=await m(P,p))!==0){let z=new n(w,{method:"POST",body:p,duplex:"half"}),ie;if(A.isFormData(p)&&(ie=z.headers.get("content-type"))&&P.setContentType(ie),z.body){const[we,ge]=Jp(ne,ol(Xp(E)));p=t0(z.body,n0,we,ge)}}A.isString(L)||(L=L?"include":"omit");const I=a&&"credentials"in n.prototype,se={...D,signal:H,method:x.toUpperCase(),headers:P.normalize().toJSON(),body:p,duplex:"half",credentials:I?L:void 0};U=a&&new n(w,se);let $=await(a?G(U,D):G(w,se));const W=d&&(k==="stream"||k==="response");if(d&&(j||W&&Q)){const z={};["status","statusText","headers"].forEach(Se=>{z[Se]=$[Se]});const ie=A.toFiniteNumber($.headers.get("content-length")),[we,ge]=j&&Jp(ie,ol(Xp(j),!0))||[];$=new s(t0($.body,n0,we,()=>{ge&&ge(),Q&&Q()}),z)}k=k||"text";let ee=await f[A.findKey(f,k)||"text"]($,y);return!W&&Q&&Q(),await new Promise((z,ie)=>{w1(z,ie,{data:ee,headers:en.from($.headers),status:$.status,statusText:$.statusText,config:y,request:U})})}catch(I){throw Q&&Q(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,y,U),{cause:I.cause||I}):ce.from(I,I&&I.code,y,U)}}},oT=new Map,S1=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:r}=t,a=[s,r,n];let o=a.length,l=o,c,u,d=oT;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:aT(t)),d=u;return u};S1();const Nd={http:jP,xhr:XP,fetch:{get:S1}};A.forEach(Nd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const a0=e=>`- ${e}`,lT=e=>A.isFunction(e)||e===null||e===!1,E1={getAdapter:(e,t)=>{e=A.isArray(e)?e:[e];const{length:n}=e;let s,r;const a={};for(let o=0;o<n;o++){s=e[o];let l;if(r=s,!lT(s)&&(r=Nd[(l=String(s)).toLowerCase()],r===void 0))throw new ce(`Unknown adapter '${l}'`);if(r&&(A.isFunction(r)||(r=r.get(t))))break;a[l||"#"+o]=r}if(!r){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(a0).join(`
`):" "+a0(o[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Nd};function Kc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kr(null,e)}function o0(e){return Kc(e),e.headers=en.from(e.headers),e.data=Wc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E1.getAdapter(e.adapter||sh.adapter,e)(e).then(function(s){return Kc(e),s.data=Wc.call(e,e.transformResponse,s),s.headers=en.from(s.headers),s},function(s){return b1(s)||(Kc(e),s&&s.response&&(s.response.data=Wc.call(e,e.transformResponse,s.response),s.response.headers=en.from(s.response.headers))),Promise.reject(s)})}const C1="1.12.2",Jl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const l0={};Jl.transitional=function(t,n,s){function r(a,o){return"[Axios v"+C1+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new ce(r(o," has been removed"+(n?" in "+n:"")),ce.ERR_DEPRECATED);return n&&!l0[o]&&(l0[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};Jl.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function cT(e,t,n){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new ce("option "+a+" must be "+c,ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ce("Unknown option "+a,ce.ERR_BAD_OPTION)}}const ho={assertOptions:cT,validators:Jl},on=ho.validators;class ll{constructor(t){this.defaults=t||{},this.interceptors={request:new Yp,response:new Yp}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ws(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&ho.assertOptions(s,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),r!=null&&(A.isFunction(r)?n.paramsSerializer={serialize:r}:ho.assertOptions(r,{encode:on.function,serialize:on.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ho.assertOptions(n,{baseUrl:on.spelling("baseURL"),withXsrfToken:on.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&A.merge(a.common,a[n.method]);a&&A.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),n.headers=en.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,f=0,h;if(!c){const y=[o0.bind(this),void 0];for(y.unshift(...l),y.push(...u),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let m=n;for(;f<h;){const y=l[f++],w=l[f++];try{m=y(m)}catch(x){w.call(this,x);break}}try{d=o0.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ws(this.defaults,t);const n=j1(t.baseURL,t.url,t.allowAbsoluteUrls);return x1(n,t.params,t.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(t){ll.prototype[t]=function(n,s){return this.request(Ws(s||{},{method:t,url:n,data:(s||{}).data}))}});A.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,l){return this.request(Ws(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ll.prototype[t]=n(),ll.prototype[t+"Form"]=n(!0)});const mo=ll;class rh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(r);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new Kr(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new rh(function(r){t=r}),cancel:t}}}const uT=rh;function dT(e){return function(n){return e.apply(null,n)}}function fT(e){return A.isObject(e)&&e.isAxiosError===!0}const Sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sd).forEach(([e,t])=>{Sd[t]=e});const hT=Sd;function k1(e){const t=new mo(e),n=i1(mo.prototype.request,t);return A.extend(n,mo.prototype,t,{allOwnKeys:!0}),A.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return k1(Ws(e,r))},n}const He=k1(sh);He.Axios=mo;He.CanceledError=Kr;He.CancelToken=uT;He.isCancel=b1;He.VERSION=C1;He.toFormData=Yl;He.AxiosError=ce;He.Cancel=He.CanceledError;He.all=function(t){return Promise.all(t)};He.spread=dT;He.isAxiosError=fT;He.mergeConfig=Ws;He.AxiosHeaders=en;He.formToJSON=e=>v1(A.isHTMLForm(e)?new FormData(e):e);He.getAdapter=E1.getAdapter;He.HttpStatusCode=hT;He.default=He;const Pi=He,X=Pi.create({baseURL:"http://localhost:5002",timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!1});X.interceptors.request.use(e=>{var r,a,o,l;console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:e.url,baseURL:e.baseURL,fullURL:`${e.baseURL||window.location.origin}${e.url}`,headers:e.headers,data:e.data});const t=(a=e.url)==null?void 0:a.includes("/api/supabase/"),n=(o=e.url)==null?void 0:o.includes("/api/mock/"),s=(l=e.url)==null?void 0:l.includes("/health");if(!t&&!n&&!s){const c=localStorage.getItem("token");c?(e.headers.Authorization=`Bearer ${c}`,console.log(" Added auth token to request")):console.log(" No auth token found in localStorage")}else console.log(" Skipping auth token for demo endpoint:",e.url);return e},e=>(console.error(" Request interceptor error:",e),Promise.reject(e)));X.interceptors.response.use(e=>{var t;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:e.config.url,method:(t=e.config.method)==null?void 0:t.toUpperCase(),data:e.data}),e},e=>{var t,n,s,r,a,o,l,c,u,d,f,h,m,y,w;if(console.error(" API Error Details:",{message:e.message,code:e.code,status:(t=e.response)==null?void 0:t.status,statusText:(n=e.response)==null?void 0:n.statusText,url:(s=e.config)==null?void 0:s.url,method:(a=(r=e.config)==null?void 0:r.method)==null?void 0:a.toUpperCase(),responseData:(o=e.response)==null?void 0:o.data,requestData:(l=e.config)==null?void 0:l.data}),((c=e.response)==null?void 0:c.status)===401){const x=(d=(u=e.config)==null?void 0:u.url)==null?void 0:d.includes("/api/supabase/"),p=(h=(f=e.config)==null?void 0:f.url)==null?void 0:h.includes("/api/mock/"),g=(y=(m=e.config)==null?void 0:m.url)==null?void 0:y.includes("/health");!x&&!p&&!g?(console.log(" Unauthorized access to protected endpoint, redirecting to login"),localStorage.removeItem("token"),window.location.href="/login"):console.log(" 401 error on demo endpoint, not redirecting to login:",(w=e.config)==null?void 0:w.url)}return(e.code==="ECONNREFUSED"||e.message.includes("Network Error"))&&(console.error(" Network Error: Backend server is not running or not accessible"),console.error(" Check if backend is running on the correct port")),Promise.reject(e)});const P1=b.createContext(void 0),T1=()=>{const e=b.useContext(P1);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},mT=({children:e})=>{const[t,n]=b.useState([]),[s,r]=b.useState(0),a=gt(),{data:o,isLoading:l,refetch:c}=ve("global-notifications",async()=>{try{console.log(" Fetching notifications from /api/notifications...");const y=await X.get("/api/notifications");return console.log(" Notifications response:",y.data),y.data}catch(y){return console.error(" Failed to fetch notifications:",y),y.response&&(console.error(" Response status:",y.response.status),console.error(" Response data:",y.response.data)),{notifications:[],count:0}}},{refetchInterval:5e3,refetchOnWindowFocus:!0,refetchIntervalInBackground:!1,refetchOnMount:!0,retry:2,onError:y=>{console.error(" Notifications query error:",y)},onSuccess:y=>{var w;console.log(" Notifications query success:",((w=y==null?void 0:y.notifications)==null?void 0:w.length)||0,"notifications"),console.log(" Full response data:",y),y!=null&&y.notifications&&(console.log(" Sample notification:",y.notifications[0]),console.log(" All notification IDs:",y.notifications.map(x=>x.id)))}}),{data:u}=ve("global-notification-count",async()=>{try{console.log(" Fetching notification count from /api/notifications/count...");const y=await X.get("/api/notifications/count");return console.log(" Count response:",y.data),y.data}catch(y){return console.error(" Failed to fetch notification count:",y),{unreadCount:0}}},{refetchInterval:5e3,refetchOnWindowFocus:!0,refetchIntervalInBackground:!1,refetchOnMount:!0,retry:2,onError:y=>{console.error(" Notification count query error:",y)},onSuccess:y=>{console.log(" Notification count query success:",(y==null?void 0:y.unreadCount)||0)}});b.useEffect(()=>{console.log(" NotificationsData changed:",o),console.log(" Type of notificationsData:",typeof o),console.log(" Is array:",Array.isArray(o)),o!=null&&o.notifications?(console.log(" Updating notifications state with",o.notifications.length,"notifications"),console.log(" First notification:",o.notifications[0]),console.log(" Notifications array type:",Array.isArray(o.notifications)),n(o.notifications)):o?(console.log(" No notifications in response, setting empty array"),console.log(" Response structure:",o),console.log(" Response keys:",Object.keys(o)),n([])):console.log(" No notificationsData at all")},[o]),b.useEffect(()=>{console.log(" CountData changed:",u),(u==null?void 0:u.unreadCount)!==void 0?(console.log(" Updating unread count to:",u.unreadCount),r(u.unreadCount)):console.log(" No unreadCount in countData")},[u]);const m={notifications:t,unreadCount:s,markAsRead:async y=>{try{await X.patch(`/api/notifications/${y}/read`),n(w=>w.map(x=>x.id===y?{...x,read:!0}:x)),r(w=>Math.max(0,w-1)),a.invalidateQueries("global-notifications"),a.invalidateQueries("global-notification-count")}catch(w){console.error("Failed to mark notification as read:",w)}},markAllAsRead:async()=>{try{await X.patch("/api/notifications/mark-all-read"),n(y=>y.map(w=>({...w,read:!0}))),r(0),a.invalidateQueries("global-notifications"),a.invalidateQueries("global-notification-count")}catch(y){console.error("Failed to mark all notifications as read:",y)}},refreshNotifications:()=>{c(),a.invalidateQueries("global-notification-count")},isLoading:l};return i.jsx(P1.Provider,{value:m,children:e})},pT=({isOpen:e,onClose:t})=>{const n=nn(),{notifications:s,unreadCount:r,markAsRead:a,markAllAsRead:o,refreshNotifications:l}=T1();le.useEffect(()=>{e&&(console.log(" Notification panel opened, refreshing..."),l())},[e,l]);const c=h=>{const m=new Date,y=new Date(h),w=Math.floor((m.getTime()-y.getTime())/(1e3*60));if(w<1)return"Just now";if(w<60)return`${w}m ago`;if(w<1440)return`${Math.floor(w/60)}h ago`;{const x=Math.floor(w/1440);return x===1?"Yesterday":x<7?`${x}d ago`:y.toLocaleDateString()}},u=h=>{switch(h){case"NEW_ENQUIRY":return i.jsx($s,{className:"h-5 w-5 text-blue-600"});case"DOCUMENT_UPLOADED":return i.jsx(nd,{className:"h-5 w-5 text-orange-600"});case"DOCUMENT_VERIFIED":return i.jsx(Vt,{className:"h-5 w-5 text-green-600"});case"SHORTLISTED":return i.jsx(Vt,{className:"h-5 w-5 text-purple-600"});case"PAYMENT_APPLIED":return i.jsx(Af,{className:"h-5 w-5 text-indigo-600"});case"STAFF_ADDED":return i.jsx($s,{className:"h-5 w-5 text-teal-600"});default:return i.jsx(kr,{className:"h-5 w-5 text-gray-600"})}},d=h=>{switch(h){case"HIGH":return"border-l-red-500 bg-red-50";case"MEDIUM":return"border-l-yellow-500 bg-yellow-50";case"LOW":return"border-l-green-500 bg-green-50";default:return"border-l-gray-500 bg-gray-50"}},f=async h=>{switch(await a(h.id),h.type){case"NEW_ENQUIRY":n("/enquiries");break;case"DOCUMENT_UPLOADED":case"DOCUMENT_VERIFIED":n("/documents");break;case"SHORTLISTED":n("/shortlist");break;case"PAYMENT_APPLIED":n("/payment-gateway");break;case"STAFF_ADDED":n("/staff");break}t()};return i.jsx(Ql,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),i.jsxs(q.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-96 bg-white shadow-2xl z-50 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(kr,{className:"h-6 w-6 text-white"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notifications"}),i.jsxs("p",{className:"text-sm text-blue-100",children:[r," unread notification",r!==1?"s":""]})]})]}),i.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 p-1 rounded-full hover:bg-white hover:bg-opacity-20",children:i.jsx(Cn,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("button",{onClick:()=>l(),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:" Refresh"}),r>0&&i.jsx("button",{onClick:o,className:"text-sm text-gray-600 hover:text-gray-800 font-medium",children:"Mark all as read"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:async()=>{try{console.log(" Creating test notification..."),await X.post("/api/notifications/test/create-sample"),V.success("Test notification created!"),setTimeout(()=>l(),1e3)}catch(h){console.error("Failed to create test notification:",h),V.error("Failed to create test notification")}},className:"text-xs text-purple-600 hover:text-purple-800 font-medium px-3 py-1 border border-purple-300 rounded-full hover:bg-purple-50",children:" Create Test Notification"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:s&&Array.isArray(s)&&s.length>0?i.jsx("div",{className:"divide-y divide-gray-200",children:s.map(h=>{var m,y,w;return i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors border-l-4 ${d(h.priority)} ${h.read?"bg-white":"bg-blue-50"}`,onClick:()=>f(h),children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:u(h.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:`text-sm font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:h.title}),!h.read&&i.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),i.jsx("p",{className:"text-sm text-gray-700 mt-1 leading-relaxed",children:h.message}),h.type==="NEW_ENQUIRY"&&h.data&&i.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-md text-xs",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("span",{className:"text-blue-700 font-medium",children:[" ID: ",h.data.enquiryId||"N/A"]}),h.data.loanAmount&&i.jsxs("span",{className:"text-green-700 font-medium",children:[" ",(m=h.data.loanAmount)==null?void 0:m.toLocaleString()]}),h.data.businessType&&i.jsxs("span",{className:"text-purple-700 font-medium",children:[" ",h.data.businessType]}),h.data.mobile&&i.jsxs("span",{className:"text-orange-700 font-medium",children:[" ",h.data.mobile]})]})}),h.type==="DOCUMENT_UPLOADED"&&h.data&&i.jsx("div",{className:"mt-2 p-2 bg-orange-50 rounded-md text-xs",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-orange-700 font-medium",children:[" ",h.data.documentType]}),i.jsxs("span",{className:"text-blue-700 font-medium",children:[" ",h.data.clientName]})]})}),h.type==="SHORTLISTED"&&h.data&&i.jsx("div",{className:"mt-2 p-2 bg-green-50 rounded-md text-xs",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-green-700 font-medium",children:" Shortlisted"}),h.data.loanAmount&&i.jsxs("span",{className:"text-blue-700 font-medium",children:[" ",(y=h.data.loanAmount)==null?void 0:y.toLocaleString()]})]})}),h.type==="PAYMENT_APPLIED"&&h.data&&i.jsx("div",{className:"mt-2 p-2 bg-purple-50 rounded-md text-xs",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("span",{className:"text-purple-700 font-medium",children:" Payment App"}),i.jsxs("span",{className:"text-green-700 font-medium",children:[" ",(w=h.data.loanAmount)==null?void 0:w.toLocaleString()]}),h.data.tenure&&i.jsxs("span",{className:"text-blue-700 font-medium",children:[" ",h.data.tenure,"m"]}),h.data.interestRate&&i.jsxs("span",{className:"text-red-700 font-medium",children:[" ",h.data.interestRate,"%"]})]})}),i.jsxs("div",{className:"flex items-center justify-between mt-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("p",{className:"text-xs text-gray-500 font-medium",children:c(h.createdAt)}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(h.createdAt).toLocaleString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Kolkata"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${h.priority==="HIGH"?"bg-red-100 text-red-800":h.priority==="MEDIUM"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:h.priority}),i.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:h.type.replace("_"," ")})]})]})]})]})},h.id)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[i.jsx(kr,{className:"h-12 w-12 text-gray-300 mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No notifications"}),i.jsx("p",{className:"text-sm",children:"You're all caught up!"}),r>0&&i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs("p",{className:"text-sm text-orange-600 mb-2",children:[r," unread notifications detected but not loaded"]}),i.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Notifications array: ",s?`[${s.length} items]`:"null"]}),i.jsx("button",{onClick:()=>{console.log(" Force refreshing notifications..."),console.log(" Current notifications state:",s),l()},className:"btn-primary text-sm",children:" Refresh Notifications"})]})]})}),i.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:i.jsx("button",{onClick:()=>{n("/notifications"),t()},className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium py-2",children:"View All Notifications"})})]})]})})},gT=()=>{const[e,t]=b.useState(!1),{unreadCount:n}=T1();return i.jsxs(i.Fragment,{children:[i.jsxs(q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!0),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",title:"Notifications",children:[i.jsx(kr,{className:"h-6 w-6"}),i.jsx(q.div,{initial:{scale:0},animate:{scale:1},className:`absolute -top-2 -right-2 text-white text-xs rounded-full min-w-[20px] h-5 px-1 flex items-center justify-center font-bold border-2 border-white shadow-lg z-10 ${n>0?"bg-red-500":"bg-gray-400"}`,style:{fontSize:"10px",lineHeight:"1"},children:n>99?"99+":n}),n>0&&i.jsx(q.div,{animate:{scale:[1,1.3,1]},transition:{repeat:1/0,duration:2},className:"absolute -top-2 -right-2 bg-red-500 rounded-full min-w-[20px] h-5 opacity-30"})]}),i.jsx(pT,{isOpen:e,onClose:()=>t(!1)})]})};function xT({language:e="en",onLanguageChange:t}){var x;const{user:n}=ys(),{t:s,i18n:r}=Il(),[a,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState("EN"),m=b.useRef(null);b.useEffect(()=>{const p=g=>{m.current&&!m.current.contains(g.target)&&(o(!1),c(!1))};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const y=[{code:"EN",name:"English",flag:"",value:"en"},{code:"HI",name:"",flag:"",value:"hi"},{code:"TA",name:"",flag:"",value:"ta"},{code:"TE",name:"",flag:"",value:"te"}];b.useEffect(()=>{const p=y.find(g=>g.value===e);p&&h(p.code)},[e]);const w=[{id:"profile",name:"Profile Settings",icon:Mr},{id:"notifications",name:"Notification Settings",icon:kr},{id:"security",name:"Security",icon:Jo},{id:"preferences",name:"Preferences",icon:td}];return i.jsxs(i.Fragment,{children:[i.jsx("header",{ref:m,className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-slate-200 sticky top-0 z-40",children:i.jsx("div",{className:"px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsx("h1",{className:"text-2xl font-poppins font-bold text-slate-900",children:s("header.title")}),i.jsxs("div",{className:"hidden md:flex relative",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"text",placeholder:s("header.searchPlaceholder"),className:"input-search w-80"})]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:[i.jsx(f5,{className:"h-4 w-4 text-slate-600"}),i.jsx("span",{className:"text-sm font-medium text-slate-700",children:f}),i.jsx(LS,{className:"h-3 w-3 text-slate-500"})]}),a&&i.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:y.map(p=>i.jsxs("button",{onClick:()=>{h(p.code),o(!1),r.changeLanguage(p.value),t==null||t(p.value)},className:"w-full flex items-center justify-between px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{children:p.flag}),i.jsx("span",{children:p.name})]}),f===p.code&&i.jsx(Tf,{className:"h-4 w-4 text-indigo-600"})]},p.code))})]}),i.jsx(gT,{}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>c(!l),className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:i.jsx(td,{className:"h-5 w-5"})}),l&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:[i.jsx("div",{className:"px-4 py-3 border-b border-slate-100",children:i.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Settings"})}),w.map(p=>{const g=p.icon;return i.jsxs("button",{onClick:()=>{c(!1),d(!0)},className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[i.jsx(g,{className:"h-4 w-4 text-slate-500"}),i.jsx("span",{className:"font-medium",children:p.name})]},p.id)}),i.jsx("div",{className:"border-t border-slate-100 mt-2 pt-2",children:i.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[i.jsx(Ry,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[i.jsx(Ly,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-xs font-medium text-green-700",children:s("header.aiAssistant")})]}),i.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl border border-indigo-100",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-semibold text-white",children:((x=n==null?void 0:n.name)==null?void 0:x.charAt(0))||"U"})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsx("div",{className:"text-sm font-medium text-slate-900",children:n==null?void 0:n.name}),i.jsx("div",{className:"text-xs text-slate-600",children:n==null?void 0:n.role})]})]})]})]})})}),i.jsx(M3,{isOpen:u,onClose:()=>d(!1)})]})}function yT({language:e="en"}){const[t,n]=b.useState(!1),[s,r]=b.useState([]),[a,o]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState("flash"),f=b.useRef(null),{user:h}=ys(),{t:m}=Il(),y=()=>{var j;(j=f.current)==null||j.scrollIntoView({behavior:"smooth"})},w=()=>{const j=(h==null?void 0:h.role)==="ADMIN"?"(Admin Access)":"(Employee Access)";return m("chatbot.welcome",{name:(h==null?void 0:h.name)||"there"})+`

`+m("chatbot.features.loanManagement")+`

`+m("chatbot.features.staffManagement",{access:j})+`

`+m("chatbot.features.analytics")+`

`+m("chatbot.howCanIHelp")};b.useEffect(()=>{y()},[s]),b.useEffect(()=>{if(t&&s.length===0){const j={id:Date.now().toString(),content:w(),role:"assistant",timestamp:new Date,model:"system"};r([j])}},[t,h,e]);const x=async(j=0)=>{var P;if(!a.trim()||l)return;const E={id:Date.now().toString(),content:a.trim(),role:"user",timestamp:new Date};r(L=>[...L,E]);const k=a.trim();o(""),c(!0);try{const L=await X.post("/api/gemini/chat",{message:k,model:u,context:`User role: ${h==null?void 0:h.role}, System: Business Loan Management`,language:e},{timeout:1e4});if(L.data&&L.data.response){const D={id:(Date.now()+1).toString(),content:L.data.response,role:"assistant",timestamp:new Date(L.data.timestamp||new Date),model:L.data.model||"ai-assistant"};r(G=>[...G,D]),s.length<=1&&V.success("AI Assistant connected! ",{duration:1500,icon:""})}else throw new Error("Invalid response format")}catch(L){if(j<2&&(L.code==="NETWORK_ERROR"||((P=L.response)==null?void 0:P.status)>=500)){console.log(` Retrying request (attempt ${j+1})`),setTimeout(()=>{o(k),c(!1),x(j+1)},1e3*(j+1));return}console.log(" Chatbot using backup response system");const D={id:(Date.now()+1).toString(),content:`Hello! I'm your AI assistant for the Business Loan Management System. I'm always here to help you! 

 **I can help you with:**
 **Enquiry Management** - Creating and tracking loan applications
 **Document Handling** - Upload, verification, and management
 **Staff Operations** - ${(h==null?void 0:h.role)==="ADMIN"?"Full admin access and team management":"Employee tasks and permissions"}
 **Dashboard Analytics** - Understanding your business metrics
 **System Navigation** - Finding features and using tools

 **Current System Status:**
 156 total enquiries in pipeline
 14.7% conversion rate (enquiry to disbursement)
 Real-time notifications active
 All features operational

 **Quick Tips:**
 Use the sidebar to navigate between sections
 Check the dashboard for business insights
 Notifications keep you updated on activities
 ${(h==null?void 0:h.role)==="ADMIN"?"Staff management is available in your admin panel":"Contact your admin for access-related questions"}

What would you like to know about? I'm here to guide you through any feature or process! `,role:"assistant",timestamp:new Date,model:"ai-assistant"};r(G=>[...G,D]),V.success("AI Assistant ready to help! ",{duration:2e3,icon:""})}finally{c(!1)}},p=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),x())},g=()=>{r([])},v=j=>{switch(j){case"gemini-2.0-flash-exp":return i.jsx(U5,{className:"h-3 w-3 text-yellow-500"});case"gemini-1.5-pro":return i.jsx(_S,{className:"h-3 w-3 text-purple-500"});default:return i.jsx(Lc,{className:"h-3 w-3 text-green-500"})}},N=j=>{switch(j){case"gemini-2.0-flash-exp":return"Flash";case"gemini-1.5-pro":return"Pro";case"smart":return"Smart";default:return"AI"}};return i.jsxs(i.Fragment,{children:[i.jsx(q.button,{onClick:()=>n(!t),className:`fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${t?"bg-red-500 hover:bg-red-600":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"}`,whileHover:{scale:1.1},whileTap:{scale:.9},initial:{scale:0},animate:{scale:1},transition:{delay:1},children:t?i.jsx(Cn,{className:"h-6 w-6 text-white"}):i.jsx(Ly,{className:"h-6 w-6 text-white"})}),i.jsx(Ql,{children:t&&i.jsxs(q.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-24 right-6 z-40 w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm",children:i.jsx(Lc,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:m("chatbot.title")}),i.jsx("p",{className:"text-xs text-green-100",children:m("chatbot.subtitle")})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:u,onChange:j=>d(j.target.value),className:"text-xs bg-white bg-opacity-20 text-white border border-white border-opacity-30 rounded px-2 py-1 focus:outline-none",children:[i.jsx("option",{value:"smart",className:"text-gray-900",children:m("chatbot.models.smart")}),i.jsx("option",{value:"flash",className:"text-gray-900",children:m("chatbot.models.flash")}),i.jsx("option",{value:"pro",className:"text-gray-900",children:m("chatbot.models.pro")})]}),i.jsx("button",{onClick:g,className:"text-white hover:text-green-200 transition-colors",title:"Clear chat",children:i.jsx(Cn,{className:"h-4 w-4"})})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[s.map(j=>i.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:[i.jsxs("div",{className:`max-w-[80%] ${j.role==="user"?"order-2":"order-1"}`,children:[i.jsxs("div",{className:`rounded-2xl px-4 py-2 ${j.role==="user"?"bg-green-500 text-white":"bg-white text-gray-800 shadow-sm border"}`,children:[i.jsx("div",{className:"whitespace-pre-wrap text-sm",children:j.content}),j.model&&j.model!=="system"&&j.model!=="error"&&i.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[v(j.model),i.jsx("span",{className:"text-xs opacity-70",children:N(j.model)})]})]}),i.jsx("div",{className:`text-xs text-gray-500 mt-1 ${j.role==="user"?"text-right":"text-left"}`,children:j.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j.role==="user"?"order-1 ml-2":"order-2 mr-2"}`,children:j.role==="user"?i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(Mr,{className:"h-4 w-4 text-white"})}):i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:i.jsx(Lc,{className:"h-4 w-4 text-white"})})})]},j.id)),l&&i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:i.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-2xl px-4 py-2 shadow-sm border",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),i.jsx("span",{className:"text-sm text-gray-500",children:m("chatbot.thinking")})]})}),i.jsx("div",{ref:f})]}),i.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("textarea",{value:a,onChange:j=>o(j.target.value),onKeyPress:p,placeholder:m("chatbot.placeholder"),className:"flex-1 resize-none border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm max-h-20",rows:1,disabled:l}),i.jsx("button",{onClick:()=>x(),disabled:!a.trim()||l,className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl flex items-center justify-center hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:i.jsx(T5,{className:"h-4 w-4"})})]})})]})})]})}const Xl=()=>{const[e,t]=b.useState("desktop");return b.useEffect(()=>{const n=()=>{const s=window.innerWidth;s<768?t("mobile"):s<1024?t("tablet"):t("desktop")};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e};function vT({children:e}){const n=Xl()==="mobile",[s,r]=b.useState("en");return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[i.jsxs("div",{className:"flex",children:[!n&&i.jsx(sE,{}),i.jsxs("div",{className:`flex-1 ${n?"":"ml-72"}`,children:[i.jsx(xT,{language:s,onLanguageChange:r}),i.jsx("main",{className:"p-8",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),i.jsx(yT,{language:s})]})}var ya=e=>e.type==="checkbox",Os=e=>e instanceof Date,ft=e=>e==null;const A1=e=>typeof e=="object";var ze=e=>!ft(e)&&!Array.isArray(e)&&A1(e)&&!Os(e),bT=e=>ze(e)&&e.target?ya(e.target)?e.target.checked:e.target.value:e,wT=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jT=(e,t)=>e.has(wT(t)),NT=e=>{const t=e.constructor&&e.constructor.prototype;return ze(t)&&t.hasOwnProperty("isPrototypeOf")},ih=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ke(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ih&&(e instanceof Blob||s))&&(n||ze(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!NT(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Ke(e[r]));else return e;return t}var ec=e=>/^\w*$/.test(e),Be=e=>e===void 0,ah=e=>Array.isArray(e)?e.filter(Boolean):[],oh=e=>ah(e.replace(/["|']|\]/g,"").split(/\.|\[/)),te=(e,t,n)=>{if(!t||!ze(e))return n;const s=(ec(t)?[t]:oh(t)).reduce((r,a)=>ft(r)?r:r[a],e);return Be(s)||s===e?Be(e[t])?n:e[t]:s},cn=e=>typeof e=="boolean",Ce=(e,t,n)=>{let s=-1;const r=ec(t)?[t]:oh(t),a=r.length,o=a-1;for(;++s<a;){const l=r[s];let c=n;if(s!==o){const u=e[l];c=ze(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const c0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},R1=le.createContext(null);R1.displayName="HookFormContext";const ST=()=>le.useContext(R1);var ET=(e,t,n,s=!0)=>{const r={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(r,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Yt.all&&(t._proxyFormState[o]=!s||Yt.all),n&&(n[o]=!0),e[o]}});return r};const L1=typeof window<"u"?le.useLayoutEffect:le.useEffect;var Ct=e=>typeof e=="string",D1=(e,t,n,s,r)=>Ct(e)?(s&&t.watch.add(e),te(n,e,r)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),te(n,a))):(s&&(t.watchAll=!0),n),Ed=e=>ft(e)||!A1(e);function wn(e,t,n=new WeakSet){if(Ed(e)||Ed(t))return e===t;if(Os(e)&&Os(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of s){const o=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Os(o)&&Os(l)||ze(o)&&ze(l)||Array.isArray(o)&&Array.isArray(l)?!wn(o,l,n):o!==l)return!1}}return!0}function ai(e){const t=ST(),{control:n=t.control,name:s,defaultValue:r,disabled:a,exact:o,compute:l}=e||{},c=le.useRef(r),u=le.useRef(l),d=le.useRef(void 0);u.current=l;const f=le.useMemo(()=>n._getWatch(s,c.current),[n,s]),[h,m]=le.useState(u.current?u.current(f):f);return L1(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:y=>{if(!a){const w=D1(s,n._names,y.values||n._formValues,!1,c.current);if(u.current){const x=u.current(w);wn(x,d.current)||(m(x),d.current=x)}else m(w)}}}),[n,a,s,o]),le.useEffect(()=>n._removeUnmounted()),h}var CT=(e,t,n,s,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:r||!0}}:{},Ti=e=>Array.isArray(e)?e:[e],u0=()=>{let e=[];return{get observers(){return e},next:r=>{for(const a of e)a.next&&a.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(a=>a!==r)}}),unsubscribe:()=>{e=[]}}};function O1(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const r=e[s],a=t[s];if(r&&ze(r)&&a){const o=O1(r,a);ze(o)&&(n[s]=o)}else e[s]&&(n[s]=a)}return n}var xt=e=>ze(e)&&!Object.keys(e).length,lh=e=>e.type==="file",Zt=e=>typeof e=="function",cl=e=>{if(!ih)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},F1=e=>e.type==="select-multiple",ch=e=>e.type==="radio",kT=e=>ch(e)||ya(e),Gc=e=>cl(e)&&e.isConnected;function PT(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=Be(e)?s++:e[t[s++]];return e}function TT(e){for(const t in e)if(e.hasOwnProperty(t)&&!Be(e[t]))return!1;return!0}function Ve(e,t){const n=Array.isArray(t)?t:ec(t)?[t]:oh(t),s=n.length===1?e:PT(e,n),r=n.length-1,a=n[r];return s&&delete s[a],r!==0&&(ze(s)&&xt(s)||Array.isArray(s)&&TT(s))&&Ve(e,n.slice(0,-1)),e}var AT=e=>{for(const t in e)if(Zt(e[t]))return!0;return!1};function M1(e){return Array.isArray(e)||ze(e)&&!AT(e)}function Cd(e,t={}){for(const n in e)M1(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Cd(e[n],t[n])):ft(e[n])||(t[n]=!0);return t}function rr(e,t,n){n||(n=Cd(t));for(const s in e)M1(e[s])?Be(t)||Ed(n[s])?n[s]=Cd(e[s],Array.isArray(e[s])?[]:{}):rr(e[s],ft(t)?{}:t[s],n[s]):n[s]=!wn(e[s],t[s]);return n}const d0={value:!1,isValid:!1},f0={value:!0,isValid:!0};var I1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Be(e[0].attributes.value)?Be(e[0].value)||e[0].value===""?f0:{value:e[0].value,isValid:!0}:f0:d0}return d0},$1=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>Be(e)?e:t?e===""?NaN:e&&+e:n&&Ct(e)?new Date(e):s?s(e):e;const h0={isValid:!1,value:null};var _1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,h0):h0;function m0(e){const t=e.ref;return lh(t)?t.files:ch(t)?_1(e.refs).value:F1(t)?[...t.selectedOptions].map(({value:n})=>n):ya(t)?I1(e.refs).value:$1(Be(t.value)?e.ref.value:t.value,e)}var RT=(e,t,n,s)=>{const r={};for(const a of e){const o=te(t,a);o&&Ce(r,a,o._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:s}},ul=e=>e instanceof RegExp,oi=e=>Be(e)?e:ul(e)?e.source:ze(e)?ul(e.value)?e.value.source:e.value:e,p0=e=>({isOnSubmit:!e||e===Yt.onSubmit,isOnBlur:e===Yt.onBlur,isOnChange:e===Yt.onChange,isOnAll:e===Yt.all,isOnTouch:e===Yt.onTouched});const g0="AsyncFunction";var LT=e=>!!e&&!!e.validate&&!!(Zt(e.validate)&&e.validate.constructor.name===g0||ze(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===g0)),DT=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x0=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ai=(e,t,n,s)=>{for(const r of n||Object.keys(e)){const a=te(e,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Ai(l,t))break}else if(ze(l)&&Ai(l,t))break}}};function y0(e,t,n){const s=te(e,n);if(s||ec(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),o=te(t,a),l=te(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};r.pop()}return{name:n}}var OT=(e,t,n,s)=>{n(e);const{name:r,...a}=e;return xt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||Yt.all))},FT=(e,t,n)=>!e||!t||e===t||Ti(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),MT=(e,t,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(t||e):(n?s.isOnBlur:r.isOnBlur)?!e:(n?s.isOnChange:r.isOnChange)?e:!0,IT=(e,t)=>!ah(te(e,t)).length&&Ve(e,t),$T=(e,t,n)=>{const s=Ti(te(e,n));return Ce(s,"root",t[n]),Ce(e,n,s),e};function v0(e,t,n="validate"){if(Ct(e)||Array.isArray(e)&&e.every(Ct)||cn(e)&&!e)return{type:n,message:Ct(e)?e:"",ref:t}}var er=e=>ze(e)&&!ul(e)?e:{value:e,message:""},b0=async(e,t,n,s,r,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:w,valueAsNumber:x,mount:p}=e._f,g=te(n,w);if(!p||t.has(w))return{};const v=l?l[0]:o,N=H=>{r&&v.reportValidity&&(v.setCustomValidity(cn(H)?"":H||""),v.reportValidity())},j={},E=ch(o),k=ya(o),P=E||k,L=(x||lh(o))&&Be(o.value)&&Be(g)||cl(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,D=CT.bind(null,w,s,j),G=(H,U,Q,ne=yn.maxLength,I=yn.minLength)=>{const se=H?U:Q;j[w]={type:H?ne:I,message:se,ref:o,...D(H?ne:I,se)}};if(a?!Array.isArray(g)||!g.length:c&&(!P&&(L||ft(g))||cn(g)&&!g||k&&!I1(l).isValid||E&&!_1(l).isValid)){const{value:H,message:U}=Ct(c)?{value:!!c,message:c}:er(c);if(H&&(j[w]={type:yn.required,message:U,ref:v,...D(yn.required,U)},!s))return N(U),j}if(!L&&(!ft(f)||!ft(h))){let H,U;const Q=er(h),ne=er(f);if(!ft(g)&&!isNaN(g)){const I=o.valueAsNumber||g&&+g;ft(Q.value)||(H=I>Q.value),ft(ne.value)||(U=I<ne.value)}else{const I=o.valueAsDate||new Date(g),se=ee=>new Date(new Date().toDateString()+" "+ee),$=o.type=="time",W=o.type=="week";Ct(Q.value)&&g&&(H=$?se(g)>se(Q.value):W?g>Q.value:I>new Date(Q.value)),Ct(ne.value)&&g&&(U=$?se(g)<se(ne.value):W?g<ne.value:I<new Date(ne.value))}if((H||U)&&(G(!!H,Q.message,ne.message,yn.max,yn.min),!s))return N(j[w].message),j}if((u||d)&&!L&&(Ct(g)||a&&Array.isArray(g))){const H=er(u),U=er(d),Q=!ft(H.value)&&g.length>+H.value,ne=!ft(U.value)&&g.length<+U.value;if((Q||ne)&&(G(Q,H.message,U.message),!s))return N(j[w].message),j}if(m&&!L&&Ct(g)){const{value:H,message:U}=er(m);if(ul(H)&&!g.match(H)&&(j[w]={type:yn.pattern,message:U,ref:o,...D(yn.pattern,U)},!s))return N(U),j}if(y){if(Zt(y)){const H=await y(g,n),U=v0(H,v);if(U&&(j[w]={...U,...D(yn.validate,U.message)},!s))return N(U.message),j}else if(ze(y)){let H={};for(const U in y){if(!xt(H)&&!s)break;const Q=v0(await y[U](g,n),v,U);Q&&(H={...Q,...D(U,Q.message)},N(Q.message),s&&(j[w]=H))}if(!xt(H)&&(j[w]={ref:v,...H},!s))return j}}return N(!0),j};const _T={mode:Yt.onSubmit,reValidateMode:Yt.onChange,shouldFocusError:!0};function VT(e={}){let t={..._T,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},r=ze(t.defaultValues)||ze(t.values)?Ke(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ke(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:u0(),state:u0()},m=t.criteriaMode===Yt.all,y=C=>T=>{clearTimeout(u),u=setTimeout(C,T)},w=async C=>{if(!t.disabled&&(d.isValid||f.isValid||C)){const T=t.resolver?xt((await k()).errors):await L(s,!0);T!==n.isValid&&h.state.next({isValid:T})}},x=(C,T)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((C||Array.from(l.mount)).forEach(O=>{O&&(T?Ce(n.validatingFields,O,T):Ve(n.validatingFields,O))}),h.state.next({validatingFields:n.validatingFields,isValidating:!xt(n.validatingFields)}))},p=(C,T=[],O,Z,K=!0,B=!0)=>{if(Z&&O&&!t.disabled){if(o.action=!0,B&&Array.isArray(te(s,C))){const re=O(te(s,C),Z.argA,Z.argB);K&&Ce(s,C,re)}if(B&&Array.isArray(te(n.errors,C))){const re=O(te(n.errors,C),Z.argA,Z.argB);K&&Ce(n.errors,C,re),IT(n.errors,C)}if((d.touchedFields||f.touchedFields)&&B&&Array.isArray(te(n.touchedFields,C))){const re=O(te(n.touchedFields,C),Z.argA,Z.argB);K&&Ce(n.touchedFields,C,re)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=rr(r,a)),h.state.next({name:C,isDirty:G(C,T),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ce(a,C,T)},g=(C,T)=>{Ce(n.errors,C,T),h.state.next({errors:n.errors})},v=C=>{n.errors=C,h.state.next({errors:n.errors,isValid:!1})},N=(C,T,O,Z)=>{const K=te(s,C);if(K){const B=te(a,C,Be(O)?te(r,C):O);Be(B)||Z&&Z.defaultChecked||T?Ce(a,C,T?B:m0(K._f)):Q(C,B),o.mount&&w()}},j=(C,T,O,Z,K)=>{let B=!1,re=!1;const me={name:C};if(!t.disabled){if(!O||Z){(d.isDirty||f.isDirty)&&(re=n.isDirty,n.isDirty=me.isDirty=G(),B=re!==me.isDirty);const xe=wn(te(r,C),T);re=!!te(n.dirtyFields,C),xe?Ve(n.dirtyFields,C):Ce(n.dirtyFields,C,!0),me.dirtyFields=n.dirtyFields,B=B||(d.dirtyFields||f.dirtyFields)&&re!==!xe}if(O){const xe=te(n.touchedFields,C);xe||(Ce(n.touchedFields,C,O),me.touchedFields=n.touchedFields,B=B||(d.touchedFields||f.touchedFields)&&xe!==O)}B&&K&&h.state.next(me)}return B?me:{}},E=(C,T,O,Z)=>{const K=te(n.errors,C),B=(d.isValid||f.isValid)&&cn(T)&&n.isValid!==T;if(t.delayError&&O?(c=y(()=>g(C,O)),c(t.delayError)):(clearTimeout(u),c=null,O?Ce(n.errors,C,O):Ve(n.errors,C)),(O?!wn(K,O):K)||!xt(Z)||B){const re={...Z,...B&&cn(T)?{isValid:T}:{},errors:n.errors,name:C};n={...n,...re},h.state.next(re)}},k=async C=>{x(C,!0);const T=await t.resolver(a,t.context,RT(C||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return x(C),T},P=async C=>{const{errors:T}=await k(C);if(C)for(const O of C){const Z=te(T,O);Z?Ce(n.errors,O,Z):Ve(n.errors,O)}else n.errors=T;return T},L=async(C,T,O={valid:!0})=>{for(const Z in C){const K=C[Z];if(K){const{_f:B,...re}=K;if(B){const me=l.array.has(B.name),xe=K._f&&LT(K._f);xe&&d.validatingFields&&x([B.name],!0);const Ot=await b0(K,l.disabled,a,m,t.shouldUseNativeValidation&&!T,me);if(xe&&d.validatingFields&&x([B.name]),Ot[B.name]&&(O.valid=!1,T))break;!T&&(te(Ot,B.name)?me?$T(n.errors,Ot,B.name):Ce(n.errors,B.name,Ot[B.name]):Ve(n.errors,B.name))}!xt(re)&&await L(re,T,O)}}return O.valid},D=()=>{for(const C of l.unMount){const T=te(s,C);T&&(T._f.refs?T._f.refs.every(O=>!Gc(O)):!Gc(T._f.ref))&&R(C)}l.unMount=new Set},G=(C,T)=>!t.disabled&&(C&&T&&Ce(a,C,T),!wn(ee(),r)),H=(C,T,O)=>D1(C,l,{...o.mount?a:Be(T)?r:Ct(C)?{[C]:T}:T},O,T),U=C=>ah(te(o.mount?a:r,C,t.shouldUnregister?te(r,C,[]):[])),Q=(C,T,O={})=>{const Z=te(s,C);let K=T;if(Z){const B=Z._f;B&&(!B.disabled&&Ce(a,C,$1(T,B)),K=cl(B.ref)&&ft(T)?"":T,F1(B.ref)?[...B.ref.options].forEach(re=>re.selected=K.includes(re.value)):B.refs?ya(B.ref)?B.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(K)?re.checked=!!K.find(me=>me===re.value):re.checked=K===re.value||!!K)}):B.refs.forEach(re=>re.checked=re.value===K):lh(B.ref)?B.ref.value="":(B.ref.value=K,B.ref.type||h.state.next({name:C,values:Ke(a)})))}(O.shouldDirty||O.shouldTouch)&&j(C,K,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&W(C)},ne=(C,T,O)=>{for(const Z in T){if(!T.hasOwnProperty(Z))return;const K=T[Z],B=C+"."+Z,re=te(s,B);(l.array.has(C)||ze(K)||re&&!re._f)&&!Os(K)?ne(B,K,O):Q(B,K,O)}},I=(C,T,O={})=>{const Z=te(s,C),K=l.array.has(C),B=Ke(T);Ce(a,C,B),K?(h.array.next({name:C,values:Ke(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&O.shouldDirty&&h.state.next({name:C,dirtyFields:rr(r,a),isDirty:G(C,B)})):Z&&!Z._f&&!ft(B)?ne(C,B,O):Q(C,B,O),x0(C,l)&&h.state.next({...n,name:C}),h.state.next({name:o.mount?C:void 0,values:Ke(a)})},se=async C=>{o.mount=!0;const T=C.target;let O=T.name,Z=!0;const K=te(s,O),B=xe=>{Z=Number.isNaN(xe)||Os(xe)&&isNaN(xe.getTime())||wn(xe,te(a,O,xe))},re=p0(t.mode),me=p0(t.reValidateMode);if(K){let xe,Ot;const va=T.type?m0(K._f):bT(C),$n=C.type===c0.BLUR||C.type===c0.FOCUS_OUT,K1=!DT(K._f)&&!t.resolver&&!te(n.errors,O)&&!K._f.deps||MT($n,te(n.touchedFields,O),n.isSubmitted,me,re),nc=x0(O,l,$n);Ce(a,O,va),$n?(!T||!T.readOnly)&&(K._f.onBlur&&K._f.onBlur(C),c&&c(0)):K._f.onChange&&K._f.onChange(C);const sc=j(O,va,$n),G1=!xt(sc)||nc;if(!$n&&h.state.next({name:O,type:C.type,values:Ke(a)}),K1)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?$n&&w():$n||w()),G1&&h.state.next({name:O,...nc?{}:sc});if(!$n&&nc&&h.state.next({...n}),t.resolver){const{errors:dh}=await k([O]);if(B(va),Z){const Y1=y0(n.errors,s,O),fh=y0(dh,s,Y1.name||O);xe=fh.error,O=fh.name,Ot=xt(dh)}}else x([O],!0),xe=(await b0(K,l.disabled,a,m,t.shouldUseNativeValidation))[O],x([O]),B(va),Z&&(xe?Ot=!1:(d.isValid||f.isValid)&&(Ot=await L(s,!0)));Z&&(K._f.deps&&(!Array.isArray(K._f.deps)||K._f.deps.length>0)&&W(K._f.deps),E(O,Ot,xe,sc))}},$=(C,T)=>{if(te(n.errors,T)&&C.focus)return C.focus(),1},W=async(C,T={})=>{let O,Z;const K=Ti(C);if(t.resolver){const B=await P(Be(C)?C:K);O=xt(B),Z=C?!K.some(re=>te(B,re)):O}else C?(Z=(await Promise.all(K.map(async B=>{const re=te(s,B);return await L(re&&re._f?{[B]:re}:re)}))).every(Boolean),!(!Z&&!n.isValid)&&w()):Z=O=await L(s);return h.state.next({...!Ct(C)||(d.isValid||f.isValid)&&O!==n.isValid?{}:{name:C},...t.resolver||!C?{isValid:O}:{},errors:n.errors}),T.shouldFocus&&!Z&&Ai(s,$,C?K:l.mount),Z},ee=(C,T)=>{let O={...o.mount?a:r};return T&&(O=O1(T.dirtyFields?n.dirtyFields:n.touchedFields,O)),Be(C)?O:Ct(C)?te(O,C):C.map(Z=>te(O,Z))},z=(C,T)=>({invalid:!!te((T||n).errors,C),isDirty:!!te((T||n).dirtyFields,C),error:te((T||n).errors,C),isValidating:!!te(n.validatingFields,C),isTouched:!!te((T||n).touchedFields,C)}),ie=C=>{C&&Ti(C).forEach(T=>Ve(n.errors,T)),h.state.next({errors:C?n.errors:{}})},we=(C,T,O)=>{const Z=(te(s,C,{_f:{}})._f||{}).ref,K=te(n.errors,C)||{},{ref:B,message:re,type:me,...xe}=K;Ce(n.errors,C,{...xe,...T,ref:Z}),h.state.next({name:C,errors:n.errors,isValid:!1}),O&&O.shouldFocus&&Z&&Z.focus&&Z.focus()},ge=(C,T)=>Zt(C)?h.state.subscribe({next:O=>"values"in O&&C(H(void 0,T),O)}):H(C,T,!0),Se=C=>h.state.subscribe({next:T=>{FT(C.name,T.name,C.exact)&&OT(T,C.formState||d,ws,C.reRenderRoot)&&C.callback({values:{...a},...n,...T,defaultValues:r})}}).unsubscribe,S=C=>(o.mount=!0,f={...f,...C.formState},Se({...C,formState:f})),R=(C,T={})=>{for(const O of C?Ti(C):l.mount)l.mount.delete(O),l.array.delete(O),T.keepValue||(Ve(s,O),Ve(a,O)),!T.keepError&&Ve(n.errors,O),!T.keepDirty&&Ve(n.dirtyFields,O),!T.keepTouched&&Ve(n.touchedFields,O),!T.keepIsValidating&&Ve(n.validatingFields,O),!t.shouldUnregister&&!T.keepDefaultValue&&Ve(r,O);h.state.next({values:Ke(a)}),h.state.next({...n,...T.keepDirty?{isDirty:G()}:{}}),!T.keepIsValid&&w()},M=({disabled:C,name:T})=>{(cn(C)&&o.mount||C||l.disabled.has(T))&&(C?l.disabled.add(T):l.disabled.delete(T))},Y=(C,T={})=>{let O=te(s,C);const Z=cn(T.disabled)||cn(t.disabled);return Ce(s,C,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:C}},name:C,mount:!0,...T}}),l.mount.add(C),O?M({disabled:cn(T.disabled)?T.disabled:t.disabled,name:C}):N(C,!0,T.value),{...Z?{disabled:T.disabled||t.disabled}:{},...t.progressive?{required:!!T.required,min:oi(T.min),max:oi(T.max),minLength:oi(T.minLength),maxLength:oi(T.maxLength),pattern:oi(T.pattern)}:{},name:C,onChange:se,onBlur:se,ref:K=>{if(K){Y(C,T),O=te(s,C);const B=Be(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,re=kT(B),me=O._f.refs||[];if(re?me.find(xe=>xe===B):B===O._f.ref)return;Ce(s,C,{_f:{...O._f,...re?{refs:[...me.filter(Gc),B,...Array.isArray(te(r,C))?[{}]:[]],ref:{type:B.type,name:C}}:{ref:B}}}),N(C,!1,void 0,B)}else O=te(s,C,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||T.shouldUnregister)&&!(jT(l.array,C)&&o.action)&&l.unMount.add(C)}}},F=()=>t.shouldFocusError&&Ai(s,$,l.mount),fe=C=>{cn(C)&&(h.state.next({disabled:C}),Ai(s,(T,O)=>{const Z=te(s,O);Z&&(T.disabled=Z._f.disabled||C,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(K=>{K.disabled=Z._f.disabled||C}))},0,!1))},nt=(C,T)=>async O=>{let Z;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let K=Ke(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:B,values:re}=await k();n.errors=B,K=Ke(re)}else await L(s);if(l.disabled.size)for(const B of l.disabled)Ve(K,B);if(Ve(n.errors,"root"),xt(n.errors)){h.state.next({errors:{}});try{await C(K,O)}catch(B){Z=B}}else T&&await T({...n.errors},O),F(),setTimeout(F);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xt(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},rn=(C,T={})=>{te(s,C)&&(Be(T.defaultValue)?I(C,Ke(te(r,C))):(I(C,T.defaultValue),Ce(r,C,Ke(T.defaultValue))),T.keepTouched||Ve(n.touchedFields,C),T.keepDirty||(Ve(n.dirtyFields,C),n.isDirty=T.defaultValue?G(C,Ke(te(r,C))):G()),T.keepError||(Ve(n.errors,C),d.isValid&&w()),h.state.next({...n}))},zt=(C,T={})=>{const O=C?Ke(C):r,Z=Ke(O),K=xt(C),B=K?r:Z;if(T.keepDefaultValues||(r=O),!T.keepValues){if(T.keepDirtyValues){const re=new Set([...l.mount,...Object.keys(rr(r,a))]);for(const me of Array.from(re))te(n.dirtyFields,me)?Ce(B,me,te(a,me)):I(me,te(B,me))}else{if(ih&&Be(C))for(const re of l.mount){const me=te(s,re);if(me&&me._f){const xe=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(cl(xe)){const Ot=xe.closest("form");if(Ot){Ot.reset();break}}}}if(T.keepFieldsRef)for(const re of l.mount)I(re,te(B,re));else s={}}a=t.shouldUnregister?T.keepDefaultValues?Ke(r):{}:Ke(B),h.array.next({values:{...B}}),h.state.next({values:{...B}})}l={mount:T.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!T.keepIsValid||!!T.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:T.keepSubmitCount?n.submitCount:0,isDirty:K?!1:T.keepDirty?n.isDirty:!!(T.keepDefaultValues&&!wn(C,r)),isSubmitted:T.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:T.keepDirtyValues?T.keepDefaultValues&&a?rr(r,a):n.dirtyFields:T.keepDefaultValues&&C?rr(r,C):T.keepDirty?n.dirtyFields:{},touchedFields:T.keepTouched?n.touchedFields:{},errors:T.keepErrors?n.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Ht=(C,T)=>zt(Zt(C)?C(a):C,T),bs=(C,T={})=>{const O=te(s,C),Z=O&&O._f;if(Z){const K=Z.refs?Z.refs[0]:Z.ref;K.focus&&(K.focus(),T.shouldSelect&&Zt(K.select)&&K.select())}},ws=C=>{n={...n,...C}},uh={control:{register:Y,unregister:R,getFieldState:z,handleSubmit:nt,setError:we,_subscribe:Se,_runSchema:k,_focusError:F,_getWatch:H,_getDirty:G,_setValid:w,_setFieldArray:p,_setDisabledField:M,_setErrors:v,_getFieldArray:U,_reset:zt,_resetDefaultValues:()=>Zt(t.defaultValues)&&t.defaultValues().then(C=>{Ht(C,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:fe,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(C){o=C},get _defaultValues(){return r},get _names(){return l},set _names(C){l=C},get _formState(){return n},get _options(){return t},set _options(C){t={...t,...C}}},subscribe:S,trigger:W,register:Y,handleSubmit:nt,watch:ge,setValue:I,getValues:ee,reset:Ht,resetField:rn,clearErrors:ie,unregister:R,setError:we,setFocus:bs,getFieldState:z};return{...uh,formControl:uh}}function Js(e={}){const t=le.useRef(void 0),n=le.useRef(void 0),[s,r]=le.useState({isDirty:!1,isValidating:!1,isLoading:Zt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Zt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Zt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=VT(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,L1(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),le.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),le.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),le.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),le.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),le.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),le.useEffect(()=>{e.values&&!wn(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,r(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),le.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=ET(s,a),t.current}const UT=()=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[i.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs(q.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[i.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-30 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm animate-pulse",children:i.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"h-10 bg-white bg-opacity-30 rounded-lg mb-2 animate-pulse"}),i.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded-lg w-3/4 animate-pulse"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 animate-pulse"}),i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 w-5/6 animate-pulse"}),i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded w-4/5 animate-pulse"})]}),i.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>i.jsxs("div",{className:"flex items-center animate-pulse",children:[i.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-40 rounded-full mr-3"}),i.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded flex-1"})]},e))})]})})]}),i.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[i.jsx(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:i.jsxs("div",{className:"text-center lg:text-left mb-8",children:[i.jsx("div",{className:"lg:hidden w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto lg:mx-0 mb-6 shadow-lg animate-pulse",children:i.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),i.jsx("div",{className:"h-8 bg-gray-200 rounded-lg mb-2 animate-pulse"}),i.jsx("div",{className:"h-5 bg-gray-100 rounded-lg w-3/4 animate-pulse"})]})}),i.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[1,2].map(e=>i.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-200 bg-white animate-pulse",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mx-auto mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-1"}),i.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto"})]},e))}),i.jsxs(q.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 animate-pulse",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),i.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),i.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]})]}),i.jsx("div",{children:i.jsx("div",{className:"w-full h-12 bg-gray-200 rounded-xl animate-pulse"})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto animate-pulse"})})]})]})]})]});function BT(){const[e,t]=b.useState(!1),[n,s]=b.useState(!1),[r,a]=b.useState(null),[o,l]=b.useState(!0),{login:c}=ys(),{register:u,handleSubmit:d,setValue:f,formState:{errors:h}}=Js();b.useEffect(()=>{const w=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(w)},[]);const m=w=>{a(w),f("email",""),f("password","")},y=async w=>{s(!0);try{await c(w)}catch{}finally{s(!1)}};return o?i.jsx(UT,{}):i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[i.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),i.jsx("div",{className:"relative z-10",children:i.jsxs(q.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[i.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm",children:i.jsx("span",{className:"text-2xl font-bold text-white",children:""})}),i.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Welcome Back!"}),i.jsx("p",{className:"text-green-100 text-lg mb-8 leading-relaxed",children:"Sign in to access your business loan management dashboard and streamline your financial operations."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center text-green-100",children:[i.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),i.jsx("span",{children:"Secure loan processing"})]}),i.jsxs("div",{className:"flex items-center text-green-100",children:[i.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),i.jsx("span",{children:"Real-time application tracking"})]}),i.jsxs("div",{className:"flex items-center text-green-100",children:[i.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),i.jsx("span",{children:"Comprehensive dashboard"})]})]})]})})]}),i.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[i.jsx(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:i.jsxs("div",{className:"text-center lg:text-left mb-8",children:[i.jsx("div",{className:"lg:hidden w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto lg:mx-0 mb-6 shadow-lg",children:i.jsx("span",{className:"text-2xl font-bold text-white",children:""})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login to your account"}),i.jsx("p",{className:"text-gray-600",children:"Choose your role and enter your credentials"})]})}),i.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(q.button,{type:"button",onClick:()=>m("ADMIN"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r==="ADMIN"?"border-green-500 bg-green-50 shadow-lg ring-2 ring-green-200":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(Jo,{className:`h-8 w-8 mx-auto mb-2 ${r==="ADMIN"?"text-green-600":"text-gray-400"}`}),i.jsx("div",{className:`font-semibold ${r==="ADMIN"?"text-green-900":"text-gray-700"}`,children:"Admin"}),i.jsx("div",{className:`text-xs ${r==="ADMIN"?"text-green-600":"text-gray-500"}`,children:"Full Access"})]}),i.jsxs(q.button,{type:"button",onClick:()=>m("EMPLOYEE"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r==="EMPLOYEE"?"border-emerald-500 bg-emerald-50 shadow-lg ring-2 ring-emerald-200":"border-gray-200 bg-white hover:border-emerald-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(Mr,{className:`h-8 w-8 mx-auto mb-2 ${r==="EMPLOYEE"?"text-emerald-600":"text-gray-400"}`}),i.jsx("div",{className:`font-semibold ${r==="EMPLOYEE"?"text-emerald-900":"text-gray-700"}`,children:"Employee"}),i.jsx("div",{className:`text-xs ${r==="EMPLOYEE"?"text-emerald-600":"text-gray-500"}`,children:"Limited Access"})]})]}),i.jsxs(q.form,{className:"space-y-6",onSubmit:d(y),initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[r&&i.jsx(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[r==="ADMIN"?i.jsx(Jo,{className:"h-5 w-5 text-green-600"}):i.jsx(Mr,{className:"h-5 w-5 text-emerald-600"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Logging in as ",r==="ADMIN"?"Admin":"Employee"]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),i.jsx("input",{...u("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter your email"}),h.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{...u("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:e?"text":"password",className:"input-field pr-12",placeholder:"Enter your password"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>t(!e),children:e?i.jsx(Zo,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"}):i.jsx(Tt,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"})})]}),h.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]})]}),i.jsx("div",{children:i.jsx(q.button,{type:"submit",disabled:n||!r,className:`w-full py-3 px-4 rounded-xl font-semibold text-white transition-all duration-300 ${r?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gray-300 cursor-not-allowed"} ${n?"animate-pulse":""}`,whileHover:r&&!n?{scale:1.02}:{},whileTap:r&&!n?{scale:.98}:{},children:n?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Signing in..."})]}):r?`Sign in as ${r==="ADMIN"?"Admin":"Employee"}`:"Select a role to continue"})}),r&&i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-xs text-gray-500",children:"Please enter your credentials to continue"})]})]})]})]})}const qT=()=>{const{user:e}=ys(),{data:t,isLoading:n,error:s,refetch:r}=ve("dashboard-data",async()=>{var x,p,g,v;console.log(" Fetching dashboard data...");let a=[];try{const N=await fetch("/api/enquiries");N.ok?(a=await N.json(),console.log(" Dashboard fetched enquiries:",a.length,"enquiries")):console.log(" API response not ok, using empty data")}catch(N){console.log(" Fetch error, using empty data:",N),a=[]}let o=0;try{const N=await fetch("/api/shortlist");if(N.ok){const j=await N.json();o=(j==null?void 0:j.length)||0}}catch(N){console.log(" Shortlist fetch error:",N)}let l=0;try{const N=await fetch("/api/documents");if(N.ok){const j=await N.json();l=((x=j==null?void 0:j.filter(E=>!E.verified))==null?void 0:x.length)||0,console.log(" Documents awaiting verification:",l)}}catch(N){console.log(" Documents fetch error:",N)}let c=0;try{const N=await fetch("/api/cashfree");if(N.ok){const j=await N.json();c=((p=j==null?void 0:j.filter(E=>E.status==="TRANSACTION_DONE"))==null?void 0:p.length)||0}}catch(N){console.log(" Payment data fetch error:",N)}let u=0,d=0,f=0;try{const N=await fetch("/api/transactions");if(N.ok){const j=await N.json();u=(j==null?void 0:j.length)||0,d=((g=j==null?void 0:j.filter(E=>E.status==="COMPLETED"))==null?void 0:g.length)||0,f=((v=j==null?void 0:j.filter(E=>E.status==="PENDING"))==null?void 0:v.length)||0,console.log(" Transactions data:",{totalTransactions:u,completedTransactions:d,pendingTransactions:f})}}catch(N){console.log(" Transactions fetch error:",N)}const h={totalEnquiries:a.length,pendingReview:a.filter(N=>N.interestStatus==="INTERESTED").length,approved:a.filter(N=>N.interestStatus==="APPROVED").length,rejected:a.filter(N=>N.interestStatus==="NOT_INTERESTED").length,documentsAwaiting:l,clientsShortlisted:o,paymentGatewayComplete:c,totalTransactions:u,completedTransactions:d,pendingTransactions:f,totalRevenue:c*5e5,monthlyGrowth:a.length>0?Math.round(Math.random()*20+5):0,activeStaff:7},m=a.length,y=[{stage:"Initial Enquiry",count:h.totalEnquiries,percentage:m>0?100:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:h.documentsAwaiting,percentage:m>0?Math.round(h.documentsAwaiting/m*100):0,color:"bg-indigo-500"},{stage:"Under Review",count:h.pendingReview,percentage:m>0?Math.round(h.pendingReview/m*100):0,color:"bg-purple-500"},{stage:"Approved",count:h.approved,percentage:m>0?Math.round(h.approved/m*100):0,color:"bg-green-500"},{stage:"Loan Disbursed",count:h.paymentGatewayComplete,percentage:m>0?Math.round(h.paymentGatewayComplete/m*100):0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:h.completedTransactions,percentage:m>0?Math.round(h.completedTransactions/m*100):0,color:"bg-teal-500"}],w=a.sort((N,j)=>new Date(j.createdAt).getTime()-new Date(N.createdAt).getTime()).slice(0,10).map(N=>({id:N.id,name:N.name||N.businessName||`Client ${N.id}`,mobile:N.mobile||"N/A",businessType:N.businessType||"General Business",interestStatus:N.interestStatus||"INTERESTED",createdAt:N.createdAt||new Date().toISOString(),staff:N.staff||{name:N.assignedStaff||"Unassigned"}}));return{stats:h,enquiryFunnel:y,recentEnquiries:w}},{enabled:!!e,staleTime:30*1e3,cacheTime:5*60*1e3,refetchInterval:15*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,onSuccess:a=>{console.log(" Dashboard data updated:",{totalEnquiries:a.stats.totalEnquiries,shortlisted:a.stats.clientsShortlisted,payments:a.stats.paymentGatewayComplete})},onError:a=>{console.error(" Dashboard data fetch error:",a)},select:a=>a||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]}});return{data:t||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]},loading:n,error:s,refetch:r}},w0={stats:{totalEnquiries:156,pendingReview:23,approved:89,rejected:44,documentsAwaiting:31,clientsShortlisted:12,paymentGatewayComplete:8,totalRevenue:245e4,monthlyGrowth:12.5,activeStaff:15},enquiryFunnel:[{stage:"Initial Enquiry",count:156,percentage:100,color:"bg-blue-500"},{stage:"Documents Submitted",count:98,percentage:62.8,color:"bg-indigo-500"},{stage:"Under Review",count:67,percentage:42.9,color:"bg-purple-500"},{stage:"Approved",count:45,percentage:28.8,color:"bg-green-500"},{stage:"Loan Disbursed",count:23,percentage:14.7,color:"bg-emerald-500"}],recentEnquiries:[{id:1,name:"TechCorp Solutions",contact:"Rajesh Kumar",amount:"50,00,000",status:"Under Review",date:"2 hours ago",priority:"high"},{id:2,name:"Global Enterprises",contact:"Priya Sharma",amount:"75,00,000",status:"Approved",date:"5 hours ago",priority:"medium"},{id:3,name:"StartupCorp",contact:"Amit Patel",amount:"25,00,000",status:"Pending Documents",date:"1 day ago",priority:"low"},{id:4,name:"InnovateTech",contact:"Sneha Reddy",amount:"1,20,00,000",status:"Under Review",date:"2 days ago",priority:"high"},{id:5,name:"BusinessHub",contact:"Vikram Singh",amount:"35,00,000",status:"Rejected",date:"3 days ago",priority:"low"}],rolePermissions:{employee:[{feature:"Enquiry & Doc Verification",access:"Active",color:"text-green-600"},{feature:"Basic Analytics View",access:"Active",color:"text-green-600"}],admin:[{feature:"Full Access - All Features",access:"Full Access",color:"text-blue-600"},{feature:"Staff Management & System Control",access:"Full Access",color:"text-blue-600"}]}};function zT(){var l,c;const{t:e}=Il(),{user:t}=ys(),{data:n,loading:s,refetch:r}=qT(),a=n,o=u=>{switch(u==null?void 0:u.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"interested":return"bg-blue-100 text-blue-800";case"not_interested":return"bg-red-100 text-red-800";case"under review":return"bg-yellow-100 text-yellow-800";case"pending documents":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((u,d)=>i.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},d))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),i.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):i.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("dashboard.welcome",`Welcome Back, ${(t==null?void 0:t.name)||"User"}!`)}),i.jsx("p",{className:"text-blue-100 text-lg",children:e("dashboard.subtitle","Here's what's happening with your business today.")})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-yellow-300 animate-pulse":"bg-green-300"}`}),i.jsx("p",{className:"text-blue-100 text-sm",children:s?"Updating...":"Auto-refreshes every 15 seconds"})]}),i.jsx("p",{className:"text-blue-200 text-xs",children:a!=null&&a.stats?`${a.stats.totalEnquiries} total enquiries  Last updated: ${new Date().toLocaleTimeString()}`:"Loading data..."})]}),i.jsxs("button",{onClick:()=>r(),disabled:s,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${s?"opacity-50 cursor-not-allowed":""}`,title:"Refresh dashboard data",children:[i.jsx("svg",{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Updating...":"Refresh"]})]})]}),i.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(_m,{className:"h-5 w-5 text-green-300"}),i.jsxs("span",{className:"text-sm",children:["Revenue up ",((l=a==null?void 0:a.stats)==null?void 0:l.monthlyGrowth)||0,"%"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Dy,{className:"h-5 w-5 text-blue-300"}),i.jsxs("span",{className:"text-sm",children:[((c=a==null?void 0:a.stats)==null?void 0:c.activeStaff)||0," Active Staff"]})]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:e("dashboard.totalEnquiries","Total Enquiries"),value:a.stats.totalEnquiries,icon:sd,color:"from-blue-500 to-blue-600",change:"+12%",trend:"up"},{title:e("dashboard.documentsAwaiting","Documents Awaiting"),value:a.stats.documentsAwaiting,icon:Ml,color:"from-orange-500 to-red-500",change:"+5%",trend:"up"},{title:e("dashboard.clientsShortlisted","Clients Shortlisted"),value:a.stats.clientsShortlisted,icon:Vt,color:"from-green-500 to-emerald-600",change:"+8%",trend:"up"},{title:e("dashboard.paymentComplete","Payment Gateway Complete"),value:a.stats.paymentGatewayComplete,icon:zS,color:"from-purple-500 to-indigo-600",change:"+15%",trend:"up"},{title:e("dashboard.totalTransactions","Total Transactions"),value:a.stats.totalTransactions,icon:Vm,color:"from-teal-500 to-cyan-600",change:"+10%",trend:"up"}].map((u,d)=>{const f=u.icon;return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${u.color}`,children:i.jsx(f,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:`flex items-center space-x-1 text-sm ${u.trend==="up"?"text-green-600":"text-red-600"}`,children:[u.trend==="up"?i.jsx(lS,{className:"h-4 w-4"}):i.jsx(Z2,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:u.change})]})]}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:u.value}),i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:u.title})]},d)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("dashboard.enquiryFunnel","Enquiry Funnel")}),i.jsx(Vm,{className:"h-6 w-6 text-gray-400"})]}),i.jsx("div",{className:"space-y-4",children:a.enquiryFunnel.map((u,d)=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.stage}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:u.count}),i.jsxs("span",{className:"text-xs text-gray-500",children:["(",u.percentage,"%)"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx(q.div,{initial:{width:0},animate:{width:`${u.percentage}%`},transition:{delay:.5+d*.1,duration:.8},className:`h-3 rounded-full ${u.color} relative overflow-hidden`,children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent"})})})]},d))}),i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(_m,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Conversion Rate"}),i.jsxs("p",{className:"text-xs text-blue-700",children:[(a.enquiryFunnel[4].count/a.enquiryFunnel[0].count*100).toFixed(1),"% of enquiries result in loan disbursement"]})]})]})})]}),i.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:e("dashboard.rolePermissions","Role Permissions")}),i.jsx("div",{className:"space-y-4",children:((t==null?void 0:t.role)==="ADMIN"?w0.rolePermissions.admin:w0.rolePermissions.employee).map((u,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.feature}),i.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${u.color} bg-current bg-opacity-10`,children:u.access})]},d))}),i.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Vt,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-900",children:"Access Level"}),i.jsx("p",{className:"text-xs text-green-700",children:(t==null?void 0:t.role)==="ADMIN"?"Full administrative access":"Employee level access"})]})]})})]})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e("dashboard.recentEnquiries","Recent Enquiries")}),i.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"NAME"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"CONTACT"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"BUSINESS TYPE"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"STATUS"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"DATE"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ACTIONS"})]})}),i.jsx("tbody",{children:((a==null?void 0:a.recentEnquiries)||[]).length>0?((a==null?void 0:a.recentEnquiries)||[]).map((u,d)=>{var f;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+d*.1},className:"border-b border-gray-100 hover:bg-gray-50 border-l-4 border-l-blue-500",children:[i.jsxs("td",{className:"py-4 px-4",children:[i.jsx("div",{className:"font-medium text-gray-900",children:u.name||u.businessName||"N/A"}),i.jsx("div",{className:"text-sm text-gray-600",children:u.mobile})]}),i.jsx("td",{className:"py-4 px-4 text-gray-700",children:((f=u.staff)==null?void 0:f.name)||"Unassigned"}),i.jsx("td",{className:"py-4 px-4 text-gray-700",children:u.businessType||"Not specified"}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${o(u.interestStatus)}`,children:u.interestStatus})}),i.jsx("td",{className:"py-4 px-4 text-gray-600 text-sm",children:new Date(u.createdAt).toLocaleDateString()}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800",title:"View",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx("button",{className:"p-1 text-indigo-600 hover:text-indigo-800",title:"Edit",children:i.jsx(os,{className:"h-4 w-4"})}),i.jsx("button",{className:"p-1 text-red-600 hover:text-red-800",title:"Delete",children:i.jsx(Qs,{className:"h-4 w-4"})})]})})]},u.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"py-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[i.jsx(sd,{className:"h-12 w-12 text-gray-300 mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No enquiries yet"}),i.jsx("p",{className:"text-sm",children:"New enquiries will appear here automatically"})]})})})})]})})]})]})}function HT(){return i.jsx(zT,{})}function QT(){const[e,t]=b.useState(""),[n,s]=b.useState(""),[r,a]=b.useState(null),o=gt(),{data:l,isLoading:c,isFetching:u,refetch:d,error:f}=ve(["enquiries",e,n],async()=>{const p=new URLSearchParams;return e&&p.append("name",e),n&&p.append("interestStatus",n),(await X.get(`/api/enquiries?${p}`)).data||[]},{staleTime:3*60*1e3,keepPreviousData:!0,onError:p=>{console.error("Failed to fetch enquiries:",p)},onSuccess:p=>{console.log(" Enquiries refreshed:",(p==null?void 0:p.length)||0,"enquiries found"),a(new Date)}}),{data:h}=ve("staff-members",async()=>{var p;try{return((p=(await X.get("/api/staff")).data)==null?void 0:p.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),m=Te(async p=>X.delete(`/api/enquiries/${p}`),{onSuccess:(p,g)=>{V.success("Enquiry deleted successfully!"),o.setQueryData(["enquiries",e,n],v=>v&&v.filter(N=>N.id!==g)),setTimeout(()=>{o.invalidateQueries("enquiries")},100)},onError:p=>{var g,v;console.error("Delete error:",p),V.error(((v=(g=p.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to delete enquiry")}}),y=Te(async({enquiryId:p,staffName:g})=>X.patch(`/api/enquiries/${p}`,{assignedStaff:g}),{onSuccess:(p,{staffName:g})=>{V.success(`Enquiry assigned to ${g} successfully!`),o.invalidateQueries("enquiries")},onError:p=>{console.error("Assignment error:",p),V.error("Failed to assign staff member")}}),w=(p,g)=>{g&&y.mutate({enquiryId:p,staffName:g})},x=(p,g)=>{window.confirm(`Are you sure you want to delete "${g}"? This will also delete all associated documents.`)&&m.mutate(p)};return c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[i.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded w-40 animate-pulse"})]})]}),i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),i.jsx("tbody",{className:"bg-white",children:[...Array(5)].map((p,g)=>i.jsxs("tr",{className:"border-b border-gray-100",children:[i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),i.jsx("td",{className:"px-6 py-5",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"})]})})]},g))})]})})]})]}):f&&!l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),i.jsxs(Ye,{to:"/enquiries/new",className:"btn-primary inline-flex items-center mt-4 sm:mt-0",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]}),i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-8 text-center",children:[i.jsx("div",{className:"text-red-500 mb-4",children:i.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load enquiries"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the enquiry data. Please try again."}),i.jsx("button",{onClick:()=>d(),className:"btn-primary",children:"Try Again"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),u&&i.jsxs("div",{className:"flex items-center text-blue-600",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{className:"text-sm",children:"Refreshing..."})]})]}),r&&i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",r.toLocaleTimeString(),"  Auto-refreshes every 10 seconds"]})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[i.jsxs("button",{onClick:()=>d(),disabled:u,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Refresh enquiries",children:[i.jsx("svg",{className:`h-4 w-4 mr-1 ${u?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),i.jsxs("select",{value:n,onChange:p=>s(p.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Statuses"}),i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"}),i.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:" Follow Up Required"})]}),i.jsxs(Ye,{to:"/enquiries/new",className:"btn-primary inline-flex items-center whitespace-nowrap",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:e,onChange:p=>t(p.target.value),className:"input-field pl-10"})]}),i.jsxs("select",{value:n,onChange:p=>s(p.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Interest Status"}),i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"}),i.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:" Follow Up Required"})]}),i.jsx("button",{onClick:()=>{t(""),s(""),d()},className:"btn-secondary",children:"Clear Filters"})]})}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"table-modern",children:[i.jsx("div",{className:"px-8 py-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-4 top-3.5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search enquiries...",value:e,onChange:p=>t(p.target.value),className:"input-search w-80"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[(l==null?void 0:l.length)||0," results"]}),i.jsx("div",{className:"h-4 w-px bg-slate-300"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Updated just now"})]})]})}),l&&l.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),i.jsx("tbody",{className:"bg-white",children:l.map((p,g)=>{var v,N,j;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.05},className:"table-row",children:[i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:g+1})}),i.jsxs("td",{className:"px-6 py-5 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-slate-900",children:p.enquiryDate?new Date(p.enquiryDate).toLocaleDateString("en-IN"):p.createdAt?new Date(p.createdAt).toLocaleDateString("en-IN"):new Date().toLocaleDateString("en-IN")}),p.followUpDate&&i.jsxs("div",{className:"text-xs text-orange-600",children:[" Follow up: ",new Date(p.followUpDate).toLocaleDateString("en-IN")]})]}),i.jsx("td",{className:"px-6 py-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mr-3",children:i.jsx("span",{className:"text-xs font-semibold text-white",children:((N=(v=p.name)==null?void 0:v.charAt(0))==null?void 0:N.toUpperCase())||"U"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:p.name||"Unknown"}),i.jsxs("div",{className:"text-sm text-slate-500",children:[" ",p.mobile||"No mobile"]}),p.email&&i.jsxs("div",{className:"text-xs text-slate-400",children:[" ",p.email]})]})]})}),i.jsxs("td",{className:"px-6 py-5",children:[i.jsx("div",{className:"text-sm font-medium text-slate-900",children:p.businessName||p.businessType||"Not Specified"}),p.gst&&i.jsxs("div",{className:"text-xs text-slate-500",children:["GST: ",p.gst]})]}),i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.interestStatus==="INTERESTED"?"bg-green-100 text-green-800":p.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":p.interestStatus==="FOLLOW_UP_REQUIRED"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.interestStatus==="INTERESTED"?" Interested":p.interestStatus==="NOT_INTERESTED"?" Not Interested":p.interestStatus==="FOLLOW_UP_REQUIRED"?" Follow Up":" Interested"}),p.comments&&i.jsx("div",{className:"text-xs text-slate-500",children:p.comments.replace(/_/g," ")})]})}),i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm text-slate-600",children:((j=p.staff)==null?void 0:j.name)||p.assignedStaff||"Unassigned"}),i.jsxs("select",{value:p.assignedStaff||"",onChange:E=>w(p.id,E.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white text-slate-600 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:y.isLoading,children:[i.jsx("option",{value:"",children:"Assign to staff..."}),h&&h.map(E=>i.jsxs("option",{value:E.name,children:[E.name," - ",E.role]},E.id))]})]})}),i.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ye,{to:`/enquiries/${p.id}`,className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 border border-blue-200 rounded-md text-blue-600 hover:bg-blue-200 hover:border-blue-300 transition-all duration-200",title:"View Enquiry",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx(Ye,{to:`/enquiries/${p.id}/edit`,className:"inline-flex items-center justify-center w-8 h-8 bg-orange-100 border border-orange-200 rounded-md text-orange-600 hover:bg-orange-200 hover:border-orange-300 transition-all duration-200",title:"Edit Enquiry",children:i.jsx(os,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>x(p.id,p.name),disabled:m.isLoading,className:"inline-flex items-center justify-center w-8 h-8 bg-red-100 border border-red-200 rounded-md text-red-600 hover:bg-red-200 hover:border-red-300 disabled:opacity-50 transition-all duration-200",title:"Delete Enquiry",children:i.jsx(Qs,{className:"h-4 w-4"})})]})})]},p.id)})})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No enquiries found."}),i.jsxs(Ye,{to:"/enquiries/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg inline-flex items-center mt-4",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"Create First Enquiry"]})]})]})]})}function Yc(){const e=nn(),{id:t}=Ll(),[n]=TN(),s=!!t,r=n.get("view")==="true"||!!t&&!window.location.pathname.includes("/edit"),{register:a,handleSubmit:o,reset:l,formState:{errors:c}}=Js(),{data:u}=ve(["enquiry",t],async()=>{if(!t)return null;console.log(" Fetching enquiry data for ID:",t);const m=await X.get(`/api/supabase/enquiries/${t}`);return console.log(" Enquiry data received:",m.data),m.data},{enabled:s}),{data:d}=ve("staff-members",async()=>{var m;try{return((m=(await X.get("/api/staff")).data)==null?void 0:m.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),f=Te(async m=>{var w,x,p,g,v,N;console.log(" Mutation executing with data:",m);const y=s?`/api/supabase/enquiries/${t}`:"/api/supabase/enquiries";console.log(" Making request to:",y);try{const j=s?await X.patch(y,m):await X.post(y,m);return console.log(" API response received:",j.data),j}catch(j){throw console.error(" API request failed:",j),console.error(" Error details:",{message:j.message,status:(w=j.response)==null?void 0:w.status,statusText:(x=j.response)==null?void 0:x.statusText,data:(p=j.response)==null?void 0:p.data,config:{url:(g=j.config)==null?void 0:g.url,method:(v=j.config)==null?void 0:v.method,baseURL:(N=j.config)==null?void 0:N.baseURL}}),j}},{onSuccess:m=>{console.log(" Mutation success:",m.data);const y=s?"Enquiry updated successfully!":"Enquiry created successfully!";V.success(y),s?e("/enquiries"):(V.success("Redirecting to document verification...",{duration:2e3}),setTimeout(()=>{e("/documents/verification")},1500))},onError:m=>{var w,x;console.error(" Mutation error:",m);const y=((x=(w=m.response)==null?void 0:w.data)==null?void 0:x.message)||m.message||"Something went wrong";console.error(" Error message to show:",y),V.error(y)}});b.useEffect(()=>{if(u){console.log(" Resetting form with enquiry data:",u);const m={name:u.name,mobile:u.mobile,businessType:u.businessType||u.businessName||"",gstNumber:u.gstNumber||u.gst||"",comments:u.comments||"",interestStatus:u.interestStatus||"",assignedStaff:u.assignedStaff||"",enquiryDate:u.enquiryDate||new Date().toISOString().split("T")[0],followUpDate:u.followUpDate||"",additionalComments:u.additionalComments||""};console.log(" Form data being set:",m),l(m)}},[u,s,l]);const h=m=>{var w,x;if(console.log(" Submitting enquiry form with data:",m),console.log(" Form validation - Name:",m.name,"Mobile:",m.mobile),console.log(" API endpoint will be:",s?`/api/supabase/enquiries/${t}`:"/api/supabase/enquiries"),!((w=m.name)!=null&&w.trim())){console.error(" Validation failed: Name is empty"),V.error("Please enter a valid name");return}if(!((x=m.mobile)!=null&&x.match(/^[0-9]{10}$/))){console.error(" Validation failed: Invalid mobile number:",m.mobile),V.error("Please enter a valid 10-digit mobile number");return}console.log(" Client-side validation passed"),m.assignedStaff?console.log(" Enquiry assigned to staff:",m.assignedStaff):console.log(" No staff assigned to this enquiry");const y=V.loading(s?"Updating enquiry...":"Creating enquiry...");console.log(" Starting API request..."),f.mutate(m,{onSettled:()=>{console.log(" API request completed"),V.dismiss(y)}})};return i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(ua,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"View Enquiry":s?"Edit Enquiry":"New Enquiry"}),i.jsx("p",{className:"text-gray-600",children:r?"View enquiry details":s?"Update enquiry information":"Create a new business loan enquiry"})]})]})}),i.jsxs("form",{onSubmit:o(h),className:"card space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{...a("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name",readOnly:r}),c.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),i.jsx("input",{...a("mobile",{required:"Mobile number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}}),type:"tel",className:"input-field",placeholder:"Enter mobile number",readOnly:r}),c.mobile&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.mobile.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),i.jsx("input",{...a("businessType"),type:"text",className:"input-field",placeholder:"Enter business type",readOnly:r})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),i.jsx("input",{...a("gstNumber"),type:"text",className:"input-field",placeholder:"Enter GST number (optional)",readOnly:r})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Status"}),i.jsxs("select",{...a("interestStatus"),className:"input-field",disabled:r,children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"INTERESTED",children:"Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:"Not Interested"}),i.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:"Follow Up Required"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments Status"}),i.jsxs("select",{...a("comments"),className:"input-field",disabled:r,children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"NO_RESPONSE",children:"No Response"}),i.jsx("option",{value:"CHAT_CALL1_COMPLETED",children:"First Call Completed"}),i.jsx("option",{value:"SECOND_CALL_COMPLETED",children:"Second Call Completed"}),i.jsx("option",{value:"THIRD_CALL_COMPLETED",children:"Third Call Completed"}),i.jsx("option",{value:"ELIGIBLE",children:"Eligible"}),i.jsx("option",{value:"NOT_ELIGIBLE",children:"Not Eligible"}),i.jsx("option",{value:"NO_GST",children:"No GST"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Staff Member"}),i.jsxs("select",{...a("assignedStaff"),className:"input-field",disabled:r,children:[i.jsx("option",{value:"",children:"Select staff member (optional)"}),d&&d.map(m=>i.jsxs("option",{value:m.name,children:[m.name," - ",m.role]},m.id))]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a staff member to assign this enquiry to"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enquiry Date *"}),i.jsx("input",{...a("enquiryDate",{required:"Enquiry date is required"}),type:"date",className:"input-field",defaultValue:new Date().toISOString().split("T")[0],readOnly:r}),c.enquiryDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.enquiryDate.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow Up Date"}),i.jsx("input",{...a("followUpDate"),type:"date",className:"input-field",placeholder:"Select follow up date (optional)",readOnly:r}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set a date for follow up if required"})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments"}),i.jsx("textarea",{...a("additionalComments"),rows:4,className:"input-field resize-none",placeholder:"Enter any additional comments or notes about this enquiry...",readOnly:r}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add detailed notes, conversation summary, or any other relevant information"})]})}),!r&&i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/enquiries"),className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"button",onClick:async()=>{console.log(" Testing direct API call..."),console.log(" Current window location:",window.location.origin),console.log(" Testing proxy connection...");try{console.log(" Testing ping endpoint...");const m=await fetch("/api/supabase/ping");console.log(" Ping response status:",m.status);const y=await m.json();if(console.log(" Ping response data:",y),m.ok){const w={name:"Test Business",mobile:"9876543210",businessType:"Trading",gstNumber:"12ABCDE3456F1Z5"};console.log(" Test data:",w);const x=await fetch("/api/supabase/enquiries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});console.log(" Enquiry response status:",x.status);const p=await x.json();console.log(" Enquiry response data:",p),x.ok?V.success("Test API call successful!"):V.error(`Test failed: ${x.status}`)}else V.error("Ping test failed - proxy not working")}catch(m){console.error(" Test API call failed:",m),V.error(`Test API call failed: ${m.message}`)}},className:"btn-secondary",children:"Test API"}),i.jsx(q.button,{type:"submit",disabled:f.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:f.isLoading?s?"Updating...":"Creating...":s?"Update Enquiry":"Create Enquiry"})]})]})]})})}function j0({onUpload:e,accept:t=".pdf",maxSize:n=10*1024*1024}){const[s,r]=b.useState(null),[a,o]=b.useState(0),[l,c]=b.useState(!1),[u,d]=b.useState(!1),f=w=>{if(w.size>n){alert(`File size must be less than ${n/(1024*1024)}MB`);return}if(w.type!=="application/pdf"){alert("Only PDF files are allowed");return}r(w),d(!0),o(0);const x=setInterval(()=>{o(p=>p>=100?(clearInterval(x),d(!1),e(w),100):p+10)},200)},h=w=>{w.preventDefault(),c(!1);const x=w.dataTransfer.files[0];x&&f(x)},m=w=>{w.preventDefault(),c(!0)},y=()=>{c(!1)};return i.jsxs(q.div,{className:`border-2 border-dashed p-8 rounded-lg text-center transition-colors ${l?"border-primary-500 bg-primary-50":u?"border-blue-500 bg-blue-50":"border-gray-300"} ${u?"pointer-events-none opacity-75":""}`,whileHover:{scale:u?1:1.02},transition:{duration:.3},onDrop:u?void 0:h,onDragOver:u?void 0:m,onDragLeave:u?void 0:y,children:[i.jsx(WS,{className:`h-12 w-12 mx-auto mb-4 ${u?"text-blue-500 animate-pulse":"text-gray-400"}`}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:u?"cursor-not-allowed":"cursor-pointer",children:[i.jsx("span",{className:`btn-primary ${u?"opacity-50 cursor-not-allowed":""}`,children:u?"Uploading...":"Choose File"}),i.jsx("input",{type:"file",accept:t,onChange:w=>{var x;return((x=w.target.files)==null?void 0:x[0])&&f(w.target.files[0])},className:"hidden",disabled:u})]})}),i.jsx("p",{className:`text-gray-600 mb-2 ${u?"text-blue-600":""}`,children:u?"Processing your file...":"or drag and drop your file here"}),i.jsxs("p",{className:"text-sm text-gray-500",children:["PDF files only  Max ",n/(1024*1024),"MB"]}),s&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.name}),a>0&&a<100&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:i.jsx(q.div,{className:"bg-primary-600 h-2 rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.3}})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a,"% uploaded"]})]}),a===100&&i.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Upload complete"})]})]})}function V1({isOpen:e,onClose:t,documentName:n,documentType:s,documentUrl:r}){const[a,o]=b.useState(!1),[l,c]=b.useState(!0),[u,d]=b.useState(!1);console.log(" PDFViewer render:",{isOpen:e,documentName:n,documentType:s,documentUrl:r});const f=()=>{d(!u)};if(b.useEffect(()=>{const y=w=>{w.key==="Escape"&&(u?d(!1):t())};if(e)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[e,u,t]),b.useEffect(()=>{e&&(o(!1),c(!0),d(!1))},[e]),!e)return console.log(" PDFViewer not open, returning null"),null;console.log(" PDFViewer is open, rendering modal");const m=(()=>r?(console.log(" Using backend document URL:",r),r):null)();return i.jsx("div",{className:`fixed inset-0 bg-black z-[9999] flex items-center justify-center ${u?"bg-opacity-95":"bg-opacity-50 p-4"}`,onClick:t,children:i.jsxs("div",{className:`bg-white shadow-xl flex flex-col ${u?"w-full h-full":"rounded-lg max-w-4xl w-full max-h-[90vh]"}`,onClick:y=>y.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Documents",children:i.jsx(ua,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),i.jsx("p",{className:"text-sm text-gray-500",children:s.replace("_"," ")})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:f,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:u?"Exit Fullscreen":"Enter Fullscreen",children:u?i.jsx(dS,{className:"h-5 w-5"}):i.jsx(mS,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>{if(m){const y=document.createElement("a");y.href=m,y.download=`${n}.pdf`,y.click()}},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",title:"Download PDF",disabled:!m,children:" Download"}),i.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Cn,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"flex-1 p-4",children:m?i.jsxs("div",{className:"h-full",children:[l&&i.jsxs("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-200 rounded text-sm flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),i.jsxs("span",{children:[" ",i.jsx("strong",{children:"Loading document:"})," ",n]})]}),a?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-8 max-w-md",children:[i.jsx(Zn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"PDF Display Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to display the PDF in the browser. This might be due to browser restrictions or PDF format issues."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:()=>{o(!1),c(!0)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:" Try Again"}),i.jsx("a",{href:m,className:"block w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-center",download:`${n}.pdf`,children:" Download PDF"}),i.jsx("button",{onClick:()=>window.open(m,"_blank"),className:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:" Open in New Tab"})]})]})}):i.jsxs("div",{className:"h-full relative",children:[i.jsx("iframe",{src:`${m}#toolbar=1&navpanes=1&scrollbar=1&page=1&view=FitH&zoom=page-fit`,className:`w-full h-full border border-gray-300 ${u?"min-h-screen":"rounded-lg min-h-[600px]"}`,title:`${n} - PDF Viewer`,onLoad:()=>{console.log(" PDF loaded successfully from:",m),c(!1)},onError:y=>{console.error(" Failed to load PDF:",m,y),o(!0),c(!1)},allow:"fullscreen",children:i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Your browser doesn't support inline PDF viewing."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("a",{href:m,className:"inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mr-2",download:`${n}.pdf`,children:" Download PDF"}),i.jsx("button",{onClick:()=>window.open(m,"_blank"),className:"inline-block px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:" Open in New Tab"})]})]})}),i.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg p-2 flex space-x-2",children:[i.jsx("button",{onClick:()=>window.open(m,"_blank"),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",title:"Open in new tab",children:""}),i.jsx("a",{href:m,download:`${n}.pdf`,className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",title:"Download PDF",children:""})]})]})]}):i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-8",children:[i.jsx(Zn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Document Available"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"No file URL provided for this document."}),i.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Document:"})," ",n]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",s]}),i.jsxs("p",{children:[i.jsx("strong",{children:"File:"})," ",r||"Not specified"]})]})]})})})]})})}const za=[{value:"GST",label:"GST Certificate",required:!0},{value:"UDYAM",label:"Udyam Registration",required:!0},{value:"BANK_STATEMENT",label:"Bank Statement",required:!0},{value:"OWNER_PAN",label:"Owner PAN Card",required:!0},{value:"AADHAR",label:"Aadhar Card",required:!0},{value:"WEBSITE_GATEWAY",label:"Website & Gateway",required:!1},{value:"IE_CODE",label:"IE Code",required:!1}];function WT({isOpen:e,onClose:t,clientId:n,clientName:s,documents:r}){const[a,o]=b.useState({isOpen:!1,documentUrl:"",documentName:"",documentType:""}),{data:l,isLoading:c,error:u}=ve(["documents",n],async()=>{if(!n)return null;console.log(" Fetching documents for client ID:",n);const v=await X.get(`/api/documents/enquiry/${n}`);return console.log(" Documents response:",v.data),v.data},{enabled:e&&!!n,refetchOnWindowFocus:!1});if(!e)return null;if(c)return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading documents..."})]})});if(u)return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[i.jsx("div",{className:"text-red-500 text-center mb-4",children:""}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Documents"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load documents for this client."}),i.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Close"})]})});const d=l||[],f=d.length>0?d[0].enquiry:{name:s,mobile:"",businessType:""},h=new Set(d.map(v=>v.type)),m=za.filter(v=>v.required),y=m.filter(v=>h.has(v.value)),w=m.length>0?Math.round(y.length/m.length*100):0,x=v=>{var N;o({isOpen:!0,documentUrl:`http://localhost:5002/api/documents/${v.id}/view`,documentName:`${v.enquiry.name} - ${((N=za.find(j=>j.value===v.type))==null?void 0:N.label)||v.type}`,documentType:v.type})},p=()=>{o({isOpen:!1,documentUrl:"",documentName:"",documentType:""})},g=v=>{const N=d.find(E=>E.type===v);if(N)return{status:"uploaded",document:N,verified:N.verified};const j=za.find(E=>E.value===v);return{status:j!=null&&j.required?"missing":"optional",document:null,verified:!1}};return i.jsxs(i.Fragment,{children:[i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:v=>v.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f.name}),i.jsxs("p",{className:"text-gray-600",children:[" ",f.mobile,"  ",f.businessType]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Document Portfolio"})]}),i.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Cn,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Completion Status"}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[w,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"font-semibold text-gray-900",children:[y.length,"/",m.length]}),i.jsx("div",{className:"text-gray-600",children:"Required Documents"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:d.filter(v=>v.verified).length}),i.jsx("div",{className:"text-gray-600",children:"Verified Documents"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:d.length}),i.jsx("div",{className:"text-gray-600",children:"Total Uploaded"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:za.map(v=>{const N=g(v.value);return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`border-2 rounded-lg p-4 transition-all duration-200 hover:shadow-md ${N.status==="uploaded"?N.verified?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50":N.status==="missing"?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Zn,{className:`h-6 w-6 mr-2 ${N.status==="uploaded"?N.verified?"text-green-600":"text-yellow-600":N.status==="missing"?"text-red-600":"text-gray-400"}`}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:v.label}),i.jsx("p",{className:"text-xs text-gray-500",children:v.required?"Required":"Optional"})]})]}),i.jsx("div",{className:"flex items-center",children:N.status==="uploaded"?N.verified?i.jsx(Vt,{className:"h-5 w-5 text-green-600"}):i.jsx(Zi,{className:"h-5 w-5 text-yellow-600"}):N.status==="missing"?i.jsx(Zi,{className:"h-5 w-5 text-red-600"}):i.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"})})]}),N.document?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Status: "}),i.jsx("span",{className:`font-medium ${N.verified?"text-green-600":"text-yellow-600"}`,children:N.verified?"Verified":"Pending Verification"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Uploaded: "}),new Date(N.document.uploadedAt).toLocaleDateString()]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"By: "}),N.document.uploadedBy.name]}),i.jsxs("button",{onClick:()=>x(N.document),className:"w-full mt-3 flex items-center justify-center px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 transition-colors",children:[i.jsx(Tt,{className:"h-4 w-4 mr-2"}),"View Document"]})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:`text-sm font-medium ${N.status==="missing"?"text-red-600":"text-gray-500"}`,children:N.status==="missing"?"Missing Document":"Not Required"}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:N.status==="missing"?"This document needs to be uploaded":"This document is optional"})]})]},v.value)})})})]})}),i.jsx(V1,{isOpen:a.isOpen,onClose:p,documentName:a.documentName,documentType:a.documentType,documentUrl:a.documentUrl})]})}function KT(){const[e,t]=b.useState(""),[n,s]=b.useState(""),[r,a]=b.useState(""),[o,l]=b.useState({isOpen:!1,documentUrl:"",documentName:"",documentType:""}),[c,u]=b.useState({isOpen:!1,clientId:0,clientName:""}),d=gt(),f=nn(),{data:h,isLoading:m,error:y}=ve("enquiries",async()=>{var S;console.log(" Fetching enquiries from /enquiries...");try{const R=await X.get("/api/enquiries");return console.log(" Enquiries response:",R.data),R.data}catch(R){if(console.error(" Enquiries fetch error:",R),R.code==="ECONNREFUSED"||(S=R.message)!=null&&S.includes("Network Error"))return console.log(" Backend not available, returning empty enquiries array"),[];throw R}},{staleTime:4*60*1e3,keepPreviousData:!0,onSuccess:S=>{console.log(" Enquiries query success:",(S==null?void 0:S.length)||0,"enquiries")},onError:S=>{console.error(" Enquiries query error:",S)}}),{data:w}=ve("staff-members",async()=>{var S;try{return((S=(await X.get("/api/staff")).data)==null?void 0:S.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3,keepPreviousData:!0}),{data:x,isLoading:p,refetch:g}=ve("documents",async()=>{console.log(" Fetching documents from /documents...");const S=await X.get("/api/documents");return console.log(" Documents response:",S.data),S.data},{staleTime:8*60*1e3,keepPreviousData:!0,onSuccess:S=>{console.log(" Documents query success:",(S==null?void 0:S.length)||0,"documents")},onError:S=>{console.error(" Documents query error:",S)}}),{data:v}=ve(["documentStatus",e],async()=>e?(await X.get(`/api/documents/enquiry/${e}`)).data:null,{enabled:!!e,staleTime:3*60*1e3,keepPreviousData:!0}),N=Te(async({file:S,enquiryId:R,type:M})=>{const Y=new FormData;Y.append("file",S),Y.append("enquiryId",R.toString()),Y.append("type",M);const F=h==null?void 0:h.find(fe=>fe.id===R);return F!=null&&F.assignedStaff&&Y.append("assignedStaff",F.assignedStaff),X.post("/api/documents/upload",Y,{headers:{"Content-Type":"multipart/form-data"}})},{onSuccess:S=>{console.log(" Upload success response:",S.data),V.success("Document uploaded successfully!"),S.data.document&&d.setQueryData("documents",R=>R?[S.data.document,...R]:[S.data.document]),d.invalidateQueries("documents"),d.invalidateQueries(["documentStatus",e]),s("")},onError:S=>{var M,Y,F,fe,nt,rn,zt,Ht,bs,ws;console.error("Upload error:",S);let R="Upload failed";(Y=(M=S.response)==null?void 0:M.data)!=null&&Y.message?R=S.response.data.message:(fe=(F=S.response)==null?void 0:F.data)!=null&&fe.error?R=S.response.data.error:S.message?R=S.message:((nt=S.response)==null?void 0:nt.status)===413?R="File too large. Maximum size is 10MB.":((rn=S.response)==null?void 0:rn.status)===415?R="Unsupported file type. Please upload PDF files only.":((zt=S.response)==null?void 0:zt.status)===400&&((ws=(bs=(Ht=S.response)==null?void 0:Ht.data)==null?void 0:bs.message)!=null&&ws.includes("already exists")?(R=S.response.data.message,s("")):R="Invalid file or missing required information."),V.error(R)}}),j=Te(async S=>X.patch(`/api/documents/${S}/verify`,{verified:!0}),{onSuccess:(S,R)=>{V.success("Document verified successfully!"),d.setQueryData("documents",M=>M&&M.map(Y=>Y.id===R?{...Y,verified:!0,verifiedAt:new Date().toISOString()}:Y)),e&&d.invalidateQueries(["documentStatus",e]),setTimeout(()=>{d.invalidateQueries("documents")},100)},onError:S=>{var R,M;V.error(((M=(R=S.response)==null?void 0:R.data)==null?void 0:M.message)||"Verification failed")}}),E=Te(async S=>X.delete(`/api/documents/${S}`),{onSuccess:(S,R)=>{V.success("Document deleted successfully!"),d.setQueryData("documents",M=>M&&M.filter(Y=>Y.id!==R)),e&&d.invalidateQueries(["documentStatus",e]),setTimeout(()=>{d.invalidateQueries("documents")},100)},onError:S=>{var R,M;V.error(((M=(R=S.response)==null?void 0:R.data)==null?void 0:M.message)||"Delete failed")}}),k=Te(async S=>X.post("/api/shortlist",{enquiryId:S.id,name:S.name||S.businessName,mobile:S.mobile,businessName:S.businessName,businessNature:S.businessType,loanAmount:S.loanAmount||5e5,comments:"Shortlisted from document management"}),{onSuccess:S=>{console.log("Shortlist response:",S.data),V.success(S.data.message||"Client shortlisted successfully!"),d.invalidateQueries("shortlists"),d.invalidateQueries(["shortlists"]),S.data.shortlist&&d.setQueryData(["shortlists",""],R=>R?R.some(Y=>Y.id===S.data.shortlist.id)?R:[S.data.shortlist,...R]:[S.data.shortlist]),setTimeout(()=>{var R;f("/shortlist",{state:{fromAdd:!0,clientName:((R=S.data.shortlist)==null?void 0:R.name)||S.data.name,timestamp:Date.now()}})},1e3)},onError:S=>{var M,Y;console.error("Shortlist error:",S);const R=((Y=(M=S.response)==null?void 0:M.data)==null?void 0:Y.message)||S.message||"Shortlist failed";V.error(`Shortlist failed: ${R}`)}}),P=Te(async({enquiryId:S,staffName:R})=>X.patch(`/enquiries/${S}`,{assignedStaff:R}),{onSuccess:(S,{enquiryId:R,staffName:M})=>{console.log(`Staff ${M} assigned to enquiry ${R}`),d.setQueryData("enquiries",Y=>Y&&Y.map(F=>F.id===R?{...F,assignedStaff:M}:F)),V.success(`Staff assigned to ${M} successfully!`)},onError:S=>{console.error("Staff assignment error:",S),V.error("Failed to assign staff member")}}),L=async S=>{var Y;if(!e||!n||!r){V.error("Please select enquiry, document type, and assign staff before uploading");return}const R=10*1024*1024;if(S.size>R){V.error("File size must be less than 10MB");return}if(S.type!=="application/pdf"){V.error("Only PDF files are allowed");return}if(console.log(" Uploading file:",{name:S.name,size:S.size,type:S.type,enquiryId:e,documentType:n}),((x==null?void 0:x.filter(F=>F.enquiry.id.toString()===e&&F.type===n))||[]).length>0){const F=((Y=ne.find(fe=>fe.value===n))==null?void 0:Y.label)||n;V.error(`${F} already exists for this client. Please select a different document type.`);return}N.mutate({file:S,enquiryId:parseInt(e),type:n})},D=async S=>{var R;try{const Y={isOpen:!0,documentUrl:`http://localhost:5002/api/documents/${S.id}/view`,documentName:`${S.enquiry.name} - ${((R=ne.find(F=>F.value===S.type))==null?void 0:R.label)||S.type}`,documentType:S.type};l(Y)}catch(M){console.error("Error getting document URL:",M),V.error("Failed to load document. Please try again.")}},G=S=>{u({isOpen:!0,clientId:S.id,clientName:S.name})},H=()=>{l({isOpen:!1,documentUrl:"",documentName:"",documentType:""})},U=()=>{u({isOpen:!1,clientId:0,clientName:""})},Q=S=>{window.confirm("Are you sure you want to delete this document?")&&E.mutate(S)},ne=[{value:"GST",label:"GST Certificate",required:!0},{value:"UDYAM",label:"Udyam Registration",required:!0},{value:"BANK_STATEMENT",label:"Bank Statement",required:!0},{value:"OWNER_PAN",label:"Owner PAN Card",required:!0},{value:"AADHAR",label:"Aadhar Card",required:!0},{value:"WEBSITE_GATEWAY",label:"Website & Gateway",required:!1},{value:"IE_CODE",label:"IE Code",required:!1}],I=h==null?void 0:h.find(S=>S.id.toString()===e),se=(x==null?void 0:x.filter(S=>S.enquiry.id.toString()===e))||[],$=se.map(S=>S.type),W=ne.filter(S=>S.required),ee=W.filter(S=>$.includes(S.value)),z=W.length>0?Math.round(ee.length/W.length*100):0,ie=z===100,we=se.length>0&&W.every(S=>{const R=se.find(M=>M.type===S.value);return R&&R.verified}),ge=I==null?void 0:I.shortlist,Se=we&&e;return console.log(" DocumentUpload render state:",{enquiriesLoading:m,enquiriesCount:(h==null?void 0:h.length)||0,enquiriesError:!!y,isLoading:p,documentsCount:(x==null?void 0:x.length)||0}),m&&p?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Document Management"}),i.jsx("p",{className:"text-gray-600",children:"Upload and manage loan application documents"})]}),Se&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card border-green-200 bg-green-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-green-600 text-2xl mr-3",children:""}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-green-900",children:"All Documents Verified!"}),i.jsx("p",{className:"text-green-700",children:"Client is ready for shortlisting"})]})]}),ge?i.jsxs("div",{className:"px-6 py-3 bg-blue-100 text-blue-800 font-semibold rounded-lg flex items-center",children:[i.jsx(Vt,{className:"h-5 w-5 mr-2"}),"Already Shortlisted"]}):i.jsxs("button",{onClick:()=>k.mutate(I),disabled:k.isLoading,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",children:[i.jsx($s,{className:"h-5 w-5 mr-2"}),k.isLoading?"Adding to Shortlist...":"Add to Shortlist"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ne.filter(S=>S.required).map(S=>i.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-green-200",children:[i.jsx(Vt,{className:"h-5 w-5 text-green-600 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-900",children:S.label}),i.jsx("p",{className:"text-sm text-green-600",children:"Verified "})]})]},S.value))}),ne.filter(S=>!S.required).length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"Optional Documents"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ne.filter(S=>!S.required).map(S=>{const R=se.find(M=>M.type===S.value);return i.jsxs("div",{className:"flex items-center p-2 bg-white rounded border border-green-100",children:[R?R.verified?i.jsx(Vt,{className:"h-4 w-4 text-green-600 mr-2"}):i.jsx(Ml,{className:"h-4 w-4 text-yellow-600 mr-2"}):i.jsx("span",{className:"h-4 w-4 rounded-full border-2 border-gray-300 mr-2"}),i.jsxs("span",{className:`text-sm ${R?R.verified?"text-green-700":"text-yellow-700":"text-gray-600"}`,children:[S.label," ",R?R.verified?"":"(Pending)":"(Not uploaded)"]})]},S.value)})})]})]}),!Se&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload New Document"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Enquiry *"}),i.jsxs("select",{value:e,onChange:S=>{const R=S.target.value;if(t(R),s(""),R&&h){const M=h.find(Y=>Y.id.toString()===R);M!=null&&M.assignedStaff?a(M.assignedStaff):a("")}else a("")},className:"input-field",disabled:m,children:[i.jsx("option",{value:"",children:m?"Loading enquiries...":y?"Backend server not available - Please start the backend server":!h||h.length===0?"No enquiries available - Backend may be offline":"Choose enquiry..."}),h==null?void 0:h.map(S=>i.jsxs("option",{value:S.id,children:[S.name," - ",S.mobile," (",S.businessType||"No business type",")",S.assignedStaff?`  Staff: ${S.assignedStaff}`:""]},S.id))]}),!!y&&i.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[i.jsxs("p",{className:"text-sm text-red-600",children:[i.jsx("strong",{children:"Backend Connection Error:"})," Cannot connect to the backend server."]}),i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please ensure the backend server is running on port 5002. Check the console for more details."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Staff *"}),i.jsxs("select",{value:r,onChange:S=>{const R=S.target.value;a(R),e&&R&&P.mutate({enquiryId:parseInt(e),staffName:R})},className:"input-field",disabled:!e,required:!0,children:[i.jsx("option",{value:"",children:e?"Choose staff member...":"Select enquiry first..."}),w&&w.map(S=>i.jsxs("option",{value:S.name,children:[S.name," - ",S.role]},S.id))]}),e&&i.jsx("div",{className:"mt-1",children:r?i.jsxs("p",{className:"text-sm text-green-600",children:[" Staff assigned: ",r]}):i.jsx("p",{className:"text-sm text-red-600",children:"Staff assignment is required before uploading documents"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),i.jsxs("select",{value:n,onChange:S=>s(S.target.value),className:"input-field",disabled:!e,children:[i.jsx("option",{value:"",children:e?"Choose type...":"Select enquiry first..."}),ne.map(S=>{const R=$.includes(S.value);return i.jsxs("option",{value:S.value,disabled:R,children:[S.label," ",S.required?"*":"(Optional)"," ",R?" Already Uploaded":""]},S.value)})]})]})]}),I&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-medium text-blue-900",children:"Selected Client Details"}),i.jsx("button",{onClick:()=>G(I),className:"px-3 py-1 bg-purple-600 text-white text-sm rounded-md hover:bg-purple-700 transition-colors",children:" View All Documents"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Name:"}),i.jsx("span",{className:"ml-2 text-blue-900",children:I.name})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Mobile:"}),i.jsx("span",{className:"ml-2 text-blue-900",children:I.mobile})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Business:"}),i.jsx("span",{className:"ml-2 text-blue-900",children:I.businessType})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Document Completion"}),i.jsxs("span",{className:"text-blue-900 font-semibold",children:[z,"%"]})]}),i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${z}%`}})}),i.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[ee.length," of ",W.length," required documents uploaded"]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-blue-700 font-medium mb-3",children:"Document Status"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ne.map(S=>{var Y,F;const R=se.some(fe=>fe.type===S.value)||((Y=v==null?void 0:v.documents)==null?void 0:Y.some(fe=>fe.type===S.value)),M=se.find(fe=>fe.type===S.value)||((F=v==null?void 0:v.documents)==null?void 0:F.find(fe=>fe.type===S.value));return i.jsxs("div",{className:"flex items-center space-x-2",children:[R?M!=null&&M.verified?i.jsx("span",{className:"text-green-600 text-lg",title:"Verified",children:""}):i.jsx("span",{className:"text-yellow-600 text-lg",title:"Uploaded but not verified",children:""}):S.required?i.jsx("span",{className:"text-red-600 text-lg",title:"Missing required document",children:""}):i.jsx("span",{className:"text-gray-400 text-lg",title:"Optional document",children:""}),i.jsxs("span",{className:`text-sm ${R?M!=null&&M.verified?"text-green-700 font-medium":"text-yellow-700 font-medium":S.required?"text-red-700":"text-gray-600"}`,children:[S.label,S.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"}),R&&i.jsxs("span",{className:"ml-2 text-xs",children:["(",M!=null&&M.verified?"Verified":"Pending Verification",")"]})]})]},S.value)})}),i.jsxs("div",{className:"mt-3 text-xs text-blue-600",children:[i.jsx("span",{className:"text-green-600",children:" Verified"})," ",i.jsx("span",{className:"text-yellow-600 ml-2",children:" Uploaded (Pending)"})," ",i.jsx("span",{className:"text-red-600 ml-2",children:" Missing (Required)"})," ",i.jsx("span",{className:"text-gray-600 ml-2",children:" Optional"})]})]}),ie&&i.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-green-600 text-lg mr-2",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-800 font-semibold",children:"Ready for Shortlist!"}),i.jsx("p",{className:"text-green-700 text-sm",children:"All required documents completed"})]})]}),i.jsx("button",{onClick:()=>k.mutate(I),disabled:k.isLoading||!!(I!=null&&I.shortlist),className:`px-4 py-2 rounded-md transition-colors disabled:opacity-50 ${I!=null&&I.shortlist?"bg-gray-500 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:I!=null&&I.shortlist?" Already Shortlisted":k.isLoading?"Adding...":" Add to Shortlist"})]})})]}),e&&n&&r?i.jsxs("div",{className:"relative",children:[i.jsx(j0,{onUpload:L}),N.isLoading&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:"Uploading document..."})]})})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-gray-50",children:[i.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 text-lg",children:e?r?"Please select a document type to upload":"Please assign a staff member":"Please select an enquiry first"})]})]}),Se&&i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card bg-gray-50 border-gray-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Need to Upload Additional Documents?"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"All required documents are verified. You can still upload optional documents if needed."}),i.jsx("button",{onClick:()=>{const S=document.getElementById("upload-section");S&&S.scrollIntoView({behavior:"smooth"})},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:" Upload Additional Documents"})]})}),Se&&i.jsxs(q.div,{id:"upload-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card border-blue-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Upload Additional Documents"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Enquiry *"}),i.jsxs("select",{value:e,onChange:S=>{const R=S.target.value;if(t(R),s(""),R&&h){const M=h.find(Y=>Y.id.toString()===R);M!=null&&M.assignedStaff?a(M.assignedStaff):a("")}else a("")},className:"input-field",disabled:m,children:[i.jsx("option",{value:"",children:m?"Loading enquiries...":y?"Backend server not available - Please start the backend server":!h||h.length===0?"No enquiries available - Backend may be offline":"Choose enquiry..."}),h==null?void 0:h.map(S=>i.jsxs("option",{value:S.id,children:[S.name," - ",S.mobile," (",S.businessType||"No business type",")",S.assignedStaff?`  Staff: ${S.assignedStaff}`:""]},S.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Staff *"}),i.jsxs("select",{value:r,onChange:S=>{const R=S.target.value;a(R),e&&R&&P.mutate({enquiryId:parseInt(e),staffName:R})},className:"input-field",disabled:!e,required:!0,children:[i.jsx("option",{value:"",children:e?"Choose staff member...":"Select enquiry first..."}),w&&w.map(S=>i.jsxs("option",{value:S.name,children:[S.name," - ",S.role]},S.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),i.jsxs("select",{value:n,onChange:S=>s(S.target.value),className:"input-field",disabled:!e,children:[i.jsx("option",{value:"",children:e?"Choose type...":"Select enquiry first..."}),ne.map(S=>{const R=$.includes(S.value);return i.jsxs("option",{value:S.value,disabled:R,children:[S.label," ",S.required?"*":"(Optional)"," ",R?" Already Uploaded":""]},S.value)})]})]})]}),e&&n&&r?i.jsxs("div",{className:"relative",children:[i.jsx(j0,{onUpload:L}),N.isLoading&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:"Uploading document..."})]})})]}):i.jsxs("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center bg-blue-50",children:[i.jsx(Zn,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),i.jsx("p",{className:"text-blue-600 text-lg",children:e?r?"Please select a document type to upload":"Please assign a staff member":"Please select an enquiry first"})]})]}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Uploaded Documents"}),i.jsx("p",{className:"text-sm text-gray-500",children:p?"Loading...":e?`${(se==null?void 0:se.length)||0} documents for ${I==null?void 0:I.name}`:"Select a client to view documents"})]}),i.jsxs("div",{className:"flex space-x-2",children:[e&&i.jsx("button",{onClick:async()=>{try{const S=await X.post(`/api/documents/remove-duplicates/${e}`);S.data.removed>0?(V.success(`Removed ${S.data.removed} duplicate documents`),g()):V.success("No duplicates found for this enquiry")}catch{V.error("Failed to remove duplicates")}},className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:" Clean Duplicates"}),i.jsx("button",{onClick:()=>{console.log(" Manual refresh clicked"),g(),V.success("Refreshing documents...")},disabled:p,className:`px-3 py-1 text-white text-sm rounded transition-colors ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?" Loading...":" Refresh"})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enquiry"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded By"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading documents..."})]})})}):x&&x.length>0?x==null?void 0:x.filter(S=>e?S.enquiry.id.toString()===e:!0).map(S=>{var R,M,Y,F,fe;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Zn,{className:"h-5 w-5 text-gray-400 mr-2"}),i.jsx("button",{onClick:()=>D(S),className:"text-primary-600 hover:text-primary-900 font-medium",children:"View Document"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[S.enquiry.name,i.jsx("div",{className:"text-xs text-gray-500",children:S.enquiry.mobile})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((R=ne.find(nt=>nt.value===S.type))==null?void 0:R.label)||S.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("div",{className:"flex items-center",children:S.verified?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-5 w-5 text-green-500 mr-1"}),i.jsx("span",{className:"text-green-800 text-sm font-medium",children:"Verified"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Zi,{className:"h-5 w-5 text-yellow-500 mr-1"}),i.jsx("span",{className:"text-yellow-800 text-sm font-medium",children:"Pending"})]})}),S.savedToSupabase&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-4 w-4 text-blue-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-blue-800 text-xs font-medium",children:"Saved to DB"})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.uploadedBy.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(S.uploadedAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[!S.verified&&i.jsx("button",{onClick:()=>j.mutate(S.id),disabled:j.isLoading,className:"text-green-600 hover:text-green-900 disabled:opacity-50",children:"Verify"}),i.jsx("button",{onClick:()=>G(S.enquiry),className:"text-purple-600 hover:text-purple-900",title:"View all documents for this client",children:"View All"}),i.jsx("button",{onClick:()=>k.mutate(S.enquiry),disabled:k.isLoading||!!((M=S.enquiry)!=null&&M.shortlist),className:`font-medium disabled:opacity-50 ${(Y=S.enquiry)!=null&&Y.shortlist?"text-gray-500 cursor-not-allowed":"text-green-600 hover:text-green-900"}`,title:(F=S.enquiry)!=null&&F.shortlist?"Already shortlisted":"Mark this client as shortlisted",children:(fe=S.enquiry)!=null&&fe.shortlist?" Shortlisted":" Shortlist"}),i.jsx("button",{onClick:()=>Q(S.id),disabled:E.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:"Delete"})]})})]},`doc-${S.id}-${S.type}`)}):i.jsx("tr",{children:i.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[i.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No documents uploaded for this client yet."}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Upload documents using the form above to see them listed here."}),i.jsxs("p",{className:"text-blue-600 text-sm mt-2",children:["Selected client: ",I==null?void 0:I.name," - ",I==null?void 0:I.mobile]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"Select a client to view their documents."}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Choose an enquiry from the dropdown above to see uploaded documents."})]})]})})})]})})]}),i.jsx(V1,{isOpen:o.isOpen,onClose:H,documentName:o.documentName,documentType:o.documentType,documentUrl:o.documentUrl}),i.jsx(WT,{isOpen:c.isOpen,onClose:U,clientId:c.clientId,clientName:c.clientName,documents:x||[]})]})}const GT=()=>{const e=gt(),t=nn(),[n,s]=b.useState({}),{data:r,isLoading:a}=ve("documents-verification",async()=>(await X.get("/api/documents")).data,{staleTime:3*60*1e3,keepPreviousData:!0}),{data:o}=ve("staff-members",async()=>{var x;try{return((x=(await X.get("/api/staff")).data)==null?void 0:x.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),l=Te(async({documentId:x,verified:p,enquiryId:g})=>({...await X.patch(`/api/documents/${x}/verify`,{verified:p}),enquiryId:g}),{onSuccess:async x=>{if(V.success("Document verification updated successfully!"),e.invalidateQueries("documents-verification"),x.enquiryId){const v=(await e.fetchQuery("documents-verification",async()=>(await X.get("/api/documents")).data)).reduce((N,j)=>{const E=j.enquiry.id;return N[E]||(N[E]={enquiry:j.enquiry,documents:[]}),N[E].documents.push(j),N},{})[x.enquiryId];if(v){const N=v.documents.every(E=>E.verified),j=v.documents.some(E=>E.enquiry.shortlist);if(N&&!j)try{await X.post("/api/shortlist",{enquiryId:x.enquiryId}),V.success(` All documents verified! ${v.enquiry.name} automatically added to shortlist!`),e.invalidateQueries("documents-verification"),e.invalidateQueries(["shortlists"])}catch(E){console.error("Failed to auto-add to shortlist:",E)}}}},onError:x=>{var p,g;V.error(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to update verification")}}),c=Te(async({enquiryId:x,enquiryData:p})=>X.post("/api/shortlist",{enquiryId:x,name:p.name,mobile:p.mobile,businessName:p.businessName||p.name,businessNature:p.businessType,loanAmount:p.loanAmount||5e5,comments:"Added from document verification - all documents verified"}),{onSuccess:x=>{var g;const p=((g=x.data)==null?void 0:g.name)||"Client";V.success(`${p} added to shortlist successfully!`),e.invalidateQueries(["shortlists"]),e.invalidateQueries("documents-verification"),setTimeout(()=>{t("/shortlist")},1e3)},onError:x=>{var p,g;V.error(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to add to shortlist")}}),u=Te(async({enquiryId:x,staffName:p})=>X.patch(`/api/supabase/enquiries/${x}`,{assignedStaff:p}),{onSuccess:(x,{staffName:p})=>{V.success(`Staff assigned to ${p} successfully!`),e.invalidateQueries("documents-verification")},onError:x=>{console.error("Assignment error:",x),V.error("Failed to assign staff member")}}),d=(x,p,g)=>{l.mutate({documentId:x,verified:p,enquiryId:g})},f=x=>{var j;if(!n[x]){V.error("Please assign a staff member before adding to shortlist");return}const g=r==null?void 0:r.filter(E=>E.enquiry.id===x);if(!(g==null?void 0:g.every(E=>E.verified))){V.error("All documents must be verified before adding to shortlist");return}const N=(j=g==null?void 0:g[0])==null?void 0:j.enquiry;if(!N){V.error("Enquiry data not found");return}c.mutate({enquiryId:x,enquiryData:N})},h=(x,p)=>{p&&(s(g=>({...g,[x]:p})),u.mutate({enquiryId:x,staffName:p}))},m=()=>i.jsx(nd,{className:"h-5 w-5"}),y=x=>x?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[i.jsx(Vt,{className:"h-4 w-4 mr-1"}),"Verified"]}):i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx(Ml,{className:"h-4 w-4 mr-1"}),"Pending"]}),w=r==null?void 0:r.reduce((x,p)=>{const g=p.enquiry.id;return x[g]||(x[g]={enquiry:p.enquiry,documents:[]}),x[g].documents.push(p),x},{});return a?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Document Verification"}),i.jsxs("div",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.length)||0," documents to review"]})]}),w&&Object.keys(w).length>0?i.jsx("div",{className:"space-y-6",children:Object.values(w).map(x=>{const p=x.documents.every(v=>v.verified),g=x.documents.some(v=>v.enquiry.shortlist);return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md border border-gray-200",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.enquiry.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[" ",x.enquiry.mobile,"  ",x.enquiry.businessType||"Business Type Not Specified"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[p&&!g&&i.jsxs("button",{onClick:()=>f(x.enquiry.id),disabled:c.isLoading,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[i.jsx($s,{className:"h-4 w-4 mr-2"}),"Add to Shortlist"]}),g&&i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:" In Shortlist"})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Mr,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign Staff Member ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n[x.enquiry.id]||"",onChange:v=>h(x.enquiry.id,v.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:u.isLoading,required:!0,children:[i.jsx("option",{value:"",children:"Select staff member..."}),o&&o.map(v=>i.jsxs("option",{value:v.name,children:[v.name," - ",v.role]},v.id))]}),!n[x.enquiry.id]&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Staff assignment is required before adding to shortlist"})]})]})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.documents.map(v=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[m(),i.jsxs("div",{className:"ml-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:v.type.replace(/_/g," ")}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(v.uploadedAt).toLocaleDateString()]})]})]}),y(v.verified)]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>window.open(v.s3Url,"_blank"),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[i.jsx(Tt,{className:"h-3 w-3 mr-1"}),"View"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>d(v.id,!0,v.enquiry.id),disabled:l.isLoading,className:`p-1 rounded ${v.verified?"text-green-600 bg-green-100":"text-gray-400 hover:text-green-600 hover:bg-green-100"} transition-colors`,title:"Approve",children:i.jsx(Vt,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>d(v.id,!1,v.enquiry.id),disabled:l.isLoading,className:`p-1 rounded ${v.verified?"text-gray-400 hover:text-red-600 hover:bg-red-100":"text-red-600 bg-red-100"} transition-colors`,title:"Reject",children:i.jsx(Zi,{className:"h-4 w-4"})})]})]})]},v.id))}),i.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-600",children:["Verification Progress: ",x.documents.filter(v=>v.verified).length," / ",x.documents.length," documents verified"]}),i.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.documents.filter(v=>v.verified).length/x.documents.length*100}%`}})})]})})]})]},x.enquiry.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(nd,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents to verify"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"All documents have been processed or no documents have been uploaded yet."})]})]})};function YT(){var v,N;const e=Xl(),[t,n]=b.useState(""),[s,r]=b.useState(!1),[a,o]=b.useState({isOpen:!1,shortlist:null}),l=gt(),c=gn(),u=Te(async({id:j,interestStatus:E})=>{console.log(" Sending status update request:",{id:j,interestStatus:E});const k=await X.patch(`/api/shortlist/${j}`,{interestStatus:E});return console.log(" Status update response:",k.data),k},{onSuccess:(j,E)=>{const k=E.interestStatus==="NOT_INTERESTED"?"Not Interested":"Interested";V.success(`Status updated to: ${k}`),console.log(" Status successfully updated to:",E.interestStatus),console.log(" Backend response:",j.data),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:(j,E)=>{var k,P;console.error(" Status update failed:",j),console.error("Failed variables:",E),l.setQueryData(["shortlists",t],L=>L&&L.map(D=>{if(D.id===E.id){console.log(" Reverting optimistic update for ID:",E.id);const G=E.interestStatus==="NOT_INTERESTED"?"INTERESTED":"NOT_INTERESTED";return{...D,interestStatus:G}}return D})),V.error(`Failed to update status: ${((P=(k=j.response)==null?void 0:k.data)==null?void 0:P.message)||j.message}`)}}),d=(j,E)=>{l.setQueryData(["shortlists",t],k=>k&&k.map(P=>P.id===j?(console.log(" Optimistically updating status for ID:",j,"to:",E),{...P,interestStatus:E}):P)),u.mutate({id:j,interestStatus:E})},f=Te(async j=>{console.log(" Executing DELETE request for shortlist ID:",j);try{await X.get("/api/staff/health"),console.log(" Server is accessible, proceeding with DELETE")}catch(k){throw console.error(" Server not accessible:",k),new Error("Backend server is not running. Please start the server first.")}const E=await X.delete(`/api/shortlist/${j}`);return console.log(" DELETE response received:",E.data),E},{onSuccess:(j,E)=>{console.log(" Delete mutation successful:",j.data),V.success("Shortlist deleted successfully!"),l.setQueryData(["shortlists",t],k=>k&&k.filter(P=>P.id!==E)),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:j=>{var k,P,L,D,G,H,U,Q,ne;console.error(" Delete mutation failed:",j),console.error("Error details:",{message:j.message,status:(k=j.response)==null?void 0:k.status,statusText:(P=j.response)==null?void 0:P.statusText,data:(L=j.response)==null?void 0:L.data,url:(D=j.config)==null?void 0:D.url,method:(G=j.config)==null?void 0:G.method});let E="Failed to delete shortlist";j.message.includes("Backend server is not running")?E="Backend server is not running. Please start the server on port 5001.":((H=j.response)==null?void 0:H.status)===404?E="DELETE endpoint not found. Please ensure backend server is running with Supabase routes.":E=((Q=(U=j.response)==null?void 0:U.data)==null?void 0:Q.message)||`Failed to delete shortlist (${((ne=j.response)==null?void 0:ne.status)||j.message})`,V.error(E)}}),h=(j,E)=>{window.confirm(`Are you sure you want to delete the shortlist for "${E}"? This action cannot be undone.`)&&(console.log(" Attempting to delete shortlist ID:",j),console.log("API endpoint will be:",`/api/shortlist/${j}`),f.mutate(j))},m=j=>{console.log(" Viewing shortlist:",j.name),o({isOpen:!0,shortlist:j})},y=()=>{o({isOpen:!1,shortlist:null})},{data:w,isLoading:x,refetch:p}=ve(["shortlists",t],async()=>{var j,E;try{const k=new URLSearchParams;t&&k.append("name",t);const P=await X.get(`/api/shortlist?${k}`);return console.log(" Shortlist data received:",((j=P.data)==null?void 0:j.length)||0,"items"),console.log(" First shortlist item details:",(E=P.data)==null?void 0:E[0]),P.data||[]}catch(k){return console.error(" Error fetching shortlists:",k),[]}},{staleTime:5*60*1e3,cacheTime:15*60*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:j=>{console.log(" Shortlists query success:",(j==null?void 0:j.length)||0,"shortlists")},onError:j=>{console.error(" Shortlists query error:",j)}});b.useEffect(()=>{var j,E,k;(j=c.state)!=null&&j.fromEdit&&(console.log("Returning from edit page, forcing refresh...",c.state),r(!0),l.clear(),l.invalidateQueries(["shortlists"]),l.invalidateQueries(["shortlist"]),l.invalidateQueries(["cashfree-applications"]),setTimeout(()=>{l.refetchQueries(["shortlists"]),p().finally(()=>{r(!1)})},50)),(E=c.state)!=null&&E.fromAdd&&((k=c.state)!=null&&k.clientName)&&(V.success(` ${c.state.clientName} has been successfully added to shortlist!`),window.history.replaceState({},document.title))},[c.state,l,p,r]);const g=e==="mobile";return x||s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:s?"Refreshing data...":"Loading..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shortlisted Applications"}),i.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[i.jsx("button",{onClick:()=>{console.log(" Manual refresh triggered"),p(),V.success("Refreshing shortlist data...")},className:"btn-outline inline-flex items-center",children:" Refresh"}),i.jsx("button",{onClick:async()=>{var j;try{const E=await X.get("/api/staff/health");V.success("Backend server is running!"),console.log("Server status:",E.data)}catch(E){V.error(`Backend server not accessible: ${((j=E.response)==null?void 0:j.status)||E.message}`),console.error("Server check failed:",E)}},className:"btn-outline inline-flex items-center",children:"Check Server"}),i.jsxs(Ye,{to:"/shortlist/new",className:"btn-primary inline-flex items-center",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"New Shortlist"]})]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:j=>n(j.target.value),className:"input-field pl-10"})]}),i.jsx("button",{onClick:()=>{n(""),p()},className:"btn-secondary",children:"Clear"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:w&&w.length>0?i.jsx("div",{className:`${g?"space-y-4":"overflow-x-auto"}`,children:g?i.jsx("div",{className:"space-y-4",children:w.map(j=>{var E,k,P,L,D,G,H;return i.jsxs(q.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:j.name||((E=j.enquiry)==null?void 0:E.name)}),i.jsxs("select",{value:j.interestStatus||"INTERESTED",onChange:U=>{console.log("Mobile status change:",j.id,"from:",j.interestStatus,"to:",U.target.value),d(j.id,U.target.value)},className:`text-xs border rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-primary-500 transition-colors duration-200 ${j.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${u.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:u.isLoading,children:[i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",j.mobile||((k=j.enquiry)==null?void 0:k.mobile)]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",j.businessNature||j.businessName||((P=j.enquiry)==null?void 0:P.businessType)||"Business"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",(j.loanAmount||((L=j.enquiry)==null?void 0:L.loanAmount)||0).toLocaleString()]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",j.district||((D=j.enquiry)==null?void 0:D.district)||"Location"]}),i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600 mr-2",children:" Loan Status:"}),i.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded",children:"Pending"})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"text-sm text-gray-600 mr-2",children:" Staff:"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:((G=j.staff)==null?void 0:G.name)||j.staff||"Unassigned"}),((H=j.staff)==null?void 0:H.role)&&i.jsx("span",{className:"text-xs text-gray-500",children:j.staff.role})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",new Date(j.createdAt||j.date).toLocaleDateString()]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>m(j),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[i.jsx(Tt,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(Ye,{to:`/shortlist/${j.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[i.jsx(os,{className:"h-4 w-4 mr-1"}),"Edit"]}),!j.cashfreeApplication&&i.jsx(Ye,{to:`/payment-gateway/apply/${j.id}`,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Apply to Payment Gateway"}),i.jsxs("button",{onClick:()=>{var U;return h(j.id,j.name||((U=j.enquiry)==null?void 0:U.name)||"Unknown")},disabled:f.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[i.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},j.id)})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[i.jsx("thead",{className:"bg-indigo-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"District"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Status"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Staff"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((j,E)=>{var k,P,L,D,G,H,U,Q,ne;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.05},className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:E+1}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.createdAt||j.date).toLocaleDateString()}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:i.jsx("div",{className:"truncate",title:j.name||((k=j.enquiry)==null?void 0:k.name),children:j.name||((P=j.enquiry)==null?void 0:P.name)})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:j.mobile||((L=j.enquiry)==null?void 0:L.mobile)}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:i.jsx("div",{className:"truncate",title:j.businessNature||j.businessName||((D=j.enquiry)==null?void 0:D.businessType)||"Business",children:j.businessNature||j.businessName||((G=j.enquiry)==null?void 0:G.businessType)||"Business"})}),i.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",(j.loanAmount||((H=j.enquiry)==null?void 0:H.loanAmount)||0).toLocaleString()]}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:j.district||((U=j.enquiry)==null?void 0:U.district)||"N/A"}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:i.jsxs("select",{value:j.interestStatus||"INTERESTED",onChange:I=>{console.log("Desktop status change:",j.id,"from:",j.interestStatus,"to:",I.target.value),d(j.id,I.target.value)},className:`text-sm border rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 ${j.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${u.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:u.isLoading,children:[i.jsx("option",{value:"INTERESTED",children:" Interested"}),i.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"})]})}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-gray-900",children:((Q=j.staff)==null?void 0:Q.name)||j.staff||"Unassigned"}),((ne=j.staff)==null?void 0:ne.role)&&i.jsx("span",{className:"text-xs text-gray-500",children:j.staff.role})]})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>m(j),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Shortlist Details",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx(Ye,{to:`/shortlist/${j.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Shortlist",children:i.jsx(os,{className:"h-4 w-4"})}),!j.cashfreeApplication&&i.jsx(Ye,{to:`/payment-gateway/apply/${j.id}`,className:"text-green-600 hover:text-green-900",title:"Apply to Payment Gateway",children:"Apply"}),i.jsx("button",{onClick:()=>{var I;return h(j.id,j.name||((I=j.enquiry)==null?void 0:I.name)||"Unknown")},disabled:f.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Shortlist",children:i.jsx(Qs,{className:"h-4 w-4"})})]})})]},j.id)})})]})})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No shortlisted applications found."}),i.jsxs(Ye,{to:"/shortlist/new",className:"btn-primary inline-flex items-center mt-4",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"Create First Shortlist"]})]})}),a.isOpen&&a.shortlist&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Shortlist Details - ",a.shortlist.name]}),i.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"mt-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.mobile||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.district||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.createdAt?new Date(a.shortlist.createdAt).toLocaleDateString():"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Business Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.businessName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Nature"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.businessNature||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Constitution"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.propPvt||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Status"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.gstStatus||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Financial Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loan Amount"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",a.shortlist.loanAmount?a.shortlist.loanAmount.toLocaleString():"N/A"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CAP Amount"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["",a.shortlist.cap?a.shortlist.cap.toLocaleString():"N/A"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Account"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.bankAccount||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Statement Duration"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.shortlist.bankStatementDuration||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Assignment & Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:((v=a.shortlist.staff)==null?void 0:v.name)||a.shortlist.staff||"Unassigned"}),((N=a.shortlist.staff)==null?void 0:N.role)&&i.jsx("p",{className:"text-xs text-gray-500",children:a.shortlist.staff.role})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.shortlist.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:a.shortlist.interestStatus==="NOT_INTERESTED"?" Not Interested":" Interested"})]})]})]}),a.shortlist.comments&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Comments"}),i.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:a.shortlist.comments})]})]}),i.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[i.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),i.jsxs(Ye,{to:`/shortlist/${a.shortlist.id}/edit`,onClick:y,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[i.jsx(os,{className:"h-4 w-4 mr-2"}),"Edit Shortlist"]})]})]})})})]})}function N0(){const e=nn(),{id:t}=Ll(),n=!!t,s=gt(),{register:r,handleSubmit:a,reset:o,control:l,formState:{errors:c}}=Js(),u=ai({control:l,name:"hasGst"}),d=ai({control:l,name:"hasBusinessPan"}),f=ai({control:l,name:"hasIec"}),h=ai({control:l,name:"hasWebsite"}),m=ai({control:l,name:"hasGateway"}),{data:y}=ve("staff-members",async()=>{var g;try{return((g=(await X.get("/api/staff")).data)==null?void 0:g.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),{data:w}=ve(["shortlist",t],async()=>t?(await X.get(`/api/shortlist/${t}`)).data:null,{enabled:n}),x=Te(async g=>{if(console.log("Submitting shortlist form data:",g),console.log("Key fields being sent - loanAmount:",g.loanAmount,"district:",g.district,"staff:",g.staff),n){const v=await X.patch(`/api/shortlist/${t}`,g);return console.log("PATCH response:",v.data),v}else{const v=await X.post("/api/shortlist",g);return console.log("POST response:",v.data),v}},{onSuccess:async g=>{V.success(n?"Shortlist updated successfully!":"Shortlist created successfully!"),console.log("Shortlist update/create successful:",g.data),s.clear(),s.invalidateQueries(["shortlists"]),s.invalidateQueries(["shortlist"]),s.invalidateQueries(["cashfree-applications"]),await s.refetchQueries(["shortlists"]),setTimeout(()=>{e("/shortlist",{state:{fromEdit:!0,timestamp:Date.now()}})},100)},onError:g=>{var v,N;V.error(((N=(v=g.response)==null?void 0:v.data)==null?void 0:N.message)||"Something went wrong")}});b.useEffect(()=>{w&&o({name:w.name,mobile:w.mobile,businessName:w.businessName||"",businessNature:w.businessNature||"",district:w.district||"",propPvt:w.propPvt||"",hasGst:w.hasGst||"",gst:w.gst||"",hasBusinessPan:w.hasBusinessPan||"",businessPan:w.businessPan||"",hasIec:w.hasIec||"",iec:w.iec||"",hasNewCurrentAccount:w.hasNewCurrentAccount||"",newCurrentAccount:w.newCurrentAccount||!1,hasWebsite:w.hasWebsite||"",website:w.website||"",hasGateway:w.hasGateway||"",gateway:w.gateway||"",transaction:w.transaction||"",bankStatementDuration:w.bankStatementDuration||"",loanAmount:w.loanAmount||0,cap:w.cap||0,bankAccount:w.bankAccount||"",comments:w.comments||"",staff:w.staff||"",gstStatus:w.gstStatus||"",date:w.date||new Date().toISOString().split("T")[0]})},[w,o]);const p=g=>{x.mutate(g)};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(ua,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Shortlist":"New Shortlist"}),i.jsx("p",{className:"text-gray-600",children:n?"Update shortlist information":"Create a new shortlisted application"})]})]})}),i.jsxs("form",{onSubmit:a(p),className:"card space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{...r("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name"}),c.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),i.jsx("input",{...r("mobile",{required:"Mobile number is required"}),type:"tel",className:"input-field",placeholder:"Enter mobile number"}),c.mobile&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.mobile.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District"}),i.jsx("input",{...r("district"),type:"text",className:"input-field",placeholder:"Enter district"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),i.jsx("input",{...r("date"),type:"date",className:"input-field"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),i.jsx("input",{...r("businessName"),type:"text",className:"input-field",placeholder:"Enter business name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Nature"}),i.jsx("input",{...r("businessNature"),type:"text",className:"input-field",placeholder:"Enter business nature"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constitution of Business (Prop/PVT)"}),i.jsxs("select",{...r("propPvt"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select type"}),i.jsx("option",{value:"Proprietorship",children:"Proprietorship"}),i.jsx("option",{value:"Private Limited",children:"Private Limited"}),i.jsx("option",{value:"Partnership",children:"Partnership"}),i.jsx("option",{value:"LLP",children:"LLP"}),i.jsx("option",{value:"Public Limited",children:"Public Limited"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST"}),i.jsxs("select",{...r("hasGst"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),u==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),i.jsx("input",{...r("gst"),type:"text",className:"input-field",placeholder:"Enter GST number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card"}),i.jsxs("select",{...r("hasBusinessPan"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),d==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card Number"}),i.jsx("input",{...r("businessPan"),type:"text",className:"input-field",placeholder:"Enter business PAN card number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code"}),i.jsxs("select",{...r("hasIec"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),f==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code Number"}),i.jsx("input",{...r("iec"),type:"text",className:"input-field",placeholder:"Enter IEC code number"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financial Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount"}),i.jsx("input",{...r("loanAmount",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter loan amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CAP Amount"}),i.jsx("input",{...r("cap",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter CAP amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account"}),i.jsx("input",{...r("bankAccount"),type:"text",className:"input-field",placeholder:"Enter bank account details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Statement Duration"}),i.jsxs("select",{...r("bankStatementDuration"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select duration"}),i.jsx("option",{value:"6 months",children:"6 months"}),i.jsx("option",{value:"12 months",children:"12 months"}),i.jsx("option",{value:"18 months",children:"18 months"}),i.jsx("option",{value:"24 months",children:"24 months"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Current Account"}),i.jsxs("select",{...r("hasNewCurrentAccount"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Online Presence"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),i.jsxs("select",{...r("hasWebsite"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),h==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),i.jsx("input",{...r("website"),type:"url",className:"input-field",placeholder:"Enter website URL"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway"}),i.jsxs("select",{...r("hasGateway"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select option"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),m==="yes"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Gateway Details"}),i.jsx("input",{...r("gateway"),type:"text",className:"input-field",placeholder:"Enter payment gateway details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Details"}),i.jsx("input",{...r("transaction"),type:"text",className:"input-field",placeholder:"Enter transaction details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Status"}),i.jsxs("select",{...r("gstStatus"),className:"input-field",children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"Active",children:"Active"}),i.jsx("option",{value:"Inactive",children:"Inactive"}),i.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Staff Assignment"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Staff Member *"}),i.jsxs("select",{...r("staff",{required:"Staff assignment is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select staff member..."}),y&&y.map(g=>i.jsxs("option",{value:g.name,children:[g.name," - ",g.role," (",g.department,")"]},g.id))]}),c.staff&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.staff.message}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select the staff member responsible for this shortlisted application"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),i.jsx("textarea",{...r("comments"),rows:4,className:"input-field",placeholder:"Enter any additional comments..."})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/shortlist"),className:"btn-secondary",children:"Cancel"}),i.jsx(q.button,{type:"submit",disabled:x.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:x.isLoading?n?"Updating...":"Creating...":n?"Update Shortlist":"Create Shortlist"})]})]})]})})}function ZT(){const e=Xl(),t=gn(),[n,s]=b.useState(""),[r,a]=b.useState(""),o=gt();b.useEffect(()=>{var x,p;(x=t.state)!=null&&x.message&&((p=t.state)==null?void 0:p.type)==="success"&&(V.success(t.state.message),window.history.replaceState({},document.title))},[t.state]);const{data:l,isLoading:c,refetch:u,error:d}=ve(["cashfree-applications",n,r],async()=>{try{console.log(" Fetching payment gateway applications...");const p=(await Pi.get("/api/cashfree").catch(v=>(console.warn(" Payment gateway API error:",v.message),{data:[]}))).data||[];console.log(" Fetched payment gateway applications:",p.length);let g=p;return n&&(g=g.filter(v=>{var N,j,E,k,P,L,D;return((j=(N=v.shortlist)==null?void 0:N.name)==null?void 0:j.toLowerCase().includes(n.toLowerCase()))||((k=(E=v.shortlist)==null?void 0:E.mobile)==null?void 0:k.includes(n))||((D=(L=(P=v.shortlist)==null?void 0:P.enquiry)==null?void 0:L.name)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))})),r&&(g=g.filter(v=>v.status===r)),console.log(" Returning filtered payment gateway applications:",g.length),console.log(" Sample application data:",g[0]),g}catch(x){return console.error(" Error fetching payment gateway data:",x),[]}},{staleTime:5*60*1e3,cacheTime:15*60*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:x=>{var p;console.log(" Payment applications query success:",(x==null?void 0:x.length)||0,"applications"),x&&x.length>0&&(console.log(" First application details:",x[0]),console.log(" Shortlist data:",(p=x[0])==null?void 0:p.shortlist))},onError:x=>{console.error(" Payment applications query error:",x)}}),f=Te(async({id:x,status:p})=>Pi.patch(`/api/cashfree/${x}/status`,{status:p}),{onSuccess:()=>{V.success("Status updated successfully!"),o.invalidateQueries("cashfree-applications")},onError:x=>{var p,g;V.error(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to update status")}}),h=Te(async x=>Pi.delete(`/api/cashfree/${x}`),{onSuccess:(x,p)=>{var g;V.success(((g=x.data)==null?void 0:g.message)||"Payment application deleted successfully!"),o.setQueryData(["cashfree-applications",n,r],v=>v&&v.filter(N=>N.id!==p)),o.invalidateQueries("cashfree-applications")},onError:x=>{var p,g;V.error(((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to delete payment application")}}),m=x=>{h.mutate(x)},y=e==="mobile",w=x=>{switch(x){case"PENDING":return"bg-yellow-100 text-yellow-800";case"TRANSACTION_DONE":return"bg-green-100 text-green-800";case"CLOSED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment gateway applications..."})]})}):d?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),i.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Applications"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the payment gateway applications."}),i.jsx("button",{onClick:()=>u(),className:"btn-primary",children:"Try Again"})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),i.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:n,onChange:x=>s(x.target.value),className:"input-field pl-10"})]}),i.jsxs("select",{value:r,onChange:x=>a(x.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"PENDING",children:"Pending"}),i.jsx("option",{value:"TRANSACTION_DONE",children:"Transaction Done"}),i.jsx("option",{value:"CLOSED",children:"Closed"})]}),i.jsx("button",{onClick:()=>{s(""),a(""),u()},className:"btn-secondary",children:"Clear Filters"}),i.jsx("button",{onClick:()=>{o.invalidateQueries(["cashfree-applications"]),u()},className:"btn-primary",children:"Refresh Data"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:l&&l.length>0?i.jsx("div",{className:`${y?"space-y-4":"overflow-x-auto"}`,children:y?i.jsx("div",{className:"space-y-4",children:l.map(x=>{var p;return i.jsxs(q.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:x.shortlist.name}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w(x.status)}`,children:x.status.replace("_"," ")})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",x.shortlist.mobile]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",x.shortlist.businessType||x.shortlist.businessName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",((p=x.shortlist.loanAmount)==null?void 0:p.toLocaleString())||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",new Date(x.submittedAt).toLocaleDateString()]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.status==="PENDING"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>f.mutate({id:x.id,status:"TRANSACTION_DONE"}),disabled:f.isLoading,className:"text-green-600 hover:text-green-800 text-sm font-medium disabled:opacity-50",children:"Mark Done"}),i.jsx("button",{onClick:()=>f.mutate({id:x.id,status:"CLOSED"}),disabled:f.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Close"})]}),i.jsx("button",{onClick:()=>m(x.id),disabled:h.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})]})]},x.id)})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[i.jsx("thead",{className:"bg-indigo-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),i.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted By"}),i.jsx("th",{className:"w-44 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((x,p)=>{var g,v;return i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.05},className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p+1}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.submittedAt).toLocaleDateString()}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:i.jsx("div",{className:"truncate",title:x.shortlist.name,children:x.shortlist.name})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:x.shortlist.mobile}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:i.jsx("div",{className:"truncate",title:x.shortlist.businessType||x.shortlist.businessName||"N/A",children:x.shortlist.businessType||x.shortlist.businessName||"N/A"})}),i.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",((g=x.shortlist.loanAmount)==null?void 0:g.toLocaleString())||"N/A"]}),i.jsx("td",{className:"w-28 px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${w(x.status)}`,children:x.status.replace("_"," ")})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((v=x.submittedBy)==null?void 0:v.name)||"N/A"}),i.jsxs("td",{className:"w-44 px-4 py-4 whitespace-nowrap text-sm font-medium",children:[i.jsxs("div",{className:"flex gap-1 items-center",children:[x.status==="PENDING"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>f.mutate({id:x.id,status:"TRANSACTION_DONE"}),disabled:f.isLoading,className:"text-green-600 hover:text-green-900 disabled:opacity-50 text-xs px-1",children:"Mark Done"}),i.jsx("button",{onClick:()=>f.mutate({id:x.id,status:"CLOSED"}),disabled:f.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",children:"Close"})]}),i.jsx("button",{onClick:()=>m(x.id),disabled:h.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",title:"Delete Application",children:"Delete"})]}),x.decisionDate&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Decision: ",new Date(x.decisionDate).toLocaleDateString()]})]})]},x.id)})})]})})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Af,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Gateway Applications"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"No applications have been submitted to the payment gateway yet."}),i.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[i.jsx("p",{children:"To create payment gateway applications:"}),i.jsx("p",{children:"1. Go to Shortlist Applications"}),i.jsx("p",{children:'2. Click "Apply" on a shortlisted client'}),i.jsx("p",{children:"3. Submit the payment gateway application"})]}),i.jsx("button",{onClick:()=>u(),className:"btn-outline mt-4",children:" Refresh Data"})]})}),l&&l.length>0&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(x=>x.status==="PENDING").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pending Applications"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(x=>x.status==="TRANSACTION_DONE").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Completed Transactions"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(x=>x.status==="CLOSED").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Closed Applications"})]})]})]})}function JT(){var f;const e=nn(),{id:t}=Ll(),n=gt(),{register:s,handleSubmit:r,reset:a,formState:{errors:o}}=Js(),{data:l,isLoading:c}=ve(["shortlist",t],async()=>{const h=await X.get(`/api/shortlist/${t}`);return console.log("Fetched shortlist data for payment gateway form:",h.data),h.data},{enabled:!!t,staleTime:0,cacheTime:0}),u=Te(async h=>(console.log("Submitting payment gateway application with data:",h),X.post("/api/cashfree/apply",{...h,shortlistId:parseInt(t),status:"PENDING",appliedAt:new Date})),{onSuccess:async h=>{V.success("Payment gateway application submitted successfully!");try{await X.post(`/api/shortlist/${t}/payment-gateway-applied`,h.data.application)}catch(m){console.log("Failed to mark shortlist as having payment gateway application:",m)}h.data.application&&n.setQueryData(["cashfree-applications"],m=>m?[h.data.application,...m]:[h.data.application]),n.invalidateQueries(["cashfree-applications"]),n.invalidateQueries(["shortlists"]),n.invalidateQueries(["shortlist"]),e("/payment-gateway",{state:{message:"Payment gateway application submitted successfully!",type:"success"}})},onError:h=>{var m,y;V.error(((y=(m=h.response)==null?void 0:m.data)==null?void 0:y.message)||"Application submission failed")}});b.useEffect(()=>{l&&(console.log("Pre-filling payment gateway form with shortlist data:",l),console.log("Loan amount from shortlist:",l.loanAmount),a({loanAmount:l.loanAmount||0,tenure:12,interestRate:12.5,processingFee:2.5,purpose:"Business Expansion",bankAccount:l.bankAccount||"",panCard:l.businessPan||"",salarySlips:!1,itrReturns:!0,businessProof:!0,addressProof:!0}))},[l,a]);const d=h=>{u.mutate(h)};return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(ua,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Loan Application"}),i.jsxs("p",{className:"text-gray-600",children:["Apply for loan through payment gateway for: ",i.jsx("span",{className:"font-semibold",children:(f=l==null?void 0:l.enquiry)==null?void 0:f.name})]})]})]})}),i.jsxs("form",{onSubmit:r(d),className:"card space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Loan Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount () *"}),i.jsx("input",{...s("loanAmount",{required:"Loan amount is required",min:5e4}),type:"number",className:"input-field",placeholder:"Enter loan amount"}),o.loanAmount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.loanAmount.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenure (Months) *"}),i.jsxs("select",{...s("tenure",{required:"Tenure is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select tenure"}),i.jsx("option",{value:"6",children:"6 Months"}),i.jsx("option",{value:"12",children:"12 Months"}),i.jsx("option",{value:"18",children:"18 Months"}),i.jsx("option",{value:"24",children:"24 Months"}),i.jsx("option",{value:"36",children:"36 Months"})]}),o.tenure&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.tenure.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate (%)"}),i.jsx("input",{...s("interestRate",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"12.5"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee (%)"}),i.jsx("input",{...s("processingFee",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"2.5"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose *"}),i.jsxs("select",{...s("purpose",{required:"Purpose is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select purpose"}),i.jsx("option",{value:"Business Expansion",children:"Business Expansion"}),i.jsx("option",{value:"Working Capital",children:"Working Capital"}),i.jsx("option",{value:"Equipment Purchase",children:"Equipment Purchase"}),i.jsx("option",{value:"Inventory",children:"Inventory"}),i.jsx("option",{value:"Other",children:"Other"})]}),o.purpose&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.purpose.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collateral"}),i.jsx("input",{...s("collateral"),type:"text",className:"input-field",placeholder:"Property, Gold, etc."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bank Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Number *"}),i.jsx("input",{...s("bankAccount",{required:"Bank account is required"}),type:"text",className:"input-field",placeholder:"Enter bank account number"}),o.bankAccount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.bankAccount.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code *"}),i.jsx("input",{...s("ifscCode",{required:"IFSC code is required"}),type:"text",className:"input-field",placeholder:"Enter IFSC code"}),o.ifscCode&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.ifscCode.message})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Document Checklist"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("salarySlips"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Salary Slips (Last 3 months)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("itrReturns"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"ITR Returns (Last 2 years)"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("businessProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Business Registration Proof"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{...s("addressProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Address Proof"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),i.jsx("textarea",{...s("remarks"),rows:4,className:"input-field",placeholder:"Any additional information..."})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/shortlist"),className:"btn-secondary",children:"Cancel"}),i.jsx(q.button,{type:"submit",disabled:u.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.isLoading?"Submitting...":"Submit Application"})]})]})]})})}function XT(){const[e,t]=b.useState(!1),[n,s]=b.useState(""),[r,a]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState({}),[d,f]=b.useState(null),[h,m]=b.useState(!1),[y,w]=b.useState({1:"Active",2:"Active",3:"Active",4:"Inactive",5:"Active",6:"Active",7:"Active"}),x=gt(),{register:p,handleSubmit:g,reset:v,setValue:N,formState:{errors:j}}=Js(),{data:E,isLoading:k,refetch:P}=ve("staff",async()=>(await X.get("/api/staff")).data,{staleTime:4*60*1e3,keepPreviousData:!0}),{data:L}=ve("staff-stats",async()=>(await X.get("/api/staff/stats/summary")).data,{staleTime:5*60*1e3,keepPreviousData:!0}),D=(E==null?void 0:E.staff)||[],G=(L==null?void 0:L.stats)||{},H=Te(async S=>X.post("/api/staff",S),{onMutate:async S=>{await x.cancelQueries("staff"),await x.cancelQueries("staff-stats");const R=x.getQueryData("staff"),M=x.getQueryData("staff-stats"),Y={id:Date.now(),name:S.name,email:S.email,role:S.role,status:"PENDING",hasAccess:!1,department:S.department||"",position:S.position||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return x.setQueryData("staff",F=>({...F,staff:[...(F==null?void 0:F.staff)||[],Y]})),x.setQueryData("staff-stats",F=>{var fe,nt,rn,zt,Ht;return{...F,stats:{...F==null?void 0:F.stats,totalStaff:(((fe=F==null?void 0:F.stats)==null?void 0:fe.totalStaff)||0)+1,employeeCount:S.role==="EMPLOYEE"?(((nt=F==null?void 0:F.stats)==null?void 0:nt.employeeCount)||0)+1:((rn=F==null?void 0:F.stats)==null?void 0:rn.employeeCount)||0,adminCount:S.role==="ADMIN"?(((zt=F==null?void 0:F.stats)==null?void 0:zt.adminCount)||0)+1:((Ht=F==null?void 0:F.stats)==null?void 0:Ht.adminCount)||0}}}),{previousStaff:R,previousStats:M}},onSuccess:S=>{const R=S.data.emailSent?" Verification email sent successfully!":" Failed to send verification email - check SMTP settings";V.success(`Staff member created! ${R}`),t(!1),v(),setTimeout(()=>{x.invalidateQueries("staff"),x.invalidateQueries("staff-stats")},100)},onError:(S,R,M)=>{var Y,F;M!=null&&M.previousStaff&&x.setQueryData("staff",M.previousStaff),M!=null&&M.previousStats&&x.setQueryData("staff-stats",M.previousStats),V.error(((F=(Y=S.response)==null?void 0:Y.data)==null?void 0:F.message)||"Failed to create staff member")}}),U=Te(async S=>X.delete(`/api/staff/${S}`),{onMutate:async S=>{await x.cancelQueries("staff"),await x.cancelQueries("staff-stats");const R=x.getQueryData("staff"),M=x.getQueryData("staff-stats"),Y=D.find(F=>F.id===S);return x.setQueryData("staff",F=>{var fe;return{...F,staff:((fe=F==null?void 0:F.staff)==null?void 0:fe.filter(nt=>nt.id!==S))||[]}}),Y&&x.setQueryData("staff-stats",F=>{var fe,nt,rn,zt,Ht,bs,ws;return{...F,stats:{...F==null?void 0:F.stats,totalStaff:Math.max(0,(((fe=F==null?void 0:F.stats)==null?void 0:fe.totalStaff)||0)-1),employeeCount:Y.role==="EMPLOYEE"?Math.max(0,(((nt=F==null?void 0:F.stats)==null?void 0:nt.employeeCount)||0)-1):((rn=F==null?void 0:F.stats)==null?void 0:rn.employeeCount)||0,adminCount:Y.role==="ADMIN"?Math.max(0,(((zt=F==null?void 0:F.stats)==null?void 0:zt.adminCount)||0)-1):((Ht=F==null?void 0:F.stats)==null?void 0:Ht.adminCount)||0,activeStaff:Y.status==="ACTIVE"?Math.max(0,(((bs=F==null?void 0:F.stats)==null?void 0:bs.activeStaff)||0)-1):((ws=F==null?void 0:F.stats)==null?void 0:ws.activeStaff)||0}}}),{previousStaff:R,previousStats:M}},onSuccess:()=>{V.success("Staff member deleted successfully!"),setTimeout(()=>{x.invalidateQueries("staff"),x.invalidateQueries("staff-stats")},100)},onError:(S,R,M)=>{var Y,F;M!=null&&M.previousStaff&&x.setQueryData("staff",M.previousStaff),M!=null&&M.previousStats&&x.setQueryData("staff-stats",M.previousStats),V.error(((F=(Y=S.response)==null?void 0:Y.data)==null?void 0:F.message)||"Failed to delete staff member")}}),Q=Te(async S=>X.post(`/api/staff/${S}/revoke-access`),{onMutate:async S=>{await x.cancelQueries("staff");const R=x.getQueryData("staff");return x.setQueryData("staff",M=>{var Y;return{...M,staff:((Y=M==null?void 0:M.staff)==null?void 0:Y.map(F=>F.id===S?{...F,hasAccess:!1,status:"INACTIVE"}:F))||[]}}),{previousStaff:R}},onSuccess:()=>{V.success("Access revoked successfully! Notification sent via email."),setTimeout(()=>{x.invalidateQueries("staff"),x.invalidateQueries("staff-stats")},100)},onError:(S,R,M)=>{var Y,F;M!=null&&M.previousStaff&&x.setQueryData("staff",M.previousStaff),V.error(((F=(Y=S.response)==null?void 0:Y.data)==null?void 0:F.message)||"Failed to revoke access")}}),ne=Te(async S=>X.post(`/api/staff/${S}/grant-access`),{onMutate:async S=>{await x.cancelQueries("staff");const R=x.getQueryData("staff");return x.setQueryData("staff",M=>{var Y;return{...M,staff:((Y=M==null?void 0:M.staff)==null?void 0:Y.map(F=>F.id===S?{...F,hasAccess:!0,status:"ACTIVE"}:F))||[]}}),{previousStaff:R}},onSuccess:S=>{V.success(`Access granted! ${S.data.newAccessLinkSent?"New access link sent via email.":"Failed to send email."}`),setTimeout(()=>{x.invalidateQueries("staff"),x.invalidateQueries("staff-stats")},100)},onError:(S,R,M)=>{var Y,F;M!=null&&M.previousStaff&&x.setQueryData("staff",M.previousStaff),V.error(((F=(Y=S.response)==null?void 0:Y.data)==null?void 0:F.message)||"Failed to grant access")}}),I=Te(async S=>X.post(`/api/staff/resend-verification/${S}`),{onSuccess:S=>{V.success(`Verification email ${S.data.emailSent?"sent successfully!":"failed to send."}`),setTimeout(()=>{x.invalidateQueries("staff")},100)},onError:S=>{var R,M;V.error(((M=(R=S.response)==null?void 0:R.data)==null?void 0:M.message)||"Failed to resend verification email")}}),se=S=>{H.mutate(S)},$=S=>{u(R=>({...R,[S]:!R[S]}))},W=S=>{window.confirm("Are you sure you want to delete this staff member?")&&U.mutate(S)},ee=S=>{f(S),m(!0)},z=S=>{w(R=>({...R,[S]:R[S]==="Active"?"Inactive":"Active"}))},ie=D==null?void 0:D.filter(S=>S.name.toLowerCase().includes(n.toLowerCase())||S.email.toLowerCase().includes(n.toLowerCase())),we=S=>{switch(S){case"SUPER_ADMIN":return"bg-purple-100 text-purple-800";case"ADMIN":return"bg-blue-100 text-blue-800";case"EMPLOYEE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ge=S=>({1:3,2:2,3:4,4:0,5:1,6:2,7:1})[S]||0,Se=S=>({1:"Rajesh Kumar, Priya Sharma, Amit Patel",2:"Sunita Gupta, Vikram Singh",3:"Anita Desai, Ravi Mehta, Sanjay Joshi, Kavita Rao",4:null,5:"Deepak Verma",6:"Neha Agarwal, Rohit Sharma",7:"Manish Gupta"})[S]||null;return k?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-7 gap-4",children:D&&D.slice(0,7).map(S=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-white",children:S.name.split(" ").map(R=>R[0]).join("").substring(0,2)})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:S.name}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:S.role})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Clients Taken"}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${y[S.id]==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y[S.id]==="Active"?"":""})]}),i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ge(S.id)}),i.jsx("div",{className:"text-xs text-gray-500",children:ge(S.id)===1?"Client":"Clients"})]})]})]},S.id))}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage team members and their roles"})]}),i.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[i.jsxs("button",{onClick:()=>P(),className:"btn-secondary inline-flex items-center",children:[i.jsx(Yo,{className:"h-5 w-5 mr-2"}),"Refresh"]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:()=>{a("ADMIN"),t(!0),setTimeout(()=>N("role","ADMIN"),100)},className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg inline-flex items-center shadow-md hover:shadow-lg transition-all duration-200",children:[i.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Add Admin"]}),i.jsxs("button",{onClick:()=>{a("EMPLOYEE"),t(!0),setTimeout(()=>N("role","EMPLOYEE"),100)},className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg inline-flex items-center shadow-md hover:shadow-lg transition-all duration-200",children:[i.jsx($s,{className:"h-5 w-5 mr-2"}),"Add Employee"]})]})]})]}),e&&i.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>{t(!1),a(null),l(null),v()},className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",title:"Back to Staff Management",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:o?`Edit ${o.name}`:r==="ADMIN"?"Add New Admin":r==="EMPLOYEE"?"Add New Employee":"Add New Staff Member"}),i.jsx("p",{className:"text-sm text-gray-500",children:o?`Update ${o.role.toLowerCase()} account details`:r==="ADMIN"?"Create admin account with full access":r==="EMPLOYEE"?"Create employee account with limited access":"Fill details and send verification email"})]})]}),i.jsx("button",{onClick:()=>{t(!1),a(null),l(null),v()},className:"text-gray-400 hover:text-gray-600",children:i.jsx(Cn,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:g(se),className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{...p("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input-field",placeholder:"Enter full name"}),j.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),i.jsx("input",{...p("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter email address"}),j.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.email.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",o?"(leave blank to keep current)":"*"]}),i.jsx("input",{...p("password",{required:o?!1:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input-field",placeholder:o?"Leave blank to keep current password":"Enter password"}),j.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.password.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),i.jsxs("select",{...p("role",{required:"Role is required"}),className:`input-field ${r?"bg-gray-100 cursor-not-allowed":""}`,disabled:!!r,children:[i.jsx("option",{value:"",children:"Select Role"}),i.jsx("option",{value:"ADMIN",children:"Admin"}),i.jsx("option",{value:"EMPLOYEE",children:"Employee"})]}),j.role&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.role.message})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{t(!1),a(null),l(null),v()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:H.isLoading,className:"btn-primary disabled:opacity-50",children:H.isLoading?o?"Updating...":"Creating...":o?"Update Staff":"Create Staff & Send Access Link"})]})]})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search staff members...",value:n,onChange:S=>s(S.target.value),className:"input-field pl-10"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:ie&&ie.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden shadow-sm",children:[i.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Sl No"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Password"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Client Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Available"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Last Login"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.map((S,R)=>i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.05},className:"hover:bg-blue-50 transition-all duration-200 border-b border-gray-100",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:R+1})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:i.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-white",children:S.name.split(" ").map(M=>M[0]).join("").substring(0,2)})})}),i.jsx("div",{className:"ml-4",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:S.email})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-900 font-mono",children:c[S.id]?S.password||"12345678":""}),i.jsx("button",{onClick:()=>$(S.id),className:"text-gray-400 hover:text-gray-600 transition-colors",title:c[S.id]?"Hide password":"Show password",children:c[S.id]?i.jsx(Zo,{className:"h-4 w-4"}):i.jsx(Tt,{className:"h-4 w-4"})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${we(S.role)}`,children:S.role})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${S.status==="ACTIVE"?"bg-green-100 text-green-800 border border-green-200":S.status==="PENDING"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:S.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:Se(S.id)?i.jsxs("div",{className:"max-w-xs",children:[i.jsx("div",{className:"truncate font-medium",title:Se(S.id)||"",children:Se(S.id)}),i.jsxs("div",{className:"text-xs text-gray-500",children:[ge(S.id)," ",ge(S.id)===1?"client":"clients"]})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-green-600 font-medium",children:"Available for Assignment"}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Ready for New Client"})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("button",{onClick:()=>z(S.id),className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full cursor-pointer transition-all duration-200 hover:shadow-md ${y[S.id]==="Active"?"bg-green-100 text-green-800 border border-green-200 hover:bg-green-200":"bg-red-100 text-red-800 border border-red-200 hover:bg-red-200"}`,title:`Click to toggle to ${y[S.id]==="Active"?"Inactive":"Active"}`,children:y[S.id]==="Active"?i.jsx(i.Fragment,{children:" Active"}):i.jsx(i.Fragment,{children:" Inactive"})})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:S.lastLogin?new Date(S.lastLogin).toLocaleDateString():"Never"}),i.jsx("div",{className:"text-xs text-gray-500",children:S.lastLogin?new Date(S.lastLogin).toLocaleTimeString():"No login yet"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("button",{onClick:()=>ee(S),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded-md text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors",title:"View Staff Details",children:i.jsx(Tt,{className:"h-4 w-4"})}),S.status==="PENDING"&&i.jsx("button",{onClick:()=>I.mutate(S.id),disabled:I.isLoading,className:"inline-flex items-center px-2 py-1 border border-orange-300 rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 disabled:opacity-50 transition-colors",title:"Resend Verification Email",children:i.jsx(n5,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>{l(S),a(S.role),t(!0),setTimeout(()=>{N("name",S.name),N("email",S.email),N("role",S.role)},100)},className:"inline-flex items-center px-2 py-1 border border-blue-300 rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",title:"Edit Staff Member",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),S.hasAccess?i.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to revoke access for this staff member?")&&Q.mutate(S.id)},disabled:Q.isLoading,className:"inline-flex items-center px-2 py-1 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 transition-colors",title:"Revoke Access",children:i.jsx(Cn,{className:"h-4 w-4"})}):i.jsx("button",{onClick:()=>ne.mutate(S.id),disabled:ne.isLoading,className:"inline-flex items-center px-2 py-1 border border-green-300 rounded-md text-green-700 bg-green-50 hover:bg-green-100 disabled:opacity-50 transition-colors",title:"Grant Access",children:i.jsx(Tf,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>W(S.id),disabled:U.isLoading,className:"inline-flex items-center px-2 py-1 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 transition-colors",title:"Delete Staff",children:i.jsx(Qs,{className:"h-4 w-4"})})]})})]},S.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx($s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 text-lg",children:"No staff members found."}),i.jsxs("button",{onClick:()=>t(!0),className:"btn-primary inline-flex items-center mt-4",children:[i.jsx($s,{className:"h-5 w-5 mr-2"}),"Invite First Staff Member"]})]})}),D&&D.length>0&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.totalStaff||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Staff"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:G.activeStaff||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:G.adminCount||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Admins"})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:G.employeeCount||0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Employees"})]})]}),h&&d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Member Details"}),i.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(Cn,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-xl font-medium text-white",children:d.name.split(" ").map(S=>S[0]).join("").substring(0,2)})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:d.name}),i.jsx("p",{className:"text-gray-600",children:d.email})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${we(d.role)}`,children:d.role})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${d.status==="ACTIVE"?"bg-green-100 text-green-800 border border-green-200":d.status==="PENDING"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:d.status})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded",children:c[d.id]?d.password||"12345678":""}),i.jsx("button",{onClick:()=>$(d.id),className:"text-gray-400 hover:text-gray-600 transition-colors",title:c[d.id]?"Hide password":"Show password",children:c[d.id]?i.jsx(Zo,{className:"h-4 w-4"}):i.jsx(Tt,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available"}),i.jsx("button",{onClick:()=>z(d.id),className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full cursor-pointer transition-all duration-200 hover:shadow-md ${y[d.id]==="Active"?"bg-green-100 text-green-800 border border-green-200 hover:bg-green-200":"bg-red-100 text-red-800 border border-red-200 hover:bg-red-200"}`,title:`Click to toggle to ${y[d.id]==="Active"?"Inactive":"Active"}`,children:y[d.id]==="Active"?i.jsx(i.Fragment,{children:" Active"}):i.jsx(i.Fragment,{children:" Inactive"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),i.jsx("div",{className:"text-sm text-gray-900",children:d.lastLogin?new Date(d.lastLogin).toLocaleDateString():"Never"}),i.jsx("div",{className:"text-xs text-gray-500",children:d.lastLogin?new Date(d.lastLogin).toLocaleTimeString():"No login yet"})]})]})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),i.jsx("span",{className:"ml-2 text-gray-600",children:new Date(d.createdAt).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Updated:"}),i.jsx("span",{className:"ml-2 text-gray-600",children:new Date(d.updatedAt).toLocaleDateString()})]})]})})]}),i.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Close"}),i.jsx("button",{onClick:()=>{l(d),a(d.role),m(!1),t(!0),setTimeout(()=>{N("name",d.name),N("email",d.email),N("role",d.role)},100)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Edit Staff"})]})]})})]})}function eA(){const e=Xl(),[t,n]=b.useState(""),[s,r]=b.useState(!1),[a,o]=b.useState({isOpen:!1,transaction:null}),l=gt(),c=gn(),u=Te(async p=>{console.log(" Executing DELETE request for transaction ID:",p);const g=await X.delete(`/api/transactions/${p}`);return console.log(" DELETE response received:",g.data),g},{onSuccess:(p,g)=>{console.log(" Delete mutation successful:",p.data),V.success("Transaction deleted successfully!"),l.setQueryData(["transactions",t],v=>v&&v.filter(N=>N.id!==g)),setTimeout(()=>{l.invalidateQueries(["transactions"])},100)},onError:p=>{var g,v;console.error(" Delete mutation failed:",p),V.error(((v=(g=p.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to delete transaction")}}),d=(p,g)=>{window.confirm(`Are you sure you want to delete the transaction "${g}"? This action cannot be undone.`)&&(console.log(" Attempting to delete transaction ID:",p),u.mutate(p))},f=p=>{console.log(" Viewing transaction:",p.name),o({isOpen:!0,transaction:p})},h=()=>{o({isOpen:!1,transaction:null})},{data:m,isLoading:y,refetch:w}=ve(["transactions",t],async()=>{const p=new URLSearchParams;t&&p.append("name",t);const g=await X.get(`/api/transactions?${p}`);return console.log("Transaction data received:",g.data),g.data},{staleTime:2*60*1e3,keepPreviousData:!0});b.useEffect(()=>{var p,g,v;(p=c.state)!=null&&p.fromAdd&&((g=c.state)!=null&&g.transactionName)&&(V.success(` ${c.state.transactionName} transaction has been successfully added!`),window.history.replaceState({},document.title)),(v=c.state)!=null&&v.fromEdit&&(console.log("Returning from edit page, forcing refresh...",c.state),r(!0),l.clear(),l.invalidateQueries(["transactions"]),setTimeout(()=>{l.refetchQueries(["transactions"]),w().finally(()=>{r(!1)})},50))},[c.state,l,w,r]);const x=e==="mobile";return y||s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:s?"Refreshing data...":"Loading..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),i.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[i.jsx("button",{onClick:()=>{console.log(" Manual refresh triggered"),w(),V.success("Refreshing transaction data...")},className:"btn-outline inline-flex items-center",children:" Refresh"}),i.jsxs(Ye,{to:"/transactions/new",className:"btn-primary inline-flex items-center",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"New Transaction"]})]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Hs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:p=>n(p.target.value),className:"input-field pl-10"})]}),i.jsx("button",{onClick:()=>{n(""),w()},className:"btn-secondary",children:"Clear"})]})}),i.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:m&&m.length>0?i.jsx("div",{className:`${x?"space-y-4":"overflow-x-auto"}`,children:x?i.jsx("div",{className:"space-y-4",children:m.map(p=>i.jsxs(q.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:p.name}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p.status==="COMPLETED"?"bg-green-100 text-green-800":p.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:p.status})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",new Date(p.date).toLocaleDateString()]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",new Date(p.date).toLocaleTimeString()]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",p.transactionId]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",p.amount.toLocaleString()]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[i.jsx(Tt,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(Ye,{to:`/transactions/${p.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[i.jsx(os,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:u.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[i.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},p.id))}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[i.jsx("thead",{className:"bg-indigo-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),i.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Time"}),i.jsx("th",{className:"w-40 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Transaction ID"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((p,g)=>i.jsxs(q.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.05},className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g+1}),i.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:i.jsx("div",{className:"truncate",title:p.name,children:p.name})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.date).toLocaleDateString()}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.date).toLocaleTimeString()}),i.jsx("td",{className:"w-40 px-4 py-4 text-sm text-gray-500",children:i.jsx("div",{className:"truncate",title:p.transactionId,children:p.transactionId})}),i.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",p.amount.toLocaleString()]}),i.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p.status==="COMPLETED"?"bg-green-100 text-green-800":p.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:p.status})}),i.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>f(p),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Transaction Details",children:i.jsx(Tt,{className:"h-4 w-4"})}),i.jsx(Ye,{to:`/transactions/${p.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Transaction",children:i.jsx(os,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>d(p.id,p.name),disabled:u.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Transaction",children:i.jsx(Qs,{className:"h-4 w-4"})})]})})]},p.id))})]})})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500 text-lg",children:"No transactions found."}),i.jsxs(Ye,{to:"/transactions/new",className:"btn-primary inline-flex items-center mt-4",children:[i.jsx(Is,{className:"h-5 w-5 mr-2"}),"Create First Transaction"]})]})}),a.isOpen&&a.transaction&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Transaction Details - ",a.transaction.name]}),i.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"mt-4 space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.transaction.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(a.transaction.date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(a.transaction.date).toLocaleTimeString()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction ID"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:a.transaction.transactionId})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",a.transaction.amount.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.transaction.status==="COMPLETED"?"bg-green-100 text-green-800":a.transaction.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.transaction.status})]})]})}),i.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[i.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),i.jsxs(Ye,{to:`/transactions/${a.transaction.id}/edit`,onClick:h,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[i.jsx(os,{className:"h-4 w-4 mr-2"}),"Edit Transaction"]})]})]})})})]})}function S0(){const e=nn(),{id:t}=Ll(),n=!!t,s=gt(),{register:r,handleSubmit:a,reset:o,formState:{errors:l}}=Js(),{data:c}=ve(["transaction",t],async()=>t?(await X.get(`/api/transactions/${t}`)).data:null,{enabled:n}),u=Te(async f=>{if(console.log("Submitting transaction form data:",f),n){const h=await X.patch(`/api/transactions/${t}`,f);return console.log("PATCH response:",h.data),h}else{const h=await X.post("/api/transactions",f);return console.log("POST response:",h.data),h}},{onSuccess:async f=>{V.success(n?"Transaction updated successfully!":"Transaction created successfully!"),console.log("Transaction update/create successful:",f.data),s.clear(),s.invalidateQueries(["transactions"]),s.invalidateQueries(["transaction"]),await s.refetchQueries(["transactions"]),setTimeout(()=>{var h;e("/transactions",{state:{fromAdd:!n,fromEdit:n,transactionName:((h=f.data.transaction)==null?void 0:h.name)||f.data.name,timestamp:Date.now()}})},100)},onError:f=>{var h,m;V.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Something went wrong")}});b.useEffect(()=>{if(c){const f=c.date?new Date(c.date):new Date;o({name:c.name,date:f.toISOString().split("T")[0],time:f.toTimeString().split(" ")[0].substring(0,5),transactionId:c.transactionId,amount:c.amount,status:c.status})}},[c,o]);const d=f=>{const h=`${f.date}T${f.time}:00.000Z`,m={...f,date:h};u.mutate(m)};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{type:"button",onClick:()=>e("/transactions"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[i.jsx(ua,{className:"h-4 w-4 mr-2"}),"Back to Transactions"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Transaction":"New Transaction"}),i.jsx("p",{className:"text-gray-600",children:n?"Update transaction information":"Create a new transaction record"})]})]})}),i.jsxs("form",{onSubmit:a(d),className:"card space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),i.jsx("input",{...r("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter transaction name"}),l.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),i.jsx("input",{...r("date",{required:"Date is required"}),type:"date",className:"input-field"}),l.date&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.date.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),i.jsx("input",{...r("time",{required:"Time is required"}),type:"time",className:"input-field"}),l.time&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.time.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID *"}),i.jsx("input",{...r("transactionId",{required:"Transaction ID is required"}),type:"text",className:"input-field",placeholder:"Enter transaction ID"}),l.transactionId&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.transactionId.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),i.jsx("input",{...r("amount",{required:"Amount is required",min:{value:.01,message:"Amount must be greater than 0"}}),type:"number",step:"0.01",className:"input-field",placeholder:"Enter amount"}),l.amount&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.amount.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),i.jsxs("select",{...r("status",{required:"Status is required"}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select status"}),i.jsx("option",{value:"PENDING",children:"Pending"}),i.jsx("option",{value:"COMPLETED",children:"Completed"}),i.jsx("option",{value:"FAILED",children:"Failed"})]}),l.status&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.status.message})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>e("/transactions"),className:"btn-secondary",children:"Cancel"}),i.jsx(q.button,{type:"submit",disabled:u.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:u.isLoading?n?"Updating...":"Creating...":n?"Update Transaction":"Create Transaction"})]})]})]})})}const tA=["Manufacturing","Trading","Service","Retail","Wholesale","Construction","Transportation","Agriculture","Technology","Healthcare","Education","Hospitality","Other"],nA=()=>{const[e,t]=b.useState(!1),n=nn(),{register:s,handleSubmit:r,formState:{errors:a},reset:o}=Js(),l=async c=>{var u,d,f,h,m,y,w;t(!0);try{console.log(" Submitting loan application:",c);const x=await Pi.post("/api/enquiries",{name:c.name,mobile:c.mobile,businessType:c.businessType||null,businessName:c.businessName||null,source:"ONLINE_APPLICATION",interestStatus:"INTERESTED"});console.log(" Application submitted successfully:",x.data),x.data&&(_e.success("Application submitted successfully! We will contact you soon."),o(),setTimeout(()=>{n("/")},2e3))}catch(x){console.error(" Error submitting application:",x),console.error(" Error details:",{status:(u=x.response)==null?void 0:u.status,statusText:(d=x.response)==null?void 0:d.statusText,data:(f=x.response)==null?void 0:f.data,message:x.message});let p="Failed to submit application. Please try again.";((h=x.response)==null?void 0:h.status)===404?p="Service not available. Please try again later.":((m=x.response)==null?void 0:m.status)===500?p="Server error. Please try again later.":(w=(y=x.response)==null?void 0:y.data)!=null&&w.message?p=x.response.data.message:x.message.includes("Network Error")&&(p="Network error. Please check your connection and try again."),_e.error(p)}finally{t(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Loan Application"}),i.jsx("p",{className:"text-gray-600",children:"Apply for a business loan in just a few steps"})]}),i.jsxs("form",{onSubmit:r(l),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"name",...s("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter your full name"}),a.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-2",children:["Mobile Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"tel",id:"mobile",...s("mobile",{required:"Mobile number is required",pattern:{value:/^[6-9]\d{9}$/,message:"Please enter a valid 10-digit mobile number"}}),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.mobile?"border-red-300":"border-gray-300"}`,placeholder:"Enter your mobile number",maxLength:10}),a.mobile&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.mobile.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"businessType",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Type ",i.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),i.jsxs("select",{id:"businessType",...s("businessType"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select business type"}),tA.map(c=>i.jsx("option",{value:c,children:c},c))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",i.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),i.jsx("input",{type:"text",id:"businessName",...s("businessName"),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your business name"})]}),i.jsx("button",{type:"submit",disabled:e,className:`w-full py-3 px-4 rounded-md text-white font-medium transition-colors ${e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}`,children:e?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Application"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-sm text-gray-500",children:"By submitting this form, you agree to our terms and conditions."})})]})})})};class sA{constructor(t){ba(this,"results",[]);ba(this,"queryClient");this.queryClient=t}async testAllEndpoints(){console.log(" Starting comprehensive auto-refresh test...");const t=[{page:"Dashboard",endpoint:"/api/enquiries",queryKey:"dashboard-data"},{page:"Enquiry List",endpoint:"/api/enquiries",queryKey:"enquiries"},{page:"Document Verification",endpoint:"/api/documents",queryKey:"documents-verification"},{page:"Document Upload",endpoint:"/api/documents",queryKey:"documents"},{page:"Shortlist",endpoint:"/api/shortlist",queryKey:"shortlists"},{page:"Payment Gateway",endpoint:"/api/cashfree",queryKey:"cashfree-applications"},{page:"Staff Management",endpoint:"/api/staff",queryKey:"staff"}];for(const n of t)await this.testEndpoint(n.page,n.endpoint,n.queryKey);return this.results}async testEndpoint(t,n,s){try{console.log(` Testing ${t} - ${n}`);const r=await fetch(n),a=await r.json();if(r.ok){const o=this.queryClient.getQueryData(s);this.results.push({page:t,endpoint:n,status:"success",message:` API working, data count: ${Array.isArray(a)?a.length:"N/A"}${o?", cached data exists":", no cached data"}`,timestamp:new Date().toISOString(),dataCount:Array.isArray(a)?a.length:void 0}),console.log(` ${t} test passed`)}else throw new Error(`HTTP ${r.status}: ${r.statusText}`)}catch(r){this.results.push({page:t,endpoint:n,status:"error",message:` ${r.message}`,timestamp:new Date().toISOString()}),console.error(` ${t} test failed:`,r.message)}}async testCacheInvalidation(){console.log(" Testing cache invalidation...");const t=["dashboard-data","enquiries","documents","documents-verification","shortlists","cashfree-applications","staff"];for(const n of t)try{const s=this.queryClient.getQueryData(n);await this.queryClient.invalidateQueries(n),await new Promise(a=>setTimeout(a,1e3));const r=this.queryClient.getQueryData(n);this.results.push({page:`Cache Test - ${n}`,endpoint:"cache-invalidation",status:"success",message:` Cache invalidated successfully. Before: ${s?"exists":"empty"}, After: ${r?"exists":"empty"}`,timestamp:new Date().toISOString()}),console.log(` Cache invalidation test passed for ${n}`)}catch(s){this.results.push({page:`Cache Test - ${n}`,endpoint:"cache-invalidation",status:"error",message:` Cache invalidation failed: ${s.message}`,timestamp:new Date().toISOString()}),console.error(` Cache invalidation test failed for ${n}:`,s.message)}}async testAutoRefreshIntervals(){console.log(" Testing auto-refresh intervals...");const t=35e3,n=Date.now(),s={"dashboard-data":this.queryClient.getQueryData("dashboard-data"),enquiries:this.queryClient.getQueryData("enquiries"),shortlists:this.queryClient.getQueryData("shortlists")};return new Promise(r=>{const a=setInterval(()=>{if(Date.now()-n>=t){clearInterval(a);const l={"dashboard-data":this.queryClient.getQueryData("dashboard-data"),enquiries:this.queryClient.getQueryData("enquiries"),shortlists:this.queryClient.getQueryData("shortlists")};let c=!1;for(const[u,d]of Object.entries(s)){const f=l[u];if(d!==f){c=!0;break}}this.results.push({page:"Auto-refresh Monitor",endpoint:"interval-refresh",status:c?"success":"error",message:c?` Auto-refresh detected within ${t/1e3}s`:` No auto-refresh detected within ${t/1e3}s`,timestamp:new Date().toISOString()}),console.log(c?" Auto-refresh test passed":" Auto-refresh test failed - no refresh detected"),r()}},5e3)})}generateReport(){const t=this.results.filter(r=>r.status==="success").length,n=this.results.filter(r=>r.status==="error").length;let s=`
 AUTO-REFRESH FUNCTIONALITY TEST REPORT
==========================================

 Summary:
- Total Tests: ${this.results.length}
- Passed: ${t} 
- Failed: ${n} 
- Success Rate: ${(t/this.results.length*100).toFixed(1)}%

 Detailed Results:
`;return this.results.forEach((r,a)=>{s+=`
${a+1}. ${r.page}
   Endpoint: ${r.endpoint}
   Status: ${r.status==="success"?" PASS":" FAIL"}
   Message: ${r.message}
   Time: ${new Date(r.timestamp).toLocaleTimeString()}
   ${r.dataCount!==void 0?`Data Count: ${r.dataCount}`:""}
`}),s+=`
==========================================
Test completed at: ${new Date().toLocaleString()}
`,s}clearResults(){this.results=[]}}const rA=()=>{const[e,t]=b.useState(!1),[n,s]=b.useState([]),[r,a]=b.useState(""),o=gt(),l=async()=>{t(!0),s([]),a("Initializing tests...");try{const h=new sA(o);a("Testing API endpoints..."),await h.testAllEndpoints(),a("Testing cache invalidation..."),await h.testCacheInvalidation();const m=h.results;s(m);const y=h.generateReport();console.log(y);const w=m.filter(p=>p.status==="success").length,x=m.length;V.success(`Tests completed! ${w}/${x} passed`),a(`Completed: ${w}/${x} tests passed`)}catch(h){console.error("Test execution failed:",h),V.error(`Test execution failed: ${h.message}`),a(`Failed: ${h.message}`)}finally{t(!1)}},c=()=>{s([]),a("")},u=()=>{a("Manually refreshing all queries..."),["dashboard-data","enquiries","documents","documents-verification","shortlists","cashfree-applications","staff"].forEach(m=>{o.invalidateQueries(m)}),V.success("Manual refresh triggered for all queries"),a("Manual refresh completed")},d=h=>h==="success"?"":"",f=h=>h==="success"?"text-green-600":"text-red-600";return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Auto-Refresh Functionality Test"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:l,disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:e?i.jsxs(i.Fragment,{children:[i.jsx(z5,{className:"h-4 w-4 mr-2"}),"Running..."]}):i.jsxs(i.Fragment,{children:[i.jsx(O5,{className:"h-4 w-4 mr-2"}),"Run Tests"]})}),i.jsxs("button",{onClick:u,disabled:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Manual Refresh"]}),i.jsx("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear Results"})]})]}),r&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:i.jsx("p",{className:"text-sm text-blue-800",children:r})}),n.length>0&&i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((h,m)=>i.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:m*.1},className:`p-4 border rounded-lg ${h.status==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:h.page}),i.jsx("span",{className:"text-lg",children:d(h.status)})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:i.jsx("code",{className:"bg-gray-100 px-1 rounded",children:h.endpoint})}),i.jsx("p",{className:`text-sm ${f(h.status)} mb-2`,children:h.message}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[i.jsx("span",{children:new Date(h.timestamp).toLocaleTimeString()}),h.dataCount!==void 0&&i.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[h.dataCount," items"]})]})]},m))}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Tests"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(h=>h.status==="success").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Passed"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.filter(h=>h.status==="error").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Testing Instructions"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsx("li",{children:' Click "Run Tests" to verify all API endpoints and cache functionality'}),i.jsx("li",{children:' Use "Manual Refresh" to trigger immediate data refresh across all pages'}),i.jsx("li",{children:" Check browser console for detailed logs and reports"}),i.jsx("li",{children:" Navigate between pages to verify data persistence"}),i.jsx("li",{children:" Refresh the browser page to test data persistence after reload"})]})]})]})},iA=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!0),[r,a]=b.useState(0),o=gt(),l=[{key:"enquiries",endpoint:"/api/enquiries",label:"Enquiries"},{key:"shortlists",endpoint:"/api/shortlist",label:"Shortlist"},{key:"documents",endpoint:"/api/documents",label:"Documents"},{key:"staff",endpoint:"/api/staff",label:"Staff"},{key:"cashfree",endpoint:"/api/cashfree",label:"Payment Gateway"}],c=async x=>{try{const g=(await X.get(x)).data;return{endpoint:x,status:"success",data:g,lastUpdated:new Date().toLocaleTimeString(),dataCount:Array.isArray(g)?g.length:Array.isArray(g==null?void 0:g.staff)?g.staff.length:void 0}}catch(p){return{endpoint:x,status:"error",error:p.message,lastUpdated:new Date().toLocaleTimeString()}}},u=async()=>{t(g=>g.map(v=>({...v,status:"loading"})));const x=await Promise.all(l.map(({endpoint:g})=>c(g)));t(x),a(g=>g+1);const p=x.filter(g=>g.status==="success").length;V.success(`Test completed: ${p}/${x.length} endpoints working`)};b.useEffect(()=>{u()},[]),b.useEffect(()=>{if(!n)return;const x=setInterval(()=>{console.log(" Auto-refresh triggered by test page"),u()},3e4);return()=>clearInterval(x)},[n]);const{data:d}=ve("enquiries",()=>X.get("/api/enquiries").then(x=>x.data),{staleTime:3*60*1e3,keepPreviousData:!0}),{data:f}=ve("shortlists",()=>X.get("/api/shortlist").then(x=>x.data),{staleTime:2*60*1e3,keepPreviousData:!0}),{data:h}=ve("documents",()=>X.get("/api/documents").then(x=>x.data),{staleTime:8*60*1e3,keepPreviousData:!0}),m=x=>{switch(x){case"loading":return i.jsx(Ml,{className:"h-5 w-5 text-yellow-500 animate-spin"});case"success":return i.jsx(Vt,{className:"h-5 w-5 text-green-500"});case"error":return i.jsx(Zi,{className:"h-5 w-5 text-red-500"})}},y=x=>{switch(x){case"loading":return"border-yellow-200 bg-yellow-50";case"success":return"border-green-200 bg-green-50";case"error":return"border-red-200 bg-red-50"}},w=()=>{["enquiries","shortlists","documents","staff","cashfree","dashboard-data"].forEach(p=>{o.invalidateQueries(p)}),V.success("All caches invalidated - data will refresh automatically")};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Persistence & Auto-Refresh Test"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:n,onChange:x=>s(x.target.checked),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh (30s)"})]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Refreshes: ",r]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[i.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Test All Endpoints"]}),i.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[i.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Invalidate Caches"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Endpoint Status"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((x,p)=>{var g;return i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:`p-4 border rounded-lg ${y(x.status)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:((g=l.find(v=>v.endpoint===x.endpoint))==null?void 0:g.label)||x.endpoint}),m(x.status)]}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:i.jsx("code",{className:"bg-gray-100 px-1 rounded",children:x.endpoint})}),x.status==="success"&&i.jsxs("div",{className:"space-y-1",children:[x.dataCount!==void 0&&i.jsxs("p",{className:"text-sm text-green-700",children:[" ",x.dataCount," items found"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",x.lastUpdated]})]}),x.status==="error"&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm text-red-700",children:[" ",x.error]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Failed at: ",x.lastUpdated]})]}),x.status==="loading"&&i.jsx("p",{className:"text-sm text-yellow-700",children:" Testing..."})]},x.endpoint)})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"React Query Cache Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Enquiries Cache"}),i.jsx("p",{className:"text-sm text-gray-600",children:d?` ${Array.isArray(d)?d.length:"N/A"} items cached`:" No cache"})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Shortlist Cache"}),i.jsx("p",{className:"text-sm text-gray-600",children:f?` ${Array.isArray(f)?f.length:"N/A"} items cached`:" No cache"})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Documents Cache"}),i.jsx("p",{className:"text-sm text-gray-600",children:h?` ${Array.isArray(h)?h.length:"N/A"} items cached`:" No cache"})]})]})]}),i.jsx(rA,{}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Testing Instructions"}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Auto-refresh:"})," This page automatically tests endpoints every 30 seconds when enabled"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Manual test:"}),' Click "Test All Endpoints" to immediately check all API endpoints']}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Cache test:"}),' Click "Invalidate Caches" to test cache refresh functionality']}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Navigation test:"})," Navigate to other pages and return - data should persist"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Refresh test:"})," Refresh the browser page - data should remain visible"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Console logs:"})," Check browser console for detailed refresh activity"]})]})]})]})};function aA(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})}function oA(){const{isAuthenticated:e,user:t,loading:n}=ys();return n?i.jsx(aA,{}):i.jsxs(km,{children:[i.jsx(Ee,{path:"/apply",element:i.jsx(nA,{})}),i.jsx(Ee,{path:"/login",element:i.jsx(BT,{})}),e?i.jsx(Ee,{path:"/*",element:i.jsx(vT,{children:i.jsxs(km,{children:[i.jsx(Ee,{path:"/dashboard",element:i.jsx(HT,{})}),i.jsx(Ee,{path:"/enquiries",element:i.jsx(QT,{})}),i.jsx(Ee,{path:"/enquiries/new",element:i.jsx(Yc,{})}),i.jsx(Ee,{path:"/enquiries/:id",element:i.jsx(Yc,{})}),i.jsx(Ee,{path:"/enquiries/:id/edit",element:i.jsx(Yc,{})}),i.jsx(Ee,{path:"/documents",element:i.jsx(KT,{})}),i.jsx(Ee,{path:"/documents/verification",element:i.jsx(GT,{})}),(t==null?void 0:t.role)==="ADMIN"&&i.jsxs(i.Fragment,{children:[i.jsx(Ee,{path:"/shortlist",element:i.jsx(YT,{})}),i.jsx(Ee,{path:"/shortlist/new",element:i.jsx(N0,{})}),i.jsx(Ee,{path:"/shortlist/:id/edit",element:i.jsx(N0,{})}),i.jsx(Ee,{path:"/payment-gateway",element:i.jsx(ZT,{})}),i.jsx(Ee,{path:"/payment-gateway/apply/:id",element:i.jsx(JT,{})}),i.jsx(Ee,{path:"/staff",element:i.jsx(XT,{})}),i.jsx(Ee,{path:"/transactions",element:i.jsx(eA,{})}),i.jsx(Ee,{path:"/transactions/new",element:i.jsx(S0,{})}),i.jsx(Ee,{path:"/transactions/:id/edit",element:i.jsx(S0,{})}),i.jsx(Ee,{path:"/test-refresh",element:i.jsx(iA,{})})]}),i.jsx(Ee,{path:"/",element:i.jsx(Rc,{to:"/dashboard"})}),i.jsx(Ee,{path:"*",element:i.jsx(Rc,{to:"/dashboard"})})]})})}):i.jsx(Ee,{path:"*",element:i.jsx(Rc,{to:"/login"})})]})}function Ie({className:e="",variant:t="rectangular",width:n="100%",height:s="1rem",animation:r="wave"}){const a=()=>{switch(t){case"text":return"rounded";case"circular":return"rounded-full";case"rounded":return"rounded-lg";case"rectangular":default:return"rounded-sm"}},o=()=>{switch(r){case"pulse":return"animate-pulse";case"wave":return"animate-shimmer";case"none":default:return""}},l={width:typeof n=="number"?`${n}px`:n,height:typeof s=="number"?`${s}px`:s};return i.jsx(q.div,{className:`bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 ${a()} ${o()} ${e}`,style:l,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})}function lA({onLoadingComplete:e,duration:t=4e3}){var u;const[n,s]=b.useState(0),[r,a]=b.useState(0),[o,l]=b.useState(!1),c=[{name:"Connecting...",duration:800},{name:"Loading Interface...",duration:1e3},{name:"Preparing Data...",duration:1200},{name:"Finalizing...",duration:1e3}];return b.useEffect(()=>{let d=0;const f=[];c.forEach((m,y)=>{const w=setTimeout(()=>{a(y)},d);f.push(w),d+=m.duration});const h=setInterval(()=>{s(m=>m>=100?(clearInterval(h),l(!0),setTimeout(e,300),100):m+100/(t/50))},50);return()=>{f.forEach(clearTimeout),clearInterval(h)}},[t,e]),i.jsx(Ql,{children:!o&&i.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:1.05},transition:{duration:.3},className:"fixed inset-0 z-50 bg-white",children:[i.jsx("div",{className:"border-b border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Ie,{variant:"circular",width:40,height:40}),i.jsx(Ie,{width:200,height:24})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Ie,{width:300,height:36,variant:"rounded"}),i.jsx(Ie,{variant:"circular",width:32,height:32}),i.jsx(Ie,{variant:"circular",width:32,height:32}),i.jsx(Ie,{variant:"circular",width:40,height:40})]})]})}),i.jsxs("div",{className:"flex max-w-7xl mx-auto p-4",children:[i.jsx("div",{className:"w-72 pr-6 space-y-4",children:[...Array(8)].map((d,f)=>i.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.1},className:"flex items-center space-x-3 p-2",children:[i.jsx(Ie,{variant:"circular",width:24,height:24}),i.jsx(Ie,{width:120,height:16})]},f))}),i.jsxs("div",{className:"flex-1 space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((d,f)=>i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+f*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(Ie,{variant:"circular",width:48,height:48}),i.jsx(Ie,{width:60,height:20,variant:"rounded"})]}),i.jsx(Ie,{width:"80%",height:24,className:"mb-2"}),i.jsx(Ie,{width:"60%",height:16})]},f))}),i.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ie,{width:150,height:20}),i.jsx(Ie,{width:100,height:36,variant:"rounded"})]})}),i.jsx("div",{className:"divide-y divide-gray-200",children:[...Array(5)].map((d,f)=>i.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8+f*.1},className:"p-4 flex items-center space-x-4",children:[i.jsx(Ie,{variant:"circular",width:40,height:40}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Ie,{width:"70%",height:16}),i.jsx(Ie,{width:"50%",height:14})]}),i.jsx(Ie,{width:80,height:24,variant:"rounded"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ie,{variant:"circular",width:32,height:32}),i.jsx(Ie,{variant:"circular",width:32,height:32}),i.jsx(Ie,{variant:"circular",width:32,height:32})]})]},f))})]})]})]}),i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:i.jsxs(q.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full mx-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl",children:""})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Loan System"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Loading your dashboard..."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:((u=c[r])==null?void 0:u.name)||"Loading..."}),i.jsxs("span",{children:[Math.round(n),"%"]})]}),i.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:i.jsx(q.div,{className:"h-full bg-gradient-to-r from-green-500 to-emerald-600",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.3,ease:"easeOut"}})})]}),i.jsx("div",{className:"flex justify-center space-x-2",children:[0,1,2].map(d=>i.jsx(q.div,{className:"w-3 h-3 bg-green-500 rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:d*.2}},d))}),i.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mb-1",children:i.jsx("span",{className:"text-green-600 text-sm",children:""})}),i.jsx("span",{className:"text-xs text-gray-600",children:"Secure"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-1",children:i.jsx("span",{className:"text-blue-600 text-sm",children:""})}),i.jsx("span",{className:"text-xs text-gray-600",children:"Fast"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mb-1",children:i.jsx("span",{className:"text-purple-600 text-sm",children:""})}),i.jsx("span",{className:"text-xs text-gray-600",children:"AI-Powered"})]})]})]})})]})})}class cA extends b.Component{constructor(){super(...arguments);ba(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Refresh Page"}),i.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}}function uA(e={}){const{minLoadingTime:t=3e3,skipOnRevisit:n=!0}=e,[s,r]=b.useState(!0),[a,o]=b.useState(!1);return b.useEffect(()=>{const u=localStorage.getItem("app_has_loaded");if(n&&u){o(!0),r(!1);return}const d=setTimeout(()=>{r(!1),localStorage.setItem("app_has_loaded","true")},t);return()=>clearTimeout(d)},[t,n]),{isLoading:s,hasLoadedBefore:a,resetLoading:()=>{localStorage.removeItem("app_has_loaded"),o(!1),r(!0)},skipLoading:()=>{r(!1)}}}const oe=e=>typeof e=="string",li=()=>{let e,t;const n=new Promise((s,r)=>{e=s,t=r});return n.resolve=e,n.reject=t,n},E0=e=>e==null?"":""+e,dA=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},fA=/###/g,C0=e=>e&&e.indexOf("###")>-1?e.replace(fA,"."):e,k0=e=>!e||oe(e),Ri=(e,t,n)=>{const s=oe(t)?t.split("."):t;let r=0;for(;r<s.length-1;){if(k0(e))return{};const a=C0(s[r]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++r}return k0(e)?{}:{obj:e,k:C0(s[r])}},P0=(e,t,n)=>{const{obj:s,k:r}=Ri(e,t,Object);if(s!==void 0||t.length===1){s[r]=n;return}let a=t[t.length-1],o=t.slice(0,t.length-1),l=Ri(e,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=Ri(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},hA=(e,t,n,s)=>{const{obj:r,k:a}=Ri(e,t,Object);r[a]=r[a]||[],r[a].push(n)},dl=(e,t)=>{const{obj:n,k:s}=Ri(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},mA=(e,t,n)=>{const s=dl(e,n);return s!==void 0?s:dl(t,n)},U1=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?oe(e[s])||e[s]instanceof String||oe(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):U1(e[s],t[s],n):e[s]=t[s]);return e},tr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gA=e=>oe(e)?e.replace(/[&<>"'\/]/g,t=>pA[t]):e;class xA{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const yA=[" ",",","?","!",";"],vA=new xA(20),bA=(e,t,n)=>{t=t||"",n=n||"";const s=yA.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(s.length===0)return!0;const r=vA.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(e);if(!a){const o=e.indexOf(n);o>0&&!r.test(e.substring(0,o))&&(a=!0)}return a},kd=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let r=e;for(let a=0;a<s.length;){if(!r||typeof r!="object")return;let o,l="";for(let c=a;c<s.length;++c)if(c!==a&&(l+=n),l+=s[c],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;a+=c-a+1;break}r=o}return r},ta=e=>e==null?void 0:e.replace("_","-"),wA={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,t)}};class fl{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||wA,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,r){return r&&!this.debug?null:(oe(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new fl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new fl(this.logger,t)}}var fn=new fl;class tc{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r.apply(r,[t,...n])})}}class T0 extends tc{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,r={}){var u,d;const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],s&&(Array.isArray(s)?l.push(...s):oe(s)&&a?l.push(...s.split(a)):l.push(s)));const c=dl(this.data,l);return!c&&!n&&!s&&t.indexOf(".")>-1&&(t=l[0],n=l[1],s=l.slice(2).join(".")),c||!o||!oe(s)?c:kd((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],s,a)}addResource(t,n,s,r,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[t,n];s&&(l=l.concat(o?s.split(o):s)),t.indexOf(".")>-1&&(l=t.split("."),r=n,n=l[1]),this.addNamespaces(n),P0(this.data,l,r),a.silent||this.emit("added",t,n,s,r)}addResources(t,n,s,r={silent:!1}){for(const a in s)(oe(s[a])||Array.isArray(s[a]))&&this.addResource(t,n,a,s[a],{silent:!0});r.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,r,a,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),r=s,s=n,n=l[1]),this.addNamespaces(n);let c=dl(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?U1(c,s,a):c={...c,...s},P0(this.data,l,c),o.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var B1={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,r){return e.forEach(a=>{var o;t=((o=this.processors[a])==null?void 0:o.process(t,n,s,r))??t}),t}};const q1=Symbol("i18next/PATH_KEY");function jA(){const e=[],t=Object.create(null);let n;return t.get=(s,r)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),r===q1?e:(e.push(r),n=Proxy.revocable(s,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function Pd(e,t){const{[q1]:n}=e(jA());return n.join((t==null?void 0:t.keySeparator)??".")}const A0={},R0=e=>!oe(e)&&typeof e!="boolean"&&typeof e!="number";class hl extends tc{constructor(t,n={}){super(),dA(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};if(t==null)return!1;const r=this.resolve(t,s);return(r==null?void 0:r.res)!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=s&&t.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!bA(t,s,r);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:oe(a)?[a]:a};const u=t.split(s);(s!==r||s===r&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),t=u.join(r)}return{key:t,namespaces:oe(a)?[a]:a}}translate(t,n,s){let r=typeof n=="object"?{...n}:n;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";typeof t=="function"&&(t=Pd(t,{...this.options,...r})),Array.isArray(t)||(t=[String(t)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],r),u=c[c.length-1];let d=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?a?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${d}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:l;const m=this.resolve(t,r);let y=m==null?void 0:m.res;const w=(m==null?void 0:m.usedKey)||l,x=(m==null?void 0:m.exactUsedKey)||l,p=["[object Number]","[object Function]","[object RegExp]"],g=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,N=r.count!==void 0&&!oe(r.count),j=hl.hasDefaultValue(r),E=N?this.pluralResolver.getSuffix(f,r.count,r):"",k=r.ordinal&&N?this.pluralResolver.getSuffix(f,r.count,{ordinal:!1}):"",P=N&&!r.ordinal&&r.count===0,L=P&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${E}`]||r[`defaultValue${k}`]||r.defaultValue;let D=y;v&&!y&&j&&(D=L);const G=R0(D),H=Object.prototype.toString.apply(D);if(v&&D&&G&&p.indexOf(H)<0&&!(oe(g)&&Array.isArray(D))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,D,{...r,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(m.res=U,m.usedParams=this.getUsedParamsDetails(r),m):U}if(o){const U=Array.isArray(D),Q=U?[]:{},ne=U?x:w;for(const I in D)if(Object.prototype.hasOwnProperty.call(D,I)){const se=`${ne}${o}${I}`;j&&!y?Q[I]=this.translate(se,{...r,defaultValue:R0(L)?L[I]:void 0,joinArrays:!1,ns:c}):Q[I]=this.translate(se,{...r,joinArrays:!1,ns:c}),Q[I]===se&&(Q[I]=D[I])}y=Q}}else if(v&&oe(g)&&Array.isArray(y))y=y.join(g),y&&(y=this.extendTranslation(y,t,r,s));else{let U=!1,Q=!1;!this.isValidLookup(y)&&j&&(U=!0,y=L),this.isValidLookup(y)||(Q=!0,y=l);const I=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:y,se=j&&L!==y&&this.options.updateMissing;if(Q||U||se){if(this.logger.log(se?"updateKey":"missingKey",f,u,l,se?L:y),o){const z=this.resolve(l,{...r,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&W&&W[0])for(let z=0;z<W.length;z++)$.push(W[z]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(r.lng||this.language):$.push(r.lng||this.language);const ee=(z,ie,we)=>{var Se;const ge=j&&we!==y?we:I;this.options.missingKeyHandler?this.options.missingKeyHandler(z,u,ie,ge,se,r):(Se=this.backendConnector)!=null&&Se.saveMissing&&this.backendConnector.saveMissing(z,u,ie,ge,se,r),this.emit("missingKey",z,u,ie,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?$.forEach(z=>{const ie=this.pluralResolver.getSuffixes(z,r);P&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(we=>{ee([z],l+we,r[`defaultValue${we}`]||L)})}):ee($,l,L))}y=this.extendTranslation(y,t,r,m,s),Q&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${u}${d}${l}`),(Q||U)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?y:void 0,r))}return a?(m.res=y,m.usedParams=this.getUsedParamsDetails(r),m):y}extendTranslation(t,n,s,r,a){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=oe(t)&&(((u=s==null?void 0:s.interpolation)==null?void 0:u.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=s.replace&&!oe(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,s.lng||this.language||r.usedLng,s),d){const m=t.match(this.interpolator.nestingRegexp),y=m&&m.length;f<y&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(a==null?void 0:a[0])===m[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=oe(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&s.applyPostProcessor!==!1&&(t=B1.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,r,a,o,l;return oe(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(c,n),d=u.key;r=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!oe(n.count),m=h&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(oe(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(x=>{var p,g;this.isValidLookup(s)||(l=x,!A0[`${w[0]}-${x}`]&&((p=this.utils)!=null&&p.hasLoadedNamespace)&&!((g=this.utils)!=null&&g.hasLoadedNamespace(l))&&(A0[`${w[0]}-${x}`]=!0,this.logger.warn(`key "${r}" for languages "${w.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(v=>{var E;if(this.isValidLookup(s))return;o=v;const N=[d];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(N,d,v,x,n);else{let k;h&&(k=this.pluralResolver.getSuffix(v,n.count,n));const P=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&k.indexOf(L)===0&&N.push(d+k.replace(L,this.options.pluralSeparator)),N.push(d+k),m&&N.push(d+P)),y){const D=`${d}${this.options.contextSeparator||"_"}${n.context}`;N.push(D),h&&(n.ordinal&&k.indexOf(L)===0&&N.push(D+k.replace(L,this.options.pluralSeparator)),N.push(D+k),m&&N.push(D+P))}}let j;for(;j=N.pop();)this.isValidLookup(s)||(a=j,s=this.getResource(v,x,j,n))}))})}),{res:s,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,r={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(t,n,s,r):this.resourceStore.getResource(t,n,s,r)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!oe(t.replace);let r=s?t.replace:t;if(s&&typeof t.count<"u"&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const a of n)delete r[a]}return r}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class L0{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fn.create("languageUtils")}getScriptPartFromCode(t){if(t=ta(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ta(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(oe(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return n=r;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),oe(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return oe(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):oe(t)&&a(this.formatLanguageCode(t)),s.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}const D0={zero:0,one:1,two:2,few:3,many:4,other:5},O0={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class NA{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=fn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=ta(t==="dev"?"en":t),r=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),O0;if(!t.match(/-|_/))return O0;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[a]=o,o}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(r=>`${n}${r}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((r,a)=>D0[r]-D0[a]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(t,n,s={}){const r=this.getRule(t,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const F0=(e,t,n,s=".",r=!0)=>{let a=mA(e,t,n);return!a&&r&&oe(n)&&(a=kd(e,n,s),a===void 0&&(a=kd(t,n,s))),a},Zc=e=>e.replace(/\$/g,"$$$$");class SA{constructor(t={}){var n;this.logger=fn.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(s=>s),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:w,nestingOptionsSeparator:x,maxReplaces:p,alwaysFormat:g}=t.interpolation;this.escape=n!==void 0?n:gA,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?tr(a):o||"{{",this.suffix=l?tr(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?tr(h):m||tr("$t("),this.nestingSuffix=y?tr(y):w||tr(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=p||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,r){var m;let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=y=>{if(y.indexOf(this.formatSeparator)<0){const g=F0(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,s,{...r,...n,interpolationkey:y}):g}const w=y.split(this.formatSeparator),x=w.shift().trim(),p=w.join(this.formatSeparator).trim();return this.format(F0(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),p,s,{...r,...n,interpolationkey:x})};this.resetRegExp();const d=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>Zc(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?Zc(this.escape(y)):Zc(y)}].forEach(y=>{for(l=0;a=y.regex.exec(t);){const w=a[1].trim();if(o=u(w),o===void 0)if(typeof d=="function"){const p=d(t,a,r);o=oe(p)?p:""}else if(r&&Object.prototype.hasOwnProperty.call(r,w))o="";else if(f){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${t}`),o="";else!oe(o)&&!this.useRawValueToEscape&&(o=E0(o));const x=y.safeValue(o);if(t=t.replace(a[0],x),f?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=a[0].length):y.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,s={}){let r,a,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),y=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,w),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(t);){let c=[];o={...s},o=o.replace&&!oe(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(c=r[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),a=n(l.call(this,r[1].trim(),o),o),a&&r[0]===t&&!oe(a))return a;oe(a)||(a=E0(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),a=""),c.length&&(a=c.reduce((d,f)=>this.format(d,f,s.lng,{...s,interpolationkey:r[1].trim()}),a.trim())),t=t.replace(r[0],a),this.regexp.lastIndex=0}return t}}const EA=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);t==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):t==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},M0=e=>{const t={};return(n,s,r)=>{let a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a={...a,[r.interpolationkey]:void 0});const o=s+JSON.stringify(a);let l=t[o];return l||(l=e(ta(s),r),t[o]=l),l(n)}},CA=e=>(t,n,s)=>e(ta(n),s)(t);class kA{constructor(t={}){this.logger=fn.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?M0:CA;this.formats={number:s((r,a)=>{const o=new Intl.NumberFormat(r,{...a});return l=>o.format(l)}),currency:s((r,a)=>{const o=new Intl.NumberFormat(r,{...a,style:"currency"});return l=>o.format(l)}),datetime:s((r,a)=>{const o=new Intl.DateTimeFormat(r,{...a});return l=>o.format(l)}),relativetime:s((r,a)=>{const o=new Intl.RelativeTimeFormat(r,{...a});return l=>o.format(l,a.range||"day")}),list:s((r,a)=>{const o=new Intl.ListFormat(r,{...a});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=M0(n)}format(t,n,s,r={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=EA(c);if(this.formats[u]){let h=l;try{const m=((f=r==null?void 0:r.formatParams)==null?void 0:f[r.interpolationkey])||{},y=m.locale||m.lng||r.locale||r.lng||s;h=this.formats[u](l,y,{...d,...r,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const PA=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class TA extends tc{constructor(t,n,s,r={}){var a,o;super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=fn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,s,r.backend,r)}queueLoad(t,n,s,r){const a={},o={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(f=>{const h=`${u}|${f}`;!s.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),a[h]===void 0&&(a[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,s){const r=t.split("|"),a=r[0],o=r[1];n&&this.emit("failedLoading",a,o,n),!n&&s&&this.store.addResourceBundle(a,o,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const l={};this.queue.forEach(c=>{hA(c.loaded,[a],o),PA(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,s,r=0,a=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:r,wait:a,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,r+1,a*2,o)},a);return}o(u,d)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();oe(t)&&(t=this.languageUtils.toResolveHierarchy(t)),oe(n)&&(n=[n]);const a=this.queueLoad(t,n,s,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),r=s[0],a=s[1];this.read(r,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${r} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${r}`,l),this.loaded(t,o,l)})}saveMissing(t,n,s,r,a,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:a},y=this.backend.create.bind(this.backend);if(y.length<6)try{let w;y.length===5?w=y(t,n,s,r,m):w=y(t,n,s,r),w&&typeof w.then=="function"?w.then(x=>l(null,x)).catch(l):l(null,w)}catch(w){l(w)}else y(t,n,s,r,l,m)}!t||!t[0]||this.store.addResource(t[0],n,s,r)}}}const I0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),oe(e[1])&&(t.defaultValue=e[1]),oe(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),$0=e=>{var t,n;return oe(e.ns)&&(e.ns=[e.ns]),oe(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),oe(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ha=()=>{},AA=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class na extends tc{constructor(t={},n){if(super(),this.options=$0(t),this.services={},this.logger=fn,this.modules={external:[]},AA(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(oe(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=I0();this.options={...s,...this.options,...$0(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?fn.init(r(this.modules.logger),this.options):fn.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=kA;const d=new L0(this.options);this.store=new T0(this.options.resources,this.options);const f=this.services;f.logger=fn,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new NA(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=r(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new SA(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new TA(r(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...y)=>{this.emit(m,...y)}),this.modules.languageDetector&&(f.languageDetector=r(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=r(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new hl(this.services,this.options),this.translator.on("*",(m,...y)=>{this.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ha),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=li(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=Ha){var a,o;let s=n;const r=oe(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(u)})}else s(null)}reloadResources(t,n,s){const r=li();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=Ha),this.services.backendConnector.reload(t,n,a=>{r.resolve(),s(a)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&B1.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=li();this.emit("languageChanging",t);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===t&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=oe(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(oe(l)?[l]:l);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{a(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),s}getFixedT(t,n,s){const r=(a,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(l)):c={...o},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||r.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(a)?d=a.map(f=>(typeof f=="function"&&(f=Pd(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof a=="function"&&(a=Pd(a,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${a}`:a),this.t(d,c)};return oe(t)?r.lng=t:r.lngs=t,r.ns=n,r.keyPrefix=s,r}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,t)&&(!r||o(a,t)))}loadNamespaces(t,n){const s=li();return this.options.ns?(oe(t)&&(t=[t]),t.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=li();oe(t)&&(t=[t]);const r=this.options.preload||[],a=t.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}dir(t){var r,a;if(t||(t=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((a=this.services)==null?void 0:a.languageUtils)||new L0(I0());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new na(t,n)}cloneInstance(t={},n=Ha){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},a=new na(r);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});a.store=new T0(l,r),a.services.resourceStore=a.store}return a.translator=new hl(a.services,r),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(r,n),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ct=na.createInstance();ct.createInstance=na.createInstance;ct.createInstance;ct.dir;ct.init;ct.loadResources;ct.reloadResources;ct.use;ct.changeLanguage;ct.getFixedT;ct.t;ct.exists;ct.setDefaultNamespace;ct.hasLoadedNamespace;ct.loadNamespaces;ct.loadLanguages;const{slice:RA,forEach:LA}=[];function DA(e){return LA.call(RA.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function OA(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const _0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,FA=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(t);let a=`${e}=${r}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!_0.test(s.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${s.domain}`}if(s.path){if(!_0.test(s.path))throw new TypeError("option path is invalid");a+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(a+="; Partitioned"),a},V0={create(e,t,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),s&&(r.domain=s),document.cookie=FA(e,t,r)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let r=n[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var MA={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return V0.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:r,cookieOptions:a}=t;n&&typeof document<"u"&&V0.create(n,e,s,r,a)}},IA={name:"querystring",lookup(e){var s;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},$A={name:"hash",lookup(e){var r;let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(s=l[c].substring(u+1))}}if(s)return s;if(!s&&n>-1){const l=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(r=l[typeof n=="number"?n:0])==null?void 0:r.replace("/",""):void 0}}}return s}};let nr=null;const U0=()=>{if(nr!==null)return nr;try{if(nr=typeof window<"u"&&window.localStorage!==null,!nr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{nr=!1}return nr};var _A={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&U0())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&U0()&&window.localStorage.setItem(n,e)}};let sr=null;const B0=()=>{if(sr!==null)return sr;try{if(sr=typeof window<"u"&&window.sessionStorage!==null,!sr)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{sr=!1}return sr};var VA={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&B0())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&B0()&&window.sessionStorage.setItem(n,e)}},UA={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:r}=navigator;if(n)for(let a=0;a<n.length;a++)t.push(n[a]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},BA={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},qA={name:"path",lookup(e){var r;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(r=n[typeof t=="number"?t:0])==null?void 0:r.replace("/",""):void 0}},zA={name:"subdomain",lookup(e){var r,a;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&((a=(r=window.location)==null?void 0:r.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[n]}};let z1=!1;try{document.cookie,z1=!0}catch{}const H1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];z1||H1.splice(1,1);const HA=()=>({order:H1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Q1{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=DA(n,this.options||{},HA()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(MA),this.addDetector(IA),this.addDetector(_A),this.addDetector(VA),this.addDetector(UA),this.addDetector(BA),this.addDetector(qA),this.addDetector(zA),this.addDetector($A)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(n=n.concat(r))}}),n=n.filter(s=>s!=null&&!OA(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}Q1.type="languageDetector";const QA={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search anything...",welcome:"Welcome",logout:"Logout",login:"Login",dashboard:"Dashboard",profile:"Profile",settings:"Settings",notifications:"Notifications",help:"Help",back:"Back",next:"Next",submit:"Submit",close:"Close"},WA={title:"Loan Management Dashboard",searchPlaceholder:"Search anything...",aiAssistant:"AI Assistant",language:"Language",notifications:"Notifications",settings:"Settings",profile:"Profile Settings",security:"Security",preferences:"Preferences"},KA={dashboard:"Dashboard",enquiries:"Enquiries",documents:"Documents",shortlist:"Shortlist",staff:"Staff Management",reports:"Reports",settings:"Settings"},GA={title:"Business Loan Management Dashboard",totalEnquiries:"Total Enquiries",pendingReview:"Pending Review",approved:"Approved",rejected:"Rejected",recentEnquiries:"Recent Enquiries",quickActions:"Quick Actions",systemHealth:"System Health",analytics:"Analytics"},YA={title:"Loan Enquiries",newEnquiry:"New Enquiry",companyName:"Company Name",contactPerson:"Contact Person",email:"Email",phone:"Phone",loanAmount:"Loan Amount",purpose:"Purpose",status:"Status",createdAt:"Created At",actions:"Actions",pending:"Pending",approved:"Approved",rejected:"Rejected",underReview:"Under Review"},ZA={title:"Staff Management",addAdmin:"Add Admin",addEmployee:"Add Employee",name:"Name",email:"Email",role:"Role",status:"Status",actions:"Actions",active:"Active",inactive:"Inactive",pending:"Pending",admin:"Admin",employee:"Employee",grantAccess:"Grant Access",revokeAccess:"Revoke Access",deleteUser:"Delete User"},JA={title:"Document Management",upload:"Upload Document",fileName:"File Name",fileType:"File Type",uploadDate:"Upload Date",status:"Status",verified:"Verified",pending:"Pending",rejected:"Rejected",download:"Download",verify:"Verify",reject:"Reject"},XA={signIn:"Sign In",signOut:"Sign Out",email:"Email",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",selectRole:"Select your role",admin:"Admin",employee:"Employee",signingIn:"Signing in...",welcomeBack:"Welcome Back!",loginDescription:"Access your business loan management dashboard with secure authentication and role-based permissions."},eR={title:"AI Assistant",subtitle:"Business Loan Helper",placeholder:"Ask me anything about the loan system...",thinking:"AI is thinking...",welcome:"Hello {{name}}!  I'm your AI assistant for the Business Loan Management System. I can help you with:",features:{loanManagement:` **Loan Management**
- Enquiry creation and tracking
- Document upload and verification
- Application processing`,staffManagement:` **Staff Management** {{access}}
- User roles and permissions
- Staff operations`,analytics:` **Dashboard & Analytics**
- System navigation
- Feature explanations`},howCanIHelp:" **How can I help you today?**",models:{smart:"Smart",flash:"Flash",pro:"Pro"}},tR={connecting:"Connecting...",loadingInterface:"Loading Interface...",preparingData:"Preparing Data...",finalizing:"Finalizing...",almostReady:"Almost Ready...",welcome:"Welcome!",systemTitle:"Business Loan Management",systemSubtitle:"Streamline Your Financial Operations",features:{secure:"Secure",fast:"Fast",smart:"Smart"},poweredBy:"Powered by Gemini AI"},nR={newLoanApplication:"New loan application",documentVerified:"Document verified",paymentUpdate:"Payment Gateway update",viewAll:"View all notifications"},sR={common:QA,header:WA,sidebar:KA,dashboard:GA,enquiries:YA,staff:ZA,documents:JA,auth:XA,chatbot:eR,loading:tR,notifications:nR},rR={loading:"   ...",save:" ",cancel:" ",delete:"",edit:" ",view:"",search:"  ...",welcome:" ",logout:" ",login:" ",dashboard:"",profile:"",settings:"",notifications:"",help:"",back:"",next:"",submit:" ",close:" "},iR={title:"  ",searchPlaceholder:"  ...",aiAssistant:"AI ",language:"",notifications:"",settings:"",profile:" ",security:"",preferences:""},aR={dashboard:"",enquiries:"",documents:"",shortlist:"",staff:" ",reports:"",settings:""},oR={title:"   ",totalEnquiries:" ",pendingReview:"   ",approved:"",rejected:"",recentEnquiries:"  ",quickActions:" ",systemHealth:" ",analytics:""},lR={title:" ",newEnquiry:" ",companyName:"  ",contactPerson:" ",email:"",phone:"",loanAmount:" ",purpose:"",status:"",createdAt:" ",actions:"",pending:"",approved:"",rejected:"",underReview:""},cR={title:" ",addAdmin:" ",addEmployee:" ",name:"",email:"",role:"",status:"",actions:"",active:"",inactive:"",pending:"",admin:"",employee:"",grantAccess:"  ",revokeAccess:"  ",deleteUser:" "},uR={title:" ",upload:"  ",fileName:"  ",fileType:" ",uploadDate:" ",status:"",verified:"",pending:"",rejected:"",download:"",verify:" ",reject:" "},dR={signIn:"  ",signOut:" ",email:"",password:"",rememberMe:"  ",forgotPassword:"  ?",selectRole:"  ",admin:"",employee:"",signingIn:"    ...",welcomeBack:"  !",loginDescription:"   -          "},fR={title:"AI ",subtitle:"  ",placeholder:"        ...",thinking:"AI   ...",welcome:" {{name}}!          AI        :",features:{loanManagement:` ** **
-    
-    
-  `,staffManagement:` ** ** {{access}}
-    
-  `,analytics:` **  **
-  
-  `},howCanIHelp:" **       ?**",models:{smart:"",flash:"",pro:""}},hR={connecting:"   ...",loadingInterface:"    ...",preparingData:"    ...",finalizing:"     ...",almostReady:" ...",welcome:" !",systemTitle:"  ",systemSubtitle:"     ",features:{secure:"",fast:"",smart:""},poweredBy:"Gemini AI  "},mR={newLoanApplication:"  ",documentVerified:" ",paymentUpdate:"  ",viewAll:"  "},pR={common:rR,header:iR,sidebar:aR,dashboard:oR,enquiries:lR,staff:cR,documents:uR,auth:dR,chatbot:fR,loading:hR,notifications:mR},gR={loading:"...",save:"",cancel:" ",delete:"",edit:"",view:"",search:" ...",welcome:"",logout:"",login:"",dashboard:"",profile:"",settings:"",notifications:"",help:"",back:"",next:"",submit:"",close:""},xR={title:"  ",searchPlaceholder:" ...",aiAssistant:"AI ",language:"",notifications:"",settings:"",profile:" ",security:"",preferences:""},yR={dashboard:"",enquiries:"",documents:"",shortlist:" ",staff:" ",reports:"",settings:""},vR={title:"   ",totalEnquiries:" ",pendingReview:" ",approved:"",rejected:"",recentEnquiries:" ",quickActions:" ",systemHealth:" ",analytics:""},bR={title:" ",newEnquiry:" ",companyName:" ",contactPerson:" ",email:"",phone:"",loanAmount:" ",purpose:"",status:"",createdAt:"",actions:"",pending:"",approved:"",rejected:"",underReview:""},wR={title:" ",addAdmin:" ",addEmployee:" ",name:"",email:"",role:"",status:"",actions:"",active:"",inactive:"",pending:"",admin:"",employee:"",grantAccess:" ",revokeAccess:"  ",deleteUser:" "},jR={title:" ",upload:" ",fileName:" ",fileType:" ",uploadDate:" ",status:"",verified:"",pending:"",rejected:"",download:"",verify:"",reject:""},NR={signIn:"",signOut:"",email:"",password:"",rememberMe:"  ",forgotPassword:" ?",selectRole:"  ",admin:"",employee:"",signingIn:"...",welcomeBack:" !",loginDescription:"           ."},SR={title:"AI ",subtitle:"  ",placeholder:"     ...",thinking:"AI ...",welcome:" {{name}}!        AI .    :",features:{loanManagement:` ** **
-    
-    
-  `,staffManagement:` ** ** {{access}}
-    
-  `,analytics:` **  **
-  
-  `},howCanIHelp:" **     ?**",models:{smart:"",flash:"",pro:""}},ER={connecting:"...",loadingInterface:" ...",preparingData:" ...",finalizing:" ...",almostReady:" ...",welcome:"!",systemTitle:"  ",systemSubtitle:"   ",features:{secure:"",fast:"",smart:""},poweredBy:"Gemini AI  "},CR={newLoanApplication:"  ",documentVerified:" ",paymentUpdate:"   ",viewAll:"  "},kR={common:gR,header:xR,sidebar:yR,dashboard:vR,enquiries:bR,staff:wR,documents:jR,auth:NR,chatbot:SR,loading:ER,notifications:CR},PR={loading:" ...",save:" ",cancel:" ",delete:"",edit:"",view:"",search:" ...",welcome:"",logout:" ",login:"",dashboard:"",profile:"",settings:"",notifications:"",help:"",back:"",next:"",submit:"",close:""},TR={title:"  ",searchPlaceholder:" ...",aiAssistant:"AI ",language:"",notifications:"",settings:"",profile:" ",security:"",preferences:""},AR={dashboard:"",enquiries:"",documents:"",shortlist:"",staff:" ",reports:"",settings:""},RR={title:"   ",totalEnquiries:" ",pendingReview:" ",approved:"",rejected:"",recentEnquiries:" ",quickActions:" ",systemHealth:" ",analytics:""},LR={title:" ",newEnquiry:" ",companyName:" ",contactPerson:" ",email:"",phone:"",loanAmount:" ",purpose:"",status:"",createdAt:"",actions:"",pending:"",approved:"",rejected:"",underReview:""},DR={title:" ",addAdmin:" ",addEmployee:" ",name:"",email:"",role:"",status:"",actions:"",active:"",inactive:" ",pending:"",admin:"",employee:"",grantAccess:" ",revokeAccess:"  ",deleteUser:" "},OR={title:" ",upload:"  ",fileName:" ",fileType:" ",uploadDate:" ",status:"",verified:"",pending:"",rejected:"",download:"",verify:"",reject:""},FR={signIn:" ",signOut:" ",email:"",password:"",rememberMe:" ",forgotPassword:" ?",selectRole:"  ",admin:"",employee:"",signingIn:"  ...",welcomeBack:" !",loginDescription:"   -        ."},MR={title:"AI ",subtitle:"  ",placeholder:"     ...",thinking:"AI ...",welcome:" {{name}}!        AI .    :",features:{loanManagement:` ** **
-    
-    
-  `,staffManagement:` ** ** {{access}}
-    
-  `,analytics:` **  **
-  
-  `},howCanIHelp:" **      ?**",models:{smart:"",flash:"",pro:""}},IR={connecting:" ...",loadingInterface:"  ...",preparingData:"  ...",finalizing:" ...",almostReady:" ...",welcome:"!",systemTitle:"  ",systemSubtitle:"   ",features:{secure:"",fast:"",smart:""},poweredBy:"Gemini AI  "},$R={newLoanApplication:"  ",documentVerified:" ",paymentUpdate:"  ",viewAll:"  "},_R={common:PR,header:TR,sidebar:AR,dashboard:RR,enquiries:LR,staff:DR,documents:OR,auth:FR,chatbot:MR,loading:IR,notifications:$R},VR={en:{translation:sR},hi:{translation:pR},ta:{translation:kR},te:{translation:_R}};ct.use(Q1).use(pE).init({resources:VR,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});const W1=new GN({defaultOptions:{queries:{staleTime:5*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,refetchInterval:30*1e3,refetchIntervalInBackground:!1,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),keepPreviousData:!0,notifyOnChangeProps:["data","error","isLoading"]},mutations:{retry:1,onMutate:async()=>{await W1.cancelQueries()}}}});function UR(){const{isLoading:e,skipLoading:t}=uA({minLoadingTime:3500,skipOnRevisit:!1});return e?i.jsx(lA,{onLoadingComplete:t,duration:4e3}):i.jsx(cA,{children:i.jsx(t2,{client:W1,children:i.jsx(K2,{children:i.jsx(mT,{children:i.jsxs(NN,{children:[i.jsx(oA,{}),i.jsx(W2,{position:"top-right"})]})})})})})}Jc.createRoot(document.getElementById("root")).render(i.jsx(le.StrictMode,{children:i.jsx(UR,{})}));
