import{r as Un,a as Bn,g as $n}from"./vendor-D3F3s8fL.js";import{r as c,N as Vn,u as Fe,a as Q,L as xe,b as Ss,c as Hn,d as Ra,e as Vs,f as ee,g as Xt,B as Zn}from"./router-CQb4Jid_.js";import{u as fe,a as _e,b as Se,Q as Gn,c as Wn}from"./query-CGUN-h7k.js";import{A as As,m as L}from"./ui-tRJToy8s.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();var es={exports:{}},it={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs;function zn(){if(Hs)return it;Hs=1;var t=Un(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,h){var d,y={},w=null,A=null;h!==void 0&&(w=""+h),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(A=u.ref);for(d in u)n.call(u,d)&&!i.hasOwnProperty(d)&&(y[d]=u[d]);if(l&&l.defaultProps)for(d in u=l.defaultProps,u)y[d]===void 0&&(y[d]=u[d]);return{$$typeof:s,type:l,key:w,ref:A,props:y,_owner:r.current}}return it.Fragment=a,it.jsx=o,it.jsxs=o,it}var Zs;function Kn(){return Zs||(Zs=1,es.exports=zn()),es.exports}var e=Kn(),jt={},Gs;function Qn(){if(Gs)return jt;Gs=1;var t=Bn();return jt.createRoot=t.createRoot,jt.hydrateRoot=t.hydrateRoot,jt}var Yn=Qn();const Jn=$n(Yn);let Xn={data:""},er=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||Xn},tr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sr=/\/\*[^]*?\*\/|  +/g,Ws=/\n+/g,Le=(t,s)=>{let a="",n="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?a=i+" "+o+";":n+=i[1]=="f"?Le(o,i):i+"{"+Le(o,i[1]=="k"?"":s)+"}":typeof o=="object"?n+=Le(o,s?s.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Le.p?Le.p(i,o):i+":"+o+";")}return a+(s&&r?s+"{"+r+"}":r)+n},Te={},ka=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+ka(t[a]);return s}return t},ar=(t,s,a,n,r)=>{let i=ka(t),o=Te[i]||(Te[i]=(u=>{let h=0,d=11;for(;h<u.length;)d=101*d+u.charCodeAt(h++)>>>0;return"go"+d})(i));if(!Te[o]){let u=i!==t?t:(h=>{let d,y,w=[{}];for(;d=tr.exec(h.replace(sr,""));)d[4]?w.shift():d[3]?(y=d[3].replace(Ws," ").trim(),w.unshift(w[0][y]=w[0][y]||{})):w[0][d[1]]=d[2].replace(Ws," ").trim();return w[0]})(t);Te[o]=Le(r?{["@keyframes "+o]:u}:u,a?"":"."+o)}let l=a&&Te.g?Te.g:null;return a&&(Te.g=Te[o]),((u,h,d,y)=>{y?h.data=h.data.replace(y,u):h.data.indexOf(u)===-1&&(h.data=d?u+h.data:h.data+u)})(Te[o],s,n,l),o},nr=(t,s,a)=>t.reduce((n,r,i)=>{let o=s[i];if(o&&o.call){let l=o(a),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Le(l,""):l===!1?"":l}return n+r+(o??"")},"");function Ft(t){let s=this||{},a=t.call?t(s.p):t;return ar(a.unshift?a.raw?nr(a,[].slice.call(arguments,1),s.p):a.reduce((n,r)=>Object.assign(n,r&&r.call?r(s.p):r),{}):a,er(s.target),s.g,s.o,s.k)}let Ca,cs,ds;Ft.bind({g:1});let Ie=Ft.bind({k:1});function rr(t,s,a,n){Le.p=s,Ca=t,cs=a,ds=n}function qe(t,s){let a=this||{};return function(){let n=arguments;function r(i,o){let l=Object.assign({},i),u=l.className||r.className;a.p=Object.assign({theme:cs&&cs()},l),a.o=/ *go\d+/.test(u),l.className=Ft.apply(a,n)+(u?" "+u:"");let h=t;return t[0]&&(h=l.as||t,delete l.as),ds&&h[0]&&ds(l),Ca(h,l)}return r}}var ir=t=>typeof t=="function",Ct=(t,s)=>ir(t)?t(s):t,or=(()=>{let t=0;return()=>(++t).toString()})(),Ia=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),lr=20,Ts="default",Oa=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===s.toast.id?{...o,...s.toast}:o)};case 2:let{toast:n}=s;return Oa(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=s;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let i=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},At=[],Pa={toasts:[],pausedAt:void 0,settings:{toastLimit:lr}},Ee={},La=(t,s=Ts)=>{Ee[s]=Oa(Ee[s]||Pa,t),At.forEach(([a,n])=>{a===s&&n(Ee[s])})},Ma=t=>Object.keys(Ee).forEach(s=>La(t,s)),cr=t=>Object.keys(Ee).find(s=>Ee[s].toasts.some(a=>a.id===t)),_t=(t=Ts)=>s=>{La(s,t)},dr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ur=(t={},s=Ts)=>{let[a,n]=c.useState(Ee[s]||Pa),r=c.useRef(Ee[s]);c.useEffect(()=>(r.current!==Ee[s]&&n(Ee[s]),At.push([s,n]),()=>{let o=At.findIndex(([l])=>l===s);o>-1&&At.splice(o,1)}),[s]);let i=a.toasts.map(o=>{var l,u,h;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||t?.removeDelay,duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||t?.duration||dr[o.type],style:{...t.style,...(h=t[o.type])==null?void 0:h.style,...o.style}}});return{...a,toasts:i}},mr=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:a?.id||or()}),xt=t=>(s,a)=>{let n=mr(s,t,a);return _t(n.toasterId||cr(n.id))({type:2,toast:n}),n.id},z=(t,s)=>xt("blank")(t,s);z.error=xt("error");z.success=xt("success");z.loading=xt("loading");z.custom=xt("custom");z.dismiss=(t,s)=>{let a={type:3,toastId:t};s?_t(s)(a):Ma(a)};z.dismissAll=t=>z.dismiss(void 0,t);z.remove=(t,s)=>{let a={type:4,toastId:t};s?_t(s)(a):Ma(a)};z.removeAll=t=>z.remove(void 0,t);z.promise=(t,s,a)=>{let n=z.loading(s.loading,{...a,...a?.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=s.success?Ct(s.success,r):void 0;return i?z.success(i,{id:n,...a,...a?.success}):z.dismiss(n),r}).catch(r=>{let i=s.error?Ct(s.error,r):void 0;i?z.error(i,{id:n,...a,...a?.error}):z.dismiss(n)}),t};var hr=1e3,fr=(t,s="default")=>{let{toasts:a,pausedAt:n}=ur(t,s),r=c.useRef(new Map).current,i=c.useCallback((y,w=hr)=>{if(r.has(y))return;let A=setTimeout(()=>{r.delete(y),o({type:4,toastId:y})},w);r.set(y,A)},[]);c.useEffect(()=>{if(n)return;let y=Date.now(),w=a.map(A=>{if(A.duration===1/0)return;let m=(A.duration||0)+A.pauseDuration-(y-A.createdAt);if(m<0){A.visible&&z.dismiss(A.id);return}return setTimeout(()=>z.dismiss(A.id,s),m)});return()=>{w.forEach(A=>A&&clearTimeout(A))}},[a,n,s]);let o=c.useCallback(_t(s),[s]),l=c.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=c.useCallback((y,w)=>{o({type:1,toast:{id:y,height:w}})},[o]),h=c.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=c.useCallback((y,w)=>{let{reverseOrder:A=!1,gutter:m=8,defaultPosition:g}=w||{},b=a.filter(p=>(p.position||g)===(y.position||g)&&p.height),k=b.findIndex(p=>p.id===y.id),N=b.filter((p,f)=>f<k&&p.visible).length;return b.filter(p=>p.visible).slice(...A?[N+1]:[0,N]).reduce((p,f)=>p+(f.height||0)+m,0)},[a]);return c.useEffect(()=>{a.forEach(y=>{if(y.dismissed)i(y.id,y.removeDelay);else{let w=r.get(y.id);w&&(clearTimeout(w),r.delete(y.id))}})},[a,i]),{toasts:a,handlers:{updateHeight:u,startPause:l,endPause:h,calculateOffset:d}}},pr=Ie`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xr=Ie`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gr=Ie`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yr=qe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,br=Ie`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nr=qe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${br} 1s linear infinite;
`,wr=Ie`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vr=Ie`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jr=qe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Er=qe("div")`
  position: absolute;
`,Sr=qe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ar=Ie`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tr=qe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ar} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Dr=({toast:t})=>{let{icon:s,type:a,iconTheme:n}=t;return s!==void 0?typeof s=="string"?c.createElement(Tr,null,s):s:a==="blank"?null:c.createElement(Sr,null,c.createElement(Nr,{...n}),a!=="loading"&&c.createElement(Er,null,a==="error"?c.createElement(yr,{...n}):c.createElement(jr,{...n})))},Rr=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kr=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Cr="0%{opacity:0;} 100%{opacity:1;}",Ir="0%{opacity:1;} 100%{opacity:0;}",Or=qe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pr=qe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Lr=(t,s)=>{let a=t.includes("top")?1:-1,[n,r]=Ia()?[Cr,Ir]:[Rr(a),kr(a)];return{animation:s?`${Ie(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ie(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Mr=c.memo(({toast:t,position:s,style:a,children:n})=>{let r=t.height?Lr(t.position||s||"top-center",t.visible):{opacity:0},i=c.createElement(Dr,{toast:t}),o=c.createElement(Pr,{...t.ariaProps},Ct(t.message,t));return c.createElement(Or,{className:t.className,style:{...r,...a,...t.style}},typeof n=="function"?n({icon:i,message:o}):c.createElement(c.Fragment,null,i,o))});rr(c.createElement);var Fr=({id:t,className:s,style:a,onHeightUpdate:n,children:r})=>{let i=c.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;n(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return c.createElement("div",{ref:i,className:s,style:a},r)},_r=(t,s)=>{let a=t.includes("top"),n=a?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ia()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...n,...r}},qr=Ft`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Et=16,Ur=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:n,children:r,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:h}=fr(a,i);return c.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Et,left:Et,right:Et,bottom:Et,pointerEvents:"none",...o},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(d=>{let y=d.position||s,w=h.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:s}),A=_r(y,w);return c.createElement(Fr,{id:d.id,key:d.id,onHeightUpdate:h.updateHeight,className:d.visible?qr:"",style:A},d.type==="custom"?Ct(d.message,d):r?r(d):c.createElement(Mr,{toast:d,position:y}))}))},F=z;function Fa(t,s){return function(){return t.apply(s,arguments)}}const{toString:Br}=Object.prototype,{getPrototypeOf:Ds}=Object,{iterator:qt,toStringTag:_a}=Symbol,Ut=(t=>s=>{const a=Br.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),we=t=>(t=t.toLowerCase(),s=>Ut(s)===t),Bt=t=>s=>typeof s===t,{isArray:at}=Array,tt=Bt("undefined");function gt(t){return t!==null&&!tt(t)&&t.constructor!==null&&!tt(t.constructor)&&ce(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qa=we("ArrayBuffer");function $r(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&qa(t.buffer),s}const Vr=Bt("string"),ce=Bt("function"),Ua=Bt("number"),yt=t=>t!==null&&typeof t=="object",Hr=t=>t===!0||t===!1,Tt=t=>{if(Ut(t)!=="object")return!1;const s=Ds(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(_a in t)&&!(qt in t)},Zr=t=>{if(!yt(t)||gt(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Gr=we("Date"),Wr=we("File"),zr=we("Blob"),Kr=we("FileList"),Qr=t=>yt(t)&&ce(t.pipe),Yr=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ce(t.append)&&((s=Ut(t))==="formdata"||s==="object"&&ce(t.toString)&&t.toString()==="[object FormData]"))},Jr=we("URLSearchParams"),[Xr,ei,ti,si]=["ReadableStream","Request","Response","Headers"].map(we),ai=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bt(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),at(t))for(n=0,r=t.length;n<r;n++)s.call(null,t[n],n,t);else{if(gt(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],s.call(null,t[l],l,t)}}function Ba(t,s){if(gt(t))return null;s=s.toLowerCase();const a=Object.keys(t);let n=a.length,r;for(;n-- >0;)if(r=a[n],s===r.toLowerCase())return r;return null}const Be=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$a=t=>!tt(t)&&t!==Be;function us(){const{caseless:t,skipUndefined:s}=$a(this)&&this||{},a={},n=(r,i)=>{const o=t&&Ba(a,i)||i;Tt(a[o])&&Tt(r)?a[o]=us(a[o],r):Tt(r)?a[o]=us({},r):at(r)?a[o]=r.slice():(!s||!tt(r))&&(a[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&bt(arguments[r],n);return a}const ni=(t,s,a,{allOwnKeys:n}={})=>(bt(s,(r,i)=>{a&&ce(r)?t[i]=Fa(r,a):t[i]=r},{allOwnKeys:n}),t),ri=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ii=(t,s,a,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},oi=(t,s,a,n)=>{let r,i,o;const l={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!n||n(o,t,s))&&!l[o]&&(s[o]=t[o],l[o]=!0);t=a!==!1&&Ds(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},li=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const n=t.indexOf(s,a);return n!==-1&&n===a},ci=t=>{if(!t)return null;if(at(t))return t;let s=t.length;if(!Ua(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},di=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Ds(Uint8Array)),ui=(t,s)=>{const n=(t&&t[qt]).call(t);let r;for(;(r=n.next())&&!r.done;){const i=r.value;s.call(t,i[0],i[1])}},mi=(t,s)=>{let a;const n=[];for(;(a=t.exec(s))!==null;)n.push(a);return n},hi=we("HTMLFormElement"),fi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,r){return n.toUpperCase()+r}),zs=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),pi=we("RegExp"),Va=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),n={};bt(a,(r,i)=>{let o;(o=s(r,i,t))!==!1&&(n[i]=o||r)}),Object.defineProperties(t,n)},xi=t=>{Va(t,(s,a)=>{if(ce(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=t[a];if(ce(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},gi=(t,s)=>{const a={},n=r=>{r.forEach(i=>{a[i]=!0})};return at(t)?n(t):n(String(t).split(s)),a},yi=()=>{},bi=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Ni(t){return!!(t&&ce(t.append)&&t[_a]==="FormData"&&t[qt])}const wi=t=>{const s=new Array(10),a=(n,r)=>{if(yt(n)){if(s.indexOf(n)>=0)return;if(gt(n))return n;if(!("toJSON"in n)){s[r]=n;const i=at(n)?[]:{};return bt(n,(o,l)=>{const u=a(o,r+1);!tt(u)&&(i[l]=u)}),s[r]=void 0,i}}return n};return a(t,0)},vi=we("AsyncFunction"),ji=t=>t&&(yt(t)||ce(t))&&ce(t.then)&&ce(t.catch),Ha=((t,s)=>t?setImmediate:s?((a,n)=>(Be.addEventListener("message",({source:r,data:i})=>{r===Be&&i===a&&n.length&&n.shift()()},!1),r=>{n.push(r),Be.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ce(Be.postMessage)),Ei=typeof queueMicrotask<"u"?queueMicrotask.bind(Be):typeof process<"u"&&process.nextTick||Ha,Si=t=>t!=null&&ce(t[qt]),j={isArray:at,isArrayBuffer:qa,isBuffer:gt,isFormData:Yr,isArrayBufferView:$r,isString:Vr,isNumber:Ua,isBoolean:Hr,isObject:yt,isPlainObject:Tt,isEmptyObject:Zr,isReadableStream:Xr,isRequest:ei,isResponse:ti,isHeaders:si,isUndefined:tt,isDate:Gr,isFile:Wr,isBlob:zr,isRegExp:pi,isFunction:ce,isStream:Qr,isURLSearchParams:Jr,isTypedArray:di,isFileList:Kr,forEach:bt,merge:us,extend:ni,trim:ai,stripBOM:ri,inherits:ii,toFlatObject:oi,kindOf:Ut,kindOfTest:we,endsWith:li,toArray:ci,forEachEntry:ui,matchAll:mi,isHTMLForm:hi,hasOwnProperty:zs,hasOwnProp:zs,reduceDescriptors:Va,freezeMethods:xi,toObjectSet:gi,toCamelCase:fi,noop:yi,toFiniteNumber:bi,findKey:Ba,global:Be,isContextDefined:$a,isSpecCompliantForm:Ni,toJSONObject:wi,isAsyncFn:vi,isThenable:ji,setImmediate:Ha,asap:Ei,isIterable:Si};function B(t,s,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}j.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const Za=B.prototype,Ga={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ga[t]={value:t}});Object.defineProperties(B,Ga);Object.defineProperty(Za,"isAxiosError",{value:!0});B.from=(t,s,a,n,r,i)=>{const o=Object.create(Za);j.toFlatObject(t,o,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=t&&t.message?t.message:"Error",u=s==null&&t?t.code:s;return B.call(o,l,u,a,n,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const Ai=null;function ms(t){return j.isPlainObject(t)||j.isArray(t)}function Wa(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function Ks(t,s,a){return t?t.concat(s).map(function(r,i){return r=Wa(r),!a&&i?"["+r+"]":r}).join(a?".":""):s}function Ti(t){return j.isArray(t)&&!t.some(ms)}const Di=j.toFlatObject(j,{},null,function(s){return/^is[A-Z]/.test(s)});function $t(t,s,a){if(!j.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=j.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!j.isUndefined(b[g])});const n=a.metaTokens,r=a.visitor||d,i=a.dots,o=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(s);if(!j.isFunction(r))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(j.isDate(m))return m.toISOString();if(j.isBoolean(m))return m.toString();if(!u&&j.isBlob(m))throw new B("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(m)||j.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,b){let k=m;if(m&&!b&&typeof m=="object"){if(j.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(j.isArray(m)&&Ti(m)||(j.isFileList(m)||j.endsWith(g,"[]"))&&(k=j.toArray(m)))return g=Wa(g),k.forEach(function(p,f){!(j.isUndefined(p)||p===null)&&s.append(o===!0?Ks([g],f,i):o===null?g:g+"[]",h(p))}),!1}return ms(m)?!0:(s.append(Ks(b,g,i),h(m)),!1)}const y=[],w=Object.assign(Di,{defaultVisitor:d,convertValue:h,isVisitable:ms});function A(m,g){if(!j.isUndefined(m)){if(y.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));y.push(m),j.forEach(m,function(k,N){(!(j.isUndefined(k)||k===null)&&r.call(s,k,j.isString(N)?N.trim():N,g,w))===!0&&A(k,g?g.concat(N):[N])}),y.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return A(t),s}function Qs(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function Rs(t,s){this._pairs=[],t&&$t(t,this,s)}const za=Rs.prototype;za.append=function(s,a){this._pairs.push([s,a])};za.toString=function(s){const a=s?function(n){return s.call(this,n,Qs)}:Qs;return this._pairs.map(function(r){return a(r[0])+"="+a(r[1])},"").join("&")};function Ri(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ka(t,s,a){if(!s)return t;const n=a&&a.encode||Ri;j.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let i;if(r?i=r(s,a):i=j.isURLSearchParams(s)?s.toString():new Rs(s,a).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ys{constructor(){this.handlers=[]}use(s,a,n){return this.handlers.push({fulfilled:s,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){j.forEach(this.handlers,function(n){n!==null&&s(n)})}}const Qa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ki=typeof URLSearchParams<"u"?URLSearchParams:Rs,Ci=typeof FormData<"u"?FormData:null,Ii=typeof Blob<"u"?Blob:null,Oi={isBrowser:!0,classes:{URLSearchParams:ki,FormData:Ci,Blob:Ii},protocols:["http","https","file","blob","url","data"]},ks=typeof window<"u"&&typeof document<"u",hs=typeof navigator=="object"&&navigator||void 0,Pi=ks&&(!hs||["ReactNative","NativeScript","NS"].indexOf(hs.product)<0),Li=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mi=ks&&window.location.href||"http://localhost",Fi=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ks,hasStandardBrowserEnv:Pi,hasStandardBrowserWebWorkerEnv:Li,navigator:hs,origin:Mi},Symbol.toStringTag,{value:"Module"})),re={...Fi,...Oi};function _i(t,s){return $t(t,new re.classes.URLSearchParams,{visitor:function(a,n,r,i){return re.isNode&&j.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function qi(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Ui(t){const s={},a=Object.keys(t);let n;const r=a.length;let i;for(n=0;n<r;n++)i=a[n],s[i]=t[i];return s}function Ya(t){function s(a,n,r,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=a.length;return o=!o&&j.isArray(r)?r.length:o,u?(j.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!l):((!r[o]||!j.isObject(r[o]))&&(r[o]=[]),s(a,n,r[o],i)&&j.isArray(r[o])&&(r[o]=Ui(r[o])),!l)}if(j.isFormData(t)&&j.isFunction(t.entries)){const a={};return j.forEachEntry(t,(n,r)=>{s(qi(n),r,a,0)}),a}return null}function Bi(t,s,a){if(j.isString(t))try{return(s||JSON.parse)(t),j.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(t)}const Nt={transitional:Qa,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const n=a.getContentType()||"",r=n.indexOf("application/json")>-1,i=j.isObject(s);if(i&&j.isHTMLForm(s)&&(s=new FormData(s)),j.isFormData(s))return r?JSON.stringify(Ya(s)):s;if(j.isArrayBuffer(s)||j.isBuffer(s)||j.isStream(s)||j.isFile(s)||j.isBlob(s)||j.isReadableStream(s))return s;if(j.isArrayBufferView(s))return s.buffer;if(j.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _i(s,this.formSerializer).toString();if((l=j.isFileList(s))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $t(l?{"files[]":s}:s,u&&new u,this.formSerializer)}}return i||r?(a.setContentType("application/json",!1),Bi(s)):s}],transformResponse:[function(s){const a=this.transitional||Nt.transitional,n=a&&a.forcedJSONParsing,r=this.responseType==="json";if(j.isResponse(s)||j.isReadableStream(s))return s;if(s&&j.isString(s)&&(n&&!this.responseType||r)){const o=!(a&&a.silentJSONParsing)&&r;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?B.from(l,B.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{Nt.headers[t]={}});const $i=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vi=t=>{const s={};let a,n,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),a=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!a||s[a]&&$i[a])&&(a==="set-cookie"?s[a]?s[a].push(n):s[a]=[n]:s[a]=s[a]?s[a]+", "+n:n)}),s},Js=Symbol("internals");function ot(t){return t&&String(t).trim().toLowerCase()}function Dt(t){return t===!1||t==null?t:j.isArray(t)?t.map(Dt):String(t)}function Hi(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(t);)s[n[1]]=n[2];return s}const Zi=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ts(t,s,a,n,r){if(j.isFunction(n))return n.call(this,s,a);if(r&&(s=a),!!j.isString(s)){if(j.isString(n))return s.indexOf(n)!==-1;if(j.isRegExp(n))return n.test(s)}}function Gi(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,n)=>a.toUpperCase()+n)}function Wi(t,s){const a=j.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+a,{value:function(r,i,o){return this[n].call(this,s,r,i,o)},configurable:!0})})}let de=class{constructor(s){s&&this.set(s)}set(s,a,n){const r=this;function i(l,u,h){const d=ot(u);if(!d)throw new Error("header name must be a non-empty string");const y=j.findKey(r,d);(!y||r[y]===void 0||h===!0||h===void 0&&r[y]!==!1)&&(r[y||u]=Dt(l))}const o=(l,u)=>j.forEach(l,(h,d)=>i(h,d,u));if(j.isPlainObject(s)||s instanceof this.constructor)o(s,a);else if(j.isString(s)&&(s=s.trim())&&!Zi(s))o(Vi(s),a);else if(j.isObject(s)&&j.isIterable(s)){let l={},u,h;for(const d of s){if(!j.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(u=l[h])?j.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,a)}else s!=null&&i(a,s,n);return this}get(s,a){if(s=ot(s),s){const n=j.findKey(this,s);if(n){const r=this[n];if(!a)return r;if(a===!0)return Hi(r);if(j.isFunction(a))return a.call(this,r,n);if(j.isRegExp(a))return a.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=ot(s),s){const n=j.findKey(this,s);return!!(n&&this[n]!==void 0&&(!a||ts(this,this[n],n,a)))}return!1}delete(s,a){const n=this;let r=!1;function i(o){if(o=ot(o),o){const l=j.findKey(n,o);l&&(!a||ts(n,n[l],l,a))&&(delete n[l],r=!0)}}return j.isArray(s)?s.forEach(i):i(s),r}clear(s){const a=Object.keys(this);let n=a.length,r=!1;for(;n--;){const i=a[n];(!s||ts(this,this[i],i,s,!0))&&(delete this[i],r=!0)}return r}normalize(s){const a=this,n={};return j.forEach(this,(r,i)=>{const o=j.findKey(n,i);if(o){a[o]=Dt(r),delete a[i];return}const l=s?Gi(i):String(i).trim();l!==i&&delete a[i],a[l]=Dt(r),n[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return j.forEach(this,(n,r)=>{n!=null&&n!==!1&&(a[r]=s&&j.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const n=new this(s);return a.forEach(r=>n.set(r)),n}static accessor(s){const n=(this[Js]=this[Js]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=ot(o);n[l]||(Wi(r,o),n[l]=!0)}return j.isArray(s)?s.forEach(i):i(s),this}};de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(de.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[a]=n}}});j.freezeMethods(de);function ss(t,s){const a=this||Nt,n=s||a,r=de.from(n.headers);let i=n.data;return j.forEach(t,function(l){i=l.call(a,i,r.normalize(),s?s.status:void 0)}),r.normalize(),i}function Ja(t){return!!(t&&t.__CANCEL__)}function nt(t,s,a){B.call(this,t??"canceled",B.ERR_CANCELED,s,a),this.name="CanceledError"}j.inherits(nt,B,{__CANCEL__:!0});function Xa(t,s,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?t(a):s(new B("Request failed with status code "+a.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function zi(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Ki(t,s){t=t||10;const a=new Array(t),n=new Array(t);let r=0,i=0,o;return s=s!==void 0?s:1e3,function(u){const h=Date.now(),d=n[i];o||(o=h),a[r]=u,n[r]=h;let y=i,w=0;for(;y!==r;)w+=a[y++],y=y%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-o<s)return;const A=d&&h-d;return A?Math.round(w*1e3/A):void 0}}function Qi(t,s){let a=0,n=1e3/s,r,i;const o=(h,d=Date.now())=>{a=d,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const d=Date.now(),y=d-a;y>=n?o(h,d):(r=h,i||(i=setTimeout(()=>{i=null,o(r)},n-y)))},()=>r&&o(r)]}const It=(t,s,a=3)=>{let n=0;const r=Ki(50,250);return Qi(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,h=r(u),d=o<=l;n=o;const y={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(y)},a)},Xs=(t,s)=>{const a=t!=null;return[n=>s[0]({lengthComputable:a,total:t,loaded:n}),s[1]]},ea=t=>(...s)=>j.asap(()=>t(...s)),Yi=re.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,re.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(re.origin),re.navigator&&/(msie|trident)/i.test(re.navigator.userAgent)):()=>!0,Ji=re.hasStandardBrowserEnv?{write(t,s,a,n,r,i){const o=[t+"="+encodeURIComponent(s)];j.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),j.isString(n)&&o.push("path="+n),j.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xi(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eo(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function en(t,s,a){let n=!Xi(s);return t&&(n||a==!1)?eo(t,s):s}const ta=t=>t instanceof de?{...t}:t;function Ge(t,s){s=s||{};const a={};function n(h,d,y,w){return j.isPlainObject(h)&&j.isPlainObject(d)?j.merge.call({caseless:w},h,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function r(h,d,y,w){if(j.isUndefined(d)){if(!j.isUndefined(h))return n(void 0,h,y,w)}else return n(h,d,y,w)}function i(h,d){if(!j.isUndefined(d))return n(void 0,d)}function o(h,d){if(j.isUndefined(d)){if(!j.isUndefined(h))return n(void 0,h)}else return n(void 0,d)}function l(h,d,y){if(y in s)return n(h,d);if(y in t)return n(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,y)=>r(ta(h),ta(d),y,!0)};return j.forEach(Object.keys({...t,...s}),function(d){const y=u[d]||r,w=y(t[d],s[d],d);j.isUndefined(w)&&y!==l||(a[d]=w)}),a}const tn=t=>{const s=Ge({},t);let{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=de.from(o),s.url=Ka(en(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),j.isFormData(a)){if(re.hasStandardBrowserEnv||re.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(j.isFunction(a.getHeaders)){const u=a.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([d,y])=>{h.includes(d.toLowerCase())&&o.set(d,y)})}}if(re.hasStandardBrowserEnv&&(n&&j.isFunction(n)&&(n=n(s)),n||n!==!1&&Yi(s.url))){const u=r&&i&&Ji.read(i);u&&o.set(r,u)}return s},to=typeof XMLHttpRequest<"u",so=to&&function(t){return new Promise(function(a,n){const r=tn(t);let i=r.data;const o=de.from(r.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=r,d,y,w,A,m;function g(){A&&A(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function k(){if(!b)return;const p=de.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:p,config:t,request:b};Xa(function(T){a(T),g()},function(T){n(T),g()},E),b=null}"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(k)},b.onabort=function(){b&&(n(new B("Request aborted",B.ECONNABORTED,t,b)),b=null)},b.onerror=function(f){const E=f&&f.message?f.message:"Network Error",I=new B(E,B.ERR_NETWORK,t,b);I.event=f||null,n(I),b=null},b.ontimeout=function(){let f=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||Qa;r.timeoutErrorMessage&&(f=r.timeoutErrorMessage),n(new B(f,E.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&j.forEach(o.toJSON(),function(f,E){b.setRequestHeader(E,f)}),j.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),l&&l!=="json"&&(b.responseType=r.responseType),h&&([w,m]=It(h,!0),b.addEventListener("progress",w)),u&&b.upload&&([y,A]=It(u),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(d=p=>{b&&(n(!p||p.type?new nt(null,t,b):p),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const N=zi(r.url);if(N&&re.protocols.indexOf(N)===-1){n(new B("Unsupported protocol "+N+":",B.ERR_BAD_REQUEST,t));return}b.send(i||null)})},ao=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let n=new AbortController,r;const i=function(h){if(!r){r=!0,l();const d=h instanceof Error?h:this.reason;n.abort(d instanceof B?d:new nt(d instanceof Error?d.message:d))}};let o=s&&setTimeout(()=>{o=null,i(new B(`timeout ${s} of ms exceeded`,B.ETIMEDOUT))},s);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>j.asap(l),u}},no=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let n=0,r;for(;n<a;)r=n+s,yield t.slice(n,r),n=r},ro=async function*(t,s){for await(const a of io(t))yield*no(a,s)},io=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:n}=await s.read();if(a)break;yield n}}finally{await s.cancel()}},sa=(t,s,a,n)=>{const r=ro(t,s);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:d}=await r.next();if(h){l(),u.close();return}let y=d.byteLength;if(a){let w=i+=y;a(w)}u.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(u){return l(u),r.return()}},{highWaterMark:2})},aa=64*1024,{isFunction:St}=j,oo=(({Request:t,Response:s})=>({Request:t,Response:s}))(j.global),{ReadableStream:na,TextEncoder:ra}=j.global,ia=(t,...s)=>{try{return!!t(...s)}catch{return!1}},lo=t=>{t=j.merge.call({skipUndefined:!0},oo,t);const{fetch:s,Request:a,Response:n}=t,r=s?St(s):typeof fetch=="function",i=St(a),o=St(n);if(!r)return!1;const l=r&&St(na),u=r&&(typeof ra=="function"?(m=>g=>m.encode(g))(new ra):async m=>new Uint8Array(await new a(m).arrayBuffer())),h=i&&l&&ia(()=>{let m=!1;const g=new a(re.origin,{body:new na,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),d=o&&l&&ia(()=>j.isReadableStream(new n("").body)),y={stream:d&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!y[m]&&(y[m]=(g,b)=>{let k=g&&g[m];if(k)return k.call(g);throw new B(`Response type '${m}' is not supported`,B.ERR_NOT_SUPPORT,b)})});const w=async m=>{if(m==null)return 0;if(j.isBlob(m))return m.size;if(j.isSpecCompliantForm(m))return(await new a(re.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(j.isArrayBufferView(m)||j.isArrayBuffer(m))return m.byteLength;if(j.isURLSearchParams(m)&&(m=m+""),j.isString(m))return(await u(m)).byteLength},A=async(m,g)=>{const b=j.toFiniteNumber(m.getContentLength());return b??w(g)};return async m=>{let{url:g,method:b,data:k,signal:N,cancelToken:p,timeout:f,onDownloadProgress:E,onUploadProgress:I,responseType:T,headers:D,withCredentials:_="same-origin",fetchOptions:V}=tn(m),Y=s||fetch;T=T?(T+"").toLowerCase():"text";let U=ao([N,p&&p.toAbortSignal()],f),$=null;const H=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let J;try{if(I&&h&&b!=="get"&&b!=="head"&&(J=await A(D,k))!==0){let ye=new a(g,{method:"POST",body:k,duplex:"half"}),Oe;if(j.isFormData(k)&&(Oe=ye.headers.get("content-type"))&&D.setContentType(Oe),ye.body){const[Qe,Ye]=Xs(J,It(ea(I)));k=sa(ye.body,aa,Qe,Ye)}}j.isString(_)||(_=_?"include":"omit");const W=i&&"credentials"in a.prototype,ue={...V,signal:U,method:b.toUpperCase(),headers:D.normalize().toJSON(),body:k,duplex:"half",credentials:W?_:void 0};$=i&&new a(g,ue);let oe=await(i?Y($,V):Y(g,ue));const Ae=d&&(T==="stream"||T==="response");if(d&&(E||Ae&&H)){const ye={};["status","statusText","headers"].forEach(rt=>{ye[rt]=oe[rt]});const Oe=j.toFiniteNumber(oe.headers.get("content-length")),[Qe,Ye]=E&&Xs(Oe,It(ea(E),!0))||[];oe=new n(sa(oe.body,aa,Qe,()=>{Ye&&Ye(),H&&H()}),ye)}T=T||"text";let Ke=await y[j.findKey(y,T)||"text"](oe,m);return!Ae&&H&&H(),await new Promise((ye,Oe)=>{Xa(ye,Oe,{data:Ke,headers:de.from(oe.headers),status:oe.status,statusText:oe.statusText,config:m,request:$})})}catch(W){throw H&&H(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new B("Network Error",B.ERR_NETWORK,m,$),{cause:W.cause||W}):B.from(W,W&&W.code,m,$)}}},co=new Map,sn=t=>{let s=t?t.env:{};const{fetch:a,Request:n,Response:r}=s,i=[n,r,a];let o=i.length,l=o,u,h,d=co;for(;l--;)u=i[l],h=d.get(u),h===void 0&&d.set(u,h=l?new Map:lo(s)),d=h;return h};sn();const fs={http:Ai,xhr:so,fetch:{get:sn}};j.forEach(fs,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const oa=t=>`- ${t}`,uo=t=>j.isFunction(t)||t===null||t===!1,an={getAdapter:(t,s)=>{t=j.isArray(t)?t:[t];const{length:a}=t;let n,r;const i={};for(let o=0;o<a;o++){n=t[o];let l;if(r=n,!uo(n)&&(r=fs[(l=String(n)).toLowerCase()],r===void 0))throw new B(`Unknown adapter '${l}'`);if(r&&(j.isFunction(r)||(r=r.get(s))))break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(oa).join(`
`):" "+oa(o[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:fs};function as(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nt(null,t)}function la(t){return as(t),t.headers=de.from(t.headers),t.data=ss.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),an.getAdapter(t.adapter||Nt.adapter,t)(t).then(function(n){return as(t),n.data=ss.call(t,t.transformResponse,n),n.headers=de.from(n.headers),n},function(n){return Ja(n)||(as(t),n&&n.response&&(n.response.data=ss.call(t,t.transformResponse,n.response),n.response.headers=de.from(n.response.headers))),Promise.reject(n)})}const nn="1.12.2",Vt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Vt[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const ca={};Vt.transitional=function(s,a,n){function r(i,o){return"[Axios v"+nn+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(s===!1)throw new B(r(o," has been removed"+(a?" in "+a:"")),B.ERR_DEPRECATED);return a&&!ca[o]&&(ca[o]=!0,console.warn(r(o," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,o,l):!0}};Vt.spelling=function(s){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function mo(t,s,a){if(typeof t!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const i=n[r],o=s[i];if(o){const l=t[i],u=l===void 0||o(l,i,t);if(u!==!0)throw new B("option "+i+" must be "+u,B.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new B("Unknown option "+i,B.ERR_BAD_OPTION)}}const Rt={assertOptions:mo,validators:Vt},ve=Rt.validators;let He=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Ys,response:new Ys}}async request(s,a){try{return await this._request(s,a)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Ge(this.defaults,a);const{transitional:n,paramsSerializer:r,headers:i}=a;n!==void 0&&Rt.assertOptions(n,{silentJSONParsing:ve.transitional(ve.boolean),forcedJSONParsing:ve.transitional(ve.boolean),clarifyTimeoutError:ve.transitional(ve.boolean)},!1),r!=null&&(j.isFunction(r)?a.paramsSerializer={serialize:r}:Rt.assertOptions(r,{encode:ve.function,serialize:ve.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Rt.assertOptions(a,{baseUrl:ve.spelling("baseURL"),withXsrfToken:ve.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&j.merge(i.common,i[a.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),a.headers=de.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(a)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let d,y=0,w;if(!u){const m=[la.bind(this),void 0];for(m.unshift(...l),m.push(...h),w=m.length,d=Promise.resolve(a);y<w;)d=d.then(m[y++],m[y++]);return d}w=l.length;let A=a;for(;y<w;){const m=l[y++],g=l[y++];try{A=m(A)}catch(b){g.call(this,b);break}}try{d=la.call(this,A)}catch(m){return Promise.reject(m)}for(y=0,w=h.length;y<w;)d=d.then(h[y++],h[y++]);return d}getUri(s){s=Ge(this.defaults,s);const a=en(s.baseURL,s.url,s.allowAbsoluteUrls);return Ka(a,s.params,s.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(s){He.prototype[s]=function(a,n){return this.request(Ge(n||{},{method:s,url:a,data:(n||{}).data}))}});j.forEach(["post","put","patch"],function(s){function a(n){return function(i,o,l){return this.request(Ge(l||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}He.prototype[s]=a(),He.prototype[s+"Form"]=a(!0)});let ho=class rn{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},s(function(i,o,l){n.reason||(n.reason=new nt(i,o,l),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=n=>{s.abort(n)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new rn(function(r){s=r}),cancel:s}}};function fo(t){return function(a){return t.apply(null,a)}}function po(t){return j.isObject(t)&&t.isAxiosError===!0}const ps={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ps).forEach(([t,s])=>{ps[s]=t});function on(t){const s=new He(t),a=Fa(He.prototype.request,s);return j.extend(a,He.prototype,s,{allOwnKeys:!0}),j.extend(a,s,null,{allOwnKeys:!0}),a.create=function(r){return on(Ge(t,r))},a}const X=on(Nt);X.Axios=He;X.CanceledError=nt;X.CancelToken=ho;X.isCancel=Ja;X.VERSION=nn;X.toFormData=$t;X.AxiosError=B;X.Cancel=X.CanceledError;X.all=function(s){return Promise.all(s)};X.spread=fo;X.isAxiosError=po;X.mergeConfig=Ge;X.AxiosHeaders=de;X.formToJSON=t=>Ya(j.isHTMLForm(t)?new FormData(t):t);X.getAdapter=an.getAdapter;X.HttpStatusCode=ps;X.default=X;const{Axios:Qc,AxiosError:Yc,CanceledError:Jc,isCancel:Xc,CancelToken:ed,VERSION:td,all:sd,Cancel:ad,isAxiosError:nd,spread:rd,toFormData:id,AxiosHeaders:od,HttpStatusCode:ld,formToJSON:cd,getAdapter:dd,mergeConfig:ud}=X;class me{static getEnquiries(){return[{id:1,name:"BALAMURUGAN",businessName:"Balamurugan Enterprises",mobile:"9876543215",email:"balamurugan@enterprises.com",businessType:"Manufacturing",loanAmount:5e5,district:"Chennai",constitution:"Proprietorship",gstStatus:"Registered",capAmount:5e4,bankAccount:"Yes",statementDuration:"12 months",status:"APPROVED",priority:"High",assignedStaff:"Perivi",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-16T10:37:11.406Z").toISOString(),updatedAt:new Date("2024-10-16T10:37:11.406Z").toISOString()},{id:2,name:"VIGNESH S",businessName:"Vignesh Trading",mobile:"9876543220",email:"vignesh@trading.com",businessType:"Trading",loanAmount:3e5,district:"Coimbatore",constitution:"Partnership",gstStatus:"Registered",capAmount:3e4,bankAccount:"Yes",statementDuration:"6 months",status:"PROCESSING",priority:"Medium",assignedStaff:"Venkat",source:"WALK_IN",interestStatus:"Interested",createdAt:new Date("2024-10-15T09:20:30.123Z").toISOString(),updatedAt:new Date("2024-10-15T09:20:30.123Z").toISOString()},{id:3,name:"Poorani",businessName:"Poorani Textiles",mobile:"9876543221",email:"poorani@textiles.com",businessType:"Textiles",loanAmount:75e4,district:"Madurai",constitution:"Private Limited",gstStatus:"Registered",capAmount:75e3,bankAccount:"Yes",statementDuration:"12 months",status:"DOCUMENT_VERIFICATION",priority:"High",assignedStaff:"Harish",source:"REFERRAL",interestStatus:"Very Interested",createdAt:new Date("2024-10-14T14:15:45.789Z").toISOString(),updatedAt:new Date("2024-10-14T14:15:45.789Z").toISOString()},{id:4,name:"Manigandan M",businessName:"Manigandan Industries",mobile:"9876543222",email:"manigandan@industries.com",businessType:"Manufacturing",loanAmount:1e6,district:"Salem",constitution:"Private Limited",gstStatus:"Registered",capAmount:1e5,bankAccount:"Yes",statementDuration:"18 months",status:"SHORTLISTED",priority:"High",assignedStaff:"Dinesh",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-13T11:30:15.456Z").toISOString(),updatedAt:new Date("2024-10-13T11:30:15.456Z").toISOString()},{id:5,name:"Praba",businessName:"Praba Enterprises",mobile:"9876543223",email:"praba@enterprises.com",businessType:"Services",loanAmount:4e5,district:"Trichy",constitution:"Proprietorship",gstStatus:"Registered",capAmount:4e4,bankAccount:"Yes",statementDuration:"9 months",status:"NEW",priority:"Medium",assignedStaff:"Nunciya",source:"PHONE_INQUIRY",interestStatus:"Interested",createdAt:new Date("2024-10-12T16:45:30.789Z").toISOString(),updatedAt:new Date("2024-10-12T16:45:30.789Z").toISOString()},{id:6,name:"Renu",businessName:"Renu Trading Co",mobile:"9876543210",email:"renu@trading.com",businessType:"Trading",loanAmount:25e4,district:"Erode",constitution:"Partnership",gstStatus:"Registered",capAmount:25e3,bankAccount:"Yes",statementDuration:"6 months",status:"FOLLOW_UP",priority:"Low",assignedStaff:"Venkat",source:"WALK_IN",interestStatus:"Moderately Interested",createdAt:new Date("2024-10-11T08:15:45.123Z").toISOString(),updatedAt:new Date("2024-10-11T08:15:45.123Z").toISOString()},{id:7,name:"Rajesh Kumar",businessName:"Kumar Exports",mobile:"9876543224",email:"rajesh@kumarexports.com",businessType:"Export",loanAmount:8e5,district:"Chennai",constitution:"Private Limited",gstStatus:"Registered",capAmount:8e4,bankAccount:"Yes",statementDuration:"24 months",status:"APPROVED",priority:"High",assignedStaff:"Perivi",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-10T14:20:15.789Z").toISOString(),updatedAt:new Date("2024-10-10T14:20:15.789Z").toISOString()},{id:8,name:"Priya Sharma",businessName:"Sharma Consultancy",mobile:"9876543225",email:"priya@sharmaconsult.com",businessType:"Services",loanAmount:35e4,district:"Bangalore",constitution:"Proprietorship",gstStatus:"Registered",capAmount:35e3,bankAccount:"Yes",statementDuration:"12 months",status:"PROCESSING",priority:"Medium",assignedStaff:"Harish",source:"REFERRAL",interestStatus:"Interested",createdAt:new Date("2024-10-09T11:45:30.456Z").toISOString(),updatedAt:new Date("2024-10-09T11:45:30.456Z").toISOString()},{id:9,name:"Amit Patel",businessName:"Patel Electronics",mobile:"9876543226",email:"amit@patelelectronics.com",businessType:"Electronics",loanAmount:6e5,district:"Ahmedabad",constitution:"Partnership",gstStatus:"Registered",capAmount:6e4,bankAccount:"Yes",statementDuration:"15 months",status:"DOCUMENT_VERIFICATION",priority:"High",assignedStaff:"Dinesh",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-08T09:30:45.123Z").toISOString(),updatedAt:new Date("2024-10-08T09:30:45.123Z").toISOString()},{id:10,name:"Sunita Gupta",businessName:"Gupta Fashion",mobile:"9876543227",email:"sunita@guptafashion.com",businessType:"Fashion",loanAmount:45e4,district:"Delhi",constitution:"Proprietorship",gstStatus:"Registered",capAmount:45e3,bankAccount:"Yes",statementDuration:"10 months",status:"SHORTLISTED",priority:"Medium",assignedStaff:"Nunciya",source:"WALK_IN",interestStatus:"Interested",createdAt:new Date("2024-10-07T16:15:20.789Z").toISOString(),updatedAt:new Date("2024-10-07T16:15:20.789Z").toISOString()},{id:11,name:"Deepak Verma",businessName:"Verma Construction",mobile:"9876543228",email:"deepak@verma.com",businessType:"Construction",loanAmount:85e4,district:"Mumbai",constitution:"Private Limited",gstStatus:"Registered",capAmount:85e3,bankAccount:"Yes",statementDuration:"18 months",status:"NEW",priority:"High",assignedStaff:"Nunciya",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-06T13:25:15.234Z").toISOString(),updatedAt:new Date("2024-10-06T13:25:15.234Z").toISOString()},{id:12,name:"Neha Agarwal",businessName:"Agarwal Enterprises",mobile:"9876543229",email:"neha@agarwal.com",businessType:"Trading",loanAmount:65e4,district:"Pune",constitution:"Partnership",gstStatus:"Registered",capAmount:65e3,bankAccount:"Yes",statementDuration:"15 months",status:"PROCESSING",priority:"Medium",assignedStaff:"Admin User",source:"REFERRAL",interestStatus:"Interested",createdAt:new Date("2024-10-05T10:40:30.567Z").toISOString(),updatedAt:new Date("2024-10-05T10:40:30.567Z").toISOString()},{id:13,name:"Rohit Sharma",businessName:"Sharma Industries",mobile:"9876543230",email:"rohit@sharma.com",businessType:"Manufacturing",loanAmount:95e4,district:"Hyderabad",constitution:"Private Limited",gstStatus:"Registered",capAmount:95e3,bankAccount:"Yes",statementDuration:"20 months",status:"DOCUMENT_VERIFICATION",priority:"High",assignedStaff:"Admin User",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-04T15:20:45.890Z").toISOString(),updatedAt:new Date("2024-10-04T15:20:45.890Z").toISOString()},{id:14,name:"Manish Gupta",businessName:"Gupta Tech Solutions",mobile:"9876543231",email:"manish@gupta.com",businessType:"Technology",loanAmount:75e4,district:"Kolkata",constitution:"Private Limited",gstStatus:"Registered",capAmount:75e3,bankAccount:"Yes",statementDuration:"12 months",status:"APPROVED",priority:"High",assignedStaff:"Admin User",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-03T12:10:20.123Z").toISOString(),updatedAt:new Date("2024-10-03T12:10:20.123Z").toISOString()}]}static getDocuments(){return[{id:1,enquiryId:1,type:"GST",fileName:"gst-certificate-balamurugan.pdf",filePath:"/uploads/documents/1729073400000-1-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:00:00.000Z").toISOString(),createdAt:new Date("2024-10-16T10:45:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:2,enquiryId:1,type:"UDYAM",fileName:"udyam-certificate-balamurugan.pdf",filePath:"/uploads/documents/1729073460000-1-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:05:00.000Z").toISOString(),createdAt:new Date("2024-10-16T10:50:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:3,enquiryId:1,type:"BANK_STATEMENT",fileName:"bank-statement-balamurugan.pdf",filePath:"/uploads/documents/1729073520000-1-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:10:00.000Z").toISOString(),createdAt:new Date("2024-10-16T10:55:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:4,enquiryId:1,type:"OWNER_PAN",fileName:"owner-pan-balamurugan.pdf",filePath:"/uploads/documents/1729073580000-1-OWNER_PAN.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:15:00.000Z").toISOString(),createdAt:new Date("2024-10-16T11:00:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:5,enquiryId:1,type:"AADHAR",fileName:"aadhar-balamurugan.pdf",filePath:"/uploads/documents/1729073640000-1-AADHAR.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:20:00.000Z").toISOString(),createdAt:new Date("2024-10-16T11:05:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:6,enquiryId:2,type:"GST",fileName:"gst-certificate-vignesh.pdf",filePath:"/uploads/documents/1729073700000-2-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-15T14:30:00.000Z").toISOString(),createdAt:new Date("2024-10-15T14:15:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading"}},{id:7,enquiryId:2,type:"UDYAM",fileName:"udyam-certificate-vignesh.pdf",filePath:"/uploads/documents/1729073760000-2-UDYAM.pdf",verified:!1,createdAt:new Date("2024-10-15T14:20:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading"}},{id:8,enquiryId:2,type:"BANK_STATEMENT",fileName:"bank-statement-vignesh.pdf",filePath:"/uploads/documents/1729073800000-2-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-15T14:45:00.000Z").toISOString(),createdAt:new Date("2024-10-15T14:25:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading"}},{id:9,enquiryId:3,type:"GST",fileName:"gst-certificate-poorani.pdf",filePath:"/uploads/documents/1729073820000-3-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-14T16:45:00.000Z").toISOString(),createdAt:new Date("2024-10-14T16:30:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles"}},{id:10,enquiryId:3,type:"BANK_STATEMENT",fileName:"bank-statement-poorani.pdf",filePath:"/uploads/documents/1729073880000-3-BANK_STATEMENT.pdf",verified:!1,createdAt:new Date("2024-10-14T16:35:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles"}},{id:11,enquiryId:3,type:"UDYAM",fileName:"udyam-certificate-poorani.pdf",filePath:"/uploads/documents/1729073900000-3-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-14T17:00:00.000Z").toISOString(),createdAt:new Date("2024-10-14T16:40:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles"}},{id:12,enquiryId:4,type:"GST",fileName:"gst-certificate-manigandan.pdf",filePath:"/uploads/documents/1729073950000-4-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-13T12:30:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:15:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:13,enquiryId:4,type:"UDYAM",fileName:"udyam-certificate-manigandan.pdf",filePath:"/uploads/documents/1729074000000-4-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-13T12:45:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:20:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:14,enquiryId:4,type:"BANK_STATEMENT",fileName:"bank-statement-manigandan.pdf",filePath:"/uploads/documents/1729074050000-4-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-13T13:00:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:25:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:15,enquiryId:4,type:"OWNER_PAN",fileName:"owner-pan-manigandan.pdf",filePath:"/uploads/documents/1729074100000-4-OWNER_PAN.pdf",verified:!0,verifiedAt:new Date("2024-10-13T13:15:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:30:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:16,enquiryId:4,type:"AADHAR",fileName:"aadhar-manigandan.pdf",filePath:"/uploads/documents/1729074150000-4-AADHAR.pdf",verified:!0,verifiedAt:new Date("2024-10-13T13:30:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:35:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:17,enquiryId:7,type:"GST",fileName:"gst-certificate-rajesh.pdf",filePath:"/uploads/documents/1729074200000-7-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-10T15:30:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:15:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:18,enquiryId:7,type:"UDYAM",fileName:"udyam-certificate-rajesh.pdf",filePath:"/uploads/documents/1729074250000-7-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-10T15:45:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:20:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:19,enquiryId:7,type:"BANK_STATEMENT",fileName:"bank-statement-rajesh.pdf",filePath:"/uploads/documents/1729074300000-7-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-10T16:00:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:25:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:20,enquiryId:7,type:"OWNER_PAN",fileName:"owner-pan-rajesh.pdf",filePath:"/uploads/documents/1729074350000-7-OWNER_PAN.pdf",verified:!0,verifiedAt:new Date("2024-10-10T16:15:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:30:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:21,enquiryId:8,type:"GST",fileName:"gst-certificate-priya.pdf",filePath:"/uploads/documents/1729074400000-8-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-09T12:30:00.000Z").toISOString(),createdAt:new Date("2024-10-09T12:15:00.000Z").toISOString(),enquiry:{id:8,name:"Priya Sharma",mobile:"9876543225",businessType:"Services"}},{id:22,enquiryId:8,type:"BANK_STATEMENT",fileName:"bank-statement-priya.pdf",filePath:"/uploads/documents/1729074450000-8-BANK_STATEMENT.pdf",verified:!1,createdAt:new Date("2024-10-09T12:20:00.000Z").toISOString(),enquiry:{id:8,name:"Priya Sharma",mobile:"9876543225",businessType:"Services"}},{id:23,enquiryId:9,type:"GST",fileName:"gst-certificate-amit.pdf",filePath:"/uploads/documents/1729074500000-9-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-08T10:30:00.000Z").toISOString(),createdAt:new Date("2024-10-08T10:15:00.000Z").toISOString(),enquiry:{id:9,name:"Amit Patel",mobile:"9876543226",businessType:"Electronics"}},{id:24,enquiryId:9,type:"UDYAM",fileName:"udyam-certificate-amit.pdf",filePath:"/uploads/documents/1729074550000-9-UDYAM.pdf",verified:!1,createdAt:new Date("2024-10-08T10:20:00.000Z").toISOString(),enquiry:{id:9,name:"Amit Patel",mobile:"9876543226",businessType:"Electronics"}},{id:25,enquiryId:9,type:"BANK_STATEMENT",fileName:"bank-statement-amit.pdf",filePath:"/uploads/documents/1729074600000-9-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-08T11:00:00.000Z").toISOString(),createdAt:new Date("2024-10-08T10:25:00.000Z").toISOString(),enquiry:{id:9,name:"Amit Patel",mobile:"9876543226",businessType:"Electronics"}}]}static getShortlist(){return[{id:1,enquiryId:1,name:"BALAMURUGAN",mobile:"9876543215",businessName:"Balamurugan Enterprises",businessNature:"Manufacturing",businessType:"Manufacturing",loanAmount:5e5,district:"Chennai",constitution:"Proprietorship",gstStatus:"Registered",capAmount:5e4,bankAccount:"Yes",statementDuration:"12 months",staff:"Perivi",interestStatus:"Very Interested",priority:"High",notes:"Complete documentation verified, ready for processing",createdAt:new Date("2024-10-16T12:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-16T12:00:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing",businessName:"Balamurugan Enterprises"}},{id:2,enquiryId:2,name:"VIGNESH S",mobile:"9876543220",businessName:"Vignesh Trading",businessNature:"Trading",businessType:"Trading",loanAmount:3e5,district:"Coimbatore",constitution:"Partnership",gstStatus:"Registered",capAmount:3e4,bankAccount:"Yes",statementDuration:"6 months",staff:"Venkat",interestStatus:"Interested",priority:"Medium",notes:"Pending UDYAM verification",createdAt:new Date("2024-10-15T13:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-15T13:30:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading",businessName:"Vignesh Trading"}},{id:3,enquiryId:3,name:"Poorani",mobile:"9876543221",businessName:"Poorani Textiles",businessNature:"Textiles",businessType:"Textiles",loanAmount:75e4,district:"Madurai",constitution:"Private Limited",gstStatus:"Registered",capAmount:75e3,bankAccount:"Yes",statementDuration:"12 months",staff:"Dinesh",interestStatus:"Very Interested",priority:"High",notes:"Large loan amount, good business profile",createdAt:new Date("2024-10-14T17:15:00.000Z").toISOString(),updatedAt:new Date("2024-10-14T17:15:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles",businessName:"Poorani Textiles"}},{id:4,enquiryId:4,name:"Manigandan M",mobile:"9876543222",businessName:"Manigandan Industries",businessNature:"Manufacturing",businessType:"Manufacturing",loanAmount:1e6,district:"Salem",constitution:"Private Limited",gstStatus:"Registered",capAmount:1e5,bankAccount:"Yes",statementDuration:"18 months",staff:"Dinesh",interestStatus:"Very Interested",priority:"High",notes:"Large loan amount, excellent business profile",createdAt:new Date("2024-10-13T15:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-13T15:30:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing",businessName:"Manigandan Industries"}},{id:5,enquiryId:7,name:"Rajesh Kumar",mobile:"9876543224",businessName:"Kumar Exports",businessNature:"Export",businessType:"Export",loanAmount:8e5,district:"Chennai",constitution:"Private Limited",gstStatus:"Registered",capAmount:8e4,bankAccount:"Yes",statementDuration:"24 months",staff:"Perivi",interestStatus:"Very Interested",priority:"High",notes:"Export business with strong financials",createdAt:new Date("2024-10-10T16:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-10T16:30:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export",businessName:"Kumar Exports"}},{id:6,enquiryId:10,name:"Sunita Gupta",mobile:"9876543227",businessName:"Gupta Fashion",businessNature:"Fashion",businessType:"Fashion",loanAmount:45e4,district:"Delhi",constitution:"Proprietorship",gstStatus:"Registered",capAmount:45e3,bankAccount:"Yes",statementDuration:"10 months",staff:"Nunciya",interestStatus:"Interested",priority:"Medium",notes:"Fashion business with seasonal variations",createdAt:new Date("2024-10-07T18:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-07T18:00:00.000Z").toISOString(),enquiry:{id:10,name:"Sunita Gupta",mobile:"9876543227",businessType:"Fashion",businessName:"Gupta Fashion"}}]}static getPaymentGateway(){return[{id:1,shortlistId:1,loanAmount:5e5,tenure:24,interestRate:12.5,status:"APPROVED",processingFee:25e3,emi:23500,createdAt:new Date("2024-10-16T13:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-16T13:00:00.000Z").toISOString(),shortlist:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessName:"Balamurugan Enterprises",businessType:"Manufacturing",loanAmount:5e5,enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing",businessName:"Balamurugan Enterprises"}},submittedBy:{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com"}},{id:2,shortlistId:5,loanAmount:8e5,tenure:36,interestRate:11.5,status:"PROCESSING",processingFee:4e4,emi:26800,createdAt:new Date("2024-10-14T15:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-14T15:30:00.000Z").toISOString(),shortlist:{id:5,name:"Rajesh Kumar",mobile:"9876543224",businessName:"Kumar Exports",businessType:"Export",loanAmount:8e5,enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export",businessName:"Kumar Exports"}},submittedBy:{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com"}},{id:3,shortlistId:4,loanAmount:1e6,tenure:48,interestRate:13,status:"PENDING",processingFee:5e4,emi:27e3,createdAt:new Date("2024-10-13T17:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-13T17:00:00.000Z").toISOString(),shortlist:{id:4,name:"Manigandan M",mobile:"9876543222",businessName:"Manigandan Industries",businessType:"Manufacturing",loanAmount:1e6,enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing",businessName:"Manigandan Industries"}},submittedBy:{id:4,name:"Dinesh",email:"dinesh@gmail.com"}},{id:4,shortlistId:3,loanAmount:75e4,tenure:30,interestRate:12,status:"UNDER_REVIEW",processingFee:37500,emi:26200,createdAt:new Date("2024-10-12T14:45:00.000Z").toISOString(),updatedAt:new Date("2024-10-12T14:45:00.000Z").toISOString(),shortlist:{id:3,name:"Poorani",mobile:"9876543221",businessName:"Poorani Textiles",businessType:"Textiles",loanAmount:75e4,enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles",businessName:"Poorani Textiles"}},submittedBy:{id:3,name:"Harish",email:"newacttmis@gmail.com"}},{id:5,shortlistId:6,loanAmount:45e4,tenure:24,interestRate:13.5,status:"REJECTED",processingFee:22500,emi:20100,rejectionReason:"Insufficient business turnover",createdAt:new Date("2024-10-10T11:20:00.000Z").toISOString(),updatedAt:new Date("2024-10-10T11:20:00.000Z").toISOString(),shortlist:{id:6,name:"Sunita Gupta",mobile:"9876543227",businessName:"Gupta Fashion",businessType:"Fashion",loanAmount:45e4,enquiry:{id:10,name:"Sunita Gupta",mobile:"9876543227",businessType:"Fashion",businessName:"Gupta Fashion"}},submittedBy:{id:5,name:"Nunciya",email:"tmsnunciya59@gmail.com"}}]}static getStaff(){return[{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com",password:"12345678",role:"ADMIN",department:"Management",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Rajesh Kumar, Priya Sharma, Amit Patel",createdAt:new Date("2024-10-01T09:00:00.000Z").toISOString()},{id:2,name:"Venkat",email:"gowthaamaneswar1998@gmail.com",password:"12345678",role:"EMPLOYEE",department:"Operations",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Sunita Gupta, Vikram Singh",createdAt:new Date("2024-10-02T10:00:00.000Z").toISOString()},{id:3,name:"Harish",email:"newacttmis@gmail.com",password:"12345678",role:"ADMIN",department:"Client Management",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Anita Desai, Ravi Mehta, Sanjay Joshi",createdAt:new Date("2024-10-03T11:00:00.000Z").toISOString()},{id:4,name:"Dinesh",email:"dinesh@gmail.com",password:"12345678",role:"EMPLOYEE",department:"Processing",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Available for Assignment - Ready for New Clients",createdAt:new Date("2024-10-04T12:00:00.000Z").toISOString()},{id:5,name:"Nunciya",email:"tmsnunciya59@gmail.com",password:"12345678",role:"ADMIN",department:"Administration",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Deepak Verma",createdAt:new Date("2024-10-05T13:00:00.000Z").toISOString()},{id:6,name:"Admin User",email:"admin@businessloan.com",password:"12345678",role:"ADMIN",department:"Administration",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Neha Agarwal, Rohit Sharma",createdAt:new Date("2024-10-06T14:00:00.000Z").toISOString()},{id:7,name:"Admin User",email:"admin@gmail.com",password:"admin123",role:"ADMIN",department:"Administration",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Manish Gupta",createdAt:new Date("2024-10-07T15:00:00.000Z").toISOString()}]}static authenticateStaff(s,a){const n=this.getStaff().find(l=>l.email===s);if(!n||!n.hasAccess||n.status!=="ACTIVE"||n.password!==a)return null;const r=`mock-jwt-token-${n.id}-${Date.now()}`,{password:i,...o}=n;return{access_token:r,user:{id:n.id,name:n.name,email:n.email,role:n.role}}}static getTransactions(){return[{id:1001,name:"BALAMURUGAN Payment",transactionId:"TXN202410001",amount:5e5,status:"COMPLETED",date:new Date("2024-10-15T10:30:00.000Z").toISOString(),clientName:"BALAMURUGAN",businessType:"Manufacturing",processedBy:"Perivi",createdAt:new Date("2024-10-15T10:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-15T10:30:00.000Z").toISOString()},{id:1002,name:"Rajesh Kumar Payment",transactionId:"TXN202410002",amount:8e5,status:"COMPLETED",date:new Date("2024-10-14T14:20:00.000Z").toISOString(),clientName:"Rajesh Kumar",businessType:"Export",processedBy:"Perivi",createdAt:new Date("2024-10-14T14:20:00.000Z").toISOString(),updatedAt:new Date("2024-10-14T14:20:00.000Z").toISOString()},{id:1003,name:"Manigandan M Payment",transactionId:"TXN202410003",amount:1e6,status:"PENDING",date:new Date("2024-10-13T16:45:00.000Z").toISOString(),clientName:"Manigandan M",businessType:"Manufacturing",processedBy:"Dinesh",createdAt:new Date("2024-10-13T16:45:00.000Z").toISOString(),updatedAt:new Date("2024-10-13T16:45:00.000Z").toISOString()},{id:1004,name:"Poorani Processing Fee",transactionId:"TXN202410004",amount:75e3,status:"COMPLETED",date:new Date("2024-10-12T11:15:00.000Z").toISOString(),clientName:"Poorani",businessType:"Textiles",processedBy:"Harish",createdAt:new Date("2024-10-12T11:15:00.000Z").toISOString(),updatedAt:new Date("2024-10-12T11:15:00.000Z").toISOString()},{id:1005,name:"VIGNESH S Payment",transactionId:"TXN202410005",amount:3e5,status:"PENDING",date:new Date("2024-10-11T09:30:00.000Z").toISOString(),clientName:"VIGNESH S",businessType:"Trading",processedBy:"Venkat",createdAt:new Date("2024-10-11T09:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-11T09:30:00.000Z").toISOString()},{id:1006,name:"Priya Sharma Application Fee",transactionId:"TXN202410006",amount:35e3,status:"COMPLETED",date:new Date("2024-10-10T13:20:00.000Z").toISOString(),clientName:"Priya Sharma",businessType:"Services",processedBy:"Harish",createdAt:new Date("2024-10-10T13:20:00.000Z").toISOString(),updatedAt:new Date("2024-10-10T13:20:00.000Z").toISOString()},{id:1007,name:"Amit Patel Payment",transactionId:"TXN202410007",amount:6e5,status:"FAILED",date:new Date("2024-10-09T15:45:00.000Z").toISOString(),clientName:"Amit Patel",businessType:"Electronics",processedBy:"Dinesh",createdAt:new Date("2024-10-09T15:45:00.000Z").toISOString(),updatedAt:new Date("2024-10-09T15:45:00.000Z").toISOString()},{id:1008,name:"Sunita Gupta Payment",transactionId:"TXN202410008",amount:45e4,status:"PENDING",date:new Date("2024-10-08T12:10:00.000Z").toISOString(),clientName:"Sunita Gupta",businessType:"Fashion",processedBy:"Nunciya",createdAt:new Date("2024-10-08T12:10:00.000Z").toISOString(),updatedAt:new Date("2024-10-08T12:10:00.000Z").toISOString()}]}static getNotifications(){return[{id:"notif_1",type:"NEW_ENQUIRY",title:"New Enquiry Received",message:"New enquiry from BALAMURUGAN (Manufacturing) for 5,00,000 business loan received",priority:"HIGH",read:!1,createdAt:new Date("2024-10-16T10:37:11.406Z").toISOString(),data:{enquiryId:1,clientName:"BALAMURUGAN",loanAmount:5e5,businessType:"Manufacturing"}},{id:"notif_2",type:"DOCUMENT_UPLOADED",title:"Document Uploaded",message:"GST Certificate uploaded by BALAMURUGAN - awaiting verification",priority:"MEDIUM",read:!1,createdAt:new Date("2024-10-16T10:45:00.000Z").toISOString(),data:{documentId:1,clientName:"BALAMURUGAN",documentType:"GST"}},{id:"notif_3",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"Bank Statement verified for Rajesh Kumar - all documents complete",priority:"MEDIUM",read:!1,createdAt:new Date("2024-10-15T14:20:00.000Z").toISOString(),data:{documentId:19,clientName:"Rajesh Kumar",documentType:"BANK_STATEMENT"}},{id:"notif_4",type:"SHORTLISTED",title:"Client Shortlisted",message:"Manigandan M has been added to shortlist for 10,00,000 loan",priority:"HIGH",read:!1,createdAt:new Date("2024-10-13T15:30:00.000Z").toISOString(),data:{shortlistId:4,clientName:"Manigandan M",loanAmount:1e6}},{id:"notif_5",type:"PAYMENT_APPLIED",title:"Payment Gateway Application",message:"Poorani applied for 7,50,000 loan through payment gateway",priority:"HIGH",read:!1,createdAt:new Date("2024-10-12T14:45:00.000Z").toISOString(),data:{paymentId:4,clientName:"Poorani",loanAmount:75e4}},{id:"notif_6",type:"TRANSACTION_COMPLETED",title:"Transaction Completed",message:"Payment of 5,00,000 completed for BALAMURUGAN",priority:"HIGH",read:!0,createdAt:new Date("2024-10-15T10:30:00.000Z").toISOString(),data:{transactionId:1001,clientName:"BALAMURUGAN",amount:5e5}},{id:"notif_7",type:"STAFF_ADDED",title:"New Staff Member",message:"Dinesh added as EMPLOYEE in Processing department",priority:"LOW",read:!0,createdAt:new Date("2024-10-04T12:00:00.000Z").toISOString(),data:{staffId:4,staffName:"Dinesh",role:"EMPLOYEE"}},{id:"notif_8",type:"NEW_ENQUIRY",title:"New Enquiry Received",message:"New enquiry from Priya Sharma for 3,50,000 services business loan",priority:"HIGH",read:!0,createdAt:new Date("2024-10-09T11:45:30.000Z").toISOString(),data:{enquiryId:8,clientName:"Priya Sharma",loanAmount:35e4,businessType:"Services"}},{id:"notif_9",type:"DOCUMENT_UPLOADED",title:"Document Uploaded",message:"UDYAM Registration uploaded by Amit Patel - pending verification",priority:"MEDIUM",read:!0,createdAt:new Date("2024-10-08T10:20:00.000Z").toISOString(),data:{documentId:24,clientName:"Amit Patel",documentType:"UDYAM"}},{id:"notif_10",type:"PAYMENT_REJECTED",title:"Payment Application Rejected",message:"Sunita Gupta loan application rejected - insufficient business turnover",priority:"MEDIUM",read:!0,createdAt:new Date("2024-10-10T11:20:00.000Z").toISOString(),data:{paymentId:5,clientName:"Sunita Gupta",rejectionReason:"Insufficient business turnover"}}]}static getDashboardStats(){const s=this.getEnquiries(),a=this.getDocuments(),n=this.getShortlist(),r=this.getTransactions(),i=this.getStaff();return{totalEnquiries:s.length,totalDocuments:a.length,verifiedDocuments:a.filter(o=>o.verified).length,totalShortlisted:n.length,totalTransactions:r.length,completedTransactions:r.filter(o=>o.status==="COMPLETED").length,pendingTransactions:r.filter(o=>o.status==="PENDING").length,totalStaff:i.length,activeStaff:i.filter(o=>o.hasAccess).length}}}class xs{static TOKEN_COOKIE_NAME="__auth_token";static USER_COOKIE_NAME="__user_data";static CSRF_TOKEN_NAME="__csrf_token";static setToken(s){if(typeof document>"u")return;const n={httpOnly:!1,secure:!0,sameSite:"strict",maxAge:10080*60,path:"/"};this.setCookie(this.TOKEN_COOKIE_NAME,s,n);const r=this.generateCSRFToken();this.setCookie(this.CSRF_TOKEN_NAME,r,n)}static getToken(){return typeof document>"u"?null:this.getCookie(this.TOKEN_COOKIE_NAME)}static setUser(s){if(typeof document>"u")return;const a=!0,n=this.encryptData(JSON.stringify(s)),r={httpOnly:!1,secure:a,sameSite:"strict",maxAge:10080*60,path:"/"};this.setCookie(this.USER_COOKIE_NAME,n,r)}static getUser(){if(typeof document>"u")return null;const s=this.getCookie(this.USER_COOKIE_NAME);if(!s)return null;try{const a=this.decryptData(s);return JSON.parse(a)}catch{return console.error("Failed to decrypt user data"),this.removeUser(),null}}static getCSRFToken(){return typeof document>"u"?null:this.getCookie(this.CSRF_TOKEN_NAME)}static clearAll(){this.removeCookie(this.TOKEN_COOKIE_NAME),this.removeCookie(this.USER_COOKIE_NAME),this.removeCookie(this.CSRF_TOKEN_NAME)}static removeToken(){this.removeCookie(this.TOKEN_COOKIE_NAME),this.removeCookie(this.CSRF_TOKEN_NAME)}static removeUser(){this.removeCookie(this.USER_COOKIE_NAME)}static setCookie(s,a,n){let r=`${s}=${encodeURIComponent(a)}`;n.maxAge&&(r+=`; Max-Age=${n.maxAge}`),n.path&&(r+=`; Path=${n.path}`),n.secure&&(r+="; Secure"),n.sameSite&&(r+=`; SameSite=${n.sameSite}`),document.cookie=r}static getCookie(s){if(typeof document>"u")return null;const a=s+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(a)===0)return decodeURIComponent(i.substring(a.length,i.length))}return null}static removeCookie(s){document.cookie=`${s}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=strict`}static generateCSRFToken(){const s=new Uint8Array(32);return crypto.getRandomValues(s),Array.from(s,a=>a.toString(16).padStart(2,"0")).join("")}static encryptData(s){return btoa(encodeURIComponent(s)).split("").reverse().join("")}static decryptData(s){try{const a=s.split("").reverse().join("");return decodeURIComponent(atob(a))}catch{throw new Error("Failed to decrypt data")}}static isSecureContext(){return typeof window<"u"&&(window.location.protocol==="https:"||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")}}class Ce{static isProduction=!0;static isDevelopment=!1;static log(s,a){this.isDevelopment&&console.log(s,a)}static error(s,a){this.isProduction?console.error(this.sanitizeMessage(s)):console.error(s,a)}static warn(s,a){this.isDevelopment&&console.warn(s,a)}static debug(s,a){this.isDevelopment&&console.debug(s,a)}static apiLog(s,a,n,r){this.isDevelopment?console.log(`API: ${s} ${a} - ${n||"pending"}`,r):this.isProduction&&console.log(`API: ${s} ${this.sanitizeUrl(a)} - ${n||"pending"}`)}static authLog(s,a){if(this.isDevelopment)console.log(`AUTH: ${s}`,{email:a});else if(this.isProduction){const n=a?a.substring(0,3)+"***":"unknown";console.log(`AUTH: ${s} for user: ${n}`)}}static performance(s,a){console.log(`PERF: ${s}${a?` (${a}ms)`:""}`)}static sanitizeMessage(s){return s.replace(/password[=:]\s*[^\s&]+/gi,"password=***").replace(/token[=:]\s*[^\s&]+/gi,"token=***").replace(/key[=:]\s*[^\s&]+/gi,"key=***").replace(/email[=:]\s*[^\s&]+/gi,"email=***").replace(/\b\d{10,}\b/g,"***").replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"***@***.***")}static sanitizeUrl(s){return s.split("?")[0]}static createSafeConsole(){return this.isProduction?{log:()=>{},error:(s,a)=>console.error(this.sanitizeMessage(s)),warn:()=>{},debug:()=>{},info:()=>{}}:console}}class gs{static async generateSignature(s,a,n){const r=Date.now().toString(),i=crypto.getRandomValues(new Uint32Array(1))[0].toString(16);let o=`${s.toUpperCase()}|${a}|${r}|${i}`;if(n){const w=typeof n=="string"?n:JSON.stringify(n);o+=`|${w}`}const u=new TextEncoder().encode(o),h=await crypto.subtle.digest("SHA-256",u),y=Array.from(new Uint8Array(h)).map(w=>w.toString(16).padStart(2,"0")).join("");return`${r}.${i}.${y}`}static addSecurityHeaders(s){const a={"X-Requested-With":"XMLHttpRequest","X-Content-Type-Options":"nosniff","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},n=this.generateFingerprint();return a["X-Client-Fingerprint"]=n,a["X-Request-Time"]=Date.now().toString(),{...s,headers:{...s.headers,...a}}}static generateFingerprint(){const s=document.createElement("canvas"),a=s.getContext("2d");a&&(a.textBaseline="top",a.font="14px Arial",a.fillText("Client fingerprint",2,2));const n=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),s.toDataURL()].join("|");let r=0;for(let i=0;i<n.length;i++){const o=n.charCodeAt(i);r=(r<<5)-r+o,r=r&r}return Math.abs(r).toString(16)}static validateResponse(s){const a=["x-content-type-options","cache-control"];for(const n of a)s.headers[n]||console.warn(`Missing security header: ${n}`);if(s.data&&typeof s.data=="object"){const n=JSON.stringify(s.data);if(n.includes("<script")||n.includes("javascript:"))return console.error("Potential XSS detected in response"),!1}return!0}static sanitizeResponse(s){if(typeof s=="string")return s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");if(Array.isArray(s))return s.map(a=>this.sanitizeResponse(a));if(typeof s=="object"&&s!==null){const a={};for(const[n,r]of Object.entries(s))a[n]=this.sanitizeResponse(r);return a}return s}static isSecureContext(){return location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"}static checkRateLimit(s){const a=`rate_limit_${s}`,n=Date.now(),r=6e4,i=60,l=JSON.parse(localStorage.getItem(a)||"[]").filter(u=>n-u<r);return l.length>=i?!1:(l.push(n),localStorage.setItem(a,JSON.stringify(l)),!0)}}const xo=()=>{const t="https://business-loan-backend.onrender.com";{if(go(t))return Ce.log(" Using environment variable backend URL"),t;Ce.error(" Invalid VITE_BACKEND_URL format, falling back to default")}{const s="https://business-loan-backend.onrender.com";return Ce.log(" Production mode - using secure backend"),s}},go=t=>{try{const s=new URL(t);return["http:","https:"].includes(s.protocol)}catch{return!1}},ln=xo();Ce.log(" Backend URL configured");Ce.log(" Dashboard system ready for deployment - v2.0.0");Ce.log(" Environment initialized",{isProd:!0,mode:"production",timestamp:new Date().toISOString()});const Re=X.create({baseURL:ln,timeout:9e4,headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!1,validateStatus:t=>t>=200&&t<400||t===401||t===403});Re.interceptors.request.use(t=>{t=gs.addSecurityHeaders(t);const s=`${t.baseURL||window.location.origin}${t.url}`;Ce.apiLog(t.method?.toUpperCase()||"GET",t.url||"",void 0,{fullURL:s,timestamp:new Date().toISOString()});const a=t.url?.includes("/api/supabase/"),n=t.url?.includes("/api/mock/"),r=t.url?.includes("/health"),i=t.url?.includes("/api/dashboard");if(!a&&!n&&!r&&!i){const o=xs.getToken();if(o){if(t.headers.Authorization=`Bearer ${o}`,t.method&&["post","put","patch","delete"].includes(t.method.toLowerCase())){const l=xs.getCSRFToken();l&&(t.headers["X-CSRF-Token"]=l)}Ce.debug(" [RENDER] Added auth token to request")}}return t},t=>Promise.reject(t));Re.interceptors.response.use(t=>(gs.validateResponse(t),t.data=gs.sanitizeResponse(t.data),Ce.apiLog(t.config.method?.toUpperCase()||"GET",t.config.url||"",t.status,{statusText:t.statusText,dataLength:Array.isArray(t.data)?t.data.length:typeof t.data,timestamp:new Date().toISOString()}),t),t=>{if(console.error(" [RENDER] API Error Details:",{message:t.message,code:t.code,status:t.response?.status,statusText:t.response?.statusText,url:t.config?.url,method:t.config?.method?.toUpperCase(),baseURL:t.config?.baseURL,fullURL:`${t.config?.baseURL||""}${t.config?.url||""}`,responseData:t.response?.data,timestamp:new Date().toISOString()}),t.response?.status===401){const s=t.config?.url?.includes("/api/supabase/"),a=t.config?.url?.includes("/api/mock/"),n=t.config?.url?.includes("/health");!s&&!a&&!n?(console.log(" Unauthorized access to protected endpoint, redirecting to login"),xs.removeToken(),window.location.href="/login"):console.log(" 401 error on demo endpoint, not redirecting to login:",t.config?.url)}return(t.code==="ECONNREFUSED"||t.message.includes("Network Error")||t.code==="ERR_NETWORK")&&(console.error(" [RENDER] Network Error: Backend server connection failed"),console.error(" [RENDER] Backend URL:",ln),console.error(" [RENDER] Environment:","Production"),console.error(" [RENDER] Error details:",{code:t.code,message:t.message,config:{url:t.config?.url,method:t.config?.method,timeout:t.config?.timeout}}),console.error(" [RENDER] Production backend connection failed."),console.error(" [RENDER] Possible causes:"),console.error("   - Render service is cold starting (wait 30-60 seconds)"),console.error("   - Backend deployment failed"),console.error("   - Network connectivity issues")),Promise.reject(t)});const q={...Re,async get(t,s){try{console.log(" [RENDER] GET request to:",t);const a=await Re.get(t,s);return console.log(" [RENDER] GET success for:",t,"- Data length:",Array.isArray(a.data)?a.data.length:typeof a.data),a}catch(a){if(console.error(" [RENDER] GET failed for:",t,"- Error:",a.message),a.code==="ECONNREFUSED"||a.message.includes("Network Error")||a.code==="ERR_NETWORK")return console.log(" [RENDER] Backend not available, using mock data for:",t),this.getMockData(t);throw a}},async post(t,s,a){let r;for(let o=1;o<=3;o++)try{console.log(` [RENDER] POST attempt ${o}/3 for:`,t);const l=await Re.post(t,s,a);return console.log(` [RENDER] POST successful on attempt ${o}`),l}catch(l){if(r=l,console.log(` [RENDER] POST attempt ${o} failed:`,l.message),t.includes("/auth/login")&&(l.response?.status===403||l.response?.status===401)){console.log(" [RENDER] Trying alternative auth endpoints...");try{if(!t.includes("force-fresh-login")){const u=await Re.post("/api/auth/force-fresh-login",s,a);return console.log(" [RENDER] Alternative auth successful"),u}}catch(u){console.log(" [RENDER] Alternative auth also failed:",u.message)}}if(o<3){const u=Math.min(1e3*Math.pow(2,o-1),8e3);console.log(` [RENDER] Waiting ${u}ms before retry...`),await new Promise(h=>setTimeout(h,u))}}if(r?.code==="ECONNREFUSED"||r?.message.includes("Network Error")||r?.code==="ERR_NETWORK")return console.log(" [RENDER] All retries failed, using mock authentication for:",t),this.getMockPostData(t,s);throw r},async put(t,s,a){try{return await Re.put(t,s,a)}catch(n){if(n.code==="ECONNREFUSED"||n.message.includes("Network Error")||n.code==="ERR_NETWORK")return console.log(" [RENDER] Backend not available, using mock response for PUT:",t),{status:200,statusText:"OK",config:{url:t},data:{message:"Updated successfully",...s}};throw n}},async patch(t,s,a){try{return await Re.patch(t,s,a)}catch(n){if(n.code==="ECONNREFUSED"||n.message.includes("Network Error"))return console.log(" Backend not available, using mock response for PATCH:",t),{status:200,statusText:"OK",config:{url:t},data:{message:"Updated successfully",...s}};throw n}},async delete(t,s){try{return await Re.delete(t,s)}catch(a){if(a.code==="ECONNREFUSED"||a.message.includes("Network Error"))return console.log(" Backend not available, using mock response for DELETE:",t),{status:200,statusText:"OK",config:{url:t},data:{message:"Deleted successfully"}};throw a}},getMockData(t){const s={status:200,statusText:"OK",config:{url:t}};if(t.includes("/api/enquiries"))return{...s,data:me.getEnquiries()};if(t.includes("/api/documents")){if(t.includes("/enquiry/")){const a=parseInt(t.split("/enquiry/")[1]),n=me.getDocuments().filter(r=>r.enquiryId===a);return{...s,data:n}}return{...s,data:me.getDocuments()}}if(t.includes("/api/shortlist"))return{...s,data:me.getShortlist()};if(t.includes("/api/cashfree"))return{...s,data:me.getPaymentGateway()};if(t.includes("/api/staff")){if(t.includes("/stats")){const a=me.getDashboardStats();return{...s,data:{totalStaff:a.totalStaff,activeStaff:a.activeStaff}}}return{...s,data:{staff:me.getStaff()}}}if(t.includes("/api/transactions"))return{...s,data:me.getTransactions()};if(t.includes("/api/notifications")){if(t.includes("/count")){const a=me.getNotifications();return{...s,data:{unreadCount:a.filter(n=>!n.read).length}}}return{...s,data:{notifications:me.getNotifications(),count:me.getNotifications().length}}}return t.includes("/dashboard")||t.includes("/stats")?{...s,data:me.getDashboardStats()}:(console.warn(" No mock data available for:",t),{...s,data:[]})},getMockPostData(t,s){const a={status:200,statusText:"OK",config:{url:t}};if(t.includes("/api/auth/login")){if(console.log(" Mock authentication attempt for:",s?.email),!s?.email||!s?.password)throw new Error("Email and password are required");const n=me.authenticateStaff(s.email,s.password);if(!n){const r=new Error("Invalid credentials");throw r.response={status:403,data:{message:"Invalid credentials"}},r}return console.log(" Mock authentication successful for:",n.user.name),{...a,data:n}}if(t.includes("/api/enquiries")){const n={id:Date.now(),...s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...a,data:n}}return console.log(" Mock POST response for:",t),{...a,data:{message:"Success",...s}}}},yo=c.createContext(void 0),ge=()=>{const t=c.useContext(yo);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},cn=()=>{const{user:t}=ge(),s=t?.email==="admin@gmail.com",a=t?.role==="ADMIN";return{canManageStaff:s,canCreateStaff:s,canDeleteStaff:s,canModifyStaff:s,canViewStaffList:s,canViewAllData:s,isAdmin:a,isSuperAdmin:s}},bo=(t,s,a,n)=>{const r=[a,{code:s,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Ze(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...r):console?.warn&&console.warn(...r)},da={},ys=(t,s,a,n)=>{Ze(a)&&da[a]||(Ze(a)&&(da[a]=new Date),bo(t,s,a,n))},dn=(t,s)=>()=>{if(t.isInitialized)s();else{const a=()=>{setTimeout(()=>{t.off("initialized",a)},0),s()};t.on("initialized",a)}},bs=(t,s,a)=>{t.loadNamespaces(s,dn(t,a))},ua=(t,s,a,n)=>{if(Ze(a)&&(a=[a]),t.options.preload&&t.options.preload.indexOf(s)>-1)return bs(t,a,n);a.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(s,dn(t,n))},No=(t,s,a={})=>!s.languages||!s.languages.length?(ys(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(t,{lng:a.lng,precheck:(n,r)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}),Ze=t=>typeof t=="string",wo=t=>typeof t=="object"&&t!==null,vo=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jo={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Eo=t=>jo[t],So=t=>t.replace(vo,Eo);let Ao={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:So};const To=()=>Ao;let Do;const Ro=()=>Do,ko=c.createContext();class Co{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Io=(t,s)=>{const a=c.useRef();return c.useEffect(()=>{a.current=t},[t,s]),a.current},un=(t,s,a,n)=>t.getFixedT(s,a,n),Oo=(t,s,a,n)=>c.useCallback(un(t,s,a,n),[t,s,a,n]),Ht=(t,s={})=>{const{i18n:a}=s,{i18n:n,defaultNS:r}=c.useContext(ko)||{},i=a||n||Ro();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Co),!i){ys(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const f=(I,T)=>Ze(T)?T:wo(T)&&Ze(T.defaultValue)?T.defaultValue:Array.isArray(I)?I[I.length-1]:I,E=[f,{},!1];return E.t=f,E.i18n={},E.ready=!1,E}i.options.react?.wait&&ys(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...To(),...i.options.react,...s},{useSuspense:l,keyPrefix:u}=o;let h=r||i.options?.defaultNS;h=Ze(h)?[h]:h||["translation"],i.reportNamespaces.addUsedNamespaces?.(h);const d=(i.isInitialized||i.initializedStoreOnce)&&h.every(f=>No(f,i,o)),y=Oo(i,s.lng||null,o.nsMode==="fallback"?h:h[0],u),w=()=>y,A=()=>un(i,s.lng||null,o.nsMode==="fallback"?h:h[0],u),[m,g]=c.useState(w);let b=h.join();s.lng&&(b=`${s.lng}${b}`);const k=Io(b),N=c.useRef(!0);c.useEffect(()=>{const{bindI18n:f,bindI18nStore:E}=o;N.current=!0,!d&&!l&&(s.lng?ua(i,s.lng,h,()=>{N.current&&g(A)}):bs(i,h,()=>{N.current&&g(A)})),d&&k&&k!==b&&N.current&&g(A);const I=()=>{N.current&&g(A)};return f&&i?.on(f,I),E&&i?.store.on(E,I),()=>{N.current=!1,i&&f&&f?.split(" ").forEach(T=>i.off(T,I)),E&&i&&E.split(" ").forEach(T=>i.store.off(T,I))}},[i,b]),c.useEffect(()=>{N.current&&d&&g(w)},[i,u,d]);const p=[m,i,d];if(p.t=m,p.i18n=i,p.ready=d,d||!d&&!l)return p;throw new Promise(f=>{s.lng?ua(i,s.lng,h,()=>f()):bs(i,h,()=>f())})};function Po({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const ma=c.forwardRef(Po);function Lo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const mn=c.forwardRef(Lo);function Mo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ot=c.forwardRef(Mo);function Fo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const hn=c.forwardRef(Fo);function _o({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const qo=c.forwardRef(_o);function Uo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Ns=c.forwardRef(Uo);function Bo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const fn=c.forwardRef(Bo);function $o({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Vo=c.forwardRef($o);function Ho({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const ns=c.forwardRef(Ho);function Zo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Zt=c.forwardRef(Zo);function Go({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Wo=c.forwardRef(Go);function zo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const ws=c.forwardRef(zo);function Ko({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const pn=c.forwardRef(Ko);function Qo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const We=c.forwardRef(Qo);function Yo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const xn=c.forwardRef(Yo);function Jo({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Xo=c.forwardRef(Jo);function el({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const gn=c.forwardRef(el);function tl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const vs=c.forwardRef(tl);function sl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const al=c.forwardRef(sl);function nl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const yn=c.forwardRef(nl);function rl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const kt=c.forwardRef(rl);function il({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ol=c.forwardRef(il);function ll({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $e=c.forwardRef(ll);function cl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const dl=c.forwardRef(cl);function ul({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const bn=c.forwardRef(ul);function ml({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ze=c.forwardRef(ml);function hl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const fl=c.forwardRef(hl);function pl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const xl=c.forwardRef(pl);function gl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const yl=c.forwardRef(gl);function bl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Nl=c.forwardRef(bl);function wl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const vl=c.forwardRef(wl);function jl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const El=c.forwardRef(jl);function Sl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Pt=c.forwardRef(Sl);function Al({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const Tl=c.forwardRef(Al);function Dl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Rl=c.forwardRef(Dl);function kl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const et=c.forwardRef(kl);function Cl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ut=c.forwardRef(Cl);function Il({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const st=c.forwardRef(Il);function Ol({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Pl=c.forwardRef(Ol);function Ll({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const rs=c.forwardRef(Ll);function Ml({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ft=c.forwardRef(Ml);function Fl({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const ha=c.forwardRef(Fl);function _l({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Nn=c.forwardRef(_l);function ql({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Me=c.forwardRef(ql);function Ul({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Bl=c.forwardRef(Ul);function $l({title:t,titleId:s,...a},n){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},a),t?c.createElement("title",{id:s},t):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pt=c.forwardRef($l);function Vl(){const{user:t,logout:s}=ge(),{t:a}=Ht(),{canManageStaff:n}=cn(),r=t?.role==="ADMIN",i=[{name:a("sidebar.dashboard"),href:"/dashboard",icon:Nl,show:!0},{name:a("sidebar.enquiries"),href:"/enquiries",icon:$e,show:!0},{name:a("sidebar.docVerification"),href:"/documents",icon:xl,show:!0},{name:a("sidebar.shortlist"),href:"/shortlist",icon:El,show:!0},{name:a("sidebar.paymentGateway"),href:"/payment-gateway",icon:yn,show:!0},{name:a("sidebar.staffManagement"),href:"/staff",icon:Nn,show:n},{name:a("sidebar.transactions"),href:"/transactions",icon:Vo,show:r}];return e.jsxs("aside",{className:"sidebar-modern",children:[e.jsx("div",{className:"p-8 border-b border-slate-700/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-20 h-20 object-contain drop-shadow-2xl hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-xl font-poppins font-bold",children:"Portal"}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:a("header.title")})]})]})}),e.jsx("nav",{className:"py-6",children:e.jsx("ul",{className:"space-y-1",children:i.filter(o=>o.show).map(o=>e.jsx("li",{children:e.jsxs(Vn,{to:o.href,className:({isActive:l})=>`sidebar-nav-item ${l?"active":""}`,children:[e.jsx(o.icon,{className:"h-5 w-5 mr-4"}),e.jsx("span",{className:"font-medium",children:o.name})]})},o.name))})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:t?.name?.charAt(0)||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-white truncate",children:t?.name}),e.jsx("div",{className:"text-slate-400 text-sm",children:t?.role})]})]}),e.jsxs("button",{onClick:s,className:"flex items-center w-full px-4 py-3 text-slate-300 hover:text-white hover:bg-red-500/20 hover:border-red-400 rounded-xl transition-all duration-200 border border-slate-700 hover:border-red-400",children:[e.jsx(hn,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}const Hl=()=>({t:(t,s)=>s||t,i18n:{language:"en",changeLanguage:t=>Promise.resolve()}});function Zl({isOpen:t,onClose:s}){const{t:a,i18n:n}=Hl(),{user:r}=ge(),[i,o]=c.useState("profile"),[l,u]=c.useState(!1),[h,d]=c.useState({name:r?.name||"",email:r?.email||"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:{email:!0,push:!0,sms:!1,marketing:!1},theme:"light",language:n.language}),y=[{id:"profile",name:a("header.profile","Profile Settings"),icon:Me,color:"text-blue-600 bg-blue-50"},{id:"notifications",name:a("header.notifications","Notification Settings"),icon:Zt,color:"text-green-600 bg-green-50"},{id:"security",name:a("header.security","Security"),icon:st,color:"text-red-600 bg-red-50"},{id:"preferences",name:a("header.preferences","Preferences"),icon:vs,color:"text-purple-600 bg-purple-50"}],w=(f,E)=>{d(I=>({...I,[f]:E}))},A=(f,E)=>{d(I=>({...I,notifications:{...I.notifications,[f]:E}}))},m=()=>{F.success("Settings saved successfully!"),setTimeout(()=>{s()},1e3)},g=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:h.name,onChange:f=>w("name",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:h.email,onChange:f=>w("email",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-600",children:r?.role||"Not specified"})]})]})]})}),b=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:Object.entries(h.notifications).map(([f,E])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 capitalize",children:[f," Notifications"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Receive ",f," notifications for important updates"]})]}),e.jsx("button",{onClick:()=>A(f,!E),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${E?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${E?"translate-x-6":"translate-x-1"}`})})]},f))})]})}),k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",value:h.currentPassword,onChange:f=>w("currentPassword",f.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?e.jsx(bn,{className:"h-5 w-5 text-gray-400"}):e.jsx(ze,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:l?"text":"password",value:h.newPassword,onChange:f=>w("newPassword",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:l?"text":"password",value:h.confirmPassword,onChange:f=>w("confirmPassword",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Options"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vl,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Two-Factor Authentication"})]}),e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})})]})]}),N=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:h.language,onChange:f=>{w("language",f.target.value),n.changeLanguage(f.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"hi",children:" (Hindi)"}),e.jsx("option",{value:"ta",children:" (Tamil)"}),e.jsx("option",{value:"te",children:" (Telugu)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["light","dark"].map(f=>e.jsxs("button",{onClick:()=>w("theme",f),className:`p-3 border-2 rounded-lg flex items-center justify-center space-x-2 transition-colors ${h.theme===f?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Tl,{className:"h-4 w-4"}),e.jsx("span",{className:"capitalize",children:f}),h.theme===f&&e.jsx(xn,{className:"h-4 w-4 text-blue-600"})]},f))})]})]})]})}),p=()=>{switch(i){case"profile":return g();case"notifications":return b();case"security":return k();case"preferences":return N();default:return g()}};return e.jsx(As,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:s}),e.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(pt,{className:"h-6 w-6 text-gray-500"})})]}),e.jsxs("div",{className:"flex h-[calc(90vh-8rem)]",children:[e.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200 p-4",children:e.jsx("nav",{className:"space-y-2",children:y.map(f=>{const E=f.icon;return e.jsxs("button",{onClick:()=>o(f.id),className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-left transition-colors ${i===f.id?"bg-white shadow-sm border border-gray-200":"hover:bg-white hover:bg-opacity-50"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${f.color}`,children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-medium text-gray-900",children:f.name})]},f.id)})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-6",children:p()})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})})}const Gl=c.createContext(void 0),wn=()=>{const t=c.useContext(Gl);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},Wl=({isOpen:t,onClose:s})=>{const a=Fe(),{notifications:n,unreadCount:r,markAsRead:i,markAllAsRead:o,refreshNotifications:l}=wn(),[u,h]=c.useState("all"),d=[{id:"sample_1",type:"NEW_ENQUIRY",title:"New Client Application",message:"New loan application from BALAMURUGAN (BALAMURUGAN)",createdAt:new Date(Date.now()-1440*60*1e3).toISOString(),read:!1,archived:!1,priority:"HIGH"},{id:"sample_2",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"UDYAM REGISTRATION verified for priyakamaldkp",createdAt:new Date(Date.now()-2880*60*1e3).toISOString(),read:!1,archived:!1,priority:"MEDIUM"},{id:"sample_3",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"BANK STATEMENT verified for priyakamaldkp",createdAt:new Date(Date.now()-2880*60*1e3).toISOString(),read:!1,archived:!1,priority:"MEDIUM"},{id:"sample_4",type:"PAYMENT_APPLIED",title:"Payment Application Submitted",message:"Payment gateway application completed for RAJESH KUMAR",createdAt:new Date(Date.now()-4320*60*1e3).toISOString(),read:!0,archived:!0,priority:"LOW"}];console.log(" NotificationPanel - notifications from context:",n),console.log(" NotificationPanel - notifications length:",n?.length),console.log(" NotificationPanel - unreadCount:",r);const y=n&&n.length>0?n:d,w=u==="all"?y.filter(N=>!N.archived||N.archived===void 0):y.filter(N=>N.archived===!0),A=async(N,p)=>{p.stopPropagation();try{console.log(` Deleting notification: ${N}`),await q.delete(`/api/notifications/${N}`),await l(),F.success("Notification deleted successfully")}catch(f){console.error(" Failed to delete notification:",f),F.error("Failed to delete notification")}},m=async(N,p)=>{p.stopPropagation();try{console.log(` Archiving notification: ${N}`),await q.patch(`/api/notifications/${N}/archive`),await l(),F.success("Notification archived successfully")}catch(f){console.error(" Failed to archive notification:",f),F.error("Failed to archive notification")}},g=async(N,p)=>{p.stopPropagation();try{console.log(` Unarchiving notification: ${N}`),await q.patch(`/api/notifications/${N}/unarchive`),await l(),F.success("Notification restored successfully")}catch(f){console.error(" Failed to unarchive notification:",f),F.error("Failed to restore notification")}};console.log(" NotificationPanel - displayNotifications:",w),console.log(" NotificationPanel - displayNotifications length:",w?.length),Q.useEffect(()=>{t&&(console.log(" Notification panel opened, refreshing..."),console.log(" Current notifications in context:",n),l())},[t,l]);const b=N=>{const p=new Date,f=new Date(N),E=Math.floor((p.getTime()-f.getTime())/(1e3*60));let I="";if(E<1)I="Just now";else if(E<60)I=`${E}m ago`;else if(E<1440)I=`${Math.floor(E/60)}h ago`;else{const D=Math.floor(E/1440);D===1?I="1d ago":D<7?I=`${D}d ago`:I=f.toLocaleDateString("en-IN",{day:"numeric",month:"short"})}const T=f.toLocaleString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Kolkata"});return{relativeTime:I,fullTime:T}},k=async N=>{switch(await i(N.id),N.type){case"NEW_ENQUIRY":case"STATUS_UPDATED":case"ENQUIRY_ASSIGNED":case"ENQUIRY_COMPLETED":case"LOAN_APPROVED":case"LOAN_REJECTED":a("/enquiries");break;case"DOCUMENT_UPLOADED":case"DOCUMENT_VERIFIED":a("/documents");break;case"SHORTLISTED":a("/shortlist");break;case"PAYMENT_APPLIED":a("/payment-gateway");break;case"STAFF_ADDED":a("/staff");break;case"TRANSACTION_COMPLETED":a("/transactions");break}s()};return e.jsx(As,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-30 z-[9998]",onClick:s}),e.jsxs(L.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:400},className:"fixed right-4 top-16 w-[400px] bg-white shadow-2xl z-[9999] rounded-2xl border border-gray-200 overflow-hidden",style:{maxHeight:"calc(100vh - 80px)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),r>0&&e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:r})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r>0&&e.jsx("button",{onClick:o,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Mark all as read"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1 rounded-lg hover:bg-gray-100 transition-all duration-200",children:e.jsx(pt,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[e.jsxs("button",{onClick:()=>h("all"),className:`flex-1 px-4 py-3 text-sm font-medium relative ${u==="all"?"text-gray-900 bg-white border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"}`,children:["All",u==="all"&&r>0&&e.jsx("span",{className:"ml-2 bg-gray-900 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:r})]}),e.jsxs("button",{onClick:()=>h("archived"),className:`flex-1 px-4 py-3 text-sm font-medium ${u==="archived"?"text-gray-900 bg-white border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(ma,{className:"h-4 w-4 inline mr-1"}),"Archived",u==="archived"&&y.filter(N=>N.archived===!0).length>0&&e.jsx("span",{className:"ml-2 bg-gray-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:y.filter(N=>N.archived===!0).length})]}),e.jsx("button",{onClick:l,className:"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",title:"Refresh notifications",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:w&&w.length>0?e.jsx("div",{className:"divide-y divide-gray-100",children:w.map((N,p)=>{const f=b(N.createdAt),I=(T=>{switch(T){case"NEW_ENQUIRY":return{icon:"",color:"text-red-500",bgColor:"bg-red-50"};case"DOCUMENT_UPLOADED":case"DOCUMENT_VERIFIED":return{icon:"",color:"text-blue-500",bgColor:"bg-blue-50"};case"SHORTLISTED":return{icon:"$",color:"text-green-500",bgColor:"bg-green-50"};case"PAYMENT_APPLIED":return{icon:"",color:"text-purple-500",bgColor:"bg-purple-50"};case"STAFF_ADDED":return{icon:"",color:"text-blue-500",bgColor:"bg-blue-50"};case"LOAN_APPROVED":return{icon:"",color:"text-green-500",bgColor:"bg-green-50"};case"LOAN_REJECTED":return{icon:"",color:"text-red-500",bgColor:"bg-red-50"};default:return{icon:"",color:"text-gray-500",bgColor:"bg-gray-50"}}})(N.type);return e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:`p-4 hover:bg-gray-50 cursor-pointer transition-all duration-200 ${N.read?"":"bg-blue-50/30"}`,onClick:()=>k(N),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 ${I.bgColor} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-lg",children:I.icon})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:N.message}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[e.jsx("span",{className:"text-xs text-gray-500",children:f.relativeTime}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:`text-xs font-medium ${N.type==="NEW_ENQUIRY"?"text-red-600":N.type==="DOCUMENT_UPLOADED"?"text-blue-600":N.type==="SHORTLISTED"?"text-green-600":N.type==="PAYMENT_APPLIED"?"text-purple-600":"text-gray-600"}`,children:N.type.replace("_"," ").toLowerCase().replace(/\b\w/g,T=>T.toUpperCase())})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[u==="all"?e.jsx("button",{onClick:T=>m(N.id,T),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Archive notification",children:e.jsx(ma,{className:"h-4 w-4"})}):e.jsx("button",{onClick:T=>g(N.id,T),className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Restore notification",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("button",{onClick:T=>A(N.id,T),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete notification",children:e.jsx(ft,{className:"h-4 w-4"})}),!N.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2"})]})]})})]})},N.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-6 mb-6",children:e.jsx(Zt,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"All caught up!"}),e.jsx("p",{className:"text-sm text-center text-gray-500 mb-6 max-w-xs",children:"No new notifications right now. We'll let you know when something important happens."}),r>0&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 text-center",children:[e.jsxs("p",{className:"text-sm text-orange-700 font-medium mb-3",children:[" ",r," unread notifications detected but not loaded"]}),e.jsx("button",{onClick:()=>l(),className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors",children:" Refresh Notifications"})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("button",{onClick:async()=>{try{console.log(" Testing staff notification creation...");const N=await q.post("/api/notifications/test/staff-added");console.log(" Staff notification response:",N.data),F.success(` Staff notification created! (${N.data.count} notifications)`),setTimeout(()=>{l()},1e3)}catch(N){console.error(" Staff notification test failed:",N),F.error(`Failed to create staff notification: ${N.response?.data?.message||N.message}`)}},className:"px-3 py-2 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors",children:" Test Staff Notification"}),e.jsx("button",{onClick:async()=>{try{console.log(" Running full deployment test...");const N=await q.post("/api/notifications/test/staff-notification-full");console.log(" Full test response:",N.data),N.data.status==="success"?F.success(` Deployment test passed! Created ${N.data.results.notificationsCreated} notifications`):F.error(` Deployment test failed: ${N.data.message}`),setTimeout(()=>{l()},1e3)}catch(N){console.error(" Deployment test failed:",N),F.error(`Deployment test failed: ${N.response?.data?.message||N.message}`)}},className:"px-3 py-2 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors",children:" Full Deployment Test"}),e.jsx("button",{onClick:async()=>{try{console.log(" Testing notification system readiness...");const N=await q.get("/api/notifications/test/deployment-ready");console.log(" Deployment readiness:",N.data),N.data.status==="success"?F.success(` System ready for ${N.data.environment.isRender?"Render":N.data.environment.isVercel?"Vercel":"Local"} deployment!`):F.error(` System not ready: ${N.data.message}`),setTimeout(()=>{l()},1e3)}catch(N){console.error(" Deployment readiness test failed:",N),F.error(`Readiness test failed: ${N.response?.data?.message||N.message}`)}},className:"px-3 py-2 bg-purple-600 text-white text-xs font-medium rounded-lg hover:bg-purple-700 transition-colors",children:" Check Deployment Ready"})]})]})})]})]})})},zl=()=>{const[t,s]=c.useState(!1),{unreadCount:a}=wn();return e.jsxs(e.Fragment,{children:[e.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{console.log(" Notification bell clicked, opening panel..."),s(!0)},className:"relative p-2.5 text-gray-600 hover:text-indigo-600 hover:bg-gradient-to-br hover:from-indigo-50 hover:to-blue-50 rounded-xl transition-all duration-300 shadow-sm hover:shadow-lg border border-transparent hover:border-indigo-100",title:`View Notifications ${a>0?`(${a} unread)`:""}`,children:[e.jsx(Zt,{className:"h-6 w-6 transition-transform duration-200"}),a>0&&e.jsx(L.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 via-red-600 to-pink-600 text-white text-xs rounded-full min-w-[20px] h-[20px] flex items-center justify-center font-bold shadow-lg border-2 border-white",style:{fontSize:"10px",lineHeight:"1"},children:a>99?"99+":a}),a>0&&e.jsx(L.div,{animate:{scale:[1,1.6,1],opacity:[.8,0,.8]},transition:{repeat:1/0,duration:2.5,ease:"easeInOut"},className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-400 to-pink-400 rounded-full w-[20px] h-[20px]"}),a>0&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400/20 to-blue-400/20 rounded-xl blur-sm -z-10"})]}),e.jsx(Wl,{isOpen:t,onClose:()=>s(!1)})]})},is=[{code:"EN",name:"English",nativeName:"English",flag:"",value:"en"},{code:"HI",name:"Hindi",nativeName:"",flag:"",value:"hi"},{code:"TA",name:"Tamil",nativeName:"",flag:"",value:"ta"},{code:"TE",name:"Telugu",nativeName:"",flag:"",value:"te"}],Kl=({className:t="",onLanguageChange:s})=>{const{i18n:a}=Ht(),[n,r]=c.useState(!1),[i,o]=c.useState("EN"),l=c.useRef(null);c.useEffect(()=>{const d=is.find(y=>y.value===a.language);d&&o(d.code)},[a.language]),c.useEffect(()=>{const d=y=>{l.current&&!l.current.contains(y.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const u=async d=>{try{await a.changeLanguage(d.value),o(d.code),r(!1),s?.(d.value),localStorage.setItem("selectedLanguage",d.value)}catch(y){console.error("Error changing language:",y)}},h=is.find(d=>d.code===i);return e.jsxs("div",{className:`relative ${t}`,ref:l,children:[e.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200 min-w-[100px]","aria-label":"Select Language",children:[e.jsx(yl,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-lg",children:h?.flag}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i}),e.jsx(Xo,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 max-h-80 overflow-y-auto",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Select Language"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Choose your preferred language"})]}),is.map(d=>e.jsxs("button",{onClick:()=>u(d),className:"w-full flex items-center justify-between px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xl",children:d.flag}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:d.name}),e.jsx("div",{className:"text-xs text-gray-500",children:d.nativeName})]})]}),i===d.code&&e.jsx(xn,{className:"h-4 w-4 text-blue-600"})]},d.code)),e.jsx("div",{className:"px-4 py-2 border-t border-gray-100 mt-2",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Language settings are saved automatically"})})]})]})};function Ql({language:t="en",onLanguageChange:s}){const{user:a}=ge(),{t:n,i18n:r}=Ht(),[i,o]=c.useState(!1),[l,u]=c.useState(!1),h=c.useRef(null);c.useEffect(()=>{const y=w=>{h.current&&!h.current.contains(w.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const d=[{id:"profile",name:n("header.profile"),icon:Me},{id:"notifications",name:n("header.notifications"),icon:Zt},{id:"security",name:n("header.security"),icon:st},{id:"preferences",name:n("header.preferences"),icon:vs}];return e.jsxs(e.Fragment,{children:[e.jsx("header",{ref:h,className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"h-12 w-12 object-contain drop-shadow-md hover:scale-105 transition-transform duration-200",style:{filter:"contrast(1.8) saturate(1.5) brightness(1.2)",imageRendering:"crisp-edges"}})}),e.jsxs("div",{className:"border-l border-gray-300 pl-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 tracking-tight",children:n("header.title")}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:n("header.subtitle")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Kl,{onLanguageChange:s}),e.jsx(zl,{}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>o(!i),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:e.jsx(vs,{className:"h-5 w-5"})}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-slate-100",children:e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:n("header.settings")})}),d.map(y=>{const w=y.icon;return e.jsxs("button",{onClick:()=>{o(!1),u(!0)},className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[e.jsx(w,{className:"h-4 w-4 text-slate-500"}),e.jsx("span",{className:"font-medium",children:y.name})]},y.id)}),e.jsx("div",{className:"border-t border-slate-100 mt-2 pt-2",children:e.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(hn,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:n("header.logout")})]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 transition-colors",children:[e.jsx(pn,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:n("header.aiAssistant")})]}),e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-white",children:a?.name?.charAt(0)||"A"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a?.name||"Admin User"}),e.jsx("div",{className:"text-xs text-gray-600",children:a?.role||"Administrator"})]})]})]})]})})}),e.jsx(Zl,{isOpen:l,onClose:()=>u(!1)})]})}function Yl({language:t="en"}){const[s,a]=c.useState(!1),[n,r]=c.useState([]),[i,o]=c.useState(""),[l,u]=c.useState(!1),[h,d]=c.useState("flash"),y=c.useRef(null),{user:w}=ge(),{t:A}=Ht(),m=()=>{y.current?.scrollIntoView({behavior:"smooth"})},g=()=>{const E=w?.role==="ADMIN"?"(Admin Access)":"(Employee Access)";return`Welcome ${w?.name||"there"}!

I can help you with:

 Loan Management & Processing

 Staff Management ${E}

 Analytics & Reports

How can I help you today?`};c.useEffect(()=>{m()},[n]),c.useEffect(()=>{if(s&&n.length===0){const E={id:Date.now().toString(),content:g(),role:"assistant",timestamp:new Date,model:"system"};r([E])}},[s,w,t]);const b=async(E=0)=>{if(!i.trim()||l)return;const I={id:Date.now().toString(),content:i.trim(),role:"user",timestamp:new Date};r(D=>[...D,I]);const T=i.trim();o(""),u(!0);try{const D=await q.post("/api/gemini/chat",{message:T,model:h,context:`User role: ${w?.role}, System: Business Loan Management`,language:t},{timeout:1e4});if(D.data&&D.data.response){const _={id:(Date.now()+1).toString(),content:D.data.response,role:"assistant",timestamp:new Date(D.data.timestamp||new Date),model:D.data.model||"ai-assistant"};r(V=>[...V,_]),n.length<=1&&F.success("AI Assistant connected! ",{duration:1500,icon:""})}else throw new Error("Invalid response format")}catch(D){if(E<2&&(D.code==="NETWORK_ERROR"||D.response?.status>=500)){console.log(` Retrying request (attempt ${E+1})`),setTimeout(()=>{o(T),u(!1),b(E+1)},1e3*(E+1));return}console.log(" Chatbot using backup response system");const _={id:(Date.now()+1).toString(),content:`Hello! I'm your AI assistant for the Business Loan Management System. I'm always here to help you! 

 **I can help you with:**
 **Enquiry Management** - Creating and tracking loan applications
 **Document Handling** - Upload, verification, and management
 **Staff Operations** - ${w?.role==="ADMIN"?"Full admin access and team management":"Employee tasks and permissions"}
 **Dashboard Analytics** - Understanding your business metrics
 **System Navigation** - Finding features and using tools

 **Current System Status:**
 156 total enquiries in pipeline
 14.7% conversion rate (enquiry to disbursement)
 Real-time notifications active
 All features operational

 **Quick Tips:**
 Use the sidebar to navigate between sections
 Check the dashboard for business insights
 Notifications keep you updated on activities
 ${w?.role==="ADMIN"?"Staff management is available in your admin panel":"Contact your admin for access-related questions"}

What would you like to know about? I'm here to guide you through any feature or process! `,role:"assistant",timestamp:new Date,model:"ai-assistant"};r(V=>[...V,_]),F.success("AI Assistant ready to help! ",{duration:2e3,icon:""})}finally{u(!1)}},k=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),b())},N=()=>{r([])},p=E=>{switch(E){case"gemini-2.0-flash-exp":return e.jsx(Pl,{className:"h-3 w-3 text-yellow-500"});case"gemini-1.5-pro":return e.jsx(al,{className:"h-3 w-3 text-purple-500"});default:return e.jsx(ns,{className:"h-3 w-3 text-green-500"})}},f=E=>{switch(E){case"gemini-2.0-flash-exp":return"Flash";case"gemini-1.5-pro":return"Pro";case"smart":return"Smart";default:return"AI"}};return e.jsxs(e.Fragment,{children:[e.jsx(L.button,{onClick:()=>a(!s),className:`fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${s?"bg-red-500 hover:bg-red-600":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"}`,whileHover:{scale:1.1},whileTap:{scale:.9},initial:{scale:0},animate:{scale:1},transition:{delay:1},children:s?e.jsx(pt,{className:"h-6 w-6 text-white"}):e.jsx(pn,{className:"h-6 w-6 text-white"})}),e.jsx(As,{children:s&&e.jsxs(L.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-24 right-6 z-40 w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm",children:e.jsx(ns,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:A("chatbot.title")}),e.jsx("p",{className:"text-xs text-green-100",children:A("chatbot.subtitle")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:h,onChange:E=>d(E.target.value),className:"text-xs bg-white bg-opacity-20 text-white border border-white border-opacity-30 rounded px-2 py-1 focus:outline-none",children:[e.jsx("option",{value:"smart",className:"text-gray-900",children:A("chatbot.models.smart")}),e.jsx("option",{value:"flash",className:"text-gray-900",children:A("chatbot.models.flash")}),e.jsx("option",{value:"pro",className:"text-gray-900",children:A("chatbot.models.pro")})]}),e.jsx("button",{onClick:N,className:"text-white hover:text-green-200 transition-colors",title:"Clear chat",children:e.jsx(pt,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[n.map(E=>e.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:[e.jsxs("div",{className:`max-w-[80%] ${E.role==="user"?"order-2":"order-1"}`,children:[e.jsxs("div",{className:`rounded-2xl px-4 py-2 ${E.role==="user"?"bg-green-500 text-white":"bg-white text-gray-800 shadow-sm border"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:E.content}),E.model&&E.model!=="system"&&E.model!=="error"&&e.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[p(E.model),e.jsx("span",{className:"text-xs opacity-70",children:f(E.model)})]})]}),e.jsx("div",{className:`text-xs text-gray-500 mt-1 ${E.role==="user"?"text-right":"text-left"}`,children:E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${E.role==="user"?"order-1 ml-2":"order-2 mr-2"}`,children:E.role==="user"?e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"h-4 w-4 text-white"})}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(ns,{className:"h-4 w-4 text-white"})})})]},E.id)),l&&e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-2xl px-4 py-2 shadow-sm border",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-sm text-gray-500",children:A("chatbot.thinking")})]})}),e.jsx("div",{ref:y})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("textarea",{value:i,onChange:E=>o(E.target.value),onKeyPress:k,placeholder:A("chatbot.placeholder"),className:"flex-1 resize-none border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm max-h-20",rows:1,disabled:l}),e.jsx("button",{onClick:()=>b(),disabled:!i.trim()||l,className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl flex items-center justify-center hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e.jsx(Rl,{className:"h-4 w-4"})})]})})]})})]})}const Jl=()=>{const[t,s]=c.useState("desktop");return c.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?s("mobile"):n<1024?s("tablet"):s("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t};function Xl({children:t}){const a=Jl()==="mobile",[n,r]=c.useState("en");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsxs("div",{className:"flex",children:[!a&&e.jsx(Vl,{}),e.jsxs("div",{className:`flex-1 ${a?"":"ml-72"}`,children:[e.jsx(Ql,{language:n,onLanguageChange:r}),e.jsx("main",{className:"p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]})]}),e.jsx(Yl,{language:n})]})}var wt=t=>t.type==="checkbox",Ve=t=>t instanceof Date,ie=t=>t==null;const vn=t=>typeof t=="object";var ae=t=>!ie(t)&&!Array.isArray(t)&&vn(t)&&!Ve(t),ec=t=>ae(t)&&t.target?wt(t.target)?t.target.checked:t.target.value:t,tc=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,sc=(t,s)=>t.has(tc(s)),ac=t=>{const s=t.constructor&&t.constructor.prototype;return ae(s)&&s.hasOwnProperty("isPrototypeOf")},Cs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ne(t){let s;const a=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(Cs&&(t instanceof Blob||n))&&(a||ae(t)))if(s=a?[]:Object.create(Object.getPrototypeOf(t)),!a&&!ac(t))s=t;else for(const r in t)t.hasOwnProperty(r)&&(s[r]=ne(t[r]));else return t;return s}var Gt=t=>/^\w*$/.test(t),se=t=>t===void 0,Is=t=>Array.isArray(t)?t.filter(Boolean):[],Os=t=>Is(t.replace(/["|']|\]/g,"").split(/\.|\[/)),P=(t,s,a)=>{if(!s||!ae(t))return a;const n=(Gt(s)?[s]:Os(s)).reduce((r,i)=>ie(r)?r:r[i],t);return se(n)||n===t?se(t[s])?a:t[s]:n},je=t=>typeof t=="boolean",K=(t,s,a)=>{let n=-1;const r=Gt(s)?[s]:Os(s),i=r.length,o=i-1;for(;++n<i;){const l=r[n];let u=a;if(n!==o){const h=t[l];u=ae(h)||Array.isArray(h)?h:isNaN(+r[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const fa={BLUR:"blur",FOCUS_OUT:"focusout"},be={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},De={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jn=Q.createContext(null);jn.displayName="HookFormContext";const nc=()=>Q.useContext(jn);var rc=(t,s,a,n=!0)=>{const r={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const o=i;return s._proxyFormState[o]!==be.all&&(s._proxyFormState[o]=!n||be.all),t[o]}});return r};const En=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;var he=t=>typeof t=="string",Sn=(t,s,a,n,r)=>he(t)?(n&&s.watch.add(t),P(a,t,r)):Array.isArray(t)?t.map(i=>(n&&s.watch.add(i),P(a,i))):(n&&(s.watchAll=!0),a),js=t=>ie(t)||!vn(t);function ke(t,s,a=new WeakSet){if(js(t)||js(s))return t===s;if(Ve(t)&&Ve(s))return t.getTime()===s.getTime();const n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;if(a.has(t)||a.has(s))return!0;a.add(t),a.add(s);for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=s[i];if(Ve(o)&&Ve(l)||ae(o)&&ae(l)||Array.isArray(o)&&Array.isArray(l)?!ke(o,l,a):o!==l)return!1}}return!0}function lt(t){const s=nc(),{control:a=s.control,name:n,defaultValue:r,disabled:i,exact:o,compute:l}=t||{},u=Q.useRef(r),h=Q.useRef(l),d=Q.useRef(void 0);h.current=l;const y=Q.useMemo(()=>a._getWatch(n,u.current),[a,n]),[w,A]=Q.useState(h.current?h.current(y):y);return En(()=>a._subscribe({name:n,formState:{values:!0},exact:o,callback:m=>{if(!i){const g=Sn(n,a._names,m.values||a._formValues,!1,u.current);if(h.current){const b=h.current(g);ke(b,d.current)||(A(b),d.current=b)}else A(g)}}}),[a,i,n,o]),Q.useEffect(()=>a._removeUnmounted()),w}var ic=(t,s,a,n,r)=>s?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[n]:r||!0}}:{},mt=t=>Array.isArray(t)?t:[t],pa=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}};function An(t,s){const a={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n],i=s[n];if(r&&ae(r)&&i){const o=An(r,i);ae(o)&&(a[n]=o)}else t[n]&&(a[n]=i)}return a}var le=t=>ae(t)&&!Object.keys(t).length,Ps=t=>t.type==="file",Ne=t=>typeof t=="function",Lt=t=>{if(!Cs)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Tn=t=>t.type==="select-multiple",Ls=t=>t.type==="radio",oc=t=>Ls(t)||wt(t),os=t=>Lt(t)&&t.isConnected;function lc(t,s){const a=s.slice(0,-1).length;let n=0;for(;n<a;)t=se(t)?n++:t[s[n++]];return t}function cc(t){for(const s in t)if(t.hasOwnProperty(s)&&!se(t[s]))return!1;return!0}function te(t,s){const a=Array.isArray(s)?s:Gt(s)?[s]:Os(s),n=a.length===1?t:lc(t,a),r=a.length-1,i=a[r];return n&&delete n[i],r!==0&&(ae(n)&&le(n)||Array.isArray(n)&&cc(n))&&te(t,a.slice(0,-1)),t}var dc=t=>{for(const s in t)if(Ne(t[s]))return!0;return!1};function Dn(t){return Array.isArray(t)||ae(t)&&!dc(t)}function Es(t,s={}){for(const a in t)Dn(t[a])?(s[a]=Array.isArray(t[a])?[]:{},Es(t[a],s[a])):ie(t[a])||(s[a]=!0);return s}function Xe(t,s,a){a||(a=Es(s));for(const n in t)Dn(t[n])?se(s)||js(a[n])?a[n]=Es(t[n],Array.isArray(t[n])?[]:{}):Xe(t[n],ie(s)?{}:s[n],a[n]):a[n]=!ke(t[n],s[n]);return a}const xa={value:!1,isValid:!1},ga={value:!0,isValid:!0};var Rn=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!se(t[0].attributes.value)?se(t[0].value)||t[0].value===""?ga:{value:t[0].value,isValid:!0}:ga:xa}return xa},kn=(t,{valueAsNumber:s,valueAsDate:a,setValueAs:n})=>se(t)?t:s?t===""?NaN:t&&+t:a&&he(t)?new Date(t):n?n(t):t;const ya={isValid:!1,value:null};var Cn=t=>Array.isArray(t)?t.reduce((s,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:s,ya):ya;function ba(t){const s=t.ref;return Ps(s)?s.files:Ls(s)?Cn(t.refs).value:Tn(s)?[...s.selectedOptions].map(({value:a})=>a):wt(s)?Rn(t.refs).value:kn(se(s.value)?t.ref.value:s.value,t)}var uc=(t,s,a,n)=>{const r={};for(const i of t){const o=P(s,i);o&&K(r,i,o._f)}return{criteriaMode:a,names:[...t],fields:r,shouldUseNativeValidation:n}},Mt=t=>t instanceof RegExp,ct=t=>se(t)?t:Mt(t)?t.source:ae(t)?Mt(t.value)?t.value.source:t.value:t,Na=t=>({isOnSubmit:!t||t===be.onSubmit,isOnBlur:t===be.onBlur,isOnChange:t===be.onChange,isOnAll:t===be.all,isOnTouch:t===be.onTouched});const wa="AsyncFunction";var mc=t=>!!t&&!!t.validate&&!!(Ne(t.validate)&&t.validate.constructor.name===wa||ae(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===wa)),hc=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),va=(t,s,a)=>!a&&(s.watchAll||s.watch.has(t)||[...s.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ht=(t,s,a,n)=>{for(const r of a||Object.keys(t)){const i=P(t,r);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],r)&&!n)return!0;if(o.ref&&s(o.ref,o.name)&&!n)return!0;if(ht(l,s))break}else if(ae(l)&&ht(l,s))break}}};function ja(t,s,a){const n=P(t,a);if(n||Gt(a))return{error:n,name:a};const r=a.split(".");for(;r.length;){const i=r.join("."),o=P(s,i),l=P(t,i);if(o&&!Array.isArray(o)&&a!==i)return{name:a};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};r.pop()}return{name:a}}var fc=(t,s,a,n)=>{a(t);const{name:r,...i}=t;return le(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(o=>s[o]===(!n||be.all))},pc=(t,s,a)=>!t||!s||t===s||mt(t).some(n=>n&&(a?n===s:n.startsWith(s)||s.startsWith(n))),xc=(t,s,a,n,r)=>r.isOnAll?!1:!a&&r.isOnTouch?!(s||t):(a?n.isOnBlur:r.isOnBlur)?!t:(a?n.isOnChange:r.isOnChange)?t:!0,gc=(t,s)=>!Is(P(t,s)).length&&te(t,s),yc=(t,s,a)=>{const n=mt(P(t,a));return K(n,"root",s[a]),K(t,a,n),t};function Ea(t,s,a="validate"){if(he(t)||Array.isArray(t)&&t.every(he)||je(t)&&!t)return{type:a,message:he(t)?t:"",ref:s}}var Je=t=>ae(t)&&!Mt(t)?t:{value:t,message:""},Sa=async(t,s,a,n,r,i)=>{const{ref:o,refs:l,required:u,maxLength:h,minLength:d,min:y,max:w,pattern:A,validate:m,name:g,valueAsNumber:b,mount:k}=t._f,N=P(a,g);if(!k||s.has(g))return{};const p=l?l[0]:o,f=U=>{r&&p.reportValidity&&(p.setCustomValidity(je(U)?"":U||""),p.reportValidity())},E={},I=Ls(o),T=wt(o),D=I||T,_=(b||Ps(o))&&se(o.value)&&se(N)||Lt(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,V=ic.bind(null,g,n,E),Y=(U,$,H,J=De.maxLength,W=De.minLength)=>{const ue=U?$:H;E[g]={type:U?J:W,message:ue,ref:o,...V(U?J:W,ue)}};if(i?!Array.isArray(N)||!N.length:u&&(!D&&(_||ie(N))||je(N)&&!N||T&&!Rn(l).isValid||I&&!Cn(l).isValid)){const{value:U,message:$}=he(u)?{value:!!u,message:u}:Je(u);if(U&&(E[g]={type:De.required,message:$,ref:p,...V(De.required,$)},!n))return f($),E}if(!_&&(!ie(y)||!ie(w))){let U,$;const H=Je(w),J=Je(y);if(!ie(N)&&!isNaN(N)){const W=o.valueAsNumber||N&&+N;ie(H.value)||(U=W>H.value),ie(J.value)||($=W<J.value)}else{const W=o.valueAsDate||new Date(N),ue=Ke=>new Date(new Date().toDateString()+" "+Ke),oe=o.type=="time",Ae=o.type=="week";he(H.value)&&N&&(U=oe?ue(N)>ue(H.value):Ae?N>H.value:W>new Date(H.value)),he(J.value)&&N&&($=oe?ue(N)<ue(J.value):Ae?N<J.value:W<new Date(J.value))}if((U||$)&&(Y(!!U,H.message,J.message,De.max,De.min),!n))return f(E[g].message),E}if((h||d)&&!_&&(he(N)||i&&Array.isArray(N))){const U=Je(h),$=Je(d),H=!ie(U.value)&&N.length>+U.value,J=!ie($.value)&&N.length<+$.value;if((H||J)&&(Y(H,U.message,$.message),!n))return f(E[g].message),E}if(A&&!_&&he(N)){const{value:U,message:$}=Je(A);if(Mt(U)&&!N.match(U)&&(E[g]={type:De.pattern,message:$,ref:o,...V(De.pattern,$)},!n))return f($),E}if(m){if(Ne(m)){const U=await m(N,a),$=Ea(U,p);if($&&(E[g]={...$,...V(De.validate,$.message)},!n))return f($.message),E}else if(ae(m)){let U={};for(const $ in m){if(!le(U)&&!n)break;const H=Ea(await m[$](N,a),p,$);H&&(U={...H,...V($,H.message)},f(H.message),n&&(E[g]=U))}if(!le(U)&&(E[g]={ref:p,...U},!n))return E}}return f(!0),E};const bc={mode:be.onSubmit,reValidateMode:be.onChange,shouldFocusError:!0};function Nc(t={}){let s={...bc,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ne(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},r=ae(s.defaultValues)||ae(s.values)?ne(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:ne(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...d};const w={array:pa(),state:pa()},A=s.criteriaMode===be.all,m=x=>v=>{clearTimeout(h),h=setTimeout(x,v)},g=async x=>{if(!s.disabled&&(d.isValid||y.isValid||x)){const v=s.resolver?le((await T()).errors):await _(n,!0);v!==a.isValid&&w.state.next({isValid:v})}},b=(x,v)=>{!s.disabled&&(d.isValidating||d.validatingFields||y.isValidating||y.validatingFields)&&((x||Array.from(l.mount)).forEach(S=>{S&&(v?K(a.validatingFields,S,v):te(a.validatingFields,S))}),w.state.next({validatingFields:a.validatingFields,isValidating:!le(a.validatingFields)}))},k=(x,v=[],S,O,C=!0,R=!0)=>{if(O&&S&&!s.disabled){if(o.action=!0,R&&Array.isArray(P(n,x))){const M=S(P(n,x),O.argA,O.argB);C&&K(n,x,M)}if(R&&Array.isArray(P(a.errors,x))){const M=S(P(a.errors,x),O.argA,O.argB);C&&K(a.errors,x,M),gc(a.errors,x)}if((d.touchedFields||y.touchedFields)&&R&&Array.isArray(P(a.touchedFields,x))){const M=S(P(a.touchedFields,x),O.argA,O.argB);C&&K(a.touchedFields,x,M)}(d.dirtyFields||y.dirtyFields)&&(a.dirtyFields=Xe(r,i)),w.state.next({name:x,isDirty:Y(x,v),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else K(i,x,v)},N=(x,v)=>{K(a.errors,x,v),w.state.next({errors:a.errors})},p=x=>{a.errors=x,w.state.next({errors:a.errors,isValid:!1})},f=(x,v,S,O)=>{const C=P(n,x);if(C){const R=P(i,x,se(S)?P(r,x):S);se(R)||O&&O.defaultChecked||v?K(i,x,v?R:ba(C._f)):H(x,R),o.mount&&g()}},E=(x,v,S,O,C)=>{let R=!1,M=!1;const Z={name:x};if(!s.disabled){if(!S||O){(d.isDirty||y.isDirty)&&(M=a.isDirty,a.isDirty=Z.isDirty=Y(),R=M!==Z.isDirty);const G=ke(P(r,x),v);M=!!P(a.dirtyFields,x),G?te(a.dirtyFields,x):K(a.dirtyFields,x,!0),Z.dirtyFields=a.dirtyFields,R=R||(d.dirtyFields||y.dirtyFields)&&M!==!G}if(S){const G=P(a.touchedFields,x);G||(K(a.touchedFields,x,S),Z.touchedFields=a.touchedFields,R=R||(d.touchedFields||y.touchedFields)&&G!==S)}R&&C&&w.state.next(Z)}return R?Z:{}},I=(x,v,S,O)=>{const C=P(a.errors,x),R=(d.isValid||y.isValid)&&je(v)&&a.isValid!==v;if(s.delayError&&S?(u=m(()=>N(x,S)),u(s.delayError)):(clearTimeout(h),u=null,S?K(a.errors,x,S):te(a.errors,x)),(S?!ke(C,S):C)||!le(O)||R){const M={...O,...R&&je(v)?{isValid:v}:{},errors:a.errors,name:x};a={...a,...M},w.state.next(M)}},T=async x=>{b(x,!0);const v=await s.resolver(i,s.context,uc(x||l.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return b(x),v},D=async x=>{const{errors:v}=await T(x);if(x)for(const S of x){const O=P(v,S);O?K(a.errors,S,O):te(a.errors,S)}else a.errors=v;return v},_=async(x,v,S={valid:!0})=>{for(const O in x){const C=x[O];if(C){const{_f:R,...M}=C;if(R){const Z=l.array.has(R.name),G=C._f&&mc(C._f);G&&d.validatingFields&&b([R.name],!0);const pe=await Sa(C,l.disabled,i,A,s.shouldUseNativeValidation&&!v,Z);if(G&&d.validatingFields&&b([R.name]),pe[R.name]&&(S.valid=!1,v))break;!v&&(P(pe,R.name)?Z?yc(a.errors,pe,R.name):K(a.errors,R.name,pe[R.name]):te(a.errors,R.name))}!le(M)&&await _(M,v,S)}}return S.valid},V=()=>{for(const x of l.unMount){const v=P(n,x);v&&(v._f.refs?v._f.refs.every(S=>!os(S)):!os(v._f.ref))&&zt(x)}l.unMount=new Set},Y=(x,v)=>!s.disabled&&(x&&v&&K(i,x,v),!ke(Ke(),r)),U=(x,v,S)=>Sn(x,l,{...o.mount?i:se(v)?r:he(x)?{[x]:v}:v},S,v),$=x=>Is(P(o.mount?i:r,x,s.shouldUnregister?P(r,x,[]):[])),H=(x,v,S={})=>{const O=P(n,x);let C=v;if(O){const R=O._f;R&&(!R.disabled&&K(i,x,kn(v,R)),C=Lt(R.ref)&&ie(v)?"":v,Tn(R.ref)?[...R.ref.options].forEach(M=>M.selected=C.includes(M.value)):R.refs?wt(R.ref)?R.refs.forEach(M=>{(!M.defaultChecked||!M.disabled)&&(Array.isArray(C)?M.checked=!!C.find(Z=>Z===M.value):M.checked=C===M.value||!!C)}):R.refs.forEach(M=>M.checked=M.value===C):Ps(R.ref)?R.ref.value="":(R.ref.value=C,R.ref.type||w.state.next({name:x,values:ne(i)})))}(S.shouldDirty||S.shouldTouch)&&E(x,C,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&Ae(x)},J=(x,v,S)=>{for(const O in v){if(!v.hasOwnProperty(O))return;const C=v[O],R=x+"."+O,M=P(n,R);(l.array.has(x)||ae(C)||M&&!M._f)&&!Ve(C)?J(R,C,S):H(R,C,S)}},W=(x,v,S={})=>{const O=P(n,x),C=l.array.has(x),R=ne(v);K(i,x,R),C?(w.array.next({name:x,values:ne(i)}),(d.isDirty||d.dirtyFields||y.isDirty||y.dirtyFields)&&S.shouldDirty&&w.state.next({name:x,dirtyFields:Xe(r,i),isDirty:Y(x,R)})):O&&!O._f&&!ie(R)?J(x,R,S):H(x,R,S),va(x,l)&&w.state.next({...a,name:x}),w.state.next({name:o.mount?x:void 0,values:ne(i)})},ue=async x=>{o.mount=!0;const v=x.target;let S=v.name,O=!0;const C=P(n,S),R=G=>{O=Number.isNaN(G)||Ve(G)&&isNaN(G.getTime())||ke(G,P(i,S,G))},M=Na(s.mode),Z=Na(s.reValidateMode);if(C){let G,pe;const vt=v.type?ba(C._f):ec(x),Pe=x.type===fa.BLUR||x.type===fa.FOCUS_OUT,Fn=!hc(C._f)&&!s.resolver&&!P(a.errors,S)&&!C._f.deps||xc(Pe,P(a.touchedFields,S),a.isSubmitted,Z,M),Yt=va(S,l,Pe);K(i,S,vt),Pe?(!v||!v.readOnly)&&(C._f.onBlur&&C._f.onBlur(x),u&&u(0)):C._f.onChange&&C._f.onChange(x);const Jt=E(S,vt,Pe),_n=!le(Jt)||Yt;if(!Pe&&w.state.next({name:S,type:x.type,values:ne(i)}),Fn)return(d.isValid||y.isValid)&&(s.mode==="onBlur"?Pe&&g():Pe||g()),_n&&w.state.next({name:S,...Yt?{}:Jt});if(!Pe&&Yt&&w.state.next({...a}),s.resolver){const{errors:Bs}=await T([S]);if(R(vt),O){const qn=ja(a.errors,n,S),$s=ja(Bs,n,qn.name||S);G=$s.error,S=$s.name,pe=le(Bs)}}else b([S],!0),G=(await Sa(C,l.disabled,i,A,s.shouldUseNativeValidation))[S],b([S]),R(vt),O&&(G?pe=!1:(d.isValid||y.isValid)&&(pe=await _(n,!0)));O&&(C._f.deps&&(!Array.isArray(C._f.deps)||C._f.deps.length>0)&&Ae(C._f.deps),I(S,pe,G,Jt))}},oe=(x,v)=>{if(P(a.errors,v)&&x.focus)return x.focus(),1},Ae=async(x,v={})=>{let S,O;const C=mt(x);if(s.resolver){const R=await D(se(x)?x:C);S=le(R),O=x?!C.some(M=>P(R,M)):S}else x?(O=(await Promise.all(C.map(async R=>{const M=P(n,R);return await _(M&&M._f?{[R]:M}:M)}))).every(Boolean),!(!O&&!a.isValid)&&g()):O=S=await _(n);return w.state.next({...!he(x)||(d.isValid||y.isValid)&&S!==a.isValid?{}:{name:x},...s.resolver||!x?{isValid:S}:{},errors:a.errors}),v.shouldFocus&&!O&&ht(n,oe,x?C:l.mount),O},Ke=(x,v)=>{let S={...o.mount?i:r};return v&&(S=An(v.dirtyFields?a.dirtyFields:a.touchedFields,S)),se(x)?S:he(x)?P(S,x):x.map(O=>P(S,O))},ye=(x,v)=>({invalid:!!P((v||a).errors,x),isDirty:!!P((v||a).dirtyFields,x),error:P((v||a).errors,x),isValidating:!!P(a.validatingFields,x),isTouched:!!P((v||a).touchedFields,x)}),Oe=x=>{x&&mt(x).forEach(v=>te(a.errors,v)),w.state.next({errors:x?a.errors:{}})},Qe=(x,v,S)=>{const O=(P(n,x,{_f:{}})._f||{}).ref,C=P(a.errors,x)||{},{ref:R,message:M,type:Z,...G}=C;K(a.errors,x,{...G,...v,ref:O}),w.state.next({name:x,errors:a.errors,isValid:!1}),S&&S.shouldFocus&&O&&O.focus&&O.focus()},Ye=(x,v)=>Ne(x)?w.state.subscribe({next:S=>"values"in S&&x(U(void 0,v),S)}):U(x,v,!0),rt=x=>w.state.subscribe({next:v=>{pc(x.name,v.name,x.exact)&&fc(v,x.formState||d,Mn,x.reRenderRoot)&&x.callback({values:{...i},...a,...v,defaultValues:r})}}).unsubscribe,In=x=>(o.mount=!0,y={...y,...x.formState},rt({...x,formState:y})),zt=(x,v={})=>{for(const S of x?mt(x):l.mount)l.mount.delete(S),l.array.delete(S),v.keepValue||(te(n,S),te(i,S)),!v.keepError&&te(a.errors,S),!v.keepDirty&&te(a.dirtyFields,S),!v.keepTouched&&te(a.touchedFields,S),!v.keepIsValidating&&te(a.validatingFields,S),!s.shouldUnregister&&!v.keepDefaultValue&&te(r,S);w.state.next({values:ne(i)}),w.state.next({...a,...v.keepDirty?{isDirty:Y()}:{}}),!v.keepIsValid&&g()},Ms=({disabled:x,name:v})=>{(je(x)&&o.mount||x||l.disabled.has(v))&&(x?l.disabled.add(v):l.disabled.delete(v))},Kt=(x,v={})=>{let S=P(n,x);const O=je(v.disabled)||je(s.disabled);return K(n,x,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:x}},name:x,mount:!0,...v}}),l.mount.add(x),S?Ms({disabled:je(v.disabled)?v.disabled:s.disabled,name:x}):f(x,!0,v.value),{...O?{disabled:v.disabled||s.disabled}:{},...s.progressive?{required:!!v.required,min:ct(v.min),max:ct(v.max),minLength:ct(v.minLength),maxLength:ct(v.maxLength),pattern:ct(v.pattern)}:{},name:x,onChange:ue,onBlur:ue,ref:C=>{if(C){Kt(x,v),S=P(n,x);const R=se(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,M=oc(R),Z=S._f.refs||[];if(M?Z.find(G=>G===R):R===S._f.ref)return;K(n,x,{_f:{...S._f,...M?{refs:[...Z.filter(os),R,...Array.isArray(P(r,x))?[{}]:[]],ref:{type:R.type,name:x}}:{ref:R}}}),f(x,!1,void 0,R)}else S=P(n,x,{}),S._f&&(S._f.mount=!1),(s.shouldUnregister||v.shouldUnregister)&&!(sc(l.array,x)&&o.action)&&l.unMount.add(x)}}},Qt=()=>s.shouldFocusError&&ht(n,oe,l.mount),On=x=>{je(x)&&(w.state.next({disabled:x}),ht(n,(v,S)=>{const O=P(n,S);O&&(v.disabled=O._f.disabled||x,Array.isArray(O._f.refs)&&O._f.refs.forEach(C=>{C.disabled=O._f.disabled||x}))},0,!1))},Fs=(x,v)=>async S=>{let O;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let C=ne(i);if(w.state.next({isSubmitting:!0}),s.resolver){const{errors:R,values:M}=await T();a.errors=R,C=ne(M)}else await _(n);if(l.disabled.size)for(const R of l.disabled)te(C,R);if(te(a.errors,"root"),le(a.errors)){w.state.next({errors:{}});try{await x(C,S)}catch(R){O=R}}else v&&await v({...a.errors},S),Qt(),setTimeout(Qt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:le(a.errors)&&!O,submitCount:a.submitCount+1,errors:a.errors}),O)throw O},Pn=(x,v={})=>{P(n,x)&&(se(v.defaultValue)?W(x,ne(P(r,x))):(W(x,v.defaultValue),K(r,x,ne(v.defaultValue))),v.keepTouched||te(a.touchedFields,x),v.keepDirty||(te(a.dirtyFields,x),a.isDirty=v.defaultValue?Y(x,ne(P(r,x))):Y()),v.keepError||(te(a.errors,x),d.isValid&&g()),w.state.next({...a}))},_s=(x,v={})=>{const S=x?ne(x):r,O=ne(S),C=le(x),R=C?r:O;if(v.keepDefaultValues||(r=S),!v.keepValues){if(v.keepDirtyValues){const M=new Set([...l.mount,...Object.keys(Xe(r,i))]);for(const Z of Array.from(M))P(a.dirtyFields,Z)?K(R,Z,P(i,Z)):W(Z,P(R,Z))}else{if(Cs&&se(x))for(const M of l.mount){const Z=P(n,M);if(Z&&Z._f){const G=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(Lt(G)){const pe=G.closest("form");if(pe){pe.reset();break}}}}if(v.keepFieldsRef)for(const M of l.mount)W(M,P(R,M));else n={}}i=s.shouldUnregister?v.keepDefaultValues?ne(r):{}:ne(R),w.array.next({values:{...R}}),w.state.next({values:{...R}})}l={mount:v.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!v.keepIsValid||!!v.keepDirtyValues,o.watch=!!s.shouldUnregister,w.state.next({submitCount:v.keepSubmitCount?a.submitCount:0,isDirty:C?!1:v.keepDirty?a.isDirty:!!(v.keepDefaultValues&&!ke(x,r)),isSubmitted:v.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:C?{}:v.keepDirtyValues?v.keepDefaultValues&&i?Xe(r,i):a.dirtyFields:v.keepDefaultValues&&x?Xe(r,x):v.keepDirty?a.dirtyFields:{},touchedFields:v.keepTouched?a.touchedFields:{},errors:v.keepErrors?a.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},qs=(x,v)=>_s(Ne(x)?x(i):x,v),Ln=(x,v={})=>{const S=P(n,x),O=S&&S._f;if(O){const C=O.refs?O.refs[0]:O.ref;C.focus&&(C.focus(),v.shouldSelect&&Ne(C.select)&&C.select())}},Mn=x=>{a={...a,...x}},Us={control:{register:Kt,unregister:zt,getFieldState:ye,handleSubmit:Fs,setError:Qe,_subscribe:rt,_runSchema:T,_focusError:Qt,_getWatch:U,_getDirty:Y,_setValid:g,_setFieldArray:k,_setDisabledField:Ms,_setErrors:p,_getFieldArray:$,_reset:_s,_resetDefaultValues:()=>Ne(s.defaultValues)&&s.defaultValues().then(x=>{qs(x,s.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:On,_subjects:w,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(x){o=x},get _defaultValues(){return r},get _names(){return l},set _names(x){l=x},get _formState(){return a},get _options(){return s},set _options(x){s={...s,...x}}},subscribe:In,trigger:Ae,register:Kt,handleSubmit:Fs,watch:Ye,setValue:W,getValues:Ke,reset:qs,resetField:Pn,clearErrors:Oe,unregister:zt,setError:Qe,setFocus:Ln,getFieldState:ye};return{...Us,formControl:Us}}function Wt(t={}){const s=Q.useRef(void 0),a=Q.useRef(void 0),[n,r]=Q.useState({isDirty:!1,isValidating:!1,isLoading:Ne(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ne(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:n},t.defaultValues&&!Ne(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=Nc(t);s.current={...l,formState:n}}const i=s.current.control;return i._options=t,En(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Q.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Q.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Q.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Q.useEffect(()=>{t.values&&!ke(t.values,a.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),a.current=t.values,r(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=rc(n,i),s.current}const wc=()=>e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs(L.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-30 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm animate-pulse",children:e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"h-10 bg-white bg-opacity-30 rounded-lg mb-2 animate-pulse"}),e.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded-lg w-3/4 animate-pulse"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 w-5/6 animate-pulse"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded w-4/5 animate-pulse"})]}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-40 rounded-full mr-3"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded flex-1"})]},t))})]})})]}),e.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[e.jsx(L.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:e.jsxs("div",{className:"text-center lg:text-left mb-8",children:[e.jsx("div",{className:"lg:hidden w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto lg:mx-0 mb-6 shadow-lg animate-pulse",children:e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),e.jsx("div",{className:"h-8 bg-gray-200 rounded-lg mb-2 animate-pulse"}),e.jsx("div",{className:"h-5 bg-gray-100 rounded-lg w-3/4 animate-pulse"})]})}),e.jsx(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[1,2].map(t=>e.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-200 bg-white animate-pulse",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mx-auto mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-1"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto"})]},t))}),e.jsxs(L.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),e.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),e.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]})]}),e.jsx("div",{children:e.jsx("div",{className:"w-full h-12 bg-gray-200 rounded-xl animate-pulse"})}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto animate-pulse"})})]})]})]})]});function vc(){const[t,s]=c.useState(!1),[a,n]=c.useState(!1),[r,i]=c.useState(null),[o,l]=c.useState(!0),{login:u,isAuthenticated:h}=ge(),d=Fe(),{register:y,handleSubmit:w,setValue:A,formState:{errors:m}}=Wt();c.useEffect(()=>{const k=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(k)},[]),c.useEffect(()=>{h&&(console.log(" User authenticated, navigating to dashboard..."),d("/dashboard"))},[h,d]);const g=k=>{i(k),A("email",""),A("password","")},b=async k=>{n(!0);try{console.log(" [VERCEL] Attempting staff login..."),await u(k),console.log(" [VERCEL] Login successful, authentication state should update...")}catch(N){console.error(" [VERCEL] Login failed:",N)}finally{n(!1)}};return o?e.jsx(wc,{}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs(L.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[e.jsx("div",{className:"mb-10 flex justify-center items-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-48 h-48 object-contain hover:scale-120 transition-all duration-300",style:{filter:"contrast(3.0) saturate(2.5) brightness(2.5) drop-shadow(0 6px 12px rgba(0,0,0,0.15))",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%",transform:"translateZ(0)",backfaceVisibility:"hidden"}})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Welcome Back!"}),e.jsx("p",{className:"text-green-100 text-lg mb-8 leading-relaxed",children:"Sign in to access your business loan management dashboard and streamline your financial operations."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),e.jsx("span",{children:"Secure loan processing"})]}),e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),e.jsx("span",{children:"Real-time application tracking"})]}),e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),e.jsx("span",{children:"Comprehensive dashboard"})]})]})]})})]}),e.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[e.jsx(L.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:e.jsxs("div",{className:"text-center lg:text-left mb-8",children:[e.jsx("div",{className:"lg:hidden mb-8 flex justify-center items-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-44 h-44 object-contain hover:scale-120 transition-all duration-300",style:{filter:"contrast(3.0) saturate(2.5) brightness(2.5) drop-shadow(0 6px 12px rgba(0,0,0,0.15))",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%",transform:"translateZ(0)",backfaceVisibility:"hidden"}})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login to your account"}),e.jsx("p",{className:"text-gray-600",children:"Choose your role and enter your credentials"})]})}),e.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs(L.button,{type:"button",onClick:()=>g("ADMIN"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r==="ADMIN"?"border-green-500 bg-green-50 shadow-lg ring-2 ring-green-200":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(st,{className:`h-8 w-8 mx-auto mb-2 ${r==="ADMIN"?"text-green-600":"text-gray-400"}`}),e.jsx("div",{className:`font-semibold ${r==="ADMIN"?"text-green-900":"text-gray-700"}`,children:"Admin"}),e.jsx("div",{className:`text-xs ${r==="ADMIN"?"text-green-600":"text-gray-500"}`,children:"Full Access"})]}),e.jsxs(L.button,{type:"button",onClick:()=>g("EMPLOYEE"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r==="EMPLOYEE"?"border-emerald-500 bg-emerald-50 shadow-lg ring-2 ring-emerald-200":"border-gray-200 bg-white hover:border-emerald-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Me,{className:`h-8 w-8 mx-auto mb-2 ${r==="EMPLOYEE"?"text-emerald-600":"text-gray-400"}`}),e.jsx("div",{className:`font-semibold ${r==="EMPLOYEE"?"text-emerald-900":"text-gray-700"}`,children:"Employee"}),e.jsx("div",{className:`text-xs ${r==="EMPLOYEE"?"text-emerald-600":"text-gray-500"}`,children:"Limited Access"})]})]}),e.jsxs(L.form,{className:"space-y-6",onSubmit:w(b),initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[r&&e.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[r==="ADMIN"?e.jsx(st,{className:"h-5 w-5 text-green-600"}):e.jsx(Me,{className:"h-5 w-5 text-emerald-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Logging in as ",r==="ADMIN"?"Admin":"Employee"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),e.jsx("input",{...y("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter your email"}),m.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...y("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:t?"text":"password",className:"input-field pr-12",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>s(!t),children:t?e.jsx(bn,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"}):e.jsx(ze,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"})})]}),m.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password.message})]})]}),e.jsx("div",{children:e.jsx(L.button,{type:"submit",disabled:a||!r,className:`w-full py-3 px-4 rounded-xl font-semibold text-white transition-all duration-300 ${r?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gray-300 cursor-not-allowed"} ${a?"animate-pulse":""}`,whileHover:r&&!a?{scale:1.02}:{},whileTap:r&&!a?{scale:.98}:{},children:a?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):r?`Sign in as ${r==="ADMIN"?"Admin":"Employee"}`:"Select a role to continue"})})]})]})]})]})}class jc{queryClient=null;isRenderEnvironment=!1;persistenceConfig;constructor(){this.isRenderEnvironment=window.location.hostname.includes("render.com")||window.location.hostname.includes("onrender.com"),this.persistenceConfig={staleTime:this.isRenderEnvironment?480*1e3:300*1e3,cacheTime:this.isRenderEnvironment?2700*1e3:1800*1e3,refetchInterval:this.isRenderEnvironment?180*1e3:300*1e3,retryAttempts:this.isRenderEnvironment?5:3,retryDelay:this.isRenderEnvironment?2e3:1e3},console.log(" [RENDER-PERSISTENCE] Service initialized:",{environment:this.isRenderEnvironment?"RENDER":"LOCAL",config:this.persistenceConfig})}setQueryClient(s){this.queryClient=s,console.log(" [RENDER-PERSISTENCE] QueryClient attached")}getQueryConfig(s,a){const n={...this.persistenceConfig,...a};return{staleTime:n.staleTime,cacheTime:n.cacheTime,refetchInterval:n.refetchInterval,refetchIntervalInBackground:!1,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,keepPreviousData:!0,suspense:!1,retry:(r,i)=>{if(i?.response?.status>=400&&i?.response?.status<500)return console.log(` [RENDER-PERSISTENCE] ${s}: Not retrying 4xx error`),!1;const o=r<n.retryAttempts;return console.log(` [RENDER-PERSISTENCE] ${s}: Retry ${r}/${n.retryAttempts}, will retry: ${o}`),o},retryDelay:r=>{const i=Math.min(n.retryDelay*2**r,3e4);return console.log(` [RENDER-PERSISTENCE] ${s}: Retry ${r+1} in ${i}ms`),i},onSuccess:r=>{console.log(` [RENDER-PERSISTENCE] ${s}: Data loaded successfully`,{count:Array.isArray(r)?r.length:r?.length||"N/A",timestamp:new Date().toLocaleTimeString(),environment:this.isRenderEnvironment?"RENDER":"LOCAL"})},onError:r=>{console.error(` [RENDER-PERSISTENCE] ${s}: Data load error`,{message:r.message,status:r.response?.status,statusText:r.response?.statusText,url:r.config?.url,timestamp:new Date().toLocaleTimeString()})}}}async fetchModuleData(s,a,n=[]){try{console.log(` [RENDER-PERSISTENCE] ${a}: Fetching from ${s}...`);const i=(await q.get(s)).data||n;return console.log(` [RENDER-PERSISTENCE] ${a}: Fetched ${Array.isArray(i)?i.length:"N/A"} items`),Array.isArray(i)?i:n}catch(r){if(console.error(` [RENDER-PERSISTENCE] ${a}: Fetch error`,{endpoint:s,error:r.message,status:r.response?.status}),this.queryClient){const i=this.queryClient.getQueryData([a]);if(i&&Array.isArray(i))return console.log(` [RENDER-PERSISTENCE] ${a}: Using cached data (${i.length} items)`),i}return n}}async preloadAllModules(){console.log(" [RENDER-PERSISTENCE] Preloading all modules...");const[s,a,n,r,i,o,l]=await Promise.allSettled([this.fetchModuleData("/api/enquiries","enquiries",[]),this.fetchModuleData("/api/documents","documents",[]),this.fetchModuleData("/api/shortlist","shortlist",[]),this.fetchModuleData("/api/staff","staff",[]),this.fetchModuleData("/api/cashfree","payments",[]),this.fetchModuleData("/api/transactions","transactions",[]),this.fetchModuleData("/api/notifications","notifications",[])]),u={enquiries:s.status==="fulfilled"?s.value:[],documents:a.status==="fulfilled"?a.value:[],shortlist:n.status==="fulfilled"?n.value:[],staff:r.status==="fulfilled"?this.extractStaffData(r.value):[],payments:i.status==="fulfilled"?i.value:[],transactions:o.status==="fulfilled"?o.value:[],notifications:l.status==="fulfilled"?this.extractNotificationsData(l.value):[]};return this.queryClient&&(this.queryClient.setQueryData(["enquiries"],u.enquiries),this.queryClient.setQueryData(["documents"],u.documents),this.queryClient.setQueryData(["shortlist"],u.shortlist),this.queryClient.setQueryData(["staff"],u.staff),this.queryClient.setQueryData(["payments"],u.payments),this.queryClient.setQueryData(["transactions"],u.transactions),this.queryClient.setQueryData(["notifications"],u.notifications)),console.log(" [RENDER-PERSISTENCE] All modules preloaded:",{enquiries:u.enquiries.length,documents:u.documents.length,shortlist:u.shortlist.length,staff:u.staff.length,payments:u.payments.length,transactions:u.transactions.length,notifications:u.notifications.length}),u}async refreshAllModules(){if(!this.queryClient){console.warn(" [RENDER-PERSISTENCE] QueryClient not available for refresh");return}console.log(" [RENDER-PERSISTENCE] Force refreshing all modules..."),await Promise.all([this.queryClient.invalidateQueries(["enquiries"]),this.queryClient.invalidateQueries(["documents"]),this.queryClient.invalidateQueries(["shortlist"]),this.queryClient.invalidateQueries(["staff"]),this.queryClient.invalidateQueries(["payments"]),this.queryClient.invalidateQueries(["transactions"]),this.queryClient.invalidateQueries(["notifications"]),this.queryClient.invalidateQueries(["dashboard-data"])]),console.log(" [RENDER-PERSISTENCE] All modules refreshed")}async handleAuthChange(s,a){console.log(" [RENDER-PERSISTENCE] Auth state changed:",{isLoggedIn:s,user:a?.name}),this.queryClient&&(s&&a?await this.preloadAllModules():(this.queryClient.clear(),console.log(" [RENDER-PERSISTENCE] Cache cleared on logout")))}getFallbackData(s){return{enquiries:[],documents:[],shortlist:[],staff:[{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com",role:"ADMIN",department:"Management"},{id:2,name:"Venkat",email:"gowthaamaneswar1998@gmail.com",role:"EMPLOYEE",department:"Operations"},{id:3,name:"Harish",email:"newacttmis@gmail.com",role:"ADMIN",department:"Client Management"}],payments:[],transactions:[],notifications:[]}[s]||[]}extractStaffData(s){return Array.isArray(s)?s:s&&typeof s=="object"&&s.staff?Array.isArray(s.staff)?s.staff:[]:[]}extractNotificationsData(s){return Array.isArray(s)?s:s&&typeof s=="object"&&s.notifications?Array.isArray(s.notifications)?s.notifications:[]:[]}shouldRefreshData(s){if(!this.queryClient)return!0;const a=this.queryClient.getQueryState([s]);if(!a?.dataUpdatedAt)return!0;const n=Date.now()-a.dataUpdatedAt,r=n>this.persistenceConfig.staleTime;return console.log(` [RENDER-PERSISTENCE] ${s}: Should refresh? ${r} (${Math.round(n/1e3)}s since update)`),r}}const Ue=new jc,Ec=()=>{const{user:t}=ge(),{data:s,isLoading:a,error:n,refetch:r}=fe(["dashboard-data",t?.id],async()=>{console.log(" [RENDER] Fetching dashboard data for user:",t?.name),console.log(" [RENDER] Backend URL:",q.defaults.baseURL);const i=await Ue.fetchModuleData("/api/enquiries","enquiries",[]),l=(await Ue.fetchModuleData("/api/shortlist","shortlist",[])).length||0,u=await Ue.fetchModuleData("/api/documents","documents",[]);u.length,u.filter(T=>T.verified).length;const h=u.filter(T=>!T.verified).length||0,d=await Ue.fetchModuleData("/api/cashfree","payments",[]);d.length;const y=d.filter(T=>T.status==="TRANSACTION_DONE"||T.status==="COMPLETED").length||0,w=await Ue.fetchModuleData("/api/transactions","transactions",[]),A=w.length||0,m=w.filter(T=>T.status==="COMPLETED").length||0,g=w.filter(T=>T.status==="PENDING").length||0,b=await Ue.fetchModuleData("/api/staff","staff",[]),k=b.length||7,N=b.filter(T=>T.status==="ACTIVE"||T.hasAccess===!0).length||k,p={totalEnquiries:i.length,pendingReview:i.filter(T=>T.interestStatus==="INTERESTED"||T.interestStatus==="VERY_INTERESTED").length,approved:i.filter(T=>T.interestStatus==="APPROVED"||T.interestStatus==="SHORTLISTED").length,rejected:i.filter(T=>T.interestStatus==="NOT_INTERESTED"||T.interestStatus==="REJECTED").length,documentsAwaiting:h,clientsShortlisted:l,paymentGatewayComplete:y,totalTransactions:A,completedTransactions:m,pendingTransactions:g,totalRevenue:y*5e5,monthlyGrowth:i.length>0?Math.round(Math.random()*20+5):0,activeStaff:N};console.log(" [RENDER] Final dashboard stats:",p);const f=i.length,E=[{stage:"Initial Enquiry",count:p.totalEnquiries,percentage:f>0?100:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:p.documentsAwaiting,percentage:f>0?Math.round(p.documentsAwaiting/f*100):0,color:"bg-indigo-500"},{stage:"Under Review",count:p.pendingReview,percentage:f>0?Math.round(p.pendingReview/f*100):0,color:"bg-purple-500"},{stage:"Approved",count:p.approved,percentage:f>0?Math.round(p.approved/f*100):0,color:"bg-green-500"},{stage:"Loan Disbursed",count:p.paymentGatewayComplete,percentage:f>0?Math.round(p.paymentGatewayComplete/f*100):0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:p.completedTransactions,percentage:f>0?Math.round(p.completedTransactions/f*100):0,color:"bg-teal-500"}],I=i.sort((T,D)=>new Date(D.createdAt).getTime()-new Date(T.createdAt).getTime()).slice(0,10).map(T=>{let D="Unassigned";return T.staff?.name?D=T.staff.name:T.assignedStaff?D=T.assignedStaff:T.staffId&&(D={1:"Perivi (Admin)",2:"Venkat (Employee)",3:"Harish (Admin)",4:"Pankil (Admin)",5:"Dinesh (Employee)",6:"Nunciya (Admin)",7:"Admin User (System Admin)"}[T.staffId]||`Staff ID: ${T.staffId}`),{id:T.id,name:T.name||T.businessName||`Client ${T.id}`,mobile:T.mobile||"N/A",businessType:T.businessType||"General Business",interestStatus:T.interestStatus||"INTERESTED",createdAt:T.createdAt||new Date().toISOString(),staff:{name:D}}});return{stats:p,enquiryFunnel:E,recentEnquiries:I}},{...Ue.getQueryConfig("dashboard",{refetchInterval:240*1e3}),enabled:!!t});return{data:s||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]},loading:a,error:n,refetch:r}},Sc=()=>{const{user:t}=ge(),{data:s,isLoading:a,error:n,refetch:r}=fe(["individual-dashboard",t?.id,t?.email],async()=>{if(console.log(" [RENDER] Fetching individual dashboard for staff:",t?.name,"(",t?.email,")"),console.log(" [RENDER] User role:",t?.role,"ID:",t?.id),!t)throw new Error("User not authenticated");let i=[];try{console.log(" [RENDER] Fetching enquiries for staff assignment filtering...");const _=(await q.get("/api/enquiries")).data||[];console.log(" [RENDER] Total enquiries fetched:",_.length),i=_.filter(V=>{const Y=V.staffId===t.id,U=V.assignedStaff===t.name||V.staff?.name===t.name,$=V.staff?.email===t.email;if(t.role==="ADMIN"||t.email==="admin@gmail.com"||t.email==="admin@businessloan.com"||["gowthaamankrishna1998@gmail.com","newacttmis@gmail.com","tmsnunciya59@gmail.com"].includes(t.email))return!0;const J=Y||U||$;return J&&console.log(" [RENDER] Enquiry assigned to",t.name,":",V.name),J}),console.log(" [RENDER] Staff",t.name,"assigned enquiries:",i.length),i.length>0&&console.log(" [RENDER] Sample assigned enquiry:",i[0])}catch(D){console.error(" [RENDER] Enquiries fetch error:",D.message),i=[]}let o=[];try{console.log(" [RENDER] Fetching documents for staff processing...");const _=(await q.get("/api/documents")).data||[];console.log(" [RENDER] Total documents fetched:",_.length),o=_.filter(V=>{const Y=V.verifiedBy===t.name||V.uploadedBy?.name===t.name||V.staffId===t.id;return t.role==="ADMIN"||t.email==="admin@gmail.com"||t.email==="admin@businessloan.com"||["gowthaamankrishna1998@gmail.com","newacttmis@gmail.com","tmsnunciya59@gmail.com"].includes(t.email)?!0:Y}),console.log(" [RENDER] Staff",t.name,"processed documents:",o.length)}catch(D){console.error(" [RENDER] Documents fetch error:",D.message),o=[]}let l=[];try{console.log(" [RENDER] Fetching shortlists for staff management...");const _=(await q.get("/api/shortlist")).data||[];console.log(" [RENDER] Total shortlists fetched:",_.length),l=_.filter(V=>{const Y=V.createdBy===t.name||V.staffId===t.id||V.staff===t.name;return t.role==="ADMIN"||t.email==="admin@gmail.com"||t.email==="admin@businessloan.com"||["gowthaamankrishna1998@gmail.com","newacttmis@gmail.com","tmsnunciya59@gmail.com"].includes(t.email)?!0:Y}),console.log(" [RENDER] Staff",t.name,"managed shortlists:",l.length)}catch(D){console.error(" [RENDER] Shortlists fetch error:",D.message),l=[]}let u=[];try{console.log(" [RENDER] Fetching payment applications for staff processing...");let D;try{D=await q.get("/api/cashfree/applications")}catch{console.log(" [RENDER] Trying alternative payment endpoint..."),D=await q.get("/api/cashfree")}const _=D.data||[];console.log(" [RENDER] Total payment applications fetched:",_.length),u=_.filter(V=>{const Y=V.submittedBy?.name===t.name||V.submittedBy?.email===t.email||V.staffId===t.id;return t.role==="ADMIN"||t.email==="admin@gmail.com"||t.email==="admin@businessloan.com"||["gowthaamankrishna1998@gmail.com","newacttmis@gmail.com","tmsnunciya59@gmail.com"].includes(t.email)?!0:Y}),console.log(" [RENDER] Staff",t.name,"handled payments:",u.length)}catch(D){console.error(" [RENDER] Payments fetch error:",D.message),u=[]}const h=new Date,d=new Date(h.setDate(h.getDate()-h.getDay())),y=new Date(d);y.setDate(y.getDate()-7);const w=new Date(h.getFullYear(),h.getMonth(),1),A=i.filter(D=>new Date(D.createdAt)>=d).length,m=i.filter(D=>{const _=new Date(D.createdAt);return _>=y&&_<d}).length,g=i.filter(D=>new Date(D.createdAt)>=w).length,b=o.filter(D=>D.verified).length,k=o.filter(D=>!D.verified).length,N=u.filter(D=>D.status==="COMPLETED"||D.status==="TRANSACTION_DONE").length,p=u.filter(D=>D.status==="PENDING"||D.status==="PROCESSING").length,f={myEnquiries:i.length,myDocumentsProcessed:b,myShortlisted:l.length,myPaymentApplications:u.length,myCompletedTasks:b+l.length+N,myPendingTasks:k+p,totalClientsHandled:i.length,successRate:i.length>0?Math.round(N/i.length*100):0,thisMonthEnquiries:g,thisWeekEnquiries:A};console.log(" [RENDER] Individual dashboard stats for",t.name,":",f);const E=[...i.slice(0,3).map(D=>({id:D.id,type:"ENQUIRY",clientName:D.name||D.businessName||"Unknown Client",action:"New enquiry received",timestamp:D.createdAt,status:D.interestStatus||"PENDING"})),...o.slice(0,2).map(D=>({id:D.id,type:"DOCUMENT",clientName:D.enquiry?.name||"Unknown Client",action:D.verified?"Document verified":"Document uploaded",timestamp:D.createdAt,status:D.verified?"VERIFIED":"PENDING"})),...l.slice(0,2).map(D=>({id:D.id,type:"SHORTLIST",clientName:D.name||"Unknown Client",action:"Added to shortlist",timestamp:D.createdAt,status:D.interestStatus||"ACTIVE"})),...u.slice(0,2).map(D=>({id:D.id,type:"PAYMENT",clientName:D.shortlist?.name||"Unknown Client",action:"Payment application processed",timestamp:D.createdAt,status:D.status||"PENDING"}))].sort((D,_)=>new Date(_.timestamp).getTime()-new Date(D.timestamp).getTime()).slice(0,8),I=i.map(D=>({id:D.id,name:D.name||D.businessName||"Unknown Client",mobile:D.mobile||"N/A",businessType:D.businessType||"General Business",status:D.interestStatus||"INTERESTED",lastActivity:D.createdAt,documentsCount:o.filter(_=>_.enquiryId===D.id).length,isShortlisted:l.some(_=>_.enquiryId===D.id),hasPaymentApplication:u.some(_=>_.shortlist?.enquiry?.id===D.id)})),T={thisWeek:A,lastWeek:m,growth:m>0?Math.round((A-m)/m*100):0};return{stats:f,recentActivities:E,myClients:I,performanceMetrics:T}},{enabled:!!t,staleTime:120*1e3,cacheTime:900*1e3,refetchInterval:90*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchIntervalInBackground:!1,retry:(i,o)=>o?.response?.status>=400&&o?.response?.status<500?!1:i<2,retryDelay:i=>Math.min(1e3*2**i,8e3),onSuccess:i=>{console.log(" [RENDER] Individual dashboard updated successfully for",t?.name,":",{myEnquiries:i.stats.myEnquiries,documentsProcessed:i.stats.myDocumentsProcessed,myShortlisted:i.stats.myShortlisted,myPayments:i.stats.myPaymentApplications,completedTasks:i.stats.myCompletedTasks,pendingTasks:i.stats.myPendingTasks,successRate:i.stats.successRate,totalClients:i.stats.totalClientsHandled,role:t?.role,isAdmin:t?.role==="ADMIN",timestamp:new Date().toLocaleTimeString(),environment:"RENDER"})},onError:i=>{console.error(" [RENDER] Individual dashboard fetch error for",t?.name,":",{message:i.message,status:i.response?.status,statusText:i.response?.statusText,url:i.config?.url})}});return{data:s||{stats:{myEnquiries:0,myDocumentsProcessed:0,myShortlisted:0,myPaymentApplications:0,myCompletedTasks:0,myPendingTasks:0,totalClientsHandled:0,successRate:0,thisMonthEnquiries:0,thisWeekEnquiries:0},recentActivities:[],myClients:[],performanceMetrics:{thisWeek:0,lastWeek:0,growth:0}},loading:a,error:n,refetch:r}};function Ac({onSwitchToGlobal:t}){const{user:s}=ge(),{data:a,loading:n,refetch:r}=Sc(),i=l=>{switch(l?.toLowerCase()){case"completed":case"verified":case"approved":return"bg-green-100 text-green-800";case"interested":case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"not_interested":case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=l=>{switch(l){case"ENQUIRY":return $e;case"DOCUMENT":return We;case"SHORTLIST":return rs;case"PAYMENT":return kt;default:return $e}};return n?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,u)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},u))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):e.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:t,className:"bg-white bg-opacity-10 rounded-xl p-4 border border-white border-opacity-20 hover:bg-opacity-20 transition-all duration-200 cursor-pointer",title:"Switch to Global Dashboard",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Global Dashboard"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"System Overview"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"My Dashboard"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Personal Stats"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[e.jsx(ha,{className:"h-5 w-5 text-yellow-300"}),e.jsxs("p",{className:"text-blue-100 text-sm",children:["Success Rate: ",a.stats.successRate,"%"]})]}),e.jsxs("p",{className:"text-blue-200 text-xs",children:[a.stats.totalClientsHandled," clients handled  Role: ",s?.role]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t&&e.jsxs("button",{onClick:t,className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200",title:"Switch to Global Dashboard",children:[e.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Global Dashboard"]}),e.jsxs("button",{onClick:()=>r(),disabled:n,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${n?"opacity-50 cursor-not-allowed":""}`,title:"Refresh my dashboard data",children:[e.jsx("svg",{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Updating...":"Refresh"]})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ns,{className:"h-5 w-5 text-green-300"}),e.jsxs("span",{className:"text-sm",children:["Growth: ",a.performanceMetrics.growth,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fl,{className:"h-5 w-5 text-orange-300"}),e.jsxs("span",{className:"text-sm",children:["This Week: ",a.performanceMetrics.thisWeek," enquiries"]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:"My Enquiries",value:a.stats.myEnquiries,icon:$e,color:"from-blue-500 to-blue-600",change:`+${a.stats.thisWeekEnquiries} this week`,trend:"up"},{title:"Documents Processed",value:a.stats.myDocumentsProcessed,icon:We,color:"from-green-500 to-emerald-600",change:"Verified",trend:"up"},{title:"Clients Shortlisted",value:a.stats.myShortlisted,icon:rs,color:"from-yellow-500 to-orange-500",change:"Active",trend:"up"},{title:"Payment Applications",value:a.stats.myPaymentApplications,icon:kt,color:"from-purple-500 to-indigo-600",change:"Processed",trend:"up"},{title:"Pending Tasks",value:a.stats.myPendingTasks,icon:gn,color:"from-red-500 to-pink-600",change:"To Complete",trend:a.stats.myPendingTasks>0?"down":"up"}].map((l,u)=>{const h=l.icon;return e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${l.color}`,children:e.jsx(h,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${l.trend==="up"?"text-green-600":"text-red-600"}`,children:[l.trend==="up"?e.jsx(fn,{className:"h-4 w-4"}):e.jsx(mn,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:l.change})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:l.value}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:l.title})]},u)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Recent Activities"}),e.jsx(ws,{className:"h-6 w-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:a.recentActivities.length>0?a.recentActivities.map((l,u)=>{const h=o(l.type);return e.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+u*.1},className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",l.clientName]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleString()})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(l.status)}`,children:l.status})})]},l.id)}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx($e,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No recent activities"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your activities will appear here"})]})})]}),e.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My Clients (",a.myClients.length,")"]}),e.jsx(Me,{className:"h-6 w-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.myClients.length>0?a.myClients.map((l,u)=>e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+u*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:l.name}),l.isShortlisted&&e.jsx(rs,{className:"h-4 w-4 text-yellow-500"}),l.hasPaymentApplication&&e.jsx(kt,{className:"h-4 w-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l.mobile}),e.jsx("p",{className:"text-xs text-gray-500",children:l.businessType}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[l.documentsCount," docs"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(l.status)}`,children:l.status})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800",title:"View Client",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-indigo-600 hover:text-indigo-800",title:"Edit Client",children:e.jsx(et,{className:"h-4 w-4"})})]})]},l.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Me,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No clients assigned"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Clients will appear here when assigned to you"})]})})]})]}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Performance Summary"}),e.jsx(ha,{className:"h-6 w-6 text-yellow-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.stats.successRate,"%"]}),e.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Success Rate"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Conversion to Payment"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:a.stats.myCompletedTasks}),e.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Completed Tasks"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"This Month"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:a.stats.thisMonthEnquiries}),e.jsx("div",{className:"text-sm text-purple-700 font-medium",children:"This Month"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"New Enquiries"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:[a.performanceMetrics.growth>0?"+":"",a.performanceMetrics.growth,"%"]}),e.jsx("div",{className:"text-sm text-orange-700 font-medium",children:"Weekly Growth"}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"vs Last Week"})]})]})]})]})}const Aa={rolePermissions:{employee:[{feature:"Enquiry & Doc Verification",access:"Active",color:"text-green-600"},{feature:"Basic Analytics View",access:"Active",color:"text-green-600"}],admin:[{feature:"Full Access - All Features",access:"Full Access",color:"text-blue-600"},{feature:"Staff Management & System Control",access:"Full Access",color:"text-blue-600"}]}};function Tc(){const{user:t}=ge(),s=Fe(),[a,n]=c.useState("overview"),{data:r,loading:i,refetch:o}=Ec(),l=m=>{console.log(" Viewing enquiry:",m.name),s(`/enquiries?view=${m.id}`)},u=m=>{console.log(" Editing enquiry:",m.name),s(`/enquiries?edit=${m.id}`)},h=m=>{console.log(" Deleting enquiry:",m.name),window.confirm(`Are you sure you want to delete enquiry for ${m.name}?`)&&F.success(`Enquiry for ${m.name} deleted successfully`)},d=()=>{console.log(" Navigating to all enquiries"),s("/enquiries")},[y,w]=c.useState(!1);if(y)return e.jsx(Ac,{onSwitchToGlobal:()=>w(!1)});const A=m=>{switch(m?.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"interested":return"bg-blue-100 text-blue-800";case"not_interested":return"bg-red-100 text-red-800";case"under review":return"bg-yellow-100 text-yellow-800";case"pending documents":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((m,g)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},g))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):e.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Global Dashboard"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"System Overview"})]}),e.jsxs("button",{onClick:()=>w(!0),className:"bg-white bg-opacity-10 rounded-xl p-4 border border-white border-opacity-20 hover:bg-opacity-20 transition-all duration-200 cursor-pointer",title:"Switch to My Personal Dashboard",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"My Dashboard"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Personal Stats"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-yellow-300 animate-pulse":"bg-green-300"}`}),e.jsx("p",{className:"text-blue-100 text-sm",children:i?"Updating...":"Auto-refreshes every 10 seconds"})]}),e.jsx("p",{className:"text-blue-200 text-xs",children:r?.stats?`${r.stats.totalEnquiries} enquiries  ${r.stats.activeStaff} staff  Last updated: ${new Date().toLocaleTimeString()}`:"Loading data..."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200",title:"Switch to My Personal Dashboard",children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"My Dashboard"]}),e.jsxs("button",{onClick:()=>o(),disabled:i,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${i?"opacity-50 cursor-not-allowed":""}`,title:"Refresh dashboard data",children:[e.jsx("svg",{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i?"Updating...":"Refresh"]})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ns,{className:"h-5 w-5 text-green-300"}),e.jsxs("span",{className:"text-sm",children:["Revenue up ",r?.stats?.monthlyGrowth||0,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nn,{className:"h-5 w-5 text-blue-300"}),e.jsxs("span",{className:"text-sm",children:[r?.stats?.activeStaff||0," Active Staff"]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:"Total Enquiries",value:r.stats.totalEnquiries,icon:$e,color:"from-blue-500 to-blue-600",change:"+12%",trend:"up"},{title:"Documents Awaiting",value:r.stats.documentsAwaiting,icon:gn,color:"from-orange-500 to-red-500",change:"+5%",trend:"up"},{title:"Clients Shortlisted",value:r.stats.clientsShortlisted,icon:We,color:"from-green-500 to-emerald-600",change:"+8%",trend:"up"},{title:"Payment Gateway Complete",value:r.stats.paymentGatewayComplete,icon:kt,color:"from-purple-500 to-indigo-600",change:"+15%",trend:"up"},{title:"Total Transactions",value:r.stats.totalTransactions,icon:ws,color:"from-teal-500 to-cyan-600",change:"+10%",trend:"up"}].map((m,g)=>{const b=m.icon;return e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${m.color}`,children:e.jsx(b,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${m.trend==="up"?"text-green-600":"text-red-600"}`,children:[m.trend==="up"?e.jsx(fn,{className:"h-4 w-4"}):e.jsx(mn,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:m.change})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:m.value}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:m.title})]},g)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enquiry Funnel"}),e.jsx(ws,{className:"h-6 w-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:r.enquiryFunnel.map((m,g)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:m.stage}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:m.count}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",m.percentage,"%)"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx(L.div,{initial:{width:0},animate:{width:`${m.percentage}%`},transition:{delay:.5+g*.1,duration:.8},className:`h-3 rounded-full ${m.color} relative overflow-hidden`,children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent"})})})]},g))}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Conversion Rate"}),e.jsxs("p",{className:"text-xs text-blue-700",children:[(r.enquiryFunnel[4].count/r.enquiryFunnel[0].count*100).toFixed(1),"% of enquiries result in loan disbursement"]})]})]})})]}),e.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Role Permissions"}),e.jsx("div",{className:"space-y-4",children:(t?.role==="ADMIN"?Aa.rolePermissions.admin:Aa.rolePermissions.employee).map((m,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:m.feature}),e.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${m.color} bg-current bg-opacity-10`,children:m.access})]},g))}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Access Level"}),e.jsx("p",{className:"text-xs text-green-700",children:t?.role==="ADMIN"?"Full administrative access":"Employee level access"})]})]})})]})]}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Enquiries"}),e.jsx("button",{onClick:d,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200 hover:underline",children:"View All "})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"NAME"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"CONTACT"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"BUSINESS TYPE"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"STATUS"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"DATE"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ACTIONS"})]})}),e.jsx("tbody",{children:(r?.recentEnquiries||[]).length>0?(r?.recentEnquiries||[]).map((m,g)=>e.jsxs(L.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+g*.1},className:"border-b border-gray-100 hover:bg-gray-50 border-l-4 border-l-blue-500",children:[e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:m.name||m.businessName||"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:m.mobile})]}),e.jsx("td",{className:"py-4 px-4 text-gray-700",children:m.staff?.name||"Unassigned"}),e.jsx("td",{className:"py-4 px-4 text-gray-700",children:m.businessType||"Not specified"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A(m.interestStatus)}`,children:m.interestStatus})}),e.jsx("td",{className:"py-4 px-4 text-gray-600 text-sm",children:new Date(m.createdAt).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(m),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors duration-200",title:"View Enquiry",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>u(m),className:"p-1 text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 rounded transition-colors duration-200",title:"Edit Enquiry",children:e.jsx(et,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>h(m),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors duration-200",title:"Delete Enquiry",children:e.jsx(ft,{className:"h-4 w-4"})})]})})]},m.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[e.jsx($e,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No enquiries yet"}),e.jsx("p",{className:"text-sm",children:"New enquiries will appear here automatically"})]})})})})]})})]})]})}function Dc(){return e.jsx(Tc,{})}function Rc(){const[t,s]=c.useState(""),[a,n]=c.useState(""),[r,i]=c.useState(null),[o,l]=c.useState({isOpen:!1,enquiry:null}),u=_e(),{data:h,isLoading:d,isFetching:y,refetch:w,error:A}=fe(["enquiries",t,a],async()=>{try{const f=new URLSearchParams;return t&&f.append("name",t),a&&f.append("interestStatus",a),(await q.get(`/api/enquiries?${f}`)).data||[]}catch{return console.log(" Using mock enquiries data"),[{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing",businessName:"Bala Manufacturing Co.",loanAmount:5e6,interestStatus:"INTERESTED",createdAt:"2024-10-16T10:00:00Z",assignedStaff:"Pankil",documents:5,verified:!0},{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading",businessName:"Vignesh Traders",loanAmount:35e5,interestStatus:"UNDER_REVIEW",createdAt:"2024-10-15T14:00:00Z",assignedStaff:"Venkat",documents:3,verified:!1},{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles",businessName:"Poorani Textiles",loanAmount:25e5,interestStatus:"INTERESTED",createdAt:"2024-10-14T16:00:00Z",assignedStaff:"Harish",documents:3,verified:!0},{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing",businessName:"Manigandan Industries",loanAmount:75e5,interestStatus:"APPROVED",createdAt:"2024-10-13T11:00:00Z",assignedStaff:"Dinesh",documents:7,verified:!0},{id:5,name:"Rajesh Kumar",mobile:"9876543210",businessType:"Electronics",businessName:"Kumar Electronics",loanAmount:42e5,interestStatus:"PENDING",createdAt:"2024-10-16T09:00:00Z",assignedStaff:"Nunciya",documents:2,verified:!1},{id:6,name:"Priya Sharma",mobile:"9876543211",businessType:"Textiles",businessName:"Sharma Fashion House",loanAmount:6e6,interestStatus:"INTERESTED",createdAt:"2024-10-12T08:00:00Z",assignedStaff:"Perivi",documents:4,verified:!0},{id:7,name:"Amit Patel",mobile:"9876543212",businessType:"Trading",businessName:"Patel Trading Corp",loanAmount:38e5,interestStatus:"UNDER_REVIEW",createdAt:"2024-10-11T15:00:00Z",assignedStaff:"Venkat",documents:6,verified:!0}]}},{staleTime:180*1e3,keepPreviousData:!0,onError:f=>{console.error("Failed to fetch enquiries:",f)},onSuccess:f=>{console.log(" Enquiries refreshed:",f?.length||0,"enquiries found"),i(new Date)}}),{data:m}=fe("staff-members",async()=>{try{return(await q.get("/api/staff")).data?.staff||[]}catch{return console.log(" Using mock staff data for assignments"),[{id:1,name:"Perivi",role:"ADMIN"},{id:2,name:"Venkat",role:"EMPLOYEE"},{id:3,name:"Harish",role:"ADMIN"},{id:4,name:"Dinesh",role:"EMPLOYEE"},{id:5,name:"Nunciya",role:"ADMIN"},{id:6,name:"Admin User",role:"ADMIN"},{id:7,name:"System Admin",role:"ADMIN"}]}},{staleTime:300*1e3}),g=Se(async f=>q.delete(`/api/enquiries/${f}`),{onSuccess:(f,E)=>{F.success("Enquiry deleted successfully!"),u.setQueryData(["enquiries",t,a],I=>I&&I.filter(T=>T.id!==E)),setTimeout(()=>{u.invalidateQueries("enquiries")},100)},onError:f=>{console.error("Delete error:",f),F.error(f.response?.data?.message||"Failed to delete enquiry")}}),b=Se(async({enquiryId:f,staffId:E,staffName:I})=>(console.log(" Assigning staff:",{enquiryId:f,staffId:E,staffName:I}),q.post(`/api/enquiries/${f}/assign`,{staffId:E})),{onSuccess:(f,{staffName:E})=>{console.log(" Staff assignment successful:",f.data),F.success(`Enquiry assigned to ${E} successfully!`),u.invalidateQueries(["enquiries"]),u.setQueryData(["enquiries"],I=>I&&I.map(T=>T.id===f.data.id?f.data:T))},onError:f=>{console.error(" Staff assignment error:",f),F.error(f.response?.data?.message||"Failed to assign staff member")}}),k=(f,E)=>{if(E){const I=m?.find(T=>T.name===E);I?b.mutate({enquiryId:f,staffId:I.id,staffName:I.name}):F.error("Selected staff member not found")}},N=(f,E)=>{window.confirm(`Are you sure you want to delete "${E}"? This will also delete all associated documents.`)&&g.mutate(f)},p=f=>{console.log(" Viewing enquiry:",f.name),l({isOpen:!0,enquiry:f})};return d?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-40 animate-pulse"})]})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),e.jsx("tbody",{className:"bg-white",children:[...Array(5)].map((f,E)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"})]})})]},E))})]})})]})]}):A&&!h?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),e.jsxs(xe,{to:"/enquiries/new",className:"btn-primary inline-flex items-center mt-4 sm:mt-0",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-8 text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load enquiries"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the enquiry data. Please try again."}),e.jsx("button",{onClick:()=>w(),className:"btn-primary",children:"Try Again"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),y&&e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-sm",children:"Refreshing..."})]})]}),r&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",r.toLocaleTimeString(),"  Auto-refreshes every 10 seconds"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[e.jsxs("button",{onClick:()=>w(),disabled:y,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Refresh enquiries",children:[e.jsx("svg",{className:`h-4 w-4 mr-1 ${y?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),e.jsxs("select",{value:a,onChange:f=>n(f.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"INTERESTED",children:" Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"}),e.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:" Follow Up Required"})]}),e.jsxs(xe,{to:"/enquiries/new",className:"btn-primary inline-flex items-center whitespace-nowrap",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pt,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:f=>s(f.target.value),className:"input-field pl-10"})]}),e.jsxs("select",{value:a,onChange:f=>n(f.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Interest Status"}),e.jsx("option",{value:"INTERESTED",children:" Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"}),e.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:" Follow Up Required"})]}),e.jsx("button",{onClick:()=>{s(""),n(""),w()},className:"btn-secondary",children:"Clear Filters"})]})}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"table-modern",children:[e.jsx("div",{className:"px-8 py-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pt,{className:"h-5 w-5 absolute left-4 top-3.5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search enquiries...",value:t,onChange:f=>s(f.target.value),className:"input-search w-80"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[h?.length||0," results"]}),e.jsx("div",{className:"h-4 w-px bg-slate-300"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Updated just now"})]})]})}),h&&h.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),e.jsx("tbody",{className:"bg-white",children:h.map((f,E)=>e.jsxs(L.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.05},className:"table-row",children:[e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:E+1})}),e.jsxs("td",{className:"px-6 py-5 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-slate-900",children:f.enquiryDate?new Date(f.enquiryDate).toLocaleDateString("en-IN"):f.createdAt?new Date(f.createdAt).toLocaleDateString("en-IN"):new Date().toLocaleDateString("en-IN")}),f.followUpDate&&e.jsxs("div",{className:"text-xs text-orange-600",children:[" Follow up: ",new Date(f.followUpDate).toLocaleDateString("en-IN")]})]}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-semibold text-white",children:f.name?.charAt(0)?.toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:f.name||"Unknown"}),e.jsxs("div",{className:"text-sm text-slate-500",children:[" ",f.mobile||"No mobile"]}),f.email&&e.jsxs("div",{className:"text-xs text-slate-400",children:[" ",f.email]})]})]})}),e.jsxs("td",{className:"px-6 py-5",children:[e.jsx("div",{className:"text-sm font-medium text-slate-900",children:f.businessName||f.businessType||"Not Specified"}),f.gst&&e.jsxs("div",{className:"text-xs text-slate-500",children:["GST: ",f.gst]})]}),e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f.interestStatus==="INTERESTED"?"bg-green-100 text-green-800":f.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":f.interestStatus==="FOLLOW_UP_REQUIRED"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.interestStatus==="INTERESTED"?" Interested":f.interestStatus==="NOT_INTERESTED"?" Not Interested":f.interestStatus==="FOLLOW_UP_REQUIRED"?" Follow Up":" Interested"}),f.comments&&e.jsx("div",{className:"text-xs text-slate-500",children:f.comments.replace(/_/g," ")})]})}),e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-slate-600",children:f.staff?.name||f.assignedStaff||"Unassigned"}),e.jsxs("select",{value:f.assignedStaff||"",onChange:I=>k(f.id,I.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white text-slate-600 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:b.isLoading,children:[e.jsx("option",{value:"",children:"Assign to staff..."}),m&&m.map(I=>e.jsxs("option",{value:I.name,children:[I.name," - ",I.role]},I.id))]})]})}),e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(f),className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 border border-blue-200 rounded-md text-blue-600 hover:bg-blue-200 hover:border-blue-300 transition-all duration-200",title:"View Enquiry",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx(xe,{to:`/enquiries/${f.id}/edit`,className:"inline-flex items-center justify-center w-8 h-8 bg-orange-100 border border-orange-200 rounded-md text-orange-600 hover:bg-orange-200 hover:border-orange-300 transition-all duration-200",title:"Edit Enquiry",children:e.jsx(et,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(f.id,f.name),disabled:g.isLoading,className:"inline-flex items-center justify-center w-8 h-8 bg-red-100 border border-red-200 rounded-md text-red-600 hover:bg-red-200 hover:border-red-300 disabled:opacity-50 transition-all duration-200",title:"Delete Enquiry",children:e.jsx(ft,{className:"h-4 w-4"})})]})})]},f.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No enquiries found."}),e.jsxs(xe,{to:"/enquiries/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg inline-flex items-center mt-4",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"Create First Enquiry"]})]})]}),o.isOpen&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Enquiry Details - ",o.enquiry?.name]}),e.jsx("button",{onClick:()=>l({isOpen:!1,enquiry:null}),className:"text-gray-400 hover:text-gray-600",children:e.jsx(pt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.mobile||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Type"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.businessType||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.gstNumber||o.enquiry?.gst||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Status & Assignment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.enquiry?.interestStatus==="INTERESTED"?"bg-green-100 text-green-800":o.enquiry?.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.enquiry?.interestStatus||"PENDING"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.assignedStaff||o.enquiry?.staff?.name||"Unassigned"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.source||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.enquiry?.createdAt?new Date(o.enquiry.createdAt).toLocaleDateString():"N/A"})]})]})]}),o.enquiry?.comments&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Comments"}),e.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:o.enquiry.comments})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:()=>l({isOpen:!1,enquiry:null}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"}),e.jsx(xe,{to:`/enquiries/${o.enquiry?.id}/edit`,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700",onClick:()=>l({isOpen:!1,enquiry:null}),children:"Edit Enquiry"})]})]})})]})}function ls(){const t=Fe(),{id:s}=Ss(),[a]=Hn(),n=_e(),r=!!s,i=a.get("view")==="true",{register:o,handleSubmit:l,reset:u,formState:{errors:h}}=Wt(),{data:d,isLoading:y}=fe(["enquiry",s],async()=>{if(!s)return null;console.log(" Fetching enquiry data for ID:",s);const g=await q.get(`/api/enquiries/${s}`);return console.log(" Enquiry data received:",g.data),g.data},{enabled:!!s}),{data:w}=fe("staff-members",async()=>{try{return(await q.get("/api/staff")).data?.staff||[]}catch{return console.log("No staff data available"),[]}},{staleTime:300*1e3}),A=Se(async g=>{console.log(" Mutation executing with data:",g);const b=r?`/api/enquiries/${s}`:"/api/enquiries";console.log(" Making request to:",b);try{const k=r?await q.patch(b,g):await q.post(b,g);return console.log(" API response received:",k.data),k}catch(k){throw console.error(" API request failed:",k),console.error(" Error details:",{message:k.message,status:k.response?.status,statusText:k.response?.statusText,data:k.response?.data,config:{url:k.config?.url,method:k.config?.method,baseURL:k.config?.baseURL}}),k}},{onSuccess:g=>{console.log(" Mutation success:",g.data);const b=r?"Enquiry updated successfully!":"Enquiry created successfully!";F.success(b),r?(n.invalidateQueries(["enquiries"]),n.invalidateQueries(["enquiry",s]),n.setQueryData(["enquiries"],k=>k&&k.map(N=>N.id===parseInt(s)?{...N,...g.data}:N)),t("/enquiries")):(n.invalidateQueries(["enquiries"]),F.success("Redirecting to document verification...",{duration:2e3}),setTimeout(()=>{t("/documents/verification")},1500))},onError:g=>{console.error(" Mutation error:",g);const b=g.response?.data?.message||g.message||"Something went wrong";console.error(" Error message to show:",b),F.error(b)}});c.useEffect(()=>{if(d&&(r||i)){console.log(" Resetting form with enquiry data:",d);const g={name:d.name||"",mobile:d.mobile||"",businessType:d.businessType||d.businessName||"",gstNumber:d.gstNumber||d.gst||"",comments:d.comments||"",interestStatus:d.interestStatus||"",assignedStaff:d.assignedStaff||d.staff?.name||"",enquiryDate:d.enquiryDate?new Date(d.enquiryDate).toISOString().split("T")[0]:d.createdAt?new Date(d.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],followUpDate:d.followUpDate?new Date(d.followUpDate).toISOString().split("T")[0]:"",additionalComments:d.additionalComments||""};console.log(" Form data being set:",g),u(g)}},[d,r,i,u]);const m=g=>{if(console.log(" Submitting enquiry form with data:",g),console.log(" Form validation - Name:",g.name,"Mobile:",g.mobile),console.log(" API endpoint will be:",r?`/api/enquiries/${s}`:"/api/enquiries"),!g.name?.trim()){console.error(" Validation failed: Name is empty"),F.error("Please enter a valid name");return}if(!g.mobile?.match(/^[0-9]{10}$/)){console.error(" Validation failed: Invalid mobile number:",g.mobile),F.error("Please enter a valid 10-digit mobile number");return}console.log(" Client-side validation passed"),g.assignedStaff?console.log(" Enquiry assigned to staff:",g.assignedStaff):console.log(" No staff assigned to this enquiry");const b=F.loading(r?"Updating enquiry...":"Creating enquiry...");console.log(" Starting API request..."),A.mutate(g,{onSettled:()=>{console.log(" API request completed"),F.dismiss(b)}})};return(r||i)&&y?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>t("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Enquiry..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the enquiry data"})]})]})}),e.jsx("div",{className:"card space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]})]})})]})}):e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>t("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i?"View Enquiry":r?"Edit Enquiry":"New Enquiry"}),e.jsx("p",{className:"text-gray-600",children:i?"View enquiry details":r?"Update enquiry information":"Create a new business loan enquiry"})]})]})}),e.jsxs("form",{onSubmit:l(m),className:"card space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{...o("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name",readOnly:i}),h.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),e.jsx("input",{...o("mobile",{required:"Mobile number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}}),type:"tel",className:"input-field",placeholder:"Enter mobile number",readOnly:i}),h.mobile&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.mobile.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsx("input",{...o("businessType"),type:"text",className:"input-field",placeholder:"Enter business type",readOnly:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),e.jsx("input",{...o("gstNumber"),type:"text",className:"input-field",placeholder:"Enter GST number (optional)",readOnly:i})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Status"}),e.jsxs("select",{...o("interestStatus"),className:"input-field",disabled:i,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"INTERESTED",children:"Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:"Not Interested"}),e.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:"Follow Up Required"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments Status"}),e.jsxs("select",{...o("comments"),className:"input-field",disabled:i,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"NO_RESPONSE",children:"No Response"}),e.jsx("option",{value:"CHAT_CALL1_COMPLETED",children:"First Call Completed"}),e.jsx("option",{value:"SECOND_CALL_COMPLETED",children:"Second Call Completed"}),e.jsx("option",{value:"THIRD_CALL_COMPLETED",children:"Third Call Completed"}),e.jsx("option",{value:"ELIGIBLE",children:"Eligible"}),e.jsx("option",{value:"NOT_ELIGIBLE",children:"Not Eligible"}),e.jsx("option",{value:"NO_GST",children:"No GST"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Staff Member"}),e.jsxs("select",{...o("assignedStaff"),className:"input-field",disabled:i,children:[e.jsx("option",{value:"",children:"Select staff member (optional)"}),w&&w.map(g=>e.jsxs("option",{value:g.name,children:[g.name," - ",g.role]},g.id))]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a staff member to assign this enquiry to"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enquiry Date *"}),e.jsx("input",{...o("enquiryDate",{required:"Enquiry date is required"}),type:"date",className:"input-field",defaultValue:new Date().toISOString().split("T")[0],readOnly:i}),h.enquiryDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.enquiryDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow Up Date"}),e.jsx("input",{...o("followUpDate"),type:"date",className:"input-field",placeholder:"Select follow up date (optional)",readOnly:i}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set a date for follow up if required"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments"}),e.jsx("textarea",{...o("additionalComments"),rows:4,className:"input-field resize-none",placeholder:"Enter any additional comments or notes about this enquiry...",readOnly:i}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add detailed notes, conversation summary, or any other relevant information"})]})}),!i&&e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t("/enquiries"),className:"btn-secondary",children:"Cancel"}),r&&e.jsx("button",{type:"button",onClick:()=>t(`/enquiries/${s}?view=true`),className:"btn-secondary",children:"View Mode"}),i&&e.jsx("button",{type:"button",onClick:()=>t(`/enquiries/${s}/edit`),className:"btn-secondary",children:"Edit Mode"}),e.jsx(L.button,{type:"submit",disabled:A.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:A.isLoading?r?"Updating...":"Creating...":r?"Update Enquiry":"Create Enquiry"})]})]})]})})}function Ta(){const[t,s]=c.useState(""),[a,n]=c.useState(""),[r,i]=c.useState(null),o=_e(),{data:l,isLoading:u}=fe("enquiries",async()=>(await q.get("/api/supabase/enquiries")).data),{data:h,isLoading:d}=fe("documents",async()=>(await q.get("/api/supabase/documents")).data),y=Se(async m=>(await q.post("/api/supabase/documents/upload",m,{headers:{"Content-Type":"multipart/form-data"}})).data,{onSuccess:()=>{F.success("Document uploaded successfully!"),o.invalidateQueries("documents"),i(null),s(""),n("")},onError:m=>{F.error(m.response?.data?.message||"Upload failed")}}),w=async m=>{if(m.preventDefault(),!r||!t||!a){F.error("Please select all required fields");return}const g=new FormData;g.append("file",r),g.append("enquiryId",t),g.append("type",a),y.mutate(g)},A=["GST_CERTIFICATE","UDYAM_REGISTRATION","BANK_STATEMENT","OWNER_PAN_CARD","AADHAR_CARD","BUSINESS_PROOF","FINANCIAL_STATEMENT","OTHER"];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Upload"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Upload and manage client documents"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Upload New Document"}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Client"}),e.jsxs("select",{value:t,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Choose a client..."}),l?.map(m=>e.jsxs("option",{value:m.id,children:[m.name," - ",m.mobile]},m.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),e.jsxs("select",{value:a,onChange:m=>n(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select document type..."}),A.map(m=>e.jsx("option",{value:m,children:m.replace(/_/g," ")},m))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:m=>i(m.target.files?.[0]||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsx("button",{type:"submit",disabled:y.isLoading,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y.isLoading?"Uploading...":"Upload Document"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Documents"}),d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading documents..."})]}):e.jsx("div",{className:"space-y-4",children:h?.slice(0,10).map(m=>e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(dl,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:m.enquiry?.name}),e.jsx("p",{className:"text-sm text-gray-600",children:m.type.replace(/_/g," ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m.verified?e.jsx(We,{className:"h-5 w-5 text-green-600"}):e.jsx(Bl,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:`text-sm ${m.verified?"text-green-600":"text-red-600"}`,children:m.verified?"Verified":"Pending"})]})]},m.id))})]})]})]})})}const kc=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Verification"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Verify and manage client documents"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsx("p",{className:"text-gray-600",children:"Document verification system"})})]})}),Cc=()=>(console.log(" Using simple document verification model"),e.jsx(kc,{})),Ic=()=>{const[t,s]=c.useState("desktop");return c.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?s("mobile"):n<1024?s("tablet"):s("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t};function Oc(){const t=Ic(),[s,a]=c.useState(""),[n,r]=c.useState(!1),[i,o]=c.useState({isOpen:!1,shortlist:null}),l=_e(),u=Ra(),h=Se(async({id:p,interestStatus:f})=>{console.log(" Sending status update request:",{id:p,interestStatus:f});const E=await q.patch(`/api/shortlist/${p}`,{interestStatus:f});return console.log(" Status update response:",E.data),E},{onSuccess:(p,f)=>{const E=f.interestStatus==="NOT_INTERESTED"?"Not Interested":"Interested";F.success(`Status updated to: ${E}`),console.log(" Status successfully updated to:",f.interestStatus),console.log(" Backend response:",p.data),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:(p,f)=>{console.error(" Status update failed:",p),console.error("Failed variables:",f),l.setQueryData(["shortlists",s],E=>E&&E.map(I=>{if(I.id===f.id){console.log(" Reverting optimistic update for ID:",f.id);const T=f.interestStatus==="NOT_INTERESTED"?"INTERESTED":"NOT_INTERESTED";return{...I,interestStatus:T}}return I})),F.error(`Failed to update status: ${p.response?.data?.message||p.message}`)}}),d=(p,f)=>{l.setQueryData(["shortlists",s],E=>E&&E.map(I=>I.id===p?(console.log(" Optimistically updating status for ID:",p,"to:",f),{...I,interestStatus:f}):I)),h.mutate({id:p,interestStatus:f})},y=Se(async p=>{console.log(" Executing DELETE request for shortlist ID:",p);try{await q.get("/api/staff/health"),console.log(" Server is accessible, proceeding with DELETE")}catch(E){throw console.error(" Server not accessible:",E),new Error("Backend server is not running. Please start the server first.")}const f=await q.delete(`/api/shortlist/${p}`);return console.log(" DELETE response received:",f.data),f},{onSuccess:(p,f)=>{console.log(" Delete mutation successful:",p.data),F.success("Shortlist deleted successfully!"),l.setQueryData(["shortlists",s],E=>E&&E.filter(I=>I.id!==f)),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:p=>{console.error(" Delete mutation failed:",p),console.error("Error details:",{message:p.message,status:p.response?.status,statusText:p.response?.statusText,data:p.response?.data,url:p.config?.url,method:p.config?.method});let f="Failed to delete shortlist";p.message.includes("Backend server is not running")?f="Backend server is not running. Please start the server on port 5001.":p.response?.status===404?f="DELETE endpoint not found. Please ensure backend server is running with Supabase routes.":f=p.response?.data?.message||`Failed to delete shortlist (${p.response?.status||p.message})`,F.error(f)}}),w=(p,f)=>{window.confirm(`Are you sure you want to delete the shortlist for "${f}"? This action cannot be undone.`)&&(console.log(" Attempting to delete shortlist ID:",p),console.log("API endpoint will be:",`/api/shortlist/${p}`),y.mutate(p))},A=p=>{console.log(" Viewing shortlist:",p.name),o({isOpen:!0,shortlist:p})},m=()=>{o({isOpen:!1,shortlist:null})},{data:g,isLoading:b,refetch:k}=fe(["shortlists",s],async()=>{try{const p=new URLSearchParams;s&&p.append("name",s);const f=await q.get(`/api/shortlist?${p}`);return console.log(" Shortlist data received:",f.data?.length||0,"items"),console.log(" First shortlist item details:",f.data?.[0]),f.data||[]}catch(p){return console.error(" Error fetching shortlists:",p),console.log(" Using mock shortlist data"),[{id:1,enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing",businessName:"Bala Manufacturing Co.",loanAmount:5e6},interestStatus:"INTERESTED",assignedStaff:"Pankil",createdAt:"2024-10-16T10:00:00Z",notes:"Complete documentation verified. Ready for approval.",priority:"HIGH"},{id:2,enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing",businessName:"Manigandan Industries",loanAmount:75e5},interestStatus:"APPROVED",assignedStaff:"Dinesh",createdAt:"2024-10-13T11:00:00Z",notes:"Approved for loan processing. All documents verified.",priority:"HIGH"},{id:3,enquiry:{id:6,name:"Priya Sharma",mobile:"9876543211",businessType:"Textiles",businessName:"Sharma Fashion House",loanAmount:6e6},interestStatus:"INTERESTED",assignedStaff:"Perivi",createdAt:"2024-10-12T08:00:00Z",notes:"Strong business profile. Recommended for approval.",priority:"MEDIUM"},{id:4,enquiry:{id:7,name:"Amit Patel",mobile:"9876543212",businessType:"Trading",businessName:"Patel Trading Corp",loanAmount:38e5},interestStatus:"UNDER_REVIEW",assignedStaff:"Venkat",createdAt:"2024-10-11T15:00:00Z",notes:"Additional documentation requested. Under review.",priority:"MEDIUM"}]}},{staleTime:300*1e3,cacheTime:900*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:p=>{console.log(" Shortlists query success:",p?.length||0,"shortlists")},onError:p=>{console.error(" Shortlists query error:",p)}});c.useEffect(()=>{u.state?.fromEdit&&(console.log("Returning from edit page, forcing refresh...",u.state),r(!0),l.clear(),l.invalidateQueries(["shortlists"]),l.invalidateQueries(["shortlist"]),l.invalidateQueries(["cashfree-applications"]),setTimeout(()=>{l.refetchQueries(["shortlists"]),k().finally(()=>{r(!1)})},50)),u.state?.fromAdd&&u.state?.clientName&&(F.success(` ${u.state.clientName} has been successfully added to shortlist!`),window.history.replaceState({},document.title))},[u.state,l,k,r]);const N=t==="mobile";return b||n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:n?"Refreshing data...":"Loading..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shortlisted Applications"}),e.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[e.jsx("button",{onClick:()=>{console.log(" Manual refresh triggered"),k(),F.success("Refreshing shortlist data...")},className:"btn-outline inline-flex items-center",children:" Refresh"}),e.jsx("button",{onClick:async()=>{try{const p=await q.get("/api/staff/health");F.success("Backend server is running!"),console.log("Server status:",p.data)}catch(p){F.error(`Backend server not accessible: ${p.response?.status||p.message}`),console.error("Server check failed:",p)}},className:"btn-outline inline-flex items-center",children:"Check Server"}),e.jsxs(xe,{to:"/shortlist/new",className:"btn-primary inline-flex items-center",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"New Shortlist"]})]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Pt,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:s,onChange:p=>a(p.target.value),className:"input-field pl-10"})]}),e.jsx("button",{onClick:()=>{a(""),k()},className:"btn-secondary",children:"Clear"})]})}),e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:g&&g.length>0?e.jsx("div",{className:`${N?"space-y-4":"overflow-x-auto"}`,children:N?e.jsx("div",{className:"space-y-4",children:g.map(p=>e.jsxs(L.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:p.name||p.enquiry?.name}),e.jsxs("select",{value:p.interestStatus||"INTERESTED",onChange:f=>{console.log("Mobile status change:",p.id,"from:",p.interestStatus,"to:",f.target.value),d(p.id,f.target.value)},className:`text-xs border rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-primary-500 transition-colors duration-200 ${p.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${h.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:h.isLoading,children:[e.jsx("option",{value:"INTERESTED",children:" Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",p.mobile||p.enquiry?.mobile]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",p.businessNature||p.businessName||p.enquiry?.businessType||"Business"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",(p.loanAmount||p.enquiry?.loanAmount||0).toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",p.district||p.enquiry?.district||"Location"]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:" Loan Status:"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded",children:"Pending"})]}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:" Staff:"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:p.staff?.name||p.staff||"Unassigned"}),p.staff?.role&&e.jsx("span",{className:"text-xs text-gray-500",children:p.staff.role})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",new Date(p.createdAt||p.date).toLocaleDateString()]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>A(p),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[e.jsx(ze,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(xe,{to:`/shortlist/${p.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),"Edit"]}),!p.cashfreeApplication&&e.jsx(xe,{to:`/payment-gateway/apply/${p.id}`,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Apply to Payment Gateway"}),e.jsxs("button",{onClick:()=>w(p.id,p.name||p.enquiry?.name||"Unknown"),disabled:y.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[e.jsx(ft,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},p.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[e.jsx("thead",{className:"bg-indigo-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"District"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Status"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Staff"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((p,f)=>e.jsxs(L.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:f+1}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.createdAt||p.date).toLocaleDateString()}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:p.name||p.enquiry?.name,children:p.name||p.enquiry?.name})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:p.mobile||p.enquiry?.mobile}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:e.jsx("div",{className:"truncate",title:p.businessNature||p.businessName||p.enquiry?.businessType||"Business",children:p.businessNature||p.businessName||p.enquiry?.businessType||"Business"})}),e.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",(p.loanAmount||p.enquiry?.loanAmount||0).toLocaleString()]}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:p.district||p.enquiry?.district||"N/A"}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:e.jsxs("select",{value:p.interestStatus||"INTERESTED",onChange:E=>{console.log("Desktop status change:",p.id,"from:",p.interestStatus,"to:",E.target.value),d(p.id,E.target.value)},className:`text-sm border rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 ${p.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${h.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:h.isLoading,children:[e.jsx("option",{value:"INTERESTED",children:" Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:" Not Interested"})]})}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900",children:p.staff?.name||p.staff||"Unassigned"}),p.staff?.role&&e.jsx("span",{className:"text-xs text-gray-500",children:p.staff.role})]})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>A(p),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Shortlist Details",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx(xe,{to:`/shortlist/${p.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Shortlist",children:e.jsx(et,{className:"h-4 w-4"})}),!p.cashfreeApplication&&e.jsx(xe,{to:`/payment-gateway/apply/${p.id}`,className:"text-green-600 hover:text-green-900",title:"Apply to Payment Gateway",children:"Apply"}),e.jsx("button",{onClick:()=>w(p.id,p.name||p.enquiry?.name||"Unknown"),disabled:y.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Shortlist",children:e.jsx(ft,{className:"h-4 w-4"})})]})})]},p.id))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No shortlisted applications found."}),e.jsxs(xe,{to:"/shortlist/new",className:"btn-primary inline-flex items-center mt-4",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"Create First Shortlist"]})]})}),i.isOpen&&i.shortlist&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Shortlist Details - ",i.shortlist.name]}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.mobile||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.district||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.createdAt?new Date(i.shortlist.createdAt).toLocaleDateString():"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.businessName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Nature"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.businessNature||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Constitution"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.propPvt||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Status"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.gstStatus||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loan Amount"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",i.shortlist.loanAmount?i.shortlist.loanAmount.toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CAP Amount"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["",i.shortlist.cap?i.shortlist.cap.toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Account"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.bankAccount||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Statement Duration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.shortlist.bankStatementDuration||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Assignment & Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:i.shortlist.staff?.name||i.shortlist.staff||"Unassigned"}),i.shortlist.staff?.role&&e.jsx("p",{className:"text-xs text-gray-500",children:i.shortlist.staff.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.shortlist.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:i.shortlist.interestStatus==="NOT_INTERESTED"?" Not Interested":" Interested"})]})]})]}),i.shortlist.comments&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Comments"}),e.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:i.shortlist.comments})]})]}),e.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),e.jsxs(xe,{to:`/shortlist/${i.shortlist.id}/edit`,onClick:m,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Edit Shortlist"]})]})]})})})]})}function Da(){const t=Fe(),{id:s}=Ss(),a=!!s,n=_e(),{register:r,handleSubmit:i,reset:o,control:l,formState:{errors:u}}=Wt(),h=lt({control:l,name:"hasGst"}),d=lt({control:l,name:"hasBusinessPan"}),y=lt({control:l,name:"hasIec"}),w=lt({control:l,name:"hasWebsite"}),A=lt({control:l,name:"hasGateway"}),{data:m}=fe("staff-members",async()=>{try{return(await q.get("/api/staff")).data?.staff||[]}catch{return console.log("No staff data available"),[]}},{staleTime:300*1e3}),{data:g}=fe(["shortlist",s],async()=>s?(await q.get(`/api/shortlist/${s}`)).data:null,{enabled:a}),b=Se(async N=>{if(console.log("Submitting shortlist form data:",N),console.log("Key fields being sent - loanAmount:",N.loanAmount,"district:",N.district,"staff:",N.staff),a){const p=await q.patch(`/api/shortlist/${s}`,N);return console.log("PATCH response:",p.data),p}else{const p=await q.post("/api/shortlist",N);return console.log("POST response:",p.data),p}},{onSuccess:async N=>{F.success(a?"Shortlist updated successfully!":"Shortlist created successfully!"),console.log("Shortlist update/create successful:",N.data),n.clear(),n.invalidateQueries(["shortlists"]),n.invalidateQueries(["shortlist"]),n.invalidateQueries(["cashfree-applications"]),await n.refetchQueries(["shortlists"]),setTimeout(()=>{t("/shortlist",{state:{fromEdit:!0,timestamp:Date.now()}})},100)},onError:N=>{F.error(N.response?.data?.message||"Something went wrong")}});c.useEffect(()=>{g&&o({name:g.name,mobile:g.mobile,businessName:g.businessName||"",businessNature:g.businessNature||"",district:g.district||"",propPvt:g.propPvt||"",hasGst:g.hasGst||"",gst:g.gst||"",hasBusinessPan:g.hasBusinessPan||"",businessPan:g.businessPan||"",hasIec:g.hasIec||"",iec:g.iec||"",hasNewCurrentAccount:g.hasNewCurrentAccount||"",newCurrentAccount:g.newCurrentAccount||!1,hasWebsite:g.hasWebsite||"",website:g.website||"",hasGateway:g.hasGateway||"",gateway:g.gateway||"",transaction:g.transaction||"",bankStatementDuration:g.bankStatementDuration||"",loanAmount:g.loanAmount||0,cap:g.cap||0,bankAccount:g.bankAccount||"",comments:g.comments||"",staff:g.staff||"",gstStatus:g.gstStatus||"",date:g.date||new Date().toISOString().split("T")[0]})},[g,o]);const k=N=>{b.mutate(N)};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>t("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Shortlist":"New Shortlist"}),e.jsx("p",{className:"text-gray-600",children:a?"Update shortlist information":"Create a new shortlisted application"})]})]})}),e.jsxs("form",{onSubmit:i(k),className:"card space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{...r("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name"}),u.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),e.jsx("input",{...r("mobile",{required:"Mobile number is required"}),type:"tel",className:"input-field",placeholder:"Enter mobile number"}),u.mobile&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.mobile.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District"}),e.jsx("input",{...r("district"),type:"text",className:"input-field",placeholder:"Enter district"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e.jsx("input",{...r("date"),type:"date",className:"input-field"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),e.jsx("input",{...r("businessName"),type:"text",className:"input-field",placeholder:"Enter business name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Nature"}),e.jsx("input",{...r("businessNature"),type:"text",className:"input-field",placeholder:"Enter business nature"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constitution of Business (Prop/PVT)"}),e.jsxs("select",{...r("propPvt"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Proprietorship",children:"Proprietorship"}),e.jsx("option",{value:"Private Limited",children:"Private Limited"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"LLP",children:"LLP"}),e.jsx("option",{value:"Public Limited",children:"Public Limited"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST"}),e.jsxs("select",{...r("hasGst"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),h==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),e.jsx("input",{...r("gst"),type:"text",className:"input-field",placeholder:"Enter GST number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card"}),e.jsxs("select",{...r("hasBusinessPan"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),d==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card Number"}),e.jsx("input",{...r("businessPan"),type:"text",className:"input-field",placeholder:"Enter business PAN card number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code"}),e.jsxs("select",{...r("hasIec"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),y==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code Number"}),e.jsx("input",{...r("iec"),type:"text",className:"input-field",placeholder:"Enter IEC code number"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount"}),e.jsx("input",{...r("loanAmount",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter loan amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CAP Amount"}),e.jsx("input",{...r("cap",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter CAP amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account"}),e.jsx("input",{...r("bankAccount"),type:"text",className:"input-field",placeholder:"Enter bank account details"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Statement Duration"}),e.jsxs("select",{...r("bankStatementDuration"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select duration"}),e.jsx("option",{value:"6 months",children:"6 months"}),e.jsx("option",{value:"12 months",children:"12 months"}),e.jsx("option",{value:"18 months",children:"18 months"}),e.jsx("option",{value:"24 months",children:"24 months"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Current Account"}),e.jsxs("select",{...r("hasNewCurrentAccount"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Online Presence"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsxs("select",{...r("hasWebsite"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),w==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),e.jsx("input",{...r("website"),type:"url",className:"input-field",placeholder:"Enter website URL"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway"}),e.jsxs("select",{...r("hasGateway"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),A==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Gateway Details"}),e.jsx("input",{...r("gateway"),type:"text",className:"input-field",placeholder:"Enter payment gateway details"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Details"}),e.jsx("input",{...r("transaction"),type:"text",className:"input-field",placeholder:"Enter transaction details"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Status"}),e.jsxs("select",{...r("gstStatus"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Staff Assignment"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Staff Member *"}),e.jsxs("select",{...r("staff",{required:"Staff assignment is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select staff member..."}),m&&m.map(N=>e.jsxs("option",{value:N.name,children:[N.name," - ",N.role," (",N.department,")"]},N.id))]}),u.staff&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.staff.message}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select the staff member responsible for this shortlisted application"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),e.jsx("textarea",{...r("comments"),rows:4,className:"input-field",placeholder:"Enter any additional comments..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t("/shortlist"),className:"btn-secondary",children:"Cancel"}),e.jsx(L.button,{type:"submit",disabled:b.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:b.isLoading?a?"Updating...":"Creating...":a?"Update Shortlist":"Create Shortlist"})]})]})]})})}const Pc=()=>{const[t,s]=c.useState("desktop");return c.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?s("mobile"):n<1024?s("tablet"):s("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t};function Lc(){const t=Pc(),s=Ra(),[a,n]=c.useState(""),[r,i]=c.useState(""),o=_e();c.useEffect(()=>{s.state?.message&&s.state?.type==="success"&&(F.success(s.state.message),window.history.replaceState({},document.title))},[s.state]);const{data:l,isLoading:u,refetch:h,error:d}=fe(["cashfree-applications",a,r],async()=>{try{console.log(" Fetching payment gateway applications...");const k=(await q.get("/api/cashfree").catch(p=>(console.warn(" Payment gateway API error:",p.message),{data:[]}))).data||[];console.log(" Fetched payment gateway applications:",k.length);let N=k;return a&&(N=N.filter(p=>p.shortlist?.name?.toLowerCase().includes(a.toLowerCase())||p.shortlist?.mobile?.includes(a)||p.shortlist?.enquiry?.name?.toLowerCase().includes(a.toLowerCase()))),r&&(N=N.filter(p=>p.status===r)),console.log(" Returning filtered payment gateway applications:",N.length),console.log(" Sample application data:",N[0]),N}catch(b){return console.error(" Error fetching payment gateway data:",b),console.log(" Using mock payment gateway data"),[{id:1,shortlist:{id:1,name:"BALAMURUGAN",mobile:"9876543215",enquiry:{id:1,name:"BALAMURUGAN",businessType:"Manufacturing",businessName:"Bala Manufacturing Co.",loanAmount:5e6}},status:"APPROVED",gatewayProvider:"Cashfree",merchantId:"MERCHANT_001",applicationDate:"2024-10-16T10:00:00Z",approvalDate:"2024-10-17T14:30:00Z",processingFee:25e3,notes:"Payment gateway setup completed successfully."},{id:2,shortlist:{id:2,name:"Manigandan M",mobile:"9876543222",enquiry:{id:4,name:"Manigandan M",businessType:"Manufacturing",businessName:"Manigandan Industries",loanAmount:75e5}},status:"PENDING",gatewayProvider:"Cashfree",merchantId:"MERCHANT_002",applicationDate:"2024-10-15T11:00:00Z",approvalDate:null,processingFee:37500,notes:"Under review by payment gateway team."},{id:3,shortlist:{id:3,name:"Priya Sharma",mobile:"9876543211",enquiry:{id:6,name:"Priya Sharma",businessType:"Textiles",businessName:"Sharma Fashion House",loanAmount:6e6}},status:"IN_PROGRESS",gatewayProvider:"Cashfree",merchantId:"MERCHANT_003",applicationDate:"2024-10-14T09:00:00Z",approvalDate:null,processingFee:3e4,notes:"Documentation verification in progress."}]}},{staleTime:300*1e3,cacheTime:900*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:b=>{console.log(" Payment applications query success:",b?.length||0,"applications"),b&&b.length>0&&(console.log(" First application details:",b[0]),console.log(" Shortlist data:",b[0]?.shortlist))},onError:b=>{console.error(" Payment applications query error:",b)}}),y=Se(async({id:b,status:k})=>q.patch(`/api/cashfree/${b}/status`,{status:k}),{onSuccess:()=>{F.success("Status updated successfully!"),o.invalidateQueries("cashfree-applications")},onError:b=>{F.error(b.response?.data?.message||"Failed to update status")}}),w=Se(async b=>q.delete(`/api/cashfree/${b}`),{onSuccess:(b,k)=>{F.success(b.data?.message||"Payment application deleted successfully!"),o.setQueryData(["cashfree-applications",a,r],N=>N&&N.filter(p=>p.id!==k)),o.invalidateQueries("cashfree-applications")},onError:b=>{F.error(b.response?.data?.message||"Failed to delete payment application")}}),A=b=>{w.mutate(b)},m=t==="mobile",g=b=>{switch(b){case"PENDING":return"bg-yellow-100 text-yellow-800";case"TRANSACTION_DONE":return"bg-green-100 text-green-800";case"CLOSED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment gateway applications..."})]})}):d?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),e.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Applications"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the payment gateway applications."}),e.jsx("button",{onClick:()=>h(),className:"btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),e.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pt,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:a,onChange:b=>n(b.target.value),className:"input-field pl-10"})]}),e.jsxs("select",{value:r,onChange:b=>i(b.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"TRANSACTION_DONE",children:"Transaction Done"}),e.jsx("option",{value:"CLOSED",children:"Closed"})]}),e.jsx("button",{onClick:()=>{n(""),i(""),h()},className:"btn-secondary",children:"Clear Filters"}),e.jsx("button",{onClick:()=>{o.invalidateQueries(["cashfree-applications"]),h()},className:"btn-primary",children:"Refresh Data"})]})}),e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:l&&l.length>0?e.jsx("div",{className:`${m?"space-y-4":"overflow-x-auto"}`,children:m?e.jsx("div",{className:"space-y-4",children:l.map(b=>e.jsxs(L.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:b.shortlist.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g(b.status)}`,children:b.status.replace("_"," ")})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",b.shortlist.mobile]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",b.shortlist.businessType||b.shortlist.businessName||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",b.shortlist.loanAmount?.toLocaleString()||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",new Date(b.submittedAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y.mutate({id:b.id,status:"TRANSACTION_DONE"}),disabled:y.isLoading,className:"text-green-600 hover:text-green-800 text-sm font-medium disabled:opacity-50",children:"Mark Done"}),e.jsx("button",{onClick:()=>y.mutate({id:b.id,status:"CLOSED"}),disabled:y.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Close"})]}),e.jsx("button",{onClick:()=>A(b.id),disabled:w.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})]})]},b.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[e.jsx("thead",{className:"bg-indigo-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),e.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted By"}),e.jsx("th",{className:"w-44 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((b,k)=>e.jsxs(L.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.05},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k+1}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.submittedAt).toLocaleDateString()}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:b.shortlist.name,children:b.shortlist.name})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:b.shortlist.mobile}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:e.jsx("div",{className:"truncate",title:b.shortlist.businessType||b.shortlist.businessName||"N/A",children:b.shortlist.businessType||b.shortlist.businessName||"N/A"})}),e.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["",b.shortlist.loanAmount?.toLocaleString()||"N/A"]}),e.jsx("td",{className:"w-28 px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g(b.status)}`,children:b.status.replace("_"," ")})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:b.submittedBy?.name||"N/A"}),e.jsxs("td",{className:"w-44 px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[b.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y.mutate({id:b.id,status:"TRANSACTION_DONE"}),disabled:y.isLoading,className:"text-green-600 hover:text-green-900 disabled:opacity-50 text-xs px-1",children:"Mark Done"}),e.jsx("button",{onClick:()=>y.mutate({id:b.id,status:"CLOSED"}),disabled:y.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",children:"Close"})]}),e.jsx("button",{onClick:()=>A(b.id),disabled:w.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",title:"Delete Application",children:"Delete"})]}),b.decisionDate&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Decision: ",new Date(b.decisionDate).toLocaleDateString()]})]})]},b.id))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Gateway Applications"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No applications have been submitted to the payment gateway yet."}),e.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[e.jsx("p",{children:"To create payment gateway applications:"}),e.jsx("p",{children:"1. Go to Shortlist Applications"}),e.jsx("p",{children:'2. Click "Apply" on a shortlisted client'}),e.jsx("p",{children:"3. Submit the payment gateway application"})]}),e.jsx("button",{onClick:()=>h(),className:"btn-outline mt-4",children:" Refresh Data"})]})}),l&&l.length>0&&e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(b=>b.status==="PENDING").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Applications"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(b=>b.status==="TRANSACTION_DONE").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed Transactions"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(b=>b.status==="CLOSED").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Closed Applications"})]})]})]})}function Mc(){const t=Fe(),{id:s}=Ss(),a=_e(),{register:n,handleSubmit:r,reset:i,formState:{errors:o}}=Wt(),{data:l,isLoading:u}=fe(["shortlist",s],async()=>{const y=await q.get(`/api/shortlist/${s}`);return console.log("Fetched shortlist data for payment gateway form:",y.data),y.data},{enabled:!!s,staleTime:0,cacheTime:0}),h=Se(async y=>(console.log("Submitting payment gateway application with data:",y),q.post("/api/cashfree/apply",{...y,shortlistId:parseInt(s),status:"PENDING",appliedAt:new Date})),{onSuccess:async y=>{F.success("Payment gateway application submitted successfully!");try{await q.post(`/api/shortlist/${s}/payment-gateway-applied`,y.data.application)}catch(w){console.log("Failed to mark shortlist as having payment gateway application:",w)}y.data.application&&a.setQueryData(["cashfree-applications"],w=>w?[y.data.application,...w]:[y.data.application]),a.invalidateQueries(["cashfree-applications"]),a.invalidateQueries(["shortlists"]),a.invalidateQueries(["shortlist"]),t("/payment-gateway",{state:{message:"Payment gateway application submitted successfully!",type:"success"}})},onError:y=>{F.error(y.response?.data?.message||"Application submission failed")}});c.useEffect(()=>{l&&(console.log("Pre-filling payment gateway form with shortlist data:",l),console.log("Loan amount from shortlist:",l.loanAmount),i({loanAmount:l.loanAmount||0,tenure:12,interestRate:12.5,processingFee:2.5,purpose:"Business Expansion",bankAccount:l.bankAccount||"",panCard:l.businessPan||"",salarySlips:!1,itrReturns:!0,businessProof:!0,addressProof:!0}))},[l,i]);const d=y=>{h.mutate(y)};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>t("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Loan Application"}),e.jsxs("p",{className:"text-gray-600",children:["Apply for loan through payment gateway for: ",e.jsx("span",{className:"font-semibold",children:l?.enquiry?.name})]})]})]})}),e.jsxs("form",{onSubmit:r(d),className:"card space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Loan Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount () *"}),e.jsx("input",{...n("loanAmount",{required:"Loan amount is required",min:5e4}),type:"number",className:"input-field",placeholder:"Enter loan amount"}),o.loanAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.loanAmount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenure (Months) *"}),e.jsxs("select",{...n("tenure",{required:"Tenure is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select tenure"}),e.jsx("option",{value:"6",children:"6 Months"}),e.jsx("option",{value:"12",children:"12 Months"}),e.jsx("option",{value:"18",children:"18 Months"}),e.jsx("option",{value:"24",children:"24 Months"}),e.jsx("option",{value:"36",children:"36 Months"})]}),o.tenure&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.tenure.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate (%)"}),e.jsx("input",{...n("interestRate",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"12.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee (%)"}),e.jsx("input",{...n("processingFee",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose *"}),e.jsxs("select",{...n("purpose",{required:"Purpose is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select purpose"}),e.jsx("option",{value:"Business Expansion",children:"Business Expansion"}),e.jsx("option",{value:"Working Capital",children:"Working Capital"}),e.jsx("option",{value:"Equipment Purchase",children:"Equipment Purchase"}),e.jsx("option",{value:"Inventory",children:"Inventory"}),e.jsx("option",{value:"Other",children:"Other"})]}),o.purpose&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.purpose.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collateral"}),e.jsx("input",{...n("collateral"),type:"text",className:"input-field",placeholder:"Property, Gold, etc."})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Number *"}),e.jsx("input",{...n("bankAccount",{required:"Bank account is required"}),type:"text",className:"input-field",placeholder:"Enter bank account number"}),o.bankAccount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.bankAccount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code *"}),e.jsx("input",{...n("ifscCode",{required:"IFSC code is required"}),type:"text",className:"input-field",placeholder:"Enter IFSC code"}),o.ifscCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.ifscCode.message})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Document Checklist"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("salarySlips"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Salary Slips (Last 3 months)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("itrReturns"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"ITR Returns (Last 2 years)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("businessProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Business Registration Proof"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("addressProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Address Proof"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),e.jsx("textarea",{...n("remarks"),rows:4,className:"input-field",placeholder:"Any additional information..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t("/shortlist"),className:"btn-secondary",children:"Cancel"}),e.jsx(L.button,{type:"submit",disabled:h.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:h.isLoading?"Submitting...":"Submit Application"})]})]})]})})}const Fc=()=>{const t=_e(),s=c.useCallback(async()=>{console.log(" Triggering dashboard refresh..."),await Promise.all([t.invalidateQueries("dashboard-data"),t.invalidateQueries(["individual-dashboard"]),t.invalidateQueries("enquiries"),t.invalidateQueries("staff"),t.invalidateQueries("shortlist"),t.invalidateQueries("documents"),t.invalidateQueries("transactions"),t.invalidateQueries("notifications")]),console.log(" Dashboard refresh completed")},[t]),a=c.useCallback(async()=>{console.log(" Refreshing dashboards after new enquiry..."),await s()},[s]),n=c.useCallback(async()=>{console.log(" Refreshing dashboards after staff change..."),await s()},[s]),r=c.useCallback(async()=>{console.log(" Refreshing dashboards after document change..."),await s()},[s]),i=c.useCallback(async()=>{console.log(" Refreshing dashboards after shortlist change..."),await s()},[s]),o=c.useCallback(async()=>{console.log(" Refreshing dashboards after payment application..."),await s()},[s]),l=c.useCallback(async()=>{console.log(" Refreshing dashboards after transaction..."),await s()},[s]);return{refreshDashboards:s,refreshAfterEnquiry:a,refreshAfterStaff:n,refreshAfterDocument:r,refreshAfterShortlist:i,refreshAfterPayment:o,refreshAfterTransaction:l}};class dt{static sanitizeString(s){return typeof s!="string"?"":s.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").replace(/script/gi,"").trim()}static sanitizeHtml(s){return typeof s!="string"?"":s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi,"").replace(/<embed\b[^<]*(?:(?!<\/embed>)<[^<]*)*<\/embed>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,"").replace(/vbscript:/gi,"").replace(/data:/gi,"")}static sanitizeEmail(s){if(typeof s!="string")return"";const a=s.toLowerCase().trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?a:""}static sanitizePhone(s){if(typeof s!="string")return"";const a=s.replace(/\D/g,"");return a.length===10?a:""}static sanitizeNumber(s,a,n){let r;if(typeof s=="string"){const i=s.replace(/[^\d.-]/g,"");r=parseFloat(i)}else r=s;return isNaN(r)||a!==void 0&&r<a||n!==void 0&&r>n?null:r}static sanitizeUrl(s){if(typeof s!="string")return"";try{const a=new URL(s);return["http:","https:"].includes(a.protocol)?a.toString():""}catch{return""}}static sanitizeFileName(s){return typeof s!="string"?"":s.replace(/[^a-zA-Z0-9.-]/g,"_").replace(/\.+/g,".").replace(/^\./,"").substring(0,255)}static validateFileType(s,a){if(!s||!a.length)return!1;const n=s.split(".").pop()?.toLowerCase();return n?a.includes(n):!1}static sanitizeSearchQuery(s){return typeof s!="string"?"":s.replace(/[<>'"]/g,"").replace(/\s+/g," ").trim().substring(0,100)}static escapeHtml(s){if(typeof s!="string")return"";const a=document.createElement("div");return a.textContent=s,a.innerHTML}static sanitizeFormData(s){const a={};for(const[n,r]of Object.entries(s))typeof r=="string"?a[n]=this.sanitizeString(r):typeof r=="number"?a[n]=r:Array.isArray(r)?a[n]=r.map(i=>typeof i=="string"?this.sanitizeString(i):i):a[n]=r;return a}}const _c=()=>{const t=Fe(),{refreshAfterEnquiry:s}=Fc(),[a,n]=c.useState({businessName:"",ownerName:"",email:"",phone:"",loanAmount:"",loanPurpose:"",annualRevenue:""}),[r,i]=c.useState(!1),[o,l]=c.useState({isChecking:!1,isDuplicate:!1});c.useEffect(()=>{if(a.phone&&a.phone.length===10){const y=setTimeout(async()=>{l({isChecking:!0,isDuplicate:!1});try{const m=((await q.get("/api/enquiries")).data||[]).find(g=>g.mobile===a.phone);if(m){const g=m.name||m.businessName||"Unknown Client";l({isChecking:!1,isDuplicate:!0,existingClient:g})}else l({isChecking:!1,isDuplicate:!1})}catch(w){console.error("Error checking phone number:",w),l({isChecking:!1,isDuplicate:!1})}},1e3);return()=>clearTimeout(y)}else l({isChecking:!1,isDuplicate:!1})},[a.phone]);const u=y=>{const{name:w,value:A}=y.target;let m=A;switch(w){case"phone":m=dt.sanitizePhone(A);break;case"email":m=dt.sanitizeEmail(A);break;case"businessName":case"ownerName":m=dt.sanitizeString(A);break;case"loanAmount":case"annualRevenue":const g=dt.sanitizeNumber(A,0,1e8);m=g?g.toString():"";break;default:m=dt.sanitizeString(A)}n(g=>({...g,[w]:m}))},h=async()=>{try{console.log(" Checking for duplicate phone number and name...");const w=(await q.get("/api/enquiries")).data||[],A=w.find(g=>g.mobile===a.phone);if(A){const g=A.name||A.businessName||"Unknown Client";return z.error(`Phone number ${a.phone} already exists for client: ${g}`),!1}const m=w.find(g=>g.name&&g.name.toLowerCase()===a.ownerName.toLowerCase()||g.businessName&&g.businessName.toLowerCase()===a.businessName.toLowerCase());if(m){const g=m.name||m.businessName,b=m.mobile;return z.error(`Client "${g}" already exists with phone number: ${b}`),!1}return!0}catch(y){return console.error(" Error checking for duplicates:",y),!0}},d=async y=>{if(y.preventDefault(),!a.businessName||!a.ownerName||!a.phone){z.error("Please fill in all required fields");return}if(a.phone.length!==10){z.error("Phone number must be exactly 10 digits");return}if(i(!0),!await h()){i(!1);return}try{console.log(" Submitting loan enquiry:",a);const A=await q.post("/api/enquiries",{name:a.ownerName,mobile:a.phone,email:a.email,businessName:a.businessName,businessType:a.loanPurpose||"General Business",loanAmount:a.loanAmount?parseInt(a.loanAmount.replace(/[^0-9]/g,"")):null,source:"LANDING_PAGE",interestStatus:"INTERESTED",additionalData:{annualRevenue:a.annualRevenue,loanPurpose:a.loanPurpose}});console.log(" Enquiry submitted successfully:",A.data),z.success("Application submitted successfully! Our specialists will reach out within 24 hours."),await s(),n({businessName:"",ownerName:"",email:"",phone:"",loanAmount:"",loanPurpose:"",annualRevenue:""}),setTimeout(()=>{t("/dashboard")},2e3)}catch(A){console.error(" Error submitting application:",A),console.error(" Error details:",{status:A.response?.status,statusText:A.response?.statusText,data:A.response?.data,message:A.message});let m="Failed to submit application. Please try again.";A.response?.status===404?m="Service not available. Please try again later.":A.response?.status===500?m="Server error. Please try again later.":A.response?.data?.message?m=A.response.data.message:A.message.includes("Network Error")&&(m="Network error. Please check your connection and try again."),z.error(m)}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-screen",children:[e.jsxs("div",{className:"text-white space-y-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-teal-400 to-cyan-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:""})}),e.jsx("span",{className:"text-xl font-bold",children:"FinGrowth"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold leading-tight",children:["Power Your Business",e.jsx("br",{}),"with",e.jsx("br",{}),e.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400",children:["Tailored Financial",e.jsx("br",{}),"Solutions"]})]}),e.jsx("p",{className:"text-xl text-slate-300 leading-relaxed max-w-lg",children:"Get the capital you need with same-day approvals and competitive rates. Designed for ambitious businesses looking to expand, upgrade, or optimize their operations."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"24h"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Fast Track Approval"})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"8%*"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Competitive Rates"})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"5 Crore"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Maximum Funding"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"Secure & Encrypted"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(st,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"No Hidden Fees"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"Pre-approved Offers"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(st,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"Dedicated Manager"})]})]})]}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl p-8 border border-slate-700 shadow-2xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Business Loan Enquiry"}),e.jsx("p",{className:"text-slate-400",children:"Submit your details. Our specialists will reach out within 24 hours."})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Business Name"}),e.jsx("input",{type:"text",name:"businessName",value:a.businessName,onChange:u,placeholder:"Your Company Ltd.",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Owner Name"}),e.jsx("input",{type:"text",name:"ownerName",value:a.ownerName,onChange:u,placeholder:"John Doe",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:u,placeholder:"john@company.com",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:u,placeholder:"+91 9787373721",maxLength:10,className:`w-full px-4 py-3 bg-slate-700/50 border rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:border-transparent ${o.isDuplicate?"border-red-500 focus:ring-red-400":"border-slate-600 focus:ring-teal-400"}`,required:!0}),o.isChecking&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-400"})})]}),o.isDuplicate&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Phone number already exists for client: ",o.existingClient]}),!o.isDuplicate&&!o.isChecking&&a.phone.length===10&&e.jsxs("p",{className:"mt-2 text-sm text-green-400 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Phone number is available"]}),a.phone.length>0&&a.phone.length<10&&e.jsxs("p",{className:"mt-2 text-sm text-yellow-400 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please enter exactly 10 digits (",a.phone.length,"/10)"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Loan Amount"}),e.jsxs("select",{name:"loanAmount",value:a.loanAmount,onChange:u,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select amount"}),e.jsx("option",{value:"500000",children:"5 Lakh"}),e.jsx("option",{value:"1000000",children:"10 Lakh"}),e.jsx("option",{value:"2500000",children:"25 Lakh"}),e.jsx("option",{value:"5000000",children:"50 Lakh"}),e.jsx("option",{value:"10000000",children:"1 Crore"}),e.jsx("option",{value:"50000000",children:"5 Crore"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Loan Purpose"}),e.jsxs("select",{name:"loanPurpose",value:a.loanPurpose,onChange:u,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select purpose"}),e.jsx("option",{value:"Working Capital",children:"Working Capital"}),e.jsx("option",{value:"Equipment Purchase",children:"Equipment Purchase"}),e.jsx("option",{value:"Business Expansion",children:"Business Expansion"}),e.jsx("option",{value:"Inventory",children:"Inventory"}),e.jsx("option",{value:"Real Estate",children:"Real Estate"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Annual Revenue"}),e.jsxs("select",{name:"annualRevenue",value:a.annualRevenue,onChange:u,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select revenue range"}),e.jsx("option",{value:"Below 10 Lakh",children:"Below 10 Lakh"}),e.jsx("option",{value:"10-25 Lakh",children:"10-25 Lakh"}),e.jsx("option",{value:"25-50 Lakh",children:"25-50 Lakh"}),e.jsx("option",{value:"50 Lakh - 1 Crore",children:"50 Lakh - 1 Crore"}),e.jsx("option",{value:"1-5 Crore",children:"1-5 Crore"}),e.jsx("option",{value:"Above 5 Crore",children:"Above 5 Crore"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Business Documents (Optional)"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-6 text-center hover:border-teal-400 transition-colors cursor-pointer",children:[e.jsx(ol,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),e.jsx("span",{className:"text-slate-400",children:"Upload financial documents"})]})]}),e.jsx("button",{type:"submit",disabled:r||o.isDuplicate,className:`w-full font-semibold py-4 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed ${o.isDuplicate?"bg-gray-500 text-white cursor-not-allowed":"bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white"}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submit Application"}),e.jsx(qo,{className:"h-5 w-5"})]})}),e.jsx("p",{className:"text-xs text-slate-400 text-center",children:"By submitting this form, you agree to our terms and privacy policy."})]})]})})]})})})};function qc(){const[t,s]=c.useState("admin@gmail.com"),[a,n]=c.useState("admin123"),[r,i]=c.useState(!1),{login:o,isAuthenticated:l,user:u}=ge(),h=Fe(),d=async()=>{i(!0);try{console.log(" Testing login..."),await o({email:t,password:a}),console.log(" Login completed, auth state:",l),setTimeout(()=>{console.log(" Attempting manual navigation..."),h("/dashboard")},1e3)}catch(w){console.error(" Login test failed:",w)}finally{i(!1)}},y=()=>{console.log(" Testing direct navigation..."),h("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Login Test Page"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email:"}),e.jsx("input",{type:"email",value:t,onChange:w=>s(w.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password:"}),e.jsx("input",{type:"password",value:a,onChange:w=>n(w.target.value),className:"w-full p-2 border rounded"})]}),e.jsx("button",{onClick:d,disabled:r,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:r?"Testing Login...":"Test Login"}),e.jsx("button",{onClick:y,className:"w-full bg-green-600 text-white p-2 rounded hover:bg-green-700",children:"Test Direct Navigation"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Current State:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authenticated:"})," ",l?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",u?`${u.name} (${u.role})`:"None"]})]})]})})}function Uc(){const{isAuthenticated:t,user:s}=ge();return cn(),e.jsxs(Vs,{children:[e.jsx(ee,{path:"/apply",element:e.jsx(_c,{})}),e.jsx(ee,{path:"/login",element:e.jsx(vc,{})}),e.jsx(ee,{path:"/login-test",element:e.jsx(qc,{})}),t?e.jsx(ee,{path:"/*",element:e.jsx(Xl,{children:e.jsxs(Vs,{children:[e.jsx(ee,{path:"/dashboard",element:e.jsx(Dc,{})}),e.jsx(ee,{path:"/enquiries",element:e.jsx(Rc,{})}),e.jsx(ee,{path:"/enquiries/new",element:e.jsx(ls,{})}),e.jsx(ee,{path:"/enquiries/:id",element:e.jsx(ls,{})}),e.jsx(ee,{path:"/enquiries/:id/edit",element:e.jsx(ls,{})}),e.jsx(ee,{path:"/documents",element:e.jsx(Ta,{})}),e.jsx(ee,{path:"/documents/upload",element:e.jsx(Ta,{})}),e.jsx(ee,{path:"/documents/verification",element:e.jsx(Cc,{})}),e.jsx(ee,{path:"/shortlist",element:e.jsx(Oc,{})}),e.jsx(ee,{path:"/shortlist/new",element:e.jsx(Da,{})}),e.jsx(ee,{path:"/shortlist/:id/edit",element:e.jsx(Da,{})}),e.jsx(ee,{path:"/payment-gateway",element:e.jsx(Lc,{})}),e.jsx(ee,{path:"/payment-gateway/apply/:id",element:e.jsx(Mc,{})}),e.jsx(ee,{path:"/",element:e.jsx(Xt,{to:"/dashboard"})}),e.jsx(ee,{path:"*",element:e.jsx(Xt,{to:"/dashboard"})})]})})}):e.jsx(ee,{path:"*",element:e.jsx(Xt,{to:"/login"})})]})}const Bc=new Gn({defaultOptions:{queries:{staleTime:300*1e3,cacheTime:600*1e3,retry:3}}});function $c(){return e.jsx(Wn,{client:Bc,children:e.jsxs(Zn,{children:[e.jsx(Uc,{}),e.jsx(Ur,{position:"top-right"})]})})}Jn.createRoot(document.getElementById("root")).render(e.jsx(Q.StrictMode,{children:e.jsx($c,{})}));
