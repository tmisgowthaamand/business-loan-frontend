var Hi=Object.defineProperty;var Gi=(s,t,a)=>t in s?Hi(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var Qt=(s,t,a)=>(Gi(s,typeof t!="symbol"?t+"":t,a),a);import{r as u,c as Wi,b as Ne}from"./vendor-eca221ea.js";import{N as Zi,u as Ge,L as Ae,a as ps,b as Qi,c as oa,R as Ea,d as ge,e as Is,B as zi}from"./router-2ba008ad.js";import{u as Re,a as he,b as be,Q as Ki,c as Yi}from"./query-24e528e4.js";import{A as gs,m as F}from"./ui-678d8bf8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=a(i);fetch(i.href,r)}})();var Dn={exports:{}},ys={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=u,Xi=Symbol.for("react.element"),er=Symbol.for("react.fragment"),tr=Object.prototype.hasOwnProperty,sr=Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ar={key:!0,ref:!0,__self:!0,__source:!0};function Rn(s,t,a){var n,i={},r=null,o=null;a!==void 0&&(r=""+a),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)tr.call(t,n)&&!ar.hasOwnProperty(n)&&(i[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Xi,type:s,key:r,ref:o,props:i,_owner:sr.current}}ys.Fragment=er;ys.jsx=Rn;ys.jsxs=Rn;Dn.exports=ys;var e=Dn.exports,Hs={},Aa=Wi;Hs.createRoot=Aa.createRoot,Hs.hydrateRoot=Aa.hydrateRoot;let nr={data:""},ir=s=>{if(typeof window=="object"){let t=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(s||document.head).appendChild(t),t.firstChild}return s||nr},rr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,or=/\/\*[^]*?\*\/|  +/g,ka=/\n+/g,ot=(s,t)=>{let a="",n="",i="";for(let r in s){let o=s[r];r[0]=="@"?r[1]=="i"?a=r+" "+o+";":n+=r[1]=="f"?ot(o,r):r+"{"+ot(o,r[1]=="k"?"":t)+"}":typeof o=="object"?n+=ot(o,t?t.replace(/([^,])+/g,l=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ot.p?ot.p(r,o):r+":"+o+";")}return a+(t&&i?t+"{"+i+"}":i)+n},Ye={},Ln=s=>{if(typeof s=="object"){let t="";for(let a in s)t+=a+Ln(s[a]);return t}return s},lr=(s,t,a,n,i)=>{let r=Ln(s),o=Ye[r]||(Ye[r]=(d=>{let c=0,m=11;for(;c<d.length;)m=101*m+d.charCodeAt(c++)>>>0;return"go"+m})(r));if(!Ye[o]){let d=r!==s?s:(c=>{let m,f,h=[{}];for(;m=rr.exec(c.replace(or,""));)m[4]?h.shift():m[3]?(f=m[3].replace(ka," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][m[1]]=m[2].replace(ka," ").trim();return h[0]})(s);Ye[o]=ot(i?{["@keyframes "+o]:d}:d,a?"":"."+o)}let l=a&&Ye.g?Ye.g:null;return a&&(Ye.g=Ye[o]),((d,c,m,f)=>{f?c.data=c.data.replace(f,d):c.data.indexOf(d)===-1&&(c.data=m?d+c.data:c.data+d)})(Ye[o],t,n,l),o},cr=(s,t,a)=>s.reduce((n,i,r)=>{let o=t[r];if(o&&o.call){let l=o(a),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":ot(l,""):l===!1?"":l}return n+i+(o??"")},"");function bs(s){let t=this||{},a=s.call?s(t.p):s;return lr(a.unshift?a.raw?cr(a,[].slice.call(arguments,1),t.p):a.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):a,ir(t.target),t.g,t.o,t.k)}let In,Gs,Ws;bs.bind({g:1});let st=bs.bind({k:1});function dr(s,t,a,n){ot.p=t,In=s,Gs=a,Ws=n}function dt(s,t){let a=this||{};return function(){let n=arguments;function i(r,o){let l=Object.assign({},r),d=l.className||i.className;a.p=Object.assign({theme:Gs&&Gs()},l),a.o=/ *go\d+/.test(d),l.className=bs.apply(a,n)+(d?" "+d:""),t&&(l.ref=o);let c=s;return s[0]&&(c=l.as||s,delete l.as),Ws&&c[0]&&Ws(l),In(c,l)}return t?t(i):i}}var ur=s=>typeof s=="function",is=(s,t)=>ur(s)?s(t):s,mr=(()=>{let s=0;return()=>(++s).toString()})(),On=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),hr=20,la="default",Pn=(s,t)=>{let{toastLimit:a}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,a)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return Pn(s,{type:s.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let r=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},Xt=[],Mn={toasts:[],pausedAt:void 0,settings:{toastLimit:hr}},ze={},Fn=(s,t=la)=>{ze[t]=Pn(ze[t]||Mn,s),Xt.forEach(([a,n])=>{a===t&&n(ze[t])})},$n=s=>Object.keys(ze).forEach(t=>Fn(s,t)),fr=s=>Object.keys(ze).find(t=>ze[t].toasts.some(a=>a.id===s)),Ns=(s=la)=>t=>{Fn(t,s)},xr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pr=(s={},t=la)=>{let[a,n]=u.useState(ze[t]||Mn),i=u.useRef(ze[t]);u.useEffect(()=>(i.current!==ze[t]&&n(ze[t]),Xt.push([t,n]),()=>{let o=Xt.findIndex(([l])=>l===t);o>-1&&Xt.splice(o,1)}),[t]);let r=a.toasts.map(o=>{var l,d,c;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((l=s[o.type])==null?void 0:l.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((d=s[o.type])==null?void 0:d.duration)||(s==null?void 0:s.duration)||xr[o.type],style:{...s.style,...(c=s[o.type])==null?void 0:c.style,...o.style}}});return{...a,toasts:r}},gr=(s,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...a,id:(a==null?void 0:a.id)||mr()}),Vt=s=>(t,a)=>{let n=gr(t,s,a);return Ns(n.toasterId||fr(n.id))({type:2,toast:n}),n.id},pe=(s,t)=>Vt("blank")(s,t);pe.error=Vt("error");pe.success=Vt("success");pe.loading=Vt("loading");pe.custom=Vt("custom");pe.dismiss=(s,t)=>{let a={type:3,toastId:s};t?Ns(t)(a):$n(a)};pe.dismissAll=s=>pe.dismiss(void 0,s);pe.remove=(s,t)=>{let a={type:4,toastId:s};t?Ns(t)(a):$n(a)};pe.removeAll=s=>pe.remove(void 0,s);pe.promise=(s,t,a)=>{let n=pe.loading(t.loading,{...a,...a==null?void 0:a.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let r=t.success?is(t.success,i):void 0;return r?pe.success(r,{id:n,...a,...a==null?void 0:a.success}):pe.dismiss(n),i}).catch(i=>{let r=t.error?is(t.error,i):void 0;r?pe.error(r,{id:n,...a,...a==null?void 0:a.error}):pe.dismiss(n)}),s};var yr=1e3,br=(s,t="default")=>{let{toasts:a,pausedAt:n}=pr(s,t),i=u.useRef(new Map).current,r=u.useCallback((f,h=yr)=>{if(i.has(f))return;let v=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},h);i.set(f,v)},[]);u.useEffect(()=>{if(n)return;let f=Date.now(),h=a.map(v=>{if(v.duration===1/0)return;let p=(v.duration||0)+v.pauseDuration-(f-v.createdAt);if(p<0){v.visible&&pe.dismiss(v.id);return}return setTimeout(()=>pe.dismiss(v.id,t),p)});return()=>{h.forEach(v=>v&&clearTimeout(v))}},[a,n,t]);let o=u.useCallback(Ns(t),[t]),l=u.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=u.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),c=u.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),m=u.useCallback((f,h)=>{let{reverseOrder:v=!1,gutter:p=8,defaultPosition:b}=h||{},g=a.filter(N=>(N.position||b)===(f.position||b)&&N.height),A=g.findIndex(N=>N.id===f.id),x=g.filter((N,y)=>y<A&&N.visible).length;return g.filter(N=>N.visible).slice(...v?[x+1]:[0,x]).reduce((N,y)=>N+(y.height||0)+p,0)},[a]);return u.useEffect(()=>{a.forEach(f=>{if(f.dismissed)r(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[a,r]),{toasts:a,handlers:{updateHeight:d,startPause:l,endPause:c,calculateOffset:m}}},Nr=st`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wr=st`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vr=st`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jr=dt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sr=st`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Er=dt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Sr} 1s linear infinite;
`,Ar=st`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kr=st`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Tr=dt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ar} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Cr=dt("div")`
  position: absolute;
`,Dr=dt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Rr=st`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lr=dt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Rr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ir=({toast:s})=>{let{icon:t,type:a,iconTheme:n}=s;return t!==void 0?typeof t=="string"?u.createElement(Lr,null,t):t:a==="blank"?null:u.createElement(Dr,null,u.createElement(Er,{...n}),a!=="loading"&&u.createElement(Cr,null,a==="error"?u.createElement(jr,{...n}):u.createElement(Tr,{...n})))},Or=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Pr=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Mr="0%{opacity:0;} 100%{opacity:1;}",Fr="0%{opacity:1;} 100%{opacity:0;}",$r=dt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qr=dt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ur=(s,t)=>{let a=s.includes("top")?1:-1,[n,i]=On()?[Mr,Fr]:[Or(a),Pr(a)];return{animation:t?`${st(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${st(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Vr=u.memo(({toast:s,position:t,style:a,children:n})=>{let i=s.height?Ur(s.position||t||"top-center",s.visible):{opacity:0},r=u.createElement(Ir,{toast:s}),o=u.createElement(qr,{...s.ariaProps},is(s.message,s));return u.createElement($r,{className:s.className,style:{...i,...a,...s.style}},typeof n=="function"?n({icon:r,message:o}):u.createElement(u.Fragment,null,r,o))});dr(u.createElement);var Br=({id:s,className:t,style:a,onHeightUpdate:n,children:i})=>{let r=u.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;n(s,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,n]);return u.createElement("div",{ref:r,className:t,style:a},i)},_r=(s,t)=>{let a=s.includes("top"),n=a?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:On()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...n,...i}},Hr=bs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zt=16,Gr=({reverseOrder:s,position:t="top-center",toastOptions:a,gutter:n,children:i,toasterId:r,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:c}=br(a,r);return u.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:zt,left:zt,right:zt,bottom:zt,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},d.map(m=>{let f=m.position||t,h=c.calculateOffset(m,{reverseOrder:s,gutter:n,defaultPosition:t}),v=_r(f,h);return u.createElement(Br,{id:m.id,key:m.id,onHeightUpdate:c.updateHeight,className:m.visible?Hr:"",style:v},m.type==="custom"?is(m.message,m):i?i(m):u.createElement(Vr,{toast:m,position:f}))}))},I=pe;function qn(s,t){return function(){return s.apply(t,arguments)}}const{toString:Wr}=Object.prototype,{getPrototypeOf:ca}=Object,{iterator:ws,toStringTag:Un}=Symbol,vs=(s=>t=>{const a=Wr.call(t);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),We=s=>(s=s.toLowerCase(),t=>vs(t)===s),js=s=>t=>typeof t===s,{isArray:Tt}=Array,St=js("undefined");function Bt(s){return s!==null&&!St(s)&&s.constructor!==null&&!St(s.constructor)&&Ie(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Vn=We("ArrayBuffer");function Zr(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&Vn(s.buffer),t}const Qr=js("string"),Ie=js("function"),Bn=js("number"),_t=s=>s!==null&&typeof s=="object",zr=s=>s===!0||s===!1,es=s=>{if(vs(s)!=="object")return!1;const t=ca(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Un in s)&&!(ws in s)},Kr=s=>{if(!_t(s)||Bt(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Yr=We("Date"),Jr=We("File"),Xr=We("Blob"),eo=We("FileList"),to=s=>_t(s)&&Ie(s.pipe),so=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Ie(s.append)&&((t=vs(s))==="formdata"||t==="object"&&Ie(s.toString)&&s.toString()==="[object FormData]"))},ao=We("URLSearchParams"),[no,io,ro,oo]=["ReadableStream","Request","Response","Headers"].map(We),lo=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ht(s,t,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),Tt(s))for(n=0,i=s.length;n<i;n++)t.call(null,s[n],n,s);else{if(Bt(s))return;const r=a?Object.getOwnPropertyNames(s):Object.keys(s),o=r.length;let l;for(n=0;n<o;n++)l=r[n],t.call(null,s[l],l,s)}}function _n(s,t){if(Bt(s))return null;t=t.toLowerCase();const a=Object.keys(s);let n=a.length,i;for(;n-- >0;)if(i=a[n],t===i.toLowerCase())return i;return null}const mt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Hn=s=>!St(s)&&s!==mt;function Zs(){const{caseless:s,skipUndefined:t}=Hn(this)&&this||{},a={},n=(i,r)=>{const o=s&&_n(a,r)||r;es(a[o])&&es(i)?a[o]=Zs(a[o],i):es(i)?a[o]=Zs({},i):Tt(i)?a[o]=i.slice():(!t||!St(i))&&(a[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ht(arguments[i],n);return a}const co=(s,t,a,{allOwnKeys:n}={})=>(Ht(t,(i,r)=>{a&&Ie(i)?s[r]=qn(i,a):s[r]=i},{allOwnKeys:n}),s),uo=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),mo=(s,t,a,n)=>{s.prototype=Object.create(t.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),a&&Object.assign(s.prototype,a)},ho=(s,t,a,n)=>{let i,r,o;const l={};if(t=t||{},s==null)return t;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)o=i[r],(!n||n(o,s,t))&&!l[o]&&(t[o]=s[o],l[o]=!0);s=a!==!1&&ca(s)}while(s&&(!a||a(s,t))&&s!==Object.prototype);return t},fo=(s,t,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=t.length;const n=s.indexOf(t,a);return n!==-1&&n===a},xo=s=>{if(!s)return null;if(Tt(s))return s;let t=s.length;if(!Bn(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=s[t];return a},po=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&ca(Uint8Array)),go=(s,t)=>{const n=(s&&s[ws]).call(s);let i;for(;(i=n.next())&&!i.done;){const r=i.value;t.call(s,r[0],r[1])}},yo=(s,t)=>{let a;const n=[];for(;(a=s.exec(t))!==null;)n.push(a);return n},bo=We("HTMLFormElement"),No=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,i){return n.toUpperCase()+i}),Ta=(({hasOwnProperty:s})=>(t,a)=>s.call(t,a))(Object.prototype),wo=We("RegExp"),Gn=(s,t)=>{const a=Object.getOwnPropertyDescriptors(s),n={};Ht(a,(i,r)=>{let o;(o=t(i,r,s))!==!1&&(n[r]=o||i)}),Object.defineProperties(s,n)},vo=s=>{Gn(s,(t,a)=>{if(Ie(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=s[a];if(Ie(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},jo=(s,t)=>{const a={},n=i=>{i.forEach(r=>{a[r]=!0})};return Tt(s)?n(s):n(String(s).split(t)),a},So=()=>{},Eo=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function Ao(s){return!!(s&&Ie(s.append)&&s[Un]==="FormData"&&s[ws])}const ko=s=>{const t=new Array(10),a=(n,i)=>{if(_t(n)){if(t.indexOf(n)>=0)return;if(Bt(n))return n;if(!("toJSON"in n)){t[i]=n;const r=Tt(n)?[]:{};return Ht(n,(o,l)=>{const d=a(o,i+1);!St(d)&&(r[l]=d)}),t[i]=void 0,r}}return n};return a(s,0)},To=We("AsyncFunction"),Co=s=>s&&(_t(s)||Ie(s))&&Ie(s.then)&&Ie(s.catch),Wn=((s,t)=>s?setImmediate:t?((a,n)=>(mt.addEventListener("message",({source:i,data:r})=>{i===mt&&r===a&&n.length&&n.shift()()},!1),i=>{n.push(i),mt.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ie(mt.postMessage)),Do=typeof queueMicrotask<"u"?queueMicrotask.bind(mt):typeof process<"u"&&process.nextTick||Wn,Ro=s=>s!=null&&Ie(s[ws]),D={isArray:Tt,isArrayBuffer:Vn,isBuffer:Bt,isFormData:so,isArrayBufferView:Zr,isString:Qr,isNumber:Bn,isBoolean:zr,isObject:_t,isPlainObject:es,isEmptyObject:Kr,isReadableStream:no,isRequest:io,isResponse:ro,isHeaders:oo,isUndefined:St,isDate:Yr,isFile:Jr,isBlob:Xr,isRegExp:wo,isFunction:Ie,isStream:to,isURLSearchParams:ao,isTypedArray:po,isFileList:eo,forEach:Ht,merge:Zs,extend:co,trim:lo,stripBOM:uo,inherits:mo,toFlatObject:ho,kindOf:vs,kindOfTest:We,endsWith:fo,toArray:xo,forEachEntry:go,matchAll:yo,isHTMLForm:bo,hasOwnProperty:Ta,hasOwnProp:Ta,reduceDescriptors:Gn,freezeMethods:vo,toObjectSet:jo,toCamelCase:No,noop:So,toFiniteNumber:Eo,findKey:_n,global:mt,isContextDefined:Hn,isSpecCompliantForm:Ao,toJSONObject:ko,isAsyncFn:To,isThenable:Co,setImmediate:Wn,asap:Do,isIterable:Ro};function ie(s,t,a,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}D.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const Zn=ie.prototype,Qn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Qn[s]={value:s}});Object.defineProperties(ie,Qn);Object.defineProperty(Zn,"isAxiosError",{value:!0});ie.from=(s,t,a,n,i,r)=>{const o=Object.create(Zn);D.toFlatObject(s,o,function(m){return m!==Error.prototype},c=>c!=="isAxiosError");const l=s&&s.message?s.message:"Error",d=t==null&&s?s.code:t;return ie.call(o,l,d,a,n,i),s&&o.cause==null&&Object.defineProperty(o,"cause",{value:s,configurable:!0}),o.name=s&&s.name||"Error",r&&Object.assign(o,r),o};const Lo=null;function Qs(s){return D.isPlainObject(s)||D.isArray(s)}function zn(s){return D.endsWith(s,"[]")?s.slice(0,-2):s}function Ca(s,t,a){return s?s.concat(t).map(function(i,r){return i=zn(i),!a&&r?"["+i+"]":i}).join(a?".":""):t}function Io(s){return D.isArray(s)&&!s.some(Qs)}const Oo=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Ss(s,t,a){if(!D.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,a=D.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!D.isUndefined(g[b])});const n=a.metaTokens,i=a.visitor||m,r=a.dots,o=a.indexes,d=(a.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(D.isDate(p))return p.toISOString();if(D.isBoolean(p))return p.toString();if(!d&&D.isBlob(p))throw new ie("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(p)||D.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function m(p,b,g){let A=p;if(p&&!g&&typeof p=="object"){if(D.endsWith(b,"{}"))b=n?b:b.slice(0,-2),p=JSON.stringify(p);else if(D.isArray(p)&&Io(p)||(D.isFileList(p)||D.endsWith(b,"[]"))&&(A=D.toArray(p)))return b=zn(b),A.forEach(function(N,y){!(D.isUndefined(N)||N===null)&&t.append(o===!0?Ca([b],y,r):o===null?b:b+"[]",c(N))}),!1}return Qs(p)?!0:(t.append(Ca(g,b,r),c(p)),!1)}const f=[],h=Object.assign(Oo,{defaultVisitor:m,convertValue:c,isVisitable:Qs});function v(p,b){if(!D.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),D.forEach(p,function(A,x){(!(D.isUndefined(A)||A===null)&&i.call(t,A,D.isString(x)?x.trim():x,b,h))===!0&&v(A,b?b.concat(x):[x])}),f.pop()}}if(!D.isObject(s))throw new TypeError("data must be an object");return v(s),t}function Da(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function da(s,t){this._pairs=[],s&&Ss(s,this,t)}const Kn=da.prototype;Kn.append=function(t,a){this._pairs.push([t,a])};Kn.toString=function(t){const a=t?function(n){return t.call(this,n,Da)}:Da;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function Po(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yn(s,t,a){if(!t)return s;const n=a&&a.encode||Po;D.isFunction(a)&&(a={serialize:a});const i=a&&a.serialize;let r;if(i?r=i(t,a):r=D.isURLSearchParams(t)?t.toString():new da(t,a).toString(n),r){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class Mo{constructor(){this.handlers=[]}use(t,a,n){return this.handlers.push({fulfilled:t,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ra=Mo,Jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fo=typeof URLSearchParams<"u"?URLSearchParams:da,$o=typeof FormData<"u"?FormData:null,qo=typeof Blob<"u"?Blob:null,Uo={isBrowser:!0,classes:{URLSearchParams:Fo,FormData:$o,Blob:qo},protocols:["http","https","file","blob","url","data"]},ua=typeof window<"u"&&typeof document<"u",zs=typeof navigator=="object"&&navigator||void 0,Vo=ua&&(!zs||["ReactNative","NativeScript","NS"].indexOf(zs.product)<0),Bo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),_o=ua&&window.location.href||"http://localhost",Ho=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ua,hasStandardBrowserEnv:Vo,hasStandardBrowserWebWorkerEnv:Bo,navigator:zs,origin:_o},Symbol.toStringTag,{value:"Module"})),ke={...Ho,...Uo};function Go(s,t){return Ss(s,new ke.classes.URLSearchParams,{visitor:function(a,n,i,r){return ke.isNode&&D.isBuffer(a)?(this.append(n,a.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function Wo(s){return D.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zo(s){const t={},a=Object.keys(s);let n;const i=a.length;let r;for(n=0;n<i;n++)r=a[n],t[r]=s[r];return t}function Xn(s){function t(a,n,i,r){let o=a[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=r>=a.length;return o=!o&&D.isArray(i)?i.length:o,d?(D.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!D.isObject(i[o]))&&(i[o]=[]),t(a,n,i[o],r)&&D.isArray(i[o])&&(i[o]=Zo(i[o])),!l)}if(D.isFormData(s)&&D.isFunction(s.entries)){const a={};return D.forEachEntry(s,(n,i)=>{t(Wo(n),i,a,0)}),a}return null}function Qo(s,t,a){if(D.isString(s))try{return(t||JSON.parse)(s),D.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(s)}const ma={transitional:Jn,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const n=a.getContentType()||"",i=n.indexOf("application/json")>-1,r=D.isObject(t);if(r&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return i?JSON.stringify(Xn(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Go(t,this.formSerializer).toString();if((l=D.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ss(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return r||i?(a.setContentType("application/json",!1),Qo(t)):t}],transformResponse:[function(t){const a=this.transitional||ma.transitional,n=a&&a.forcedJSONParsing,i=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(n&&!this.responseType||i)){const o=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ie.from(l,ie.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ke.classes.FormData,Blob:ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],s=>{ma.headers[s]={}});const ha=ma,zo=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ko=s=>{const t={};let a,n,i;return s&&s.split(`
`).forEach(function(o){i=o.indexOf(":"),a=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!a||t[a]&&zo[a])&&(a==="set-cookie"?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t},La=Symbol("internals");function Rt(s){return s&&String(s).trim().toLowerCase()}function ts(s){return s===!1||s==null?s:D.isArray(s)?s.map(ts):String(s)}function Yo(s){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(s);)t[n[1]]=n[2];return t}const Jo=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Os(s,t,a,n,i){if(D.isFunction(n))return n.call(this,t,a);if(i&&(t=a),!!D.isString(t)){if(D.isString(n))return t.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(t)}}function Xo(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,n)=>a.toUpperCase()+n)}function el(s,t){const a=D.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+a,{value:function(i,r,o){return this[n].call(this,t,i,r,o)},configurable:!0})})}class Es{constructor(t){t&&this.set(t)}set(t,a,n){const i=this;function r(l,d,c){const m=Rt(d);if(!m)throw new Error("header name must be a non-empty string");const f=D.findKey(i,m);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||d]=ts(l))}const o=(l,d)=>D.forEach(l,(c,m)=>r(c,m,d));if(D.isPlainObject(t)||t instanceof this.constructor)o(t,a);else if(D.isString(t)&&(t=t.trim())&&!Jo(t))o(Ko(t),a);else if(D.isObject(t)&&D.isIterable(t)){let l={},d,c;for(const m of t){if(!D.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[c=m[0]]=(d=l[c])?D.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(l,a)}else t!=null&&r(a,t,n);return this}get(t,a){if(t=Rt(t),t){const n=D.findKey(this,t);if(n){const i=this[n];if(!a)return i;if(a===!0)return Yo(i);if(D.isFunction(a))return a.call(this,i,n);if(D.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Rt(t),t){const n=D.findKey(this,t);return!!(n&&this[n]!==void 0&&(!a||Os(this,this[n],n,a)))}return!1}delete(t,a){const n=this;let i=!1;function r(o){if(o=Rt(o),o){const l=D.findKey(n,o);l&&(!a||Os(n,n[l],l,a))&&(delete n[l],i=!0)}}return D.isArray(t)?t.forEach(r):r(t),i}clear(t){const a=Object.keys(this);let n=a.length,i=!1;for(;n--;){const r=a[n];(!t||Os(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const a=this,n={};return D.forEach(this,(i,r)=>{const o=D.findKey(n,r);if(o){a[o]=ts(i),delete a[r];return}const l=t?Xo(r):String(r).trim();l!==r&&delete a[r],a[l]=ts(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return D.forEach(this,(n,i)=>{n!=null&&n!==!1&&(a[i]=t&&D.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const n=new this(t);return a.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[La]=this[La]={accessors:{}}).accessors,i=this.prototype;function r(o){const l=Rt(o);n[l]||(el(i,o),n[l]=!0)}return D.isArray(t)?t.forEach(r):r(t),this}}Es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Es.prototype,({value:s},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[a]=n}}});D.freezeMethods(Es);const He=Es;function Ps(s,t){const a=this||ha,n=t||a,i=He.from(n.headers);let r=n.data;return D.forEach(s,function(l){r=l.call(a,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function ei(s){return!!(s&&s.__CANCEL__)}function Ct(s,t,a){ie.call(this,s??"canceled",ie.ERR_CANCELED,t,a),this.name="CanceledError"}D.inherits(Ct,ie,{__CANCEL__:!0});function ti(s,t,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?s(a):t(new ie("Request failed with status code "+a.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function tl(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function sl(s,t){s=s||10;const a=new Array(s),n=new Array(s);let i=0,r=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),m=n[r];o||(o=c),a[i]=d,n[i]=c;let f=r,h=0;for(;f!==i;)h+=a[f++],f=f%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),c-o<t)return;const v=m&&c-m;return v?Math.round(h*1e3/v):void 0}}function al(s,t){let a=0,n=1e3/t,i,r;const o=(c,m=Date.now())=>{a=m,i=null,r&&(clearTimeout(r),r=null),s(...c)};return[(...c)=>{const m=Date.now(),f=m-a;f>=n?o(c,m):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},n-f)))},()=>i&&o(i)]}const rs=(s,t,a=3)=>{let n=0;const i=sl(50,250);return al(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,d=o-n,c=i(d),m=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&m?(l-o)/c:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};s(f)},a)},Ia=(s,t)=>{const a=s!=null;return[n=>t[0]({lengthComputable:a,total:s,loaded:n}),t[1]]},Oa=s=>(...t)=>D.asap(()=>s(...t)),nl=ke.hasStandardBrowserEnv?((s,t)=>a=>(a=new URL(a,ke.origin),s.protocol===a.protocol&&s.host===a.host&&(t||s.port===a.port)))(new URL(ke.origin),ke.navigator&&/(msie|trident)/i.test(ke.navigator.userAgent)):()=>!0,il=ke.hasStandardBrowserEnv?{write(s,t,a,n,i,r){const o=[s+"="+encodeURIComponent(t)];D.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),D.isString(n)&&o.push("path="+n),D.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rl(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function ol(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function si(s,t,a){let n=!rl(t);return s&&(n||a==!1)?ol(s,t):t}const Pa=s=>s instanceof He?{...s}:s;function yt(s,t){t=t||{};const a={};function n(c,m,f,h){return D.isPlainObject(c)&&D.isPlainObject(m)?D.merge.call({caseless:h},c,m):D.isPlainObject(m)?D.merge({},m):D.isArray(m)?m.slice():m}function i(c,m,f,h){if(D.isUndefined(m)){if(!D.isUndefined(c))return n(void 0,c,f,h)}else return n(c,m,f,h)}function r(c,m){if(!D.isUndefined(m))return n(void 0,m)}function o(c,m){if(D.isUndefined(m)){if(!D.isUndefined(c))return n(void 0,c)}else return n(void 0,m)}function l(c,m,f){if(f in t)return n(c,m);if(f in s)return n(void 0,c)}const d={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,m,f)=>i(Pa(c),Pa(m),f,!0)};return D.forEach(Object.keys({...s,...t}),function(m){const f=d[m]||i,h=f(s[m],t[m],m);D.isUndefined(h)&&f!==l||(a[m]=h)}),a}const ai=s=>{const t=yt({},s);let{data:a,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=He.from(o),t.url=Yn(si(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),D.isFormData(a)){if(ke.hasStandardBrowserEnv||ke.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(D.isFunction(a.getHeaders)){const d=a.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{c.includes(m.toLowerCase())&&o.set(m,f)})}}if(ke.hasStandardBrowserEnv&&(n&&D.isFunction(n)&&(n=n(t)),n||n!==!1&&nl(t.url))){const d=i&&r&&il.read(r);d&&o.set(i,d)}return t},ll=typeof XMLHttpRequest<"u",cl=ll&&function(s){return new Promise(function(a,n){const i=ai(s);let r=i.data;const o=He.from(i.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=i,m,f,h,v,p;function b(){v&&v(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function A(){if(!g)return;const N=He.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:N,config:s,request:g};ti(function(k){a(k),b()},function(k){n(k),b()},w),g=null}"onloadend"in g?g.onloadend=A:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(A)},g.onabort=function(){g&&(n(new ie("Request aborted",ie.ECONNABORTED,s,g)),g=null)},g.onerror=function(y){const w=y&&y.message?y.message:"Network Error",C=new ie(w,ie.ERR_NETWORK,s,g);C.event=y||null,n(C),g=null},g.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||Jn;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),n(new ie(y,w.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,s,g)),g=null},r===void 0&&o.setContentType(null),"setRequestHeader"in g&&D.forEach(o.toJSON(),function(y,w){g.setRequestHeader(w,y)}),D.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),l&&l!=="json"&&(g.responseType=i.responseType),c&&([h,p]=rs(c,!0),g.addEventListener("progress",h)),d&&g.upload&&([f,v]=rs(d),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(m=N=>{g&&(n(!N||N.type?new Ct(null,s,g):N),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const x=tl(i.url);if(x&&ke.protocols.indexOf(x)===-1){n(new ie("Unsupported protocol "+x+":",ie.ERR_BAD_REQUEST,s));return}g.send(r||null)})},dl=(s,t)=>{const{length:a}=s=s?s.filter(Boolean):[];if(t||a){let n=new AbortController,i;const r=function(c){if(!i){i=!0,l();const m=c instanceof Error?c:this.reason;n.abort(m instanceof ie?m:new Ct(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,r(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const l=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),s=null)};s.forEach(c=>c.addEventListener("abort",r));const{signal:d}=n;return d.unsubscribe=()=>D.asap(l),d}},ul=dl,ml=function*(s,t){let a=s.byteLength;if(!t||a<t){yield s;return}let n=0,i;for(;n<a;)i=n+t,yield s.slice(n,i),n=i},hl=async function*(s,t){for await(const a of fl(s))yield*ml(a,t)},fl=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:a,value:n}=await t.read();if(a)break;yield n}}finally{await t.cancel()}},Ma=(s,t,a,n)=>{const i=hl(s,t);let r=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:m}=await i.next();if(c){l(),d.close();return}let f=m.byteLength;if(a){let h=r+=f;a(h)}d.enqueue(new Uint8Array(m))}catch(c){throw l(c),c}},cancel(d){return l(d),i.return()}},{highWaterMark:2})},Fa=64*1024,{isFunction:Kt}=D,xl=(({Request:s,Response:t})=>({Request:s,Response:t}))(D.global),{ReadableStream:$a,TextEncoder:qa}=D.global,Ua=(s,...t)=>{try{return!!s(...t)}catch{return!1}},pl=s=>{s=D.merge.call({skipUndefined:!0},xl,s);const{fetch:t,Request:a,Response:n}=s,i=t?Kt(t):typeof fetch=="function",r=Kt(a),o=Kt(n);if(!i)return!1;const l=i&&Kt($a),d=i&&(typeof qa=="function"?(p=>b=>p.encode(b))(new qa):async p=>new Uint8Array(await new a(p).arrayBuffer())),c=r&&l&&Ua(()=>{let p=!1;const b=new a(ke.origin,{body:new $a,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!b}),m=o&&l&&Ua(()=>D.isReadableStream(new n("").body)),f={stream:m&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(b,g)=>{let A=b&&b[p];if(A)return A.call(b);throw new ie(`Response type '${p}' is not supported`,ie.ERR_NOT_SUPPORT,g)})});const h=async p=>{if(p==null)return 0;if(D.isBlob(p))return p.size;if(D.isSpecCompliantForm(p))return(await new a(ke.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(D.isArrayBufferView(p)||D.isArrayBuffer(p))return p.byteLength;if(D.isURLSearchParams(p)&&(p=p+""),D.isString(p))return(await d(p)).byteLength},v=async(p,b)=>{const g=D.toFiniteNumber(p.getContentLength());return g??h(b)};return async p=>{let{url:b,method:g,data:A,signal:x,cancelToken:N,timeout:y,onDownloadProgress:w,onUploadProgress:C,responseType:k,headers:O,withCredentials:M="same-origin",fetchOptions:H}=ai(p),J=t||fetch;k=k?(k+"").toLowerCase():"text";let Z=ul([x,N&&N.toAbortSignal()],y),V=null;const Q=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let re;try{if(C&&c&&g!=="get"&&g!=="head"&&(re=await v(O,A))!==0){let W=new a(b,{method:"POST",body:A,duplex:"half"}),se;if(D.isFormData(A)&&(se=W.headers.get("content-type"))&&O.setContentType(se),W.body){const[ne,me]=Ia(re,rs(Oa(C)));A=Ma(W.body,Fa,ne,me)}}D.isString(M)||(M=M?"include":"omit");const X=r&&"credentials"in a.prototype,ae={...H,signal:Z,method:g.toUpperCase(),headers:O.normalize().toJSON(),body:A,duplex:"half",credentials:X?M:void 0};V=r&&new a(b,ae);let z=await(r?J(V,H):J(b,ae));const de=m&&(k==="stream"||k==="response");if(m&&(w||de&&Q)){const W={};["status","statusText","headers"].forEach(xe=>{W[xe]=z[xe]});const se=D.toFiniteNumber(z.headers.get("content-length")),[ne,me]=w&&Ia(se,rs(Oa(w),!0))||[];z=new n(Ma(z.body,Fa,ne,()=>{me&&me(),Q&&Q()}),W)}k=k||"text";let P=await f[D.findKey(f,k)||"text"](z,p);return!de&&Q&&Q(),await new Promise((W,se)=>{ti(W,se,{data:P,headers:He.from(z.headers),status:z.status,statusText:z.statusText,config:p,request:V})})}catch(X){throw Q&&Q(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,p,V),{cause:X.cause||X}):ie.from(X,X&&X.code,p,V)}}},gl=new Map,ni=s=>{let t=s?s.env:{};const{fetch:a,Request:n,Response:i}=t,r=[n,i,a];let o=r.length,l=o,d,c,m=gl;for(;l--;)d=r[l],c=m.get(d),c===void 0&&m.set(d,c=l?new Map:pl(t)),m=c;return c};ni();const Ks={http:Lo,xhr:cl,fetch:{get:ni}};D.forEach(Ks,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Va=s=>`- ${s}`,yl=s=>D.isFunction(s)||s===null||s===!1,ii={getAdapter:(s,t)=>{s=D.isArray(s)?s:[s];const{length:a}=s;let n,i;const r={};for(let o=0;o<a;o++){n=s[o];let l;if(i=n,!yl(n)&&(i=Ks[(l=String(n)).toLowerCase()],i===void 0))throw new ie(`Unknown adapter '${l}'`);if(i&&(D.isFunction(i)||(i=i.get(t))))break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(Va).join(`
`):" "+Va(o[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Ks};function Ms(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ct(null,s)}function Ba(s){return Ms(s),s.headers=He.from(s.headers),s.data=Ps.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),ii.getAdapter(s.adapter||ha.adapter,s)(s).then(function(n){return Ms(s),n.data=Ps.call(s,s.transformResponse,n),n.headers=He.from(n.headers),n},function(n){return ei(n)||(Ms(s),n&&n.response&&(n.response.data=Ps.call(s,s.transformResponse,n.response),n.response.headers=He.from(n.response.headers))),Promise.reject(n)})}const ri="1.12.2",As={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{As[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const _a={};As.transitional=function(t,a,n){function i(r,o){return"[Axios v"+ri+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,l)=>{if(t===!1)throw new ie(i(o," has been removed"+(a?" in "+a:"")),ie.ERR_DEPRECATED);return a&&!_a[o]&&(_a[o]=!0,console.warn(i(o," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(r,o,l):!0}};As.spelling=function(t){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function bl(s,t,a){if(typeof s!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const r=n[i],o=t[r];if(o){const l=s[r],d=l===void 0||o(l,r,s);if(d!==!0)throw new ie("option "+r+" must be "+d,ie.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ie("Unknown option "+r,ie.ERR_BAD_OPTION)}}const ss={assertOptions:bl,validators:As},Ze=ss.validators;class os{constructor(t){this.defaults=t||{},this.interceptors={request:new Ra,response:new Ra}}async request(t,a){try{return await this._request(t,a)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=yt(this.defaults,a);const{transitional:n,paramsSerializer:i,headers:r}=a;n!==void 0&&ss.assertOptions(n,{silentJSONParsing:Ze.transitional(Ze.boolean),forcedJSONParsing:Ze.transitional(Ze.boolean),clarifyTimeoutError:Ze.transitional(Ze.boolean)},!1),i!=null&&(D.isFunction(i)?a.paramsSerializer={serialize:i}:ss.assertOptions(i,{encode:Ze.function,serialize:Ze.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ss.assertOptions(a,{baseUrl:Ze.spelling("baseURL"),withXsrfToken:Ze.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=r&&D.merge(r.common,r[a.method]);r&&D.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),a.headers=He.concat(o,r);const l=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(a)===!1||(d=d&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let m,f=0,h;if(!d){const p=[Ba.bind(this),void 0];for(p.unshift(...l),p.push(...c),h=p.length,m=Promise.resolve(a);f<h;)m=m.then(p[f++],p[f++]);return m}h=l.length;let v=a;for(;f<h;){const p=l[f++],b=l[f++];try{v=p(v)}catch(g){b.call(this,g);break}}try{m=Ba.call(this,v)}catch(p){return Promise.reject(p)}for(f=0,h=c.length;f<h;)m=m.then(c[f++],c[f++]);return m}getUri(t){t=yt(this.defaults,t);const a=si(t.baseURL,t.url,t.allowAbsoluteUrls);return Yn(a,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){os.prototype[t]=function(a,n){return this.request(yt(n||{},{method:t,url:a,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(t){function a(n){return function(r,o,l){return this.request(yt(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}os.prototype[t]=a(),os.prototype[t+"Form"]=a(!0)});const as=os;class fa{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(r){a=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(l=>{n.subscribe(l),r=l}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,l){n.reason||(n.reason=new Ct(r,o,l),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=n=>{t.abort(n)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new fa(function(i){t=i}),cancel:t}}}const Nl=fa;function wl(s){return function(a){return s.apply(null,a)}}function vl(s){return D.isObject(s)&&s.isAxiosError===!0}const Ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ys).forEach(([s,t])=>{Ys[t]=s});const jl=Ys;function oi(s){const t=new as(s),a=qn(as.prototype.request,t);return D.extend(a,as.prototype,t,{allOwnKeys:!0}),D.extend(a,t,null,{allOwnKeys:!0}),a.create=function(i){return oi(yt(s,i))},a}const Se=oi(ha);Se.Axios=as;Se.CanceledError=Ct;Se.CancelToken=Nl;Se.isCancel=ei;Se.VERSION=ri;Se.toFormData=Ss;Se.AxiosError=ie;Se.Cancel=Se.CanceledError;Se.all=function(t){return Promise.all(t)};Se.spread=wl;Se.isAxiosError=vl;Se.mergeConfig=yt;Se.AxiosHeaders=He;Se.formToJSON=s=>Xn(D.isHTMLForm(s)?new FormData(s):s);Se.getAdapter=ii.getAdapter;Se.HttpStatusCode=jl;Se.default=Se;const Sl=Se;class Me{static getEnquiries(){return[{id:1,name:"BALAMURUGAN",businessName:"Balamurugan Enterprises",mobile:"9876543215",email:"balamurugan@enterprises.com",businessType:"Manufacturing",loanAmount:5e5,district:"Chennai",constitution:"Proprietorship",gstStatus:"Registered",capAmount:5e4,bankAccount:"Yes",statementDuration:"12 months",status:"APPROVED",priority:"High",assignedStaff:"Perivi",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-16T10:37:11.406Z").toISOString(),updatedAt:new Date("2024-10-16T10:37:11.406Z").toISOString()},{id:2,name:"VIGNESH S",businessName:"Vignesh Trading",mobile:"9876543220",email:"vignesh@trading.com",businessType:"Trading",loanAmount:3e5,district:"Coimbatore",constitution:"Partnership",gstStatus:"Registered",capAmount:3e4,bankAccount:"Yes",statementDuration:"6 months",status:"PROCESSING",priority:"Medium",assignedStaff:"Venkat",source:"WALK_IN",interestStatus:"Interested",createdAt:new Date("2024-10-15T09:20:30.123Z").toISOString(),updatedAt:new Date("2024-10-15T09:20:30.123Z").toISOString()},{id:3,name:"Poorani",businessName:"Poorani Textiles",mobile:"9876543221",email:"poorani@textiles.com",businessType:"Textiles",loanAmount:75e4,district:"Madurai",constitution:"Private Limited",gstStatus:"Registered",capAmount:75e3,bankAccount:"Yes",statementDuration:"12 months",status:"DOCUMENT_VERIFICATION",priority:"High",assignedStaff:"Harish",source:"REFERRAL",interestStatus:"Very Interested",createdAt:new Date("2024-10-14T14:15:45.789Z").toISOString(),updatedAt:new Date("2024-10-14T14:15:45.789Z").toISOString()},{id:4,name:"Manigandan M",businessName:"Manigandan Industries",mobile:"9876543222",email:"manigandan@industries.com",businessType:"Manufacturing",loanAmount:1e6,district:"Salem",constitution:"Private Limited",gstStatus:"Registered",capAmount:1e5,bankAccount:"Yes",statementDuration:"18 months",status:"SHORTLISTED",priority:"High",assignedStaff:"Dinesh",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-13T11:30:15.456Z").toISOString(),updatedAt:new Date("2024-10-13T11:30:15.456Z").toISOString()},{id:5,name:"Praba",businessName:"Praba Enterprises",mobile:"9876543223",email:"praba@enterprises.com",businessType:"Services",loanAmount:4e5,district:"Trichy",constitution:"Proprietorship",gstStatus:"Registered",capAmount:4e4,bankAccount:"Yes",statementDuration:"9 months",status:"NEW",priority:"Medium",assignedStaff:"Nunciya",source:"PHONE_INQUIRY",interestStatus:"Interested",createdAt:new Date("2024-10-12T16:45:30.789Z").toISOString(),updatedAt:new Date("2024-10-12T16:45:30.789Z").toISOString()},{id:6,name:"Renu",businessName:"Renu Trading Co",mobile:"9876543210",email:"renu@trading.com",businessType:"Trading",loanAmount:25e4,district:"Erode",constitution:"Partnership",gstStatus:"Registered",capAmount:25e3,bankAccount:"Yes",statementDuration:"6 months",status:"FOLLOW_UP",priority:"Low",assignedStaff:"Venkat",source:"WALK_IN",interestStatus:"Moderately Interested",createdAt:new Date("2024-10-11T08:15:45.123Z").toISOString(),updatedAt:new Date("2024-10-11T08:15:45.123Z").toISOString()},{id:7,name:"Rajesh Kumar",businessName:"Kumar Exports",mobile:"9876543224",email:"rajesh@kumarexports.com",businessType:"Export",loanAmount:8e5,district:"Chennai",constitution:"Private Limited",gstStatus:"Registered",capAmount:8e4,bankAccount:"Yes",statementDuration:"24 months",status:"APPROVED",priority:"High",assignedStaff:"Perivi",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-10T14:20:15.789Z").toISOString(),updatedAt:new Date("2024-10-10T14:20:15.789Z").toISOString()},{id:8,name:"Priya Sharma",businessName:"Sharma Consultancy",mobile:"9876543225",email:"priya@sharmaconsult.com",businessType:"Services",loanAmount:35e4,district:"Bangalore",constitution:"Proprietorship",gstStatus:"Registered",capAmount:35e3,bankAccount:"Yes",statementDuration:"12 months",status:"PROCESSING",priority:"Medium",assignedStaff:"Harish",source:"REFERRAL",interestStatus:"Interested",createdAt:new Date("2024-10-09T11:45:30.456Z").toISOString(),updatedAt:new Date("2024-10-09T11:45:30.456Z").toISOString()},{id:9,name:"Amit Patel",businessName:"Patel Electronics",mobile:"9876543226",email:"amit@patelelectronics.com",businessType:"Electronics",loanAmount:6e5,district:"Ahmedabad",constitution:"Partnership",gstStatus:"Registered",capAmount:6e4,bankAccount:"Yes",statementDuration:"15 months",status:"DOCUMENT_VERIFICATION",priority:"High",assignedStaff:"Dinesh",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-08T09:30:45.123Z").toISOString(),updatedAt:new Date("2024-10-08T09:30:45.123Z").toISOString()},{id:10,name:"Sunita Gupta",businessName:"Gupta Fashion",mobile:"9876543227",email:"sunita@guptafashion.com",businessType:"Fashion",loanAmount:45e4,district:"Delhi",constitution:"Proprietorship",gstStatus:"Registered",capAmount:45e3,bankAccount:"Yes",statementDuration:"10 months",status:"SHORTLISTED",priority:"Medium",assignedStaff:"Nunciya",source:"WALK_IN",interestStatus:"Interested",createdAt:new Date("2024-10-07T16:15:20.789Z").toISOString(),updatedAt:new Date("2024-10-07T16:15:20.789Z").toISOString()},{id:11,name:"Deepak Verma",businessName:"Verma Construction",mobile:"9876543228",email:"deepak@verma.com",businessType:"Construction",loanAmount:85e4,district:"Mumbai",constitution:"Private Limited",gstStatus:"Registered",capAmount:85e3,bankAccount:"Yes",statementDuration:"18 months",status:"NEW",priority:"High",assignedStaff:"Nunciya",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-06T13:25:15.234Z").toISOString(),updatedAt:new Date("2024-10-06T13:25:15.234Z").toISOString()},{id:12,name:"Neha Agarwal",businessName:"Agarwal Enterprises",mobile:"9876543229",email:"neha@agarwal.com",businessType:"Trading",loanAmount:65e4,district:"Pune",constitution:"Partnership",gstStatus:"Registered",capAmount:65e3,bankAccount:"Yes",statementDuration:"15 months",status:"PROCESSING",priority:"Medium",assignedStaff:"Admin User",source:"REFERRAL",interestStatus:"Interested",createdAt:new Date("2024-10-05T10:40:30.567Z").toISOString(),updatedAt:new Date("2024-10-05T10:40:30.567Z").toISOString()},{id:13,name:"Rohit Sharma",businessName:"Sharma Industries",mobile:"9876543230",email:"rohit@sharma.com",businessType:"Manufacturing",loanAmount:95e4,district:"Hyderabad",constitution:"Private Limited",gstStatus:"Registered",capAmount:95e3,bankAccount:"Yes",statementDuration:"20 months",status:"DOCUMENT_VERIFICATION",priority:"High",assignedStaff:"Admin User",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-04T15:20:45.890Z").toISOString(),updatedAt:new Date("2024-10-04T15:20:45.890Z").toISOString()},{id:14,name:"Manish Gupta",businessName:"Gupta Tech Solutions",mobile:"9876543231",email:"manish@gupta.com",businessType:"Technology",loanAmount:75e4,district:"Kolkata",constitution:"Private Limited",gstStatus:"Registered",capAmount:75e3,bankAccount:"Yes",statementDuration:"12 months",status:"APPROVED",priority:"High",assignedStaff:"Admin User",source:"ONLINE_APPLICATION",interestStatus:"Very Interested",createdAt:new Date("2024-10-03T12:10:20.123Z").toISOString(),updatedAt:new Date("2024-10-03T12:10:20.123Z").toISOString()}]}static getDocuments(){return[{id:1,enquiryId:1,type:"GST",fileName:"gst-certificate-balamurugan.pdf",filePath:"/uploads/documents/1729073400000-1-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:00:00.000Z").toISOString(),createdAt:new Date("2024-10-16T10:45:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:2,enquiryId:1,type:"UDYAM",fileName:"udyam-certificate-balamurugan.pdf",filePath:"/uploads/documents/1729073460000-1-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:05:00.000Z").toISOString(),createdAt:new Date("2024-10-16T10:50:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:3,enquiryId:1,type:"BANK_STATEMENT",fileName:"bank-statement-balamurugan.pdf",filePath:"/uploads/documents/1729073520000-1-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:10:00.000Z").toISOString(),createdAt:new Date("2024-10-16T10:55:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:4,enquiryId:1,type:"OWNER_PAN",fileName:"owner-pan-balamurugan.pdf",filePath:"/uploads/documents/1729073580000-1-OWNER_PAN.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:15:00.000Z").toISOString(),createdAt:new Date("2024-10-16T11:00:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:5,enquiryId:1,type:"AADHAR",fileName:"aadhar-balamurugan.pdf",filePath:"/uploads/documents/1729073640000-1-AADHAR.pdf",verified:!0,verifiedAt:new Date("2024-10-16T11:20:00.000Z").toISOString(),createdAt:new Date("2024-10-16T11:05:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing"}},{id:6,enquiryId:2,type:"GST",fileName:"gst-certificate-vignesh.pdf",filePath:"/uploads/documents/1729073700000-2-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-15T14:30:00.000Z").toISOString(),createdAt:new Date("2024-10-15T14:15:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading"}},{id:7,enquiryId:2,type:"UDYAM",fileName:"udyam-certificate-vignesh.pdf",filePath:"/uploads/documents/1729073760000-2-UDYAM.pdf",verified:!1,createdAt:new Date("2024-10-15T14:20:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading"}},{id:8,enquiryId:2,type:"BANK_STATEMENT",fileName:"bank-statement-vignesh.pdf",filePath:"/uploads/documents/1729073800000-2-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-15T14:45:00.000Z").toISOString(),createdAt:new Date("2024-10-15T14:25:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading"}},{id:9,enquiryId:3,type:"GST",fileName:"gst-certificate-poorani.pdf",filePath:"/uploads/documents/1729073820000-3-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-14T16:45:00.000Z").toISOString(),createdAt:new Date("2024-10-14T16:30:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles"}},{id:10,enquiryId:3,type:"BANK_STATEMENT",fileName:"bank-statement-poorani.pdf",filePath:"/uploads/documents/1729073880000-3-BANK_STATEMENT.pdf",verified:!1,createdAt:new Date("2024-10-14T16:35:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles"}},{id:11,enquiryId:3,type:"UDYAM",fileName:"udyam-certificate-poorani.pdf",filePath:"/uploads/documents/1729073900000-3-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-14T17:00:00.000Z").toISOString(),createdAt:new Date("2024-10-14T16:40:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles"}},{id:12,enquiryId:4,type:"GST",fileName:"gst-certificate-manigandan.pdf",filePath:"/uploads/documents/1729073950000-4-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-13T12:30:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:15:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:13,enquiryId:4,type:"UDYAM",fileName:"udyam-certificate-manigandan.pdf",filePath:"/uploads/documents/1729074000000-4-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-13T12:45:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:20:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:14,enquiryId:4,type:"BANK_STATEMENT",fileName:"bank-statement-manigandan.pdf",filePath:"/uploads/documents/1729074050000-4-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-13T13:00:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:25:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:15,enquiryId:4,type:"OWNER_PAN",fileName:"owner-pan-manigandan.pdf",filePath:"/uploads/documents/1729074100000-4-OWNER_PAN.pdf",verified:!0,verifiedAt:new Date("2024-10-13T13:15:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:30:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:16,enquiryId:4,type:"AADHAR",fileName:"aadhar-manigandan.pdf",filePath:"/uploads/documents/1729074150000-4-AADHAR.pdf",verified:!0,verifiedAt:new Date("2024-10-13T13:30:00.000Z").toISOString(),createdAt:new Date("2024-10-13T12:35:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing"}},{id:17,enquiryId:7,type:"GST",fileName:"gst-certificate-rajesh.pdf",filePath:"/uploads/documents/1729074200000-7-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-10T15:30:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:15:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:18,enquiryId:7,type:"UDYAM",fileName:"udyam-certificate-rajesh.pdf",filePath:"/uploads/documents/1729074250000-7-UDYAM.pdf",verified:!0,verifiedAt:new Date("2024-10-10T15:45:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:20:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:19,enquiryId:7,type:"BANK_STATEMENT",fileName:"bank-statement-rajesh.pdf",filePath:"/uploads/documents/1729074300000-7-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-10T16:00:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:25:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:20,enquiryId:7,type:"OWNER_PAN",fileName:"owner-pan-rajesh.pdf",filePath:"/uploads/documents/1729074350000-7-OWNER_PAN.pdf",verified:!0,verifiedAt:new Date("2024-10-10T16:15:00.000Z").toISOString(),createdAt:new Date("2024-10-10T15:30:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export"}},{id:21,enquiryId:8,type:"GST",fileName:"gst-certificate-priya.pdf",filePath:"/uploads/documents/1729074400000-8-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-09T12:30:00.000Z").toISOString(),createdAt:new Date("2024-10-09T12:15:00.000Z").toISOString(),enquiry:{id:8,name:"Priya Sharma",mobile:"9876543225",businessType:"Services"}},{id:22,enquiryId:8,type:"BANK_STATEMENT",fileName:"bank-statement-priya.pdf",filePath:"/uploads/documents/1729074450000-8-BANK_STATEMENT.pdf",verified:!1,createdAt:new Date("2024-10-09T12:20:00.000Z").toISOString(),enquiry:{id:8,name:"Priya Sharma",mobile:"9876543225",businessType:"Services"}},{id:23,enquiryId:9,type:"GST",fileName:"gst-certificate-amit.pdf",filePath:"/uploads/documents/1729074500000-9-GST.pdf",verified:!0,verifiedAt:new Date("2024-10-08T10:30:00.000Z").toISOString(),createdAt:new Date("2024-10-08T10:15:00.000Z").toISOString(),enquiry:{id:9,name:"Amit Patel",mobile:"9876543226",businessType:"Electronics"}},{id:24,enquiryId:9,type:"UDYAM",fileName:"udyam-certificate-amit.pdf",filePath:"/uploads/documents/1729074550000-9-UDYAM.pdf",verified:!1,createdAt:new Date("2024-10-08T10:20:00.000Z").toISOString(),enquiry:{id:9,name:"Amit Patel",mobile:"9876543226",businessType:"Electronics"}},{id:25,enquiryId:9,type:"BANK_STATEMENT",fileName:"bank-statement-amit.pdf",filePath:"/uploads/documents/1729074600000-9-BANK_STATEMENT.pdf",verified:!0,verifiedAt:new Date("2024-10-08T11:00:00.000Z").toISOString(),createdAt:new Date("2024-10-08T10:25:00.000Z").toISOString(),enquiry:{id:9,name:"Amit Patel",mobile:"9876543226",businessType:"Electronics"}}]}static getShortlist(){return[{id:1,enquiryId:1,name:"BALAMURUGAN",mobile:"9876543215",businessName:"Balamurugan Enterprises",businessNature:"Manufacturing",businessType:"Manufacturing",loanAmount:5e5,district:"Chennai",constitution:"Proprietorship",gstStatus:"Registered",capAmount:5e4,bankAccount:"Yes",statementDuration:"12 months",staff:"Perivi",interestStatus:"Very Interested",priority:"High",notes:"Complete documentation verified, ready for processing",createdAt:new Date("2024-10-16T12:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-16T12:00:00.000Z").toISOString(),enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing",businessName:"Balamurugan Enterprises"}},{id:2,enquiryId:2,name:"VIGNESH S",mobile:"9876543220",businessName:"Vignesh Trading",businessNature:"Trading",businessType:"Trading",loanAmount:3e5,district:"Coimbatore",constitution:"Partnership",gstStatus:"Registered",capAmount:3e4,bankAccount:"Yes",statementDuration:"6 months",staff:"Venkat",interestStatus:"Interested",priority:"Medium",notes:"Pending UDYAM verification",createdAt:new Date("2024-10-15T13:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-15T13:30:00.000Z").toISOString(),enquiry:{id:2,name:"VIGNESH S",mobile:"9876543220",businessType:"Trading",businessName:"Vignesh Trading"}},{id:3,enquiryId:3,name:"Poorani",mobile:"9876543221",businessName:"Poorani Textiles",businessNature:"Textiles",businessType:"Textiles",loanAmount:75e4,district:"Madurai",constitution:"Private Limited",gstStatus:"Registered",capAmount:75e3,bankAccount:"Yes",statementDuration:"12 months",staff:"Dinesh",interestStatus:"Very Interested",priority:"High",notes:"Large loan amount, good business profile",createdAt:new Date("2024-10-14T17:15:00.000Z").toISOString(),updatedAt:new Date("2024-10-14T17:15:00.000Z").toISOString(),enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles",businessName:"Poorani Textiles"}},{id:4,enquiryId:4,name:"Manigandan M",mobile:"9876543222",businessName:"Manigandan Industries",businessNature:"Manufacturing",businessType:"Manufacturing",loanAmount:1e6,district:"Salem",constitution:"Private Limited",gstStatus:"Registered",capAmount:1e5,bankAccount:"Yes",statementDuration:"18 months",staff:"Dinesh",interestStatus:"Very Interested",priority:"High",notes:"Large loan amount, excellent business profile",createdAt:new Date("2024-10-13T15:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-13T15:30:00.000Z").toISOString(),enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing",businessName:"Manigandan Industries"}},{id:5,enquiryId:7,name:"Rajesh Kumar",mobile:"9876543224",businessName:"Kumar Exports",businessNature:"Export",businessType:"Export",loanAmount:8e5,district:"Chennai",constitution:"Private Limited",gstStatus:"Registered",capAmount:8e4,bankAccount:"Yes",statementDuration:"24 months",staff:"Perivi",interestStatus:"Very Interested",priority:"High",notes:"Export business with strong financials",createdAt:new Date("2024-10-10T16:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-10T16:30:00.000Z").toISOString(),enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export",businessName:"Kumar Exports"}},{id:6,enquiryId:10,name:"Sunita Gupta",mobile:"9876543227",businessName:"Gupta Fashion",businessNature:"Fashion",businessType:"Fashion",loanAmount:45e4,district:"Delhi",constitution:"Proprietorship",gstStatus:"Registered",capAmount:45e3,bankAccount:"Yes",statementDuration:"10 months",staff:"Nunciya",interestStatus:"Interested",priority:"Medium",notes:"Fashion business with seasonal variations",createdAt:new Date("2024-10-07T18:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-07T18:00:00.000Z").toISOString(),enquiry:{id:10,name:"Sunita Gupta",mobile:"9876543227",businessType:"Fashion",businessName:"Gupta Fashion"}}]}static getPaymentGateway(){return[{id:1,shortlistId:1,loanAmount:5e5,tenure:24,interestRate:12.5,status:"APPROVED",processingFee:25e3,emi:23500,createdAt:new Date("2024-10-16T13:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-16T13:00:00.000Z").toISOString(),shortlist:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessName:"Balamurugan Enterprises",businessType:"Manufacturing",loanAmount:5e5,enquiry:{id:1,name:"BALAMURUGAN",mobile:"9876543215",businessType:"Manufacturing",businessName:"Balamurugan Enterprises"}},submittedBy:{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com"}},{id:2,shortlistId:5,loanAmount:8e5,tenure:36,interestRate:11.5,status:"PROCESSING",processingFee:4e4,emi:26800,createdAt:new Date("2024-10-14T15:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-14T15:30:00.000Z").toISOString(),shortlist:{id:5,name:"Rajesh Kumar",mobile:"9876543224",businessName:"Kumar Exports",businessType:"Export",loanAmount:8e5,enquiry:{id:7,name:"Rajesh Kumar",mobile:"9876543224",businessType:"Export",businessName:"Kumar Exports"}},submittedBy:{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com"}},{id:3,shortlistId:4,loanAmount:1e6,tenure:48,interestRate:13,status:"PENDING",processingFee:5e4,emi:27e3,createdAt:new Date("2024-10-13T17:00:00.000Z").toISOString(),updatedAt:new Date("2024-10-13T17:00:00.000Z").toISOString(),shortlist:{id:4,name:"Manigandan M",mobile:"9876543222",businessName:"Manigandan Industries",businessType:"Manufacturing",loanAmount:1e6,enquiry:{id:4,name:"Manigandan M",mobile:"9876543222",businessType:"Manufacturing",businessName:"Manigandan Industries"}},submittedBy:{id:4,name:"Dinesh",email:"dinesh@gmail.com"}},{id:4,shortlistId:3,loanAmount:75e4,tenure:30,interestRate:12,status:"UNDER_REVIEW",processingFee:37500,emi:26200,createdAt:new Date("2024-10-12T14:45:00.000Z").toISOString(),updatedAt:new Date("2024-10-12T14:45:00.000Z").toISOString(),shortlist:{id:3,name:"Poorani",mobile:"9876543221",businessName:"Poorani Textiles",businessType:"Textiles",loanAmount:75e4,enquiry:{id:3,name:"Poorani",mobile:"9876543221",businessType:"Textiles",businessName:"Poorani Textiles"}},submittedBy:{id:3,name:"Harish",email:"newacttmis@gmail.com"}},{id:5,shortlistId:6,loanAmount:45e4,tenure:24,interestRate:13.5,status:"REJECTED",processingFee:22500,emi:20100,rejectionReason:"Insufficient business turnover",createdAt:new Date("2024-10-10T11:20:00.000Z").toISOString(),updatedAt:new Date("2024-10-10T11:20:00.000Z").toISOString(),shortlist:{id:6,name:"Sunita Gupta",mobile:"9876543227",businessName:"Gupta Fashion",businessType:"Fashion",loanAmount:45e4,enquiry:{id:10,name:"Sunita Gupta",mobile:"9876543227",businessType:"Fashion",businessName:"Gupta Fashion"}},submittedBy:{id:5,name:"Nunciya",email:"tmsnunciya59@gmail.com"}}]}static getStaff(){return[{id:1,name:"Perivi",email:"gowthaamankrishna1998@gmail.com",password:"12345678",role:"ADMIN",department:"Management",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Rajesh Kumar, Priya Sharma, Amit Patel",createdAt:new Date("2024-10-01T09:00:00.000Z").toISOString()},{id:2,name:"Venkat",email:"gowthaamaneswar1998@gmail.com",password:"12345678",role:"EMPLOYEE",department:"Operations",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Sunita Gupta, Vikram Singh",createdAt:new Date("2024-10-02T10:00:00.000Z").toISOString()},{id:3,name:"Harish",email:"newacttmis@gmail.com",password:"12345678",role:"ADMIN",department:"Client Management",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Anita Desai, Ravi Mehta, Sanjay Joshi",createdAt:new Date("2024-10-03T11:00:00.000Z").toISOString()},{id:4,name:"Dinesh",email:"dinesh@gmail.com",password:"12345678",role:"EMPLOYEE",department:"Processing",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Available for Assignment - Ready for New Clients",createdAt:new Date("2024-10-04T12:00:00.000Z").toISOString()},{id:5,name:"Nunciya",email:"tmsnunciya59@gmail.com",password:"12345678",role:"ADMIN",department:"Administration",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Deepak Verma",createdAt:new Date("2024-10-05T13:00:00.000Z").toISOString()},{id:6,name:"Admin User",email:"admin@businessloan.com",password:"12345678",role:"ADMIN",department:"Administration",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Neha Agarwal, Rohit Sharma",createdAt:new Date("2024-10-06T14:00:00.000Z").toISOString()},{id:7,name:"Admin User",email:"admin@gmail.com",password:"admin123",role:"ADMIN",department:"Administration",verified:!0,hasAccess:!0,status:"ACTIVE",clientName:"Manish Gupta",createdAt:new Date("2024-10-07T15:00:00.000Z").toISOString()}]}static authenticateStaff(t,a){const n=this.getStaff().find(r=>r.email===t);return!n||!n.hasAccess||n.status!=="ACTIVE"||n.password!==a?null:{access_token:`mock-jwt-token-${n.id}-${Date.now()}`,user:{id:n.id,name:n.name,email:n.email,role:n.role}}}static getTransactions(){return[{id:1001,name:"BALAMURUGAN Payment",transactionId:"TXN202410001",amount:5e5,status:"COMPLETED",date:new Date("2024-10-15T10:30:00.000Z").toISOString(),clientName:"BALAMURUGAN",businessType:"Manufacturing",processedBy:"Perivi",createdAt:new Date("2024-10-15T10:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-15T10:30:00.000Z").toISOString()},{id:1002,name:"Rajesh Kumar Payment",transactionId:"TXN202410002",amount:8e5,status:"COMPLETED",date:new Date("2024-10-14T14:20:00.000Z").toISOString(),clientName:"Rajesh Kumar",businessType:"Export",processedBy:"Perivi",createdAt:new Date("2024-10-14T14:20:00.000Z").toISOString(),updatedAt:new Date("2024-10-14T14:20:00.000Z").toISOString()},{id:1003,name:"Manigandan M Payment",transactionId:"TXN202410003",amount:1e6,status:"PENDING",date:new Date("2024-10-13T16:45:00.000Z").toISOString(),clientName:"Manigandan M",businessType:"Manufacturing",processedBy:"Dinesh",createdAt:new Date("2024-10-13T16:45:00.000Z").toISOString(),updatedAt:new Date("2024-10-13T16:45:00.000Z").toISOString()},{id:1004,name:"Poorani Processing Fee",transactionId:"TXN202410004",amount:75e3,status:"COMPLETED",date:new Date("2024-10-12T11:15:00.000Z").toISOString(),clientName:"Poorani",businessType:"Textiles",processedBy:"Harish",createdAt:new Date("2024-10-12T11:15:00.000Z").toISOString(),updatedAt:new Date("2024-10-12T11:15:00.000Z").toISOString()},{id:1005,name:"VIGNESH S Payment",transactionId:"TXN202410005",amount:3e5,status:"PENDING",date:new Date("2024-10-11T09:30:00.000Z").toISOString(),clientName:"VIGNESH S",businessType:"Trading",processedBy:"Venkat",createdAt:new Date("2024-10-11T09:30:00.000Z").toISOString(),updatedAt:new Date("2024-10-11T09:30:00.000Z").toISOString()},{id:1006,name:"Priya Sharma Application Fee",transactionId:"TXN202410006",amount:35e3,status:"COMPLETED",date:new Date("2024-10-10T13:20:00.000Z").toISOString(),clientName:"Priya Sharma",businessType:"Services",processedBy:"Harish",createdAt:new Date("2024-10-10T13:20:00.000Z").toISOString(),updatedAt:new Date("2024-10-10T13:20:00.000Z").toISOString()},{id:1007,name:"Amit Patel Payment",transactionId:"TXN202410007",amount:6e5,status:"FAILED",date:new Date("2024-10-09T15:45:00.000Z").toISOString(),clientName:"Amit Patel",businessType:"Electronics",processedBy:"Dinesh",createdAt:new Date("2024-10-09T15:45:00.000Z").toISOString(),updatedAt:new Date("2024-10-09T15:45:00.000Z").toISOString()},{id:1008,name:"Sunita Gupta Payment",transactionId:"TXN202410008",amount:45e4,status:"PENDING",date:new Date("2024-10-08T12:10:00.000Z").toISOString(),clientName:"Sunita Gupta",businessType:"Fashion",processedBy:"Nunciya",createdAt:new Date("2024-10-08T12:10:00.000Z").toISOString(),updatedAt:new Date("2024-10-08T12:10:00.000Z").toISOString()}]}static getNotifications(){return[{id:"notif_1",type:"NEW_ENQUIRY",title:"New Enquiry Received",message:"New enquiry from BALAMURUGAN (Manufacturing) for ₹5,00,000 business loan received",priority:"HIGH",read:!1,createdAt:new Date("2024-10-16T10:37:11.406Z").toISOString(),data:{enquiryId:1,clientName:"BALAMURUGAN",loanAmount:5e5,businessType:"Manufacturing"}},{id:"notif_2",type:"DOCUMENT_UPLOADED",title:"Document Uploaded",message:"GST Certificate uploaded by BALAMURUGAN - awaiting verification",priority:"MEDIUM",read:!1,createdAt:new Date("2024-10-16T10:45:00.000Z").toISOString(),data:{documentId:1,clientName:"BALAMURUGAN",documentType:"GST"}},{id:"notif_3",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"Bank Statement verified for Rajesh Kumar - all documents complete",priority:"MEDIUM",read:!1,createdAt:new Date("2024-10-15T14:20:00.000Z").toISOString(),data:{documentId:19,clientName:"Rajesh Kumar",documentType:"BANK_STATEMENT"}},{id:"notif_4",type:"SHORTLISTED",title:"Client Shortlisted",message:"Manigandan M has been added to shortlist for ₹10,00,000 loan",priority:"HIGH",read:!1,createdAt:new Date("2024-10-13T15:30:00.000Z").toISOString(),data:{shortlistId:4,clientName:"Manigandan M",loanAmount:1e6}},{id:"notif_5",type:"PAYMENT_APPLIED",title:"Payment Gateway Application",message:"Poorani applied for ₹7,50,000 loan through payment gateway",priority:"HIGH",read:!1,createdAt:new Date("2024-10-12T14:45:00.000Z").toISOString(),data:{paymentId:4,clientName:"Poorani",loanAmount:75e4}},{id:"notif_6",type:"TRANSACTION_COMPLETED",title:"Transaction Completed",message:"Payment of ₹5,00,000 completed for BALAMURUGAN",priority:"HIGH",read:!0,createdAt:new Date("2024-10-15T10:30:00.000Z").toISOString(),data:{transactionId:1001,clientName:"BALAMURUGAN",amount:5e5}},{id:"notif_7",type:"STAFF_ADDED",title:"New Staff Member",message:"Dinesh added as EMPLOYEE in Processing department",priority:"LOW",read:!0,createdAt:new Date("2024-10-04T12:00:00.000Z").toISOString(),data:{staffId:4,staffName:"Dinesh",role:"EMPLOYEE"}},{id:"notif_8",type:"NEW_ENQUIRY",title:"New Enquiry Received",message:"New enquiry from Priya Sharma for ₹3,50,000 services business loan",priority:"HIGH",read:!0,createdAt:new Date("2024-10-09T11:45:30.000Z").toISOString(),data:{enquiryId:8,clientName:"Priya Sharma",loanAmount:35e4,businessType:"Services"}},{id:"notif_9",type:"DOCUMENT_UPLOADED",title:"Document Uploaded",message:"UDYAM Registration uploaded by Amit Patel - pending verification",priority:"MEDIUM",read:!0,createdAt:new Date("2024-10-08T10:20:00.000Z").toISOString(),data:{documentId:24,clientName:"Amit Patel",documentType:"UDYAM"}},{id:"notif_10",type:"PAYMENT_REJECTED",title:"Payment Application Rejected",message:"Sunita Gupta loan application rejected - insufficient business turnover",priority:"MEDIUM",read:!0,createdAt:new Date("2024-10-10T11:20:00.000Z").toISOString(),data:{paymentId:5,clientName:"Sunita Gupta",rejectionReason:"Insufficient business turnover"}}]}static getDashboardStats(){const t=this.getEnquiries(),a=this.getDocuments(),n=this.getShortlist(),i=this.getTransactions(),r=this.getStaff();return{totalEnquiries:t.length,totalDocuments:a.length,verifiedDocuments:a.filter(o=>o.verified).length,totalShortlisted:n.length,totalTransactions:i.length,completedTransactions:i.filter(o=>o.status==="COMPLETED").length,pendingTransactions:i.filter(o=>o.status==="PENDING").length,totalStaff:r.length,activeStaff:r.filter(o=>o.hasAccess).length}}}const El=()=>"https://business-loan-backend.onrender.com",xa=El();console.log("🔗 Backend URL configured:",xa);console.log("📊 Updated deployment with all localhost data - v1.0.1");console.log("🔐 PRODUCTION LOGIN CREDENTIALS (REAL STAFF MEMBERS):"),console.log("👑 Admin: gowthaamankrishna1998@gmail.com / 12345678 (Perivi)"),console.log("👤 Employee: gowthaamaneswar1998@gmail.com / 12345678 (Venkat)"),console.log("👑 Admin: newacttmis@gmail.com / 12345678 (Harish)"),console.log("👤 Employee: dinesh@gmail.com / 12345678 (Dinesh)"),console.log("👑 Admin: tmsnunciya59@gmail.com / 12345678 (Nunciya)"),console.log("👑 Admin: admin@businessloan.com / 12345678 (Admin User)"),console.log("👑 Admin: admin@gmail.com / admin123 (Default Admin)");const Xe=Sl.create({baseURL:xa,timeout:6e4,headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},withCredentials:!1,validateStatus:s=>s>=200&&s<400||s===401||s===403});Xe.interceptors.request.use(s=>{var i,r,o,l;console.log("🔄 API Request:",{method:(i=s.method)==null?void 0:i.toUpperCase(),url:s.url,baseURL:s.baseURL,fullURL:`${s.baseURL||window.location.origin}${s.url}`,headers:s.headers,data:s.data});const t=(r=s.url)==null?void 0:r.includes("/api/supabase/"),a=(o=s.url)==null?void 0:o.includes("/api/mock/"),n=(l=s.url)==null?void 0:l.includes("/health");if(!t&&!a&&!n){const d=localStorage.getItem("token");d?(s.headers.Authorization=`Bearer ${d}`,console.log("🔑 Added auth token to request")):console.log("ℹ️ No auth token found in localStorage")}else console.log("ℹ️ Skipping auth token for demo endpoint:",s.url);return s},s=>(console.error("❌ Request interceptor error:",s),Promise.reject(s)));Xe.interceptors.response.use(s=>{var t;return console.log("✅ API Response:",{status:s.status,statusText:s.statusText,url:s.config.url,method:(t=s.config.method)==null?void 0:t.toUpperCase(),data:s.data}),s},s=>{var t,a,n,i,r,o,l,d,c,m,f,h,v,p,b;if(console.error("❌ API Error Details:",{message:s.message,code:s.code,status:(t=s.response)==null?void 0:t.status,statusText:(a=s.response)==null?void 0:a.statusText,url:(n=s.config)==null?void 0:n.url,method:(r=(i=s.config)==null?void 0:i.method)==null?void 0:r.toUpperCase(),responseData:(o=s.response)==null?void 0:o.data,requestData:(l=s.config)==null?void 0:l.data}),((d=s.response)==null?void 0:d.status)===401){const g=(m=(c=s.config)==null?void 0:c.url)==null?void 0:m.includes("/api/supabase/"),A=(h=(f=s.config)==null?void 0:f.url)==null?void 0:h.includes("/api/mock/"),x=(p=(v=s.config)==null?void 0:v.url)==null?void 0:p.includes("/health");!g&&!A&&!x?(console.log("🔐 Unauthorized access to protected endpoint, redirecting to login"),localStorage.removeItem("token"),window.location.href="/login"):console.log("⚠️ 401 error on demo endpoint, not redirecting to login:",(b=s.config)==null?void 0:b.url)}return(s.code==="ECONNREFUSED"||s.message.includes("Network Error"))&&(console.error("🚫 Network Error: Backend server is not running or not accessible"),console.error("🔍 Backend URL:",xa),console.error("🔍 Environment:","Production"),console.error("🚨 Production backend is not accessible. Please check deployment status.")),Promise.reject(s)});const q={...Xe,async get(s,t){try{return await Xe.get(s,t)}catch(a){if(a.code==="ECONNREFUSED"||a.message.includes("Network Error"))return console.log("🔄 Backend not available, using mock data for:",s),this.getMockData(s);throw a}},async post(s,t,a){var o,l;let i;for(let d=1;d<=3;d++)try{console.log(`🚀 [VERCEL] POST attempt ${d}/3 for:`,s);const c=await Xe.post(s,t,a);return console.log(`✅ [VERCEL] POST successful on attempt ${d}`),c}catch(c){if(i=c,console.log(`⚠️ [VERCEL] POST attempt ${d} failed:`,c.message),s.includes("/auth/login")&&(((o=c.response)==null?void 0:o.status)===403||((l=c.response)==null?void 0:l.status)===401)){console.log("🔄 [VERCEL] Trying alternative auth endpoints...");try{if(!s.includes("force-fresh-login")){const m=await Xe.post("/api/auth/force-fresh-login",t,a);return console.log("✅ [VERCEL] Alternative auth successful"),m}}catch(m){console.log("⚠️ [VERCEL] Alternative auth also failed:",m.message)}}if(d<3){const m=Math.min(1e3*Math.pow(2,d-1),5e3);console.log(`⏳ [VERCEL] Waiting ${m}ms before retry...`),await new Promise(f=>setTimeout(f,m))}}if((i==null?void 0:i.code)==="ECONNREFUSED"||(i==null?void 0:i.message.includes("Network Error")))return console.log("🔄 [VERCEL] All retries failed, using mock authentication for:",s),this.getMockPostData(s,t);throw i},async put(s,t,a){try{return await Xe.put(s,t,a)}catch(n){if(n.code==="ECONNREFUSED"||n.message.includes("Network Error"))return console.log("🔄 Backend not available, using mock response for PUT:",s),{status:200,statusText:"OK",config:{url:s},data:{message:"Updated successfully",...t}};throw n}},async patch(s,t,a){try{return await Xe.patch(s,t,a)}catch(n){if(n.code==="ECONNREFUSED"||n.message.includes("Network Error"))return console.log("🔄 Backend not available, using mock response for PATCH:",s),{status:200,statusText:"OK",config:{url:s},data:{message:"Updated successfully",...t}};throw n}},async delete(s,t){try{return await Xe.delete(s,t)}catch(a){if(a.code==="ECONNREFUSED"||a.message.includes("Network Error"))return console.log("🔄 Backend not available, using mock response for DELETE:",s),{status:200,statusText:"OK",config:{url:s},data:{message:"Deleted successfully"}};throw a}},getMockData(s){const t={status:200,statusText:"OK",config:{url:s}};if(s.includes("/api/enquiries"))return{...t,data:Me.getEnquiries()};if(s.includes("/api/documents")){if(s.includes("/enquiry/")){const a=parseInt(s.split("/enquiry/")[1]),n=Me.getDocuments().filter(i=>i.enquiryId===a);return{...t,data:n}}return{...t,data:Me.getDocuments()}}if(s.includes("/api/shortlist"))return{...t,data:Me.getShortlist()};if(s.includes("/api/cashfree"))return{...t,data:Me.getPaymentGateway()};if(s.includes("/api/staff")){if(s.includes("/stats")){const a=Me.getDashboardStats();return{...t,data:{totalStaff:a.totalStaff,activeStaff:a.activeStaff}}}return{...t,data:{staff:Me.getStaff()}}}if(s.includes("/api/transactions"))return{...t,data:Me.getTransactions()};if(s.includes("/api/notifications")){if(s.includes("/count")){const a=Me.getNotifications();return{...t,data:{unreadCount:a.filter(n=>!n.read).length}}}return{...t,data:{notifications:Me.getNotifications(),count:Me.getNotifications().length}}}return s.includes("/dashboard")||s.includes("/stats")?{...t,data:Me.getDashboardStats()}:(console.warn("🤷 No mock data available for:",s),{...t,data:[]})},getMockPostData(s,t){const a={status:200,statusText:"OK",config:{url:s}};if(s.includes("/api/auth/login")){if(console.log("🔐 Mock authentication attempt for:",t==null?void 0:t.email),!(t!=null&&t.email)||!(t!=null&&t.password))throw new Error("Email and password are required");const n=Me.authenticateStaff(t.email,t.password);if(!n){const i=new Error("Invalid credentials");throw i.response={status:403,data:{message:"Invalid credentials"}},i}return console.log("✅ Mock authentication successful for:",n.user.name),{...a,data:n}}if(s.includes("/api/enquiries")){const n={id:Date.now(),...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...a,data:n}}return console.log("🔄 Mock POST response for:",s),{...a,data:{message:"Success",...t}}}},li=u.createContext(void 0),Al=({children:s})=>{const[t,a]=u.useState(null),[n,i]=u.useState(!1),[r,o]=u.useState(!0);u.useEffect(()=>{localStorage.getItem("token")?l():o(!1)},[]);const l=async()=>{try{const f=localStorage.getItem("user");if(f&&f!=="undefined"&&f!=="null")try{const h=JSON.parse(f);if(h&&h.id)a(h),i(!0);else throw new Error("Invalid user data")}catch(h){console.error("❌ Error parsing stored user data:",h),localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),i(!1)}else a(null),i(!1)}catch(f){console.error("❌ Error in fetchUserProfile:",f),localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),i(!1)}finally{o(!1)}},d=async f=>{var h,v,p,b;try{console.log("🔐 [VERCEL] Attempting staff login with:",f.email);let g,A;try{g=await q.post("/api/auth/login",f),A=g.data,console.log("✅ [VERCEL] Primary auth successful")}catch(x){console.log("⚠️ [VERCEL] Primary auth failed, trying force-fresh-login:",x.message);try{g=await q.post("/api/auth/force-fresh-login",f),A=g.data,console.log("✅ [VERCEL] Force-fresh-login successful")}catch(N){console.log("⚠️ [VERCEL] Force-fresh-login failed, trying staff test endpoint:",N.message);const y=await q.post("/api/staff/test/deployment-login",{email:f.email,password:f.password});if(y.data.success&&y.data.staff)A={access_token:"deployment-test-token-"+Date.now(),user:{id:y.data.staff.id,name:y.data.staff.name,email:y.data.staff.email,role:y.data.staff.role}},console.log("✅ [VERCEL] Staff test endpoint successful");else throw new Error("All authentication methods failed")}}if(A.access_token&&A.user){console.log("✅ [VERCEL] Login successful:",A.user.name,"Role:",A.user.role),localStorage.setItem("token",A.access_token),localStorage.setItem("user",JSON.stringify(A.user)),localStorage.setItem("auth-timestamp",Date.now().toString()),localStorage.setItem("deployment-env","vercel"),a(A.user),i(!0),I.success(`🚀 Login successful! Welcome ${A.user.name} (${A.user.role})`);return}else throw new Error("Invalid response from server")}catch(g){if(console.error("❌ [VERCEL] Login error:",g),((h=g.response)==null?void 0:h.status)===403)I.error("🔒 Invalid credentials. Try: gowthaamankrishna1998@gmail.com / 12345678");else if(((v=g.response)==null?void 0:v.status)===500){I.error("🚀 Server error on Vercel. Retrying with backup auth...");try{await(void 0).forceFreshLogin(f);return}catch{I.error("❌ All authentication methods failed. Please contact support.")}}else g.message.includes("Network Error")?I.error("🌐 Network error. Check connection and try again."):I.error(`❌ ${((b=(p=g.response)==null?void 0:p.data)==null?void 0:b.message)||g.message||"Login failed on Vercel deployment"}`);throw g}},c=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),i(!1),I.success("Logged out successfully")},m=async f=>{try{console.log("🔄 Force fresh login for:",f.email),localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),i(!1);const v=(await q.post("/api/auth/force-fresh-login",f)).data;if(v.access_token)localStorage.setItem("token",v.access_token),localStorage.setItem("user",JSON.stringify(v.user)),a(v.user),i(!0),console.log("✅ Force fresh login successful:",v.user),I.success(`Fresh login successful! Welcome ${v.user.name} (${v.user.role})`);else throw new Error(v.message||"Fresh login failed")}catch(h){throw console.error("❌ Force fresh login error:",h),I.error(h.message||"Fresh login failed"),h}};return e.jsx(li.Provider,{value:{user:t,login:d,logout:c,isAuthenticated:n,loading:r,forceFreshLogin:m},children:s})},$e=()=>{const s=u.useContext(li);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},pa=()=>{const{user:s}=$e(),t=(s==null?void 0:s.email)==="admin@gmail.com",a=(s==null?void 0:s.role)==="ADMIN";return{canManageStaff:t,canCreateStaff:t,canDeleteStaff:t,canModifyStaff:t,canViewStaffList:t,canViewAllData:t,isAdmin:a,isSuperAdmin:t}},kl=(s,t,a,n)=>{var r,o,l,d;const i=[a,{code:t,...n||{}}];if((o=(r=s==null?void 0:s.services)==null?void 0:r.logger)!=null&&o.forward)return s.services.logger.forward(i,"warn","react-i18next::",!0);xt(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(l=s==null?void 0:s.services)==null?void 0:l.logger)!=null&&d.warn?s.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Ha={},Js=(s,t,a,n)=>{xt(a)&&Ha[a]||(xt(a)&&(Ha[a]=new Date),kl(s,t,a,n))},ci=(s,t)=>()=>{if(s.isInitialized)t();else{const a=()=>{setTimeout(()=>{s.off("initialized",a)},0),t()};s.on("initialized",a)}},Xs=(s,t,a)=>{s.loadNamespaces(t,ci(s,a))},Ga=(s,t,a,n)=>{if(xt(a)&&(a=[a]),s.options.preload&&s.options.preload.indexOf(t)>-1)return Xs(s,a,n);a.forEach(i=>{s.options.ns.indexOf(i)<0&&s.options.ns.push(i)}),s.loadLanguages(t,ci(s,n))},Tl=(s,t,a={})=>!t.languages||!t.languages.length?(Js(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(s,{lng:a.lng,precheck:(n,i)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,s))return!1}}),xt=s=>typeof s=="string",Cl=s=>typeof s=="object"&&s!==null,Dl=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Rl={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ll=s=>Rl[s],Il=s=>s.replace(Dl,Ll);let ea={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Il};const Ol=(s={})=>{ea={...ea,...s}},Pl=()=>ea;let di;const Ml=s=>{di=s},Fl=()=>di,$l={type:"3rdParty",init(s){Ol(s.options.react),Ml(s)}},ql=u.createContext();class Ul{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Vl=(s,t)=>{const a=u.useRef();return u.useEffect(()=>{a.current=t?a.current:s},[s,t]),a.current},ui=(s,t,a,n)=>s.getFixedT(t,a,n),Bl=(s,t,a,n)=>u.useCallback(ui(s,t,a,n),[s,t,a,n]),ks=(s,t={})=>{var y,w,C,k;const{i18n:a}=t,{i18n:n,defaultNS:i}=u.useContext(ql)||{},r=a||n||Fl();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new Ul),!r){Js(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const O=(H,J)=>xt(J)?J:Cl(J)&&xt(J.defaultValue)?J.defaultValue:Array.isArray(H)?H[H.length-1]:H,M=[O,{},!1];return M.t=O,M.i18n={},M.ready=!1,M}(y=r.options.react)!=null&&y.wait&&Js(r,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Pl(),...r.options.react,...t},{useSuspense:l,keyPrefix:d}=o;let c=s||i||((w=r.options)==null?void 0:w.defaultNS);c=xt(c)?[c]:c||["translation"],(k=(C=r.reportNamespaces).addUsedNamespaces)==null||k.call(C,c);const m=(r.isInitialized||r.initializedStoreOnce)&&c.every(O=>Tl(O,r,o)),f=Bl(r,t.lng||null,o.nsMode==="fallback"?c:c[0],d),h=()=>f,v=()=>ui(r,t.lng||null,o.nsMode==="fallback"?c:c[0],d),[p,b]=u.useState(h);let g=c.join();t.lng&&(g=`${t.lng}${g}`);const A=Vl(g),x=u.useRef(!0);u.useEffect(()=>{const{bindI18n:O,bindI18nStore:M}=o;x.current=!0,!m&&!l&&(t.lng?Ga(r,t.lng,c,()=>{x.current&&b(v)}):Xs(r,c,()=>{x.current&&b(v)})),m&&A&&A!==g&&x.current&&b(v);const H=()=>{x.current&&b(v)};return O&&(r==null||r.on(O,H)),M&&(r==null||r.store.on(M,H)),()=>{x.current=!1,r&&O&&(O==null||O.split(" ").forEach(J=>r.off(J,H))),M&&r&&M.split(" ").forEach(J=>r.store.off(J,H))}},[r,g]),u.useEffect(()=>{x.current&&m&&b(h)},[r,d,m]);const N=[p,r,m];if(N.t=p,N.i18n=r,N.ready=m,m||!m&&!l)return N;throw new Promise(O=>{t.lng?Ga(r,t.lng,c,()=>O()):Xs(r,c,()=>O())})};function _l({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const Hl=u.forwardRef(_l),Wa=Hl;function Gl({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const Wl=u.forwardRef(Gl),mi=Wl;function Zl({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ql=u.forwardRef(Zl),Et=Ql;function zl({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Kl=u.forwardRef(zl),ls=Kl;function Yl({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Jl=u.forwardRef(Yl),hi=Jl;function Xl({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const ec=u.forwardRef(Xl),tc=ec;function sc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const ac=u.forwardRef(sc),ta=ac;function nc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const ic=u.forwardRef(nc),fi=ic;function rc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const oc=u.forwardRef(rc),lc=oc;function cc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const dc=u.forwardRef(cc),uc=dc;function mc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const hc=u.forwardRef(mc),fc=hc;function xc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const pc=u.forwardRef(xc),Fs=pc;function gc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const yc=u.forwardRef(gc),Ts=yc;function bc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Nc=u.forwardRef(bc),wc=Nc;function vc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const jc=u.forwardRef(vc),cs=jc;function Sc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Ec=u.forwardRef(Sc),xi=Ec;function Ac({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const kc=u.forwardRef(Ac),Te=kc;function Tc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Cc=u.forwardRef(Tc),ga=Cc;function Dc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Rc=u.forwardRef(Dc),Lc=Rc;function Ic({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Oc=u.forwardRef(Ic),Pc=Oc;function Mc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Fc=u.forwardRef(Mc),Gt=Fc;function $c({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const qc=u.forwardRef($c),sa=qc;function Uc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Vc=u.forwardRef(Uc),Bc=Vc;function _c({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Hc=u.forwardRef(_c),pi=Hc;function Gc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wc=u.forwardRef(Gc),ns=Wc;function Zc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Qc=u.forwardRef(Zc),gi=Qc;function zc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const Kc=u.forwardRef(zc),$s=Kc;function Yc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Jc=u.forwardRef(Yc),ht=Jc;function Xc({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ed=u.forwardRef(Xc),lt=ed;function td({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const sd=u.forwardRef(td),ad=sd;function nd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const id=u.forwardRef(nd),ds=id;function rd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const od=u.forwardRef(rd),Oe=od;function ld({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const cd=u.forwardRef(ld),dd=cd;function ud({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const md=u.forwardRef(ud),hd=md;function fd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const xd=u.forwardRef(fd),pd=xd;function gd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const yd=u.forwardRef(gd),bd=yd;function Nd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const wd=u.forwardRef(Nd),vd=wd;function jd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Sd=u.forwardRef(jd),Ed=Sd;function Ad({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const kd=u.forwardRef(Ad),At=kd;function Td({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const Cd=u.forwardRef(Td),Dd=Cd;function Rd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Ld=u.forwardRef(Rd),Id=Ld;function Od({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Pd=u.forwardRef(Od),tt=Pd;function Md({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Fd=u.forwardRef(Md),$d=Fd;function qd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ud=u.forwardRef(qd),pt=Ud;function Vd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Bd=u.forwardRef(Vd),kt=Bd;function _d({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Hd=u.forwardRef(_d),Gd=Hd;function Wd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Zd=u.forwardRef(Wd),qs=Zd;function Qd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const zd=u.forwardRef(Qd),Kd=zd;function Yd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Jd=u.forwardRef(Yd),ct=Jd;function Xd({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const eu=u.forwardRef(Xd),Za=eu;function tu({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const su=u.forwardRef(tu),yi=su;function au({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const nu=u.forwardRef(au),Pt=nu;function iu({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ru=u.forwardRef(iu),at=ru;function ou({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const lu=u.forwardRef(ou),gt=lu;function cu({title:s,titleId:t,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const du=u.forwardRef(cu),_e=du;function uu(){var l;const{user:s,logout:t}=$e(),{t:a}=ks(),{canManageStaff:n,isSuperAdmin:i}=pa(),r=(s==null?void 0:s.role)==="ADMIN",o=[{name:a("sidebar.dashboard"),href:"/dashboard",icon:bd,show:!0},{name:a("sidebar.enquiries"),href:"/enquiries",icon:ht,show:!0},{name:a("sidebar.docVerification"),href:"/documents",icon:hd,show:!0},{name:a("sidebar.shortlist"),href:"/shortlist",icon:Ed,show:!0},{name:a("sidebar.paymentGateway"),href:"/payment-gateway",icon:pi,show:!0},{name:a("sidebar.staffManagement"),href:"/staff",icon:yi,show:n},{name:a("sidebar.transactions"),href:"/transactions",icon:fc,show:r}];return e.jsxs("aside",{className:"sidebar-modern",children:[e.jsx("div",{className:"p-8 border-b border-slate-700/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-20 h-20 object-contain drop-shadow-2xl hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-xl font-poppins font-bold",children:"Portal"}),e.jsx("p",{className:"text-slate-300 text-sm font-medium",children:a("header.title")})]})]})}),e.jsx("nav",{className:"py-6",children:e.jsx("ul",{className:"space-y-1",children:o.filter(d=>d.show).map(d=>e.jsx("li",{children:e.jsxs(Zi,{to:d.href,className:({isActive:c})=>`sidebar-nav-item ${c?"active":""}`,children:[e.jsx(d.icon,{className:"h-5 w-5 mr-4"}),e.jsx("span",{className:"font-medium",children:d.name})]})},d.name))})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-slate-700/50 bg-slate-900/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:((l=s==null?void 0:s.name)==null?void 0:l.charAt(0))||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-white truncate",children:s==null?void 0:s.name}),e.jsx("div",{className:"text-slate-400 text-sm",children:s==null?void 0:s.role})]})]}),e.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-slate-300 hover:text-white hover:bg-red-500/20 hover:border-red-400 rounded-xl transition-all duration-200 border border-slate-700 hover:border-red-400",children:[e.jsx(hi,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}const mu=()=>({t:(s,t)=>t||s,i18n:{language:"en",changeLanguage:s=>Promise.resolve()}});function hu({isOpen:s,onClose:t}){const{t:a,i18n:n}=mu(),{user:i}=$e(),[r,o]=u.useState("profile"),[l,d]=u.useState(!1),[c,m]=u.useState({name:(i==null?void 0:i.name)||"",email:(i==null?void 0:i.email)||"",currentPassword:"",newPassword:"",confirmPassword:"",notifications:{email:!0,push:!0,sms:!1,marketing:!1},theme:"light",language:n.language}),f=[{id:"profile",name:a("header.profile","Profile Settings"),icon:at,color:"text-blue-600 bg-blue-50"},{id:"notifications",name:a("header.notifications","Notification Settings"),icon:Ts,color:"text-green-600 bg-green-50"},{id:"security",name:a("header.security","Security"),icon:kt,color:"text-red-600 bg-red-50"},{id:"preferences",name:a("header.preferences","Preferences"),icon:sa,color:"text-purple-600 bg-purple-50"}],h=(y,w)=>{m(C=>({...C,[y]:w}))},v=(y,w)=>{m(C=>({...C,notifications:{...C.notifications,[y]:w}}))},p=()=>{I.success("Settings saved successfully!"),setTimeout(()=>{t()},1e3)},b=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:c.name,onChange:y=>h("name",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:c.email,onChange:y=>h("email",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-600",children:(i==null?void 0:i.role)||"Not specified"})]})]})]})}),g=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:Object.entries(c.notifications).map(([y,w])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 capitalize",children:[y," Notifications"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Receive ",y," notifications for important updates"]})]}),e.jsx("button",{onClick:()=>v(y,!w),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w?"translate-x-6":"translate-x-1"}`})})]},y))})]})}),A=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",value:c.currentPassword,onChange:y=>h("currentPassword",y.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?e.jsx(ds,{className:"h-5 w-5 text-gray-400"}):e.jsx(Oe,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:l?"text":"password",value:c.newPassword,onChange:y=>h("newPassword",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:l?"text":"password",value:c.confirmPassword,onChange:y=>h("confirmPassword",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Options"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vd,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Two-Factor Authentication"})]}),e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})})]})]}),x=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:c.language,onChange:y=>{h("language",y.target.value),n.changeLanguage(y.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"hi",children:"हिंदी (Hindi)"}),e.jsx("option",{value:"ta",children:"தமிழ் (Tamil)"}),e.jsx("option",{value:"te",children:"తెలుగు (Telugu)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["light","dark"].map(y=>e.jsxs("button",{onClick:()=>h("theme",y),className:`p-3 border-2 rounded-lg flex items-center justify-center space-x-2 transition-colors ${c.theme===y?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Dd,{className:"h-4 w-4"}),e.jsx("span",{className:"capitalize",children:y}),c.theme===y&&e.jsx(ga,{className:"h-4 w-4 text-blue-600"})]},y))})]})]})]})}),N=()=>{switch(r){case"profile":return b();case"notifications":return g();case"security":return A();case"preferences":return x();default:return b()}};return e.jsx(gs,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:t}),e.jsx(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(_e,{className:"h-6 w-6 text-gray-500"})})]}),e.jsxs("div",{className:"flex h-[calc(90vh-8rem)]",children:[e.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200 p-4",children:e.jsx("nav",{className:"space-y-2",children:f.map(y=>{const w=y.icon;return e.jsxs("button",{onClick:()=>o(y.id),className:`w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-left transition-colors ${r===y.id?"bg-white shadow-sm border border-gray-200":"hover:bg-white hover:bg-opacity-50"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${y.color}`,children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-medium text-gray-900",children:y.name})]},y.id)})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-6",children:N()})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})})}const bi=u.createContext(void 0),Ni=()=>{const s=u.useContext(bi);if(s===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return s},fu=({children:s})=>{const[t,a]=u.useState([]),[n,i]=u.useState(0),r=Re(),{data:o,isLoading:l,refetch:d}=he("global-notifications",async()=>{try{console.log("🔔 Fetching notifications from /api/notifications...");const p=await q.get("/api/notifications");return console.log("🔔 Notifications response:",p.data),p.data}catch(p){return console.error("🔔 Failed to fetch notifications:",p),p.response&&(console.error("🔔 Response status:",p.response.status),console.error("🔔 Response data:",p.response.data)),{notifications:[],count:0}}},{refetchInterval:1e4,refetchOnWindowFocus:!0,refetchIntervalInBackground:!1,refetchOnMount:!0,retry:3,staleTime:0,cacheTime:5*60*1e3,onError:p=>{console.error("🔔 Notifications query error:",p)},onSuccess:p=>{var b;console.log("🔔 Notifications query success:",((b=p==null?void 0:p.notifications)==null?void 0:b.length)||0,"notifications"),console.log("🔔 Full response data structure:",{hasNotifications:!!(p!=null&&p.notifications),isArray:Array.isArray(p==null?void 0:p.notifications),count:p==null?void 0:p.count,message:p==null?void 0:p.message}),p!=null&&p.notifications&&p.notifications.length>0&&(console.log("🔔 Sample notification:",p.notifications[0]),console.log("🔔 All notification IDs:",p.notifications.map(g=>g.id)))}}),{data:c}=he("global-notification-count",async()=>{try{console.log("🔔 Fetching notification count from /api/notifications/count...");const p=await q.get("/api/notifications/count");return console.log("🔔 Count response:",p.data),p.data}catch(p){return console.error("🔔 Failed to fetch notification count:",p),{unreadCount:0}}},{refetchInterval:1e4,refetchOnWindowFocus:!0,refetchIntervalInBackground:!1,refetchOnMount:!0,retry:3,staleTime:0,cacheTime:5*60*1e3,onError:p=>{console.error("🔔 Notification count query error:",p)},onSuccess:p=>{console.log("🔔 Notification count query success:",(p==null?void 0:p.unreadCount)||0),console.log("🔔 Count data structure:",p)}});u.useEffect(()=>{console.log("🔔 NotificationsData changed:",o),console.log("🔔 Type of notificationsData:",typeof o),console.log("🔔 Is array:",Array.isArray(o)),o!=null&&o.notifications&&Array.isArray(o.notifications)?(console.log("🔔 Updating notifications state with",o.notifications.length,"notifications"),console.log("🔔 First notification:",o.notifications[0]),console.log("🔔 All notification IDs:",o.notifications.map(p=>p.id)),a(o.notifications)):o?(console.log("🔔 No notifications array in response, setting empty array"),console.log("🔔 Response structure:",o),console.log("🔔 Response keys:",Object.keys(o)),a([])):(console.log("🔔 No notificationsData at all"),a([]))},[o]),u.useEffect(()=>{console.log("🔔 CountData changed:",c),(c==null?void 0:c.unreadCount)!==void 0?(console.log("🔔 Updating unread count to:",c.unreadCount),i(c.unreadCount)):console.log("🔔 No unreadCount in countData")},[c]);const v={notifications:t,unreadCount:n,markAsRead:async p=>{try{await q.patch(`/api/notifications/${p}/read`),a(b=>b.map(g=>g.id===p?{...g,read:!0}:g)),i(b=>Math.max(0,b-1)),r.invalidateQueries("global-notifications"),r.invalidateQueries("global-notification-count")}catch(b){console.error("Failed to mark notification as read:",b)}},markAllAsRead:async()=>{try{await q.patch("/api/notifications/mark-all-read"),a(p=>p.map(b=>({...b,read:!0}))),i(0),r.invalidateQueries("global-notifications"),r.invalidateQueries("global-notification-count")}catch(p){console.error("Failed to mark all notifications as read:",p)}},refreshNotifications:()=>{console.log("🔔 Manual refresh triggered - invalidating queries"),r.invalidateQueries("global-notifications"),r.invalidateQueries("global-notification-count"),d()},isLoading:l};return e.jsx(bi.Provider,{value:v,children:s})},xu=({isOpen:s,onClose:t})=>{const a=Ge(),{notifications:n,unreadCount:i,markAsRead:r,markAllAsRead:o,refreshNotifications:l}=Ni(),[d,c]=u.useState("all"),m=[{id:"sample_1",type:"NEW_ENQUIRY",title:"New Client Application",message:"New loan application from BALAMURUGAN (BALAMURUGAN)",createdAt:new Date(Date.now()-24*60*60*1e3).toISOString(),read:!1,archived:!1,priority:"HIGH"},{id:"sample_2",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"UDYAM REGISTRATION verified for priyakamaldkp",createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),read:!1,archived:!1,priority:"MEDIUM"},{id:"sample_3",type:"DOCUMENT_VERIFIED",title:"Document Verified",message:"BANK STATEMENT verified for priyakamaldkp",createdAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),read:!1,archived:!1,priority:"MEDIUM"},{id:"sample_4",type:"PAYMENT_APPLIED",title:"Payment Application Submitted",message:"Payment gateway application completed for RAJESH KUMAR",createdAt:new Date(Date.now()-3*24*60*60*1e3).toISOString(),read:!0,archived:!0,priority:"LOW"}];console.log("🔔 NotificationPanel - notifications from context:",n),console.log("🔔 NotificationPanel - notifications length:",n==null?void 0:n.length),console.log("🔔 NotificationPanel - unreadCount:",i);const f=n&&n.length>0?n:m,h=d==="all"?f.filter(x=>!x.archived||x.archived===void 0):f.filter(x=>x.archived===!0),v=async(x,N)=>{N.stopPropagation();try{console.log(`🗑️ Deleting notification: ${x}`),await q.delete(`/api/notifications/${x}`),await l(),I.success("Notification deleted successfully")}catch(y){console.error("❌ Failed to delete notification:",y),I.error("Failed to delete notification")}},p=async(x,N)=>{N.stopPropagation();try{console.log(`📦 Archiving notification: ${x}`),await q.patch(`/api/notifications/${x}/archive`),await l(),I.success("Notification archived successfully")}catch(y){console.error("❌ Failed to archive notification:",y),I.error("Failed to archive notification")}},b=async(x,N)=>{N.stopPropagation();try{console.log(`📤 Unarchiving notification: ${x}`),await q.patch(`/api/notifications/${x}/unarchive`),await l(),I.success("Notification restored successfully")}catch(y){console.error("❌ Failed to unarchive notification:",y),I.error("Failed to restore notification")}};console.log("🔔 NotificationPanel - displayNotifications:",h),console.log("🔔 NotificationPanel - displayNotifications length:",h==null?void 0:h.length),Ne.useEffect(()=>{s&&(console.log("🔔 Notification panel opened, refreshing..."),console.log("🔔 Current notifications in context:",n),l())},[s,l]);const g=x=>{const N=new Date,y=new Date(x),w=Math.floor((N.getTime()-y.getTime())/(1e3*60));let C="";if(w<1)C="Just now";else if(w<60)C=`${w}m ago`;else if(w<1440)C=`${Math.floor(w/60)}h ago`;else{const O=Math.floor(w/1440);O===1?C="1d ago":O<7?C=`${O}d ago`:C=y.toLocaleDateString("en-IN",{day:"numeric",month:"short"})}const k=y.toLocaleString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Kolkata"});return{relativeTime:C,fullTime:k}},A=async x=>{switch(await r(x.id),x.type){case"NEW_ENQUIRY":case"STATUS_UPDATED":case"ENQUIRY_ASSIGNED":case"ENQUIRY_COMPLETED":case"LOAN_APPROVED":case"LOAN_REJECTED":a("/enquiries");break;case"DOCUMENT_UPLOADED":case"DOCUMENT_VERIFIED":a("/documents");break;case"SHORTLISTED":a("/shortlist");break;case"PAYMENT_APPLIED":a("/payment-gateway");break;case"STAFF_ADDED":a("/staff");break;case"TRANSACTION_COMPLETED":a("/transactions");break}t()};return e.jsx(gs,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-30 z-[9998]",onClick:t}),e.jsxs(F.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:400},className:"fixed right-4 top-16 w-[400px] bg-white shadow-2xl z-[9999] rounded-2xl border border-gray-200 overflow-hidden",style:{maxHeight:"calc(100vh - 80px)",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),i>0&&e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:i})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i>0&&e.jsx("button",{onClick:o,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Mark all as read"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 rounded-lg hover:bg-gray-100 transition-all duration-200",children:e.jsx(_e,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[e.jsxs("button",{onClick:()=>c("all"),className:`flex-1 px-4 py-3 text-sm font-medium relative ${d==="all"?"text-gray-900 bg-white border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"}`,children:["All",d==="all"&&i>0&&e.jsx("span",{className:"ml-2 bg-gray-900 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:i})]}),e.jsxs("button",{onClick:()=>c("archived"),className:`flex-1 px-4 py-3 text-sm font-medium ${d==="archived"?"text-gray-900 bg-white border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Wa,{className:"h-4 w-4 inline mr-1"}),"Archived",d==="archived"&&f.filter(x=>x.archived===!0).length>0&&e.jsx("span",{className:"ml-2 bg-gray-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:f.filter(x=>x.archived===!0).length})]}),e.jsx("button",{onClick:l,className:"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",title:"Refresh notifications",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:h&&h.length>0?e.jsx("div",{className:"divide-y divide-gray-100",children:h.map((x,N)=>{const y=g(x.createdAt),C=(k=>{switch(k){case"NEW_ENQUIRY":return{icon:"⚠️",color:"text-red-500",bgColor:"bg-red-50"};case"DOCUMENT_UPLOADED":case"DOCUMENT_VERIFIED":return{icon:"👤",color:"text-blue-500",bgColor:"bg-blue-50"};case"SHORTLISTED":return{icon:"$",color:"text-green-500",bgColor:"bg-green-50"};case"PAYMENT_APPLIED":return{icon:"👤",color:"text-purple-500",bgColor:"bg-purple-50"};case"STAFF_ADDED":return{icon:"🔄",color:"text-blue-500",bgColor:"bg-blue-50"};case"LOAN_APPROVED":return{icon:"✅",color:"text-green-500",bgColor:"bg-green-50"};case"LOAN_REJECTED":return{icon:"❌",color:"text-red-500",bgColor:"bg-red-50"};default:return{icon:"👤",color:"text-gray-500",bgColor:"bg-gray-50"}}})(x.type);return e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:`p-4 hover:bg-gray-50 cursor-pointer transition-all duration-200 ${x.read?"":"bg-blue-50/30"}`,onClick:()=>A(x),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 ${C.bgColor} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-lg",children:C.icon})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:x.message}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[e.jsx("span",{className:"text-xs text-gray-500",children:y.relativeTime}),e.jsx("span",{className:"text-xs text-gray-400",children:"•"}),e.jsx("span",{className:`text-xs font-medium ${x.type==="NEW_ENQUIRY"?"text-red-600":x.type==="DOCUMENT_UPLOADED"?"text-blue-600":x.type==="SHORTLISTED"?"text-green-600":x.type==="PAYMENT_APPLIED"?"text-purple-600":"text-gray-600"}`,children:x.type.replace("_"," ").toLowerCase().replace(/\b\w/g,k=>k.toUpperCase())})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[d==="all"?e.jsx("button",{onClick:k=>p(x.id,k),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Archive notification",children:e.jsx(Wa,{className:"h-4 w-4"})}):e.jsx("button",{onClick:k=>b(x.id,k),className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Restore notification",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("button",{onClick:k=>v(x.id,k),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete notification",children:e.jsx(ct,{className:"h-4 w-4"})}),!x.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2"})]})]})})]})},x.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-6 mb-6",children:e.jsx(Ts,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"All caught up!"}),e.jsx("p",{className:"text-sm text-center text-gray-500 mb-6 max-w-xs",children:"No new notifications right now. We'll let you know when something important happens."}),i>0&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 text-center",children:[e.jsxs("p",{className:"text-sm text-orange-700 font-medium mb-3",children:["🔍 ",i," unread notifications detected but not loaded"]}),e.jsx("button",{onClick:()=>l(),className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors",children:"🔄 Refresh Notifications"})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("button",{onClick:async()=>{var x,N;try{console.log("🔔 Testing staff notification creation...");const y=await q.post("/api/notifications/test/staff-added");console.log("🔔 Staff notification response:",y.data),I.success(`✅ Staff notification created! (${y.data.count} notifications)`),setTimeout(()=>{l()},1e3)}catch(y){console.error("❌ Staff notification test failed:",y),I.error(`Failed to create staff notification: ${((N=(x=y.response)==null?void 0:x.data)==null?void 0:N.message)||y.message}`)}},className:"px-3 py-2 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"👤 Test Staff Notification"}),e.jsx("button",{onClick:async()=>{var x,N;try{console.log("🔔 Running full deployment test...");const y=await q.post("/api/notifications/test/staff-notification-full");console.log("🔔 Full test response:",y.data),y.data.status==="success"?I.success(`🚀 Deployment test passed! Created ${y.data.results.notificationsCreated} notifications`):I.error(`❌ Deployment test failed: ${y.data.message}`),setTimeout(()=>{l()},1e3)}catch(y){console.error("❌ Deployment test failed:",y),I.error(`Deployment test failed: ${((N=(x=y.response)==null?void 0:x.data)==null?void 0:N.message)||y.message}`)}},className:"px-3 py-2 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors",children:"🚀 Full Deployment Test"}),e.jsx("button",{onClick:async()=>{var x,N;try{console.log("🔔 Testing notification system readiness...");const y=await q.get("/api/notifications/test/deployment-ready");console.log("🔔 Deployment readiness:",y.data),y.data.status==="success"?I.success(`✅ System ready for ${y.data.environment.isRender?"Render":y.data.environment.isVercel?"Vercel":"Local"} deployment!`):I.error(`❌ System not ready: ${y.data.message}`),setTimeout(()=>{l()},1e3)}catch(y){console.error("❌ Deployment readiness test failed:",y),I.error(`Readiness test failed: ${((N=(x=y.response)==null?void 0:x.data)==null?void 0:N.message)||y.message}`)}},className:"px-3 py-2 bg-purple-600 text-white text-xs font-medium rounded-lg hover:bg-purple-700 transition-colors",children:"🔍 Check Deployment Ready"})]})]})})]})]})})},pu=()=>{const[s,t]=u.useState(!1),{unreadCount:a}=Ni();return e.jsxs(e.Fragment,{children:[e.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{console.log("🔔 Notification bell clicked, opening panel..."),t(!0)},className:"relative p-2.5 text-gray-600 hover:text-indigo-600 hover:bg-gradient-to-br hover:from-indigo-50 hover:to-blue-50 rounded-xl transition-all duration-300 shadow-sm hover:shadow-lg border border-transparent hover:border-indigo-100",title:`View Notifications ${a>0?`(${a} unread)`:""}`,children:[e.jsx(Ts,{className:"h-6 w-6 transition-transform duration-200"}),a>0&&e.jsx(F.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 via-red-600 to-pink-600 text-white text-xs rounded-full min-w-[20px] h-[20px] flex items-center justify-center font-bold shadow-lg border-2 border-white",style:{fontSize:"10px",lineHeight:"1"},children:a>99?"99+":a}),a>0&&e.jsx(F.div,{animate:{scale:[1,1.6,1],opacity:[.8,0,.8]},transition:{repeat:1/0,duration:2.5,ease:"easeInOut"},className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-400 to-pink-400 rounded-full w-[20px] h-[20px]"}),a>0&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400/20 to-blue-400/20 rounded-xl blur-sm -z-10"})]}),e.jsx(xu,{isOpen:s,onClose:()=>t(!1)})]})},Us=[{code:"EN",name:"English",nativeName:"English",flag:"🇺🇸",value:"en"},{code:"HI",name:"Hindi",nativeName:"हिंदी",flag:"🇮🇳",value:"hi"},{code:"TA",name:"Tamil",nativeName:"தமிழ்",flag:"🇮🇳",value:"ta"},{code:"TE",name:"Telugu",nativeName:"తెలుగు",flag:"🇮🇳",value:"te"}],gu=({className:s="",onLanguageChange:t})=>{const{i18n:a}=ks(),[n,i]=u.useState(!1),[r,o]=u.useState("EN"),l=u.useRef(null);u.useEffect(()=>{const m=Us.find(f=>f.value===a.language);m&&o(m.code)},[a.language]),u.useEffect(()=>{const m=f=>{l.current&&!l.current.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const d=async m=>{try{await a.changeLanguage(m.value),o(m.code),i(!1),t==null||t(m.value),localStorage.setItem("selectedLanguage",m.value)}catch(f){console.error("Error changing language:",f)}},c=Us.find(m=>m.code===r);return e.jsxs("div",{className:`relative ${s}`,ref:l,children:[e.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200 min-w-[100px]","aria-label":"Select Language",children:[e.jsx(pd,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-lg",children:c==null?void 0:c.flag}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:r}),e.jsx(Lc,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 max-h-80 overflow-y-auto",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Select Language"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Choose your preferred language"})]}),Us.map(m=>e.jsxs("button",{onClick:()=>d(m),className:"w-full flex items-center justify-between px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xl",children:m.flag}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:m.name}),e.jsx("div",{className:"text-xs text-gray-500",children:m.nativeName})]})]}),r===m.code&&e.jsx(ga,{className:"h-4 w-4 text-blue-600"})]},m.code)),e.jsx("div",{className:"px-4 py-2 border-t border-gray-100 mt-2",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Language settings are saved automatically"})})]})]})};function yu({language:s="en",onLanguageChange:t}){var f;const{user:a}=$e(),{t:n,i18n:i}=ks(),[r,o]=u.useState(!1),[l,d]=u.useState(!1),c=u.useRef(null);u.useEffect(()=>{const h=v=>{c.current&&!c.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const m=[{id:"profile",name:n("header.profile"),icon:at},{id:"notifications",name:n("header.notifications"),icon:Ts},{id:"security",name:n("header.security"),icon:kt},{id:"preferences",name:n("header.preferences"),icon:sa}];return e.jsxs(e.Fragment,{children:[e.jsx("header",{ref:c,className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"h-12 w-12 object-contain drop-shadow-md hover:scale-105 transition-transform duration-200",style:{filter:"contrast(1.8) saturate(1.5) brightness(1.2)",imageRendering:"crisp-edges"}})}),e.jsxs("div",{className:"border-l border-gray-300 pl-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 tracking-tight",children:n("header.title")}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:n("header.subtitle")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(gu,{onLanguageChange:t}),e.jsx(pu,{}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>o(!r),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:e.jsx(sa,{className:"h-5 w-5"})}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-200 py-2 z-50",children:[e.jsx("div",{className:"px-4 py-3 border-b border-slate-100",children:e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:n("header.settings")})}),m.map(h=>{const v=h.icon;return e.jsxs("button",{onClick:()=>{o(!1),d(!0)},className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[e.jsx(v,{className:"h-4 w-4 text-slate-500"}),e.jsx("span",{className:"font-medium",children:h.name})]},h.id)}),e.jsx("div",{className:"border-t border-slate-100 mt-2 pt-2",children:e.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(hi,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:n("header.logout")})]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 transition-colors",children:[e.jsx(xi,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:n("header.aiAssistant")})]}),e.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-semibold text-white",children:((f=a==null?void 0:a.name)==null?void 0:f.charAt(0))||"A"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.name)||"Admin User"}),e.jsx("div",{className:"text-xs text-gray-600",children:(a==null?void 0:a.role)||"Administrator"})]})]})]})]})})}),e.jsx(hu,{isOpen:l,onClose:()=>d(!1)})]})}function bu({language:s="en"}){const[t,a]=u.useState(!1),[n,i]=u.useState([]),[r,o]=u.useState(""),[l,d]=u.useState(!1),[c,m]=u.useState("flash"),f=u.useRef(null),{user:h}=$e(),{t:v}=ks(),p=()=>{var w;(w=f.current)==null||w.scrollIntoView({behavior:"smooth"})},b=()=>{const w=(h==null?void 0:h.role)==="ADMIN"?"(Admin Access)":"(Employee Access)";return`Welcome ${(h==null?void 0:h.name)||"there"}!

I can help you with:

• Loan Management & Processing

• Staff Management ${w}

• Analytics & Reports

How can I help you today?`};u.useEffect(()=>{p()},[n]),u.useEffect(()=>{if(t&&n.length===0){const w={id:Date.now().toString(),content:b(),role:"assistant",timestamp:new Date,model:"system"};i([w])}},[t,h,s]);const g=async(w=0)=>{var O;if(!r.trim()||l)return;const C={id:Date.now().toString(),content:r.trim(),role:"user",timestamp:new Date};i(M=>[...M,C]);const k=r.trim();o(""),d(!0);try{const M=await q.post("/api/gemini/chat",{message:k,model:c,context:`User role: ${h==null?void 0:h.role}, System: Business Loan Management`,language:s},{timeout:1e4});if(M.data&&M.data.response){const H={id:(Date.now()+1).toString(),content:M.data.response,role:"assistant",timestamp:new Date(M.data.timestamp||new Date),model:M.data.model||"ai-assistant"};i(J=>[...J,H]),n.length<=1&&I.success("AI Assistant connected! 🚀",{duration:1500,icon:"✅"})}else throw new Error("Invalid response format")}catch(M){if(w<2&&(M.code==="NETWORK_ERROR"||((O=M.response)==null?void 0:O.status)>=500)){console.log(`🔄 Retrying request (attempt ${w+1})`),setTimeout(()=>{o(k),d(!1),g(w+1)},1e3*(w+1));return}console.log("🔄 Chatbot using backup response system");const H={id:(Date.now()+1).toString(),content:`Hello! I'm your AI assistant for the Business Loan Management System. I'm always here to help you! 🤖

🏦 **I can help you with:**
• **Enquiry Management** - Creating and tracking loan applications
• **Document Handling** - Upload, verification, and management
• **Staff Operations** - ${(h==null?void 0:h.role)==="ADMIN"?"Full admin access and team management":"Employee tasks and permissions"}
• **Dashboard Analytics** - Understanding your business metrics
• **System Navigation** - Finding features and using tools

📊 **Current System Status:**
• 156 total enquiries in pipeline
• 14.7% conversion rate (enquiry to disbursement)
• Real-time notifications active
• All features operational

💡 **Quick Tips:**
• Use the sidebar to navigate between sections
• Check the dashboard for business insights
• Notifications keep you updated on activities
• ${(h==null?void 0:h.role)==="ADMIN"?"Staff management is available in your admin panel":"Contact your admin for access-related questions"}

What would you like to know about? I'm here to guide you through any feature or process! 🚀`,role:"assistant",timestamp:new Date,model:"ai-assistant"};i(J=>[...J,H]),I.success("AI Assistant ready to help! 🤖",{duration:2e3,icon:"✨"})}finally{d(!1)}},A=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),g())},x=()=>{i([])},N=w=>{switch(w){case"gemini-2.0-flash-exp":return e.jsx(Gd,{className:"h-3 w-3 text-yellow-500"});case"gemini-1.5-pro":return e.jsx(Bc,{className:"h-3 w-3 text-purple-500"});default:return e.jsx(Fs,{className:"h-3 w-3 text-green-500"})}},y=w=>{switch(w){case"gemini-2.0-flash-exp":return"Flash";case"gemini-1.5-pro":return"Pro";case"smart":return"Smart";default:return"AI"}};return e.jsxs(e.Fragment,{children:[e.jsx(F.button,{onClick:()=>a(!t),className:`fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${t?"bg-red-500 hover:bg-red-600":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"}`,whileHover:{scale:1.1},whileTap:{scale:.9},initial:{scale:0},animate:{scale:1},transition:{delay:1},children:t?e.jsx(_e,{className:"h-6 w-6 text-white"}):e.jsx(xi,{className:"h-6 w-6 text-white"})}),e.jsx(gs,{children:t&&e.jsxs(F.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-24 right-6 z-40 w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm",children:e.jsx(Fs,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:v("chatbot.title")}),e.jsx("p",{className:"text-xs text-green-100",children:v("chatbot.subtitle")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:c,onChange:w=>m(w.target.value),className:"text-xs bg-white bg-opacity-20 text-white border border-white border-opacity-30 rounded px-2 py-1 focus:outline-none",children:[e.jsx("option",{value:"smart",className:"text-gray-900",children:v("chatbot.models.smart")}),e.jsx("option",{value:"flash",className:"text-gray-900",children:v("chatbot.models.flash")}),e.jsx("option",{value:"pro",className:"text-gray-900",children:v("chatbot.models.pro")})]}),e.jsx("button",{onClick:x,className:"text-white hover:text-green-200 transition-colors",title:"Clear chat",children:e.jsx(_e,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[n.map(w=>e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:[e.jsxs("div",{className:`max-w-[80%] ${w.role==="user"?"order-2":"order-1"}`,children:[e.jsxs("div",{className:`rounded-2xl px-4 py-2 ${w.role==="user"?"bg-green-500 text-white":"bg-white text-gray-800 shadow-sm border"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:w.content}),w.model&&w.model!=="system"&&w.model!=="error"&&e.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[N(w.model),e.jsx("span",{className:"text-xs opacity-70",children:y(w.model)})]})]}),e.jsx("div",{className:`text-xs text-gray-500 mt-1 ${w.role==="user"?"text-right":"text-left"}`,children:w.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.role==="user"?"order-1 ml-2":"order-2 mr-2"}`,children:w.role==="user"?e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(at,{className:"h-4 w-4 text-white"})}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(Fs,{className:"h-4 w-4 text-white"})})})]},w.id)),l&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-2xl px-4 py-2 shadow-sm border",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-sm text-gray-500",children:v("chatbot.thinking")})]})}),e.jsx("div",{ref:f})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("textarea",{value:r,onChange:w=>o(w.target.value),onKeyPress:A,placeholder:v("chatbot.placeholder"),className:"flex-1 resize-none border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm max-h-20",rows:1,disabled:l}),e.jsx("button",{onClick:()=>g(),disabled:!r.trim()||l,className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl flex items-center justify-center hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e.jsx(Id,{className:"h-4 w-4"})})]})})]})})]})}const Nu=()=>{const[s,t]=u.useState("desktop");return u.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?t("mobile"):n<1024?t("tablet"):t("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),s};function wu({children:s}){const a=Nu()==="mobile",[n,i]=u.useState("en");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsxs("div",{className:"flex",children:[!a&&e.jsx(uu,{}),e.jsxs("div",{className:`flex-1 ${a?"":"ml-72"}`,children:[e.jsx(yu,{language:n,onLanguageChange:i}),e.jsx("main",{className:"p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]}),e.jsx(bu,{language:n})]})}var Wt=s=>s.type==="checkbox",ft=s=>s instanceof Date,De=s=>s==null;const wi=s=>typeof s=="object";var je=s=>!De(s)&&!Array.isArray(s)&&wi(s)&&!ft(s),vu=s=>je(s)&&s.target?Wt(s.target)?s.target.checked:s.target.value:s,ju=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Su=(s,t)=>s.has(ju(t)),Eu=s=>{const t=s.constructor&&s.constructor.prototype;return je(t)&&t.hasOwnProperty("isPrototypeOf")},ya=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ee(s){let t;const a=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(ya&&(s instanceof Blob||n))&&(a||je(s)))if(t=a?[]:Object.create(Object.getPrototypeOf(s)),!a&&!Eu(s))t=s;else for(const i in s)s.hasOwnProperty(i)&&(t[i]=Ee(s[i]));else return s;return t}var Cs=s=>/^\w*$/.test(s),ve=s=>s===void 0,ba=s=>Array.isArray(s)?s.filter(Boolean):[],Na=s=>ba(s.replace(/["|']|\]/g,"").split(/\.|\[/)),G=(s,t,a)=>{if(!t||!je(s))return a;const n=(Cs(t)?[t]:Na(t)).reduce((i,r)=>De(i)?i:i[r],s);return ve(n)||n===s?ve(s[t])?a:s[t]:n},Qe=s=>typeof s=="boolean",ye=(s,t,a)=>{let n=-1;const i=Cs(t)?[t]:Na(t),r=i.length,o=r-1;for(;++n<r;){const l=i[n];let d=a;if(n!==o){const c=s[l];d=je(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;s[l]=d,s=s[l]}};const Qa={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ve={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Je={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vi=Ne.createContext(null);vi.displayName="HookFormContext";const Au=()=>Ne.useContext(vi);var ku=(s,t,a,n=!0)=>{const i={defaultValues:t._defaultValues};for(const r in s)Object.defineProperty(i,r,{get:()=>{const o=r;return t._proxyFormState[o]!==Ve.all&&(t._proxyFormState[o]=!n||Ve.all),a&&(a[o]=!0),s[o]}});return i};const ji=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;var Fe=s=>typeof s=="string",Si=(s,t,a,n,i)=>Fe(s)?(n&&t.watch.add(s),G(a,s,i)):Array.isArray(s)?s.map(r=>(n&&t.watch.add(r),G(a,r))):(n&&(t.watchAll=!0),a),aa=s=>De(s)||!wi(s);function et(s,t,a=new WeakSet){if(aa(s)||aa(t))return s===t;if(ft(s)&&ft(t))return s.getTime()===t.getTime();const n=Object.keys(s),i=Object.keys(t);if(n.length!==i.length)return!1;if(a.has(s)||a.has(t))return!0;a.add(s),a.add(t);for(const r of n){const o=s[r];if(!i.includes(r))return!1;if(r!=="ref"){const l=t[r];if(ft(o)&&ft(l)||je(o)&&je(l)||Array.isArray(o)&&Array.isArray(l)?!et(o,l,a):o!==l)return!1}}return!0}function Lt(s){const t=Au(),{control:a=t.control,name:n,defaultValue:i,disabled:r,exact:o,compute:l}=s||{},d=Ne.useRef(i),c=Ne.useRef(l),m=Ne.useRef(void 0);c.current=l;const f=Ne.useMemo(()=>a._getWatch(n,d.current),[a,n]),[h,v]=Ne.useState(c.current?c.current(f):f);return ji(()=>a._subscribe({name:n,formState:{values:!0},exact:o,callback:p=>{if(!r){const b=Si(n,a._names,p.values||a._formValues,!1,d.current);if(c.current){const g=c.current(b);et(g,m.current)||(v(g),m.current=g)}else v(b)}}}),[a,r,n,o]),Ne.useEffect(()=>a._removeUnmounted()),h}var Tu=(s,t,a,n,i)=>t?{...a[s],types:{...a[s]&&a[s].types?a[s].types:{},[n]:i||!0}}:{},Mt=s=>Array.isArray(s)?s:[s],za=()=>{let s=[];return{get observers(){return s},next:i=>{for(const r of s)r.next&&r.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(r=>r!==i)}}),unsubscribe:()=>{s=[]}}};function Ei(s,t){const a={};for(const n in s)if(s.hasOwnProperty(n)){const i=s[n],r=t[n];if(i&&je(i)&&r){const o=Ei(i,r);je(o)&&(a[n]=o)}else s[n]&&(a[n]=r)}return a}var Le=s=>je(s)&&!Object.keys(s).length,wa=s=>s.type==="file",Be=s=>typeof s=="function",us=s=>{if(!ya)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ai=s=>s.type==="select-multiple",va=s=>s.type==="radio",Cu=s=>va(s)||Wt(s),Vs=s=>us(s)&&s.isConnected;function Du(s,t){const a=t.slice(0,-1).length;let n=0;for(;n<a;)s=ve(s)?n++:s[t[n++]];return s}function Ru(s){for(const t in s)if(s.hasOwnProperty(t)&&!ve(s[t]))return!1;return!0}function we(s,t){const a=Array.isArray(t)?t:Cs(t)?[t]:Na(t),n=a.length===1?s:Du(s,a),i=a.length-1,r=a[i];return n&&delete n[r],i!==0&&(je(n)&&Le(n)||Array.isArray(n)&&Ru(n))&&we(s,a.slice(0,-1)),s}var Lu=s=>{for(const t in s)if(Be(s[t]))return!0;return!1};function ki(s){return Array.isArray(s)||je(s)&&!Lu(s)}function na(s,t={}){for(const a in s)ki(s[a])?(t[a]=Array.isArray(s[a])?[]:{},na(s[a],t[a])):De(s[a])||(t[a]=!0);return t}function jt(s,t,a){a||(a=na(t));for(const n in s)ki(s[n])?ve(t)||aa(a[n])?a[n]=na(s[n],Array.isArray(s[n])?[]:{}):jt(s[n],De(t)?{}:t[n],a[n]):a[n]=!et(s[n],t[n]);return a}const Ka={value:!1,isValid:!1},Ya={value:!0,isValid:!0};var Ti=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!ve(s[0].attributes.value)?ve(s[0].value)||s[0].value===""?Ya:{value:s[0].value,isValid:!0}:Ya:Ka}return Ka},Ci=(s,{valueAsNumber:t,valueAsDate:a,setValueAs:n})=>ve(s)?s:t?s===""?NaN:s&&+s:a&&Fe(s)?new Date(s):n?n(s):s;const Ja={isValid:!1,value:null};var Di=s=>Array.isArray(s)?s.reduce((t,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:t,Ja):Ja;function Xa(s){const t=s.ref;return wa(t)?t.files:va(t)?Di(s.refs).value:Ai(t)?[...t.selectedOptions].map(({value:a})=>a):Wt(t)?Ti(s.refs).value:Ci(ve(t.value)?s.ref.value:t.value,s)}var Iu=(s,t,a,n)=>{const i={};for(const r of s){const o=G(t,r);o&&ye(i,r,o._f)}return{criteriaMode:a,names:[...s],fields:i,shouldUseNativeValidation:n}},ms=s=>s instanceof RegExp,It=s=>ve(s)?s:ms(s)?s.source:je(s)?ms(s.value)?s.value.source:s.value:s,en=s=>({isOnSubmit:!s||s===Ve.onSubmit,isOnBlur:s===Ve.onBlur,isOnChange:s===Ve.onChange,isOnAll:s===Ve.all,isOnTouch:s===Ve.onTouched});const tn="AsyncFunction";var Ou=s=>!!s&&!!s.validate&&!!(Be(s.validate)&&s.validate.constructor.name===tn||je(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===tn)),Pu=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),sn=(s,t,a)=>!a&&(t.watchAll||t.watch.has(s)||[...t.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const Ft=(s,t,a,n)=>{for(const i of a||Object.keys(s)){const r=G(s,i);if(r){const{_f:o,...l}=r;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ft(l,t))break}else if(je(l)&&Ft(l,t))break}}};function an(s,t,a){const n=G(s,a);if(n||Cs(a))return{error:n,name:a};const i=a.split(".");for(;i.length;){const r=i.join("."),o=G(t,r),l=G(s,r);if(o&&!Array.isArray(o)&&a!==r)return{name:a};if(l&&l.type)return{name:r,error:l};if(l&&l.root&&l.root.type)return{name:`${r}.root`,error:l.root};i.pop()}return{name:a}}var Mu=(s,t,a,n)=>{a(s);const{name:i,...r}=s;return Le(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find(o=>t[o]===(!n||Ve.all))},Fu=(s,t,a)=>!s||!t||s===t||Mt(s).some(n=>n&&(a?n===t:n.startsWith(t)||t.startsWith(n))),$u=(s,t,a,n,i)=>i.isOnAll?!1:!a&&i.isOnTouch?!(t||s):(a?n.isOnBlur:i.isOnBlur)?!s:(a?n.isOnChange:i.isOnChange)?s:!0,qu=(s,t)=>!ba(G(s,t)).length&&we(s,t),Uu=(s,t,a)=>{const n=Mt(G(s,a));return ye(n,"root",t[a]),ye(s,a,n),s};function nn(s,t,a="validate"){if(Fe(s)||Array.isArray(s)&&s.every(Fe)||Qe(s)&&!s)return{type:a,message:Fe(s)?s:"",ref:t}}var bt=s=>je(s)&&!ms(s)?s:{value:s,message:""},rn=async(s,t,a,n,i,r)=>{const{ref:o,refs:l,required:d,maxLength:c,minLength:m,min:f,max:h,pattern:v,validate:p,name:b,valueAsNumber:g,mount:A}=s._f,x=G(a,b);if(!A||t.has(b))return{};const N=l?l[0]:o,y=Z=>{i&&N.reportValidity&&(N.setCustomValidity(Qe(Z)?"":Z||""),N.reportValidity())},w={},C=va(o),k=Wt(o),O=C||k,M=(g||wa(o))&&ve(o.value)&&ve(x)||us(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,H=Tu.bind(null,b,n,w),J=(Z,V,Q,re=Je.maxLength,X=Je.minLength)=>{const ae=Z?V:Q;w[b]={type:Z?re:X,message:ae,ref:o,...H(Z?re:X,ae)}};if(r?!Array.isArray(x)||!x.length:d&&(!O&&(M||De(x))||Qe(x)&&!x||k&&!Ti(l).isValid||C&&!Di(l).isValid)){const{value:Z,message:V}=Fe(d)?{value:!!d,message:d}:bt(d);if(Z&&(w[b]={type:Je.required,message:V,ref:N,...H(Je.required,V)},!n))return y(V),w}if(!M&&(!De(f)||!De(h))){let Z,V;const Q=bt(h),re=bt(f);if(!De(x)&&!isNaN(x)){const X=o.valueAsNumber||x&&+x;De(Q.value)||(Z=X>Q.value),De(re.value)||(V=X<re.value)}else{const X=o.valueAsDate||new Date(x),ae=P=>new Date(new Date().toDateString()+" "+P),z=o.type=="time",de=o.type=="week";Fe(Q.value)&&x&&(Z=z?ae(x)>ae(Q.value):de?x>Q.value:X>new Date(Q.value)),Fe(re.value)&&x&&(V=z?ae(x)<ae(re.value):de?x<re.value:X<new Date(re.value))}if((Z||V)&&(J(!!Z,Q.message,re.message,Je.max,Je.min),!n))return y(w[b].message),w}if((c||m)&&!M&&(Fe(x)||r&&Array.isArray(x))){const Z=bt(c),V=bt(m),Q=!De(Z.value)&&x.length>+Z.value,re=!De(V.value)&&x.length<+V.value;if((Q||re)&&(J(Q,Z.message,V.message),!n))return y(w[b].message),w}if(v&&!M&&Fe(x)){const{value:Z,message:V}=bt(v);if(ms(Z)&&!x.match(Z)&&(w[b]={type:Je.pattern,message:V,ref:o,...H(Je.pattern,V)},!n))return y(V),w}if(p){if(Be(p)){const Z=await p(x,a),V=nn(Z,N);if(V&&(w[b]={...V,...H(Je.validate,V.message)},!n))return y(V.message),w}else if(je(p)){let Z={};for(const V in p){if(!Le(Z)&&!n)break;const Q=nn(await p[V](x,a),N,V);Q&&(Z={...Q,...H(V,Q.message)},y(Q.message),n&&(w[b]=Z))}if(!Le(Z)&&(w[b]={ref:N,...Z},!n))return w}}return y(!0),w};const Vu={mode:Ve.onSubmit,reValidateMode:Ve.onChange,shouldFocusError:!0};function Bu(s={}){let t={...Vu,...s},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Be(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=je(t.defaultValues)||je(t.values)?Ee(t.defaultValues||t.values)||{}:{},r=t.shouldUnregister?{}:Ee(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,c=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...m};const h={array:za(),state:za()},v=t.criteriaMode===Ve.all,p=S=>T=>{clearTimeout(c),c=setTimeout(S,T)},b=async S=>{if(!t.disabled&&(m.isValid||f.isValid||S)){const T=t.resolver?Le((await k()).errors):await M(n,!0);T!==a.isValid&&h.state.next({isValid:T})}},g=(S,T)=>{!t.disabled&&(m.isValidating||m.validatingFields||f.isValidating||f.validatingFields)&&((S||Array.from(l.mount)).forEach(L=>{L&&(T?ye(a.validatingFields,L,T):we(a.validatingFields,L))}),h.state.next({validatingFields:a.validatingFields,isValidating:!Le(a.validatingFields)}))},A=(S,T=[],L,_,U=!0,$=!0)=>{if(_&&L&&!t.disabled){if(o.action=!0,$&&Array.isArray(G(n,S))){const Y=L(G(n,S),_.argA,_.argB);U&&ye(n,S,Y)}if($&&Array.isArray(G(a.errors,S))){const Y=L(G(a.errors,S),_.argA,_.argB);U&&ye(a.errors,S,Y),qu(a.errors,S)}if((m.touchedFields||f.touchedFields)&&$&&Array.isArray(G(a.touchedFields,S))){const Y=L(G(a.touchedFields,S),_.argA,_.argB);U&&ye(a.touchedFields,S,Y)}(m.dirtyFields||f.dirtyFields)&&(a.dirtyFields=jt(i,r)),h.state.next({name:S,isDirty:J(S,T),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ye(r,S,T)},x=(S,T)=>{ye(a.errors,S,T),h.state.next({errors:a.errors})},N=S=>{a.errors=S,h.state.next({errors:a.errors,isValid:!1})},y=(S,T,L,_)=>{const U=G(n,S);if(U){const $=G(r,S,ve(L)?G(i,S):L);ve($)||_&&_.defaultChecked||T?ye(r,S,T?$:Xa(U._f)):Q(S,$),o.mount&&b()}},w=(S,T,L,_,U)=>{let $=!1,Y=!1;const ue={name:S};if(!t.disabled){if(!L||_){(m.isDirty||f.isDirty)&&(Y=a.isDirty,a.isDirty=ue.isDirty=J(),$=Y!==ue.isDirty);const fe=et(G(i,S),T);Y=!!G(a.dirtyFields,S),fe?we(a.dirtyFields,S):ye(a.dirtyFields,S,!0),ue.dirtyFields=a.dirtyFields,$=$||(m.dirtyFields||f.dirtyFields)&&Y!==!fe}if(L){const fe=G(a.touchedFields,S);fe||(ye(a.touchedFields,S,L),ue.touchedFields=a.touchedFields,$=$||(m.touchedFields||f.touchedFields)&&fe!==L)}$&&U&&h.state.next(ue)}return $?ue:{}},C=(S,T,L,_)=>{const U=G(a.errors,S),$=(m.isValid||f.isValid)&&Qe(T)&&a.isValid!==T;if(t.delayError&&L?(d=p(()=>x(S,L)),d(t.delayError)):(clearTimeout(c),d=null,L?ye(a.errors,S,L):we(a.errors,S)),(L?!et(U,L):U)||!Le(_)||$){const Y={..._,...$&&Qe(T)?{isValid:T}:{},errors:a.errors,name:S};a={...a,...Y},h.state.next(Y)}},k=async S=>{g(S,!0);const T=await t.resolver(r,t.context,Iu(S||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(S),T},O=async S=>{const{errors:T}=await k(S);if(S)for(const L of S){const _=G(T,L);_?ye(a.errors,L,_):we(a.errors,L)}else a.errors=T;return T},M=async(S,T,L={valid:!0})=>{for(const _ in S){const U=S[_];if(U){const{_f:$,...Y}=U;if($){const ue=l.array.has($.name),fe=U._f&&Ou(U._f);fe&&m.validatingFields&&g([$.name],!0);const Ue=await rn(U,l.disabled,r,v,t.shouldUseNativeValidation&&!T,ue);if(fe&&m.validatingFields&&g([$.name]),Ue[$.name]&&(L.valid=!1,T))break;!T&&(G(Ue,$.name)?ue?Uu(a.errors,Ue,$.name):ye(a.errors,$.name,Ue[$.name]):we(a.errors,$.name))}!Le(Y)&&await M(Y,T,L)}}return L.valid},H=()=>{for(const S of l.unMount){const T=G(n,S);T&&(T._f.refs?T._f.refs.every(L=>!Vs(L)):!Vs(T._f.ref))&&qe(S)}l.unMount=new Set},J=(S,T)=>!t.disabled&&(S&&T&&ye(r,S,T),!et(P(),i)),Z=(S,T,L)=>Si(S,l,{...o.mount?r:ve(T)?i:Fe(S)?{[S]:T}:T},L,T),V=S=>ba(G(o.mount?r:i,S,t.shouldUnregister?G(i,S,[]):[])),Q=(S,T,L={})=>{const _=G(n,S);let U=T;if(_){const $=_._f;$&&(!$.disabled&&ye(r,S,Ci(T,$)),U=us($.ref)&&De(T)?"":T,Ai($.ref)?[...$.ref.options].forEach(Y=>Y.selected=U.includes(Y.value)):$.refs?Wt($.ref)?$.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(U)?Y.checked=!!U.find(ue=>ue===Y.value):Y.checked=U===Y.value||!!U)}):$.refs.forEach(Y=>Y.checked=Y.value===U):wa($.ref)?$.ref.value="":($.ref.value=U,$.ref.type||h.state.next({name:S,values:Ee(r)})))}(L.shouldDirty||L.shouldTouch)&&w(S,U,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&de(S)},re=(S,T,L)=>{for(const _ in T){if(!T.hasOwnProperty(_))return;const U=T[_],$=S+"."+_,Y=G(n,$);(l.array.has(S)||je(U)||Y&&!Y._f)&&!ft(U)?re($,U,L):Q($,U,L)}},X=(S,T,L={})=>{const _=G(n,S),U=l.array.has(S),$=Ee(T);ye(r,S,$),U?(h.array.next({name:S,values:Ee(r)}),(m.isDirty||m.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&h.state.next({name:S,dirtyFields:jt(i,r),isDirty:J(S,$)})):_&&!_._f&&!De($)?re(S,$,L):Q(S,$,L),sn(S,l)&&h.state.next({...a,name:S}),h.state.next({name:o.mount?S:void 0,values:Ee(r)})},ae=async S=>{o.mount=!0;const T=S.target;let L=T.name,_=!0;const U=G(n,L),$=fe=>{_=Number.isNaN(fe)||ft(fe)&&isNaN(fe.getTime())||et(fe,G(r,L,fe))},Y=en(t.mode),ue=en(t.reValidateMode);if(U){let fe,Ue;const Zt=T.type?Xa(U._f):vu(S),rt=S.type===Qa.BLUR||S.type===Qa.FOCUS_OUT,Vi=!Pu(U._f)&&!t.resolver&&!G(a.errors,L)&&!U._f.deps||$u(rt,G(a.touchedFields,L),a.isSubmitted,ue,Y),Rs=sn(L,l,rt);ye(r,L,Zt),rt?(!T||!T.readOnly)&&(U._f.onBlur&&U._f.onBlur(S),d&&d(0)):U._f.onChange&&U._f.onChange(S);const Ls=w(L,Zt,rt),Bi=!Le(Ls)||Rs;if(!rt&&h.state.next({name:L,type:S.type,values:Ee(r)}),Vi)return(m.isValid||f.isValid)&&(t.mode==="onBlur"?rt&&b():rt||b()),Bi&&h.state.next({name:L,...Rs?{}:Ls});if(!rt&&Rs&&h.state.next({...a}),t.resolver){const{errors:ja}=await k([L]);if($(Zt),_){const _i=an(a.errors,n,L),Sa=an(ja,n,_i.name||L);fe=Sa.error,L=Sa.name,Ue=Le(ja)}}else g([L],!0),fe=(await rn(U,l.disabled,r,v,t.shouldUseNativeValidation))[L],g([L]),$(Zt),_&&(fe?Ue=!1:(m.isValid||f.isValid)&&(Ue=await M(n,!0)));_&&(U._f.deps&&(!Array.isArray(U._f.deps)||U._f.deps.length>0)&&de(U._f.deps),C(L,Ue,fe,Ls))}},z=(S,T)=>{if(G(a.errors,T)&&S.focus)return S.focus(),1},de=async(S,T={})=>{let L,_;const U=Mt(S);if(t.resolver){const $=await O(ve(S)?S:U);L=Le($),_=S?!U.some(Y=>G($,Y)):L}else S?(_=(await Promise.all(U.map(async $=>{const Y=G(n,$);return await M(Y&&Y._f?{[$]:Y}:Y)}))).every(Boolean),!(!_&&!a.isValid)&&b()):_=L=await M(n);return h.state.next({...!Fe(S)||(m.isValid||f.isValid)&&L!==a.isValid?{}:{name:S},...t.resolver||!S?{isValid:L}:{},errors:a.errors}),T.shouldFocus&&!_&&Ft(n,z,S?U:l.mount),_},P=(S,T)=>{let L={...o.mount?r:i};return T&&(L=Ei(T.dirtyFields?a.dirtyFields:a.touchedFields,L)),ve(S)?L:Fe(S)?G(L,S):S.map(_=>G(L,_))},W=(S,T)=>({invalid:!!G((T||a).errors,S),isDirty:!!G((T||a).dirtyFields,S),error:G((T||a).errors,S),isValidating:!!G(a.validatingFields,S),isTouched:!!G((T||a).touchedFields,S)}),se=S=>{S&&Mt(S).forEach(T=>we(a.errors,T)),h.state.next({errors:S?a.errors:{}})},ne=(S,T,L)=>{const _=(G(n,S,{_f:{}})._f||{}).ref,U=G(a.errors,S)||{},{ref:$,message:Y,type:ue,...fe}=U;ye(a.errors,S,{...fe,...T,ref:_}),h.state.next({name:S,errors:a.errors,isValid:!1}),L&&L.shouldFocus&&_&&_.focus&&_.focus()},me=(S,T)=>Be(S)?h.state.subscribe({next:L=>"values"in L&&S(Z(void 0,T),L)}):Z(S,T,!0),xe=S=>h.state.subscribe({next:T=>{Fu(S.name,T.name,S.exact)&&Mu(T,S.formState||m,ce,S.reRenderRoot)&&S.callback({values:{...r},...a,...T,defaultValues:i})}}).unsubscribe,ut=S=>(o.mount=!0,f={...f,...S.formState},xe({...S,formState:f})),qe=(S,T={})=>{for(const L of S?Mt(S):l.mount)l.mount.delete(L),l.array.delete(L),T.keepValue||(we(n,L),we(r,L)),!T.keepError&&we(a.errors,L),!T.keepDirty&&we(a.dirtyFields,L),!T.keepTouched&&we(a.touchedFields,L),!T.keepIsValidating&&we(a.validatingFields,L),!t.shouldUnregister&&!T.keepDefaultValue&&we(i,L);h.state.next({values:Ee(r)}),h.state.next({...a,...T.keepDirty?{isDirty:J()}:{}}),!T.keepIsValid&&b()},nt=({disabled:S,name:T})=>{(Qe(S)&&o.mount||S||l.disabled.has(T))&&(S?l.disabled.add(T):l.disabled.delete(T))},R=(S,T={})=>{let L=G(n,S);const _=Qe(T.disabled)||Qe(t.disabled);return ye(n,S,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:S}},name:S,mount:!0,...T}}),l.mount.add(S),L?nt({disabled:Qe(T.disabled)?T.disabled:t.disabled,name:S}):y(S,!0,T.value),{..._?{disabled:T.disabled||t.disabled}:{},...t.progressive?{required:!!T.required,min:It(T.min),max:It(T.max),minLength:It(T.minLength),maxLength:It(T.maxLength),pattern:It(T.pattern)}:{},name:S,onChange:ae,onBlur:ae,ref:U=>{if(U){R(S,T),L=G(n,S);const $=ve(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,Y=Cu($),ue=L._f.refs||[];if(Y?ue.find(fe=>fe===$):$===L._f.ref)return;ye(n,S,{_f:{...L._f,...Y?{refs:[...ue.filter(Vs),$,...Array.isArray(G(i,S))?[{}]:[]],ref:{type:$.type,name:S}}:{ref:$}}}),y(S,!1,void 0,$)}else L=G(n,S,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||T.shouldUnregister)&&!(Su(l.array,S)&&o.action)&&l.unMount.add(S)}}},oe=()=>t.shouldFocusError&&Ft(n,z,l.mount),K=S=>{Qe(S)&&(h.state.next({disabled:S}),Ft(n,(T,L)=>{const _=G(n,L);_&&(T.disabled=_._f.disabled||S,Array.isArray(_._f.refs)&&_._f.refs.forEach(U=>{U.disabled=_._f.disabled||S}))},0,!1))},j=(S,T)=>async L=>{let _;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let U=Ee(r);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:$,values:Y}=await k();a.errors=$,U=Ee(Y)}else await M(n);if(l.disabled.size)for(const $ of l.disabled)we(U,$);if(we(a.errors,"root"),Le(a.errors)){h.state.next({errors:{}});try{await S(U,L)}catch($){_=$}}else T&&await T({...a.errors},L),oe(),setTimeout(oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Le(a.errors)&&!_,submitCount:a.submitCount+1,errors:a.errors}),_)throw _},E=(S,T={})=>{G(n,S)&&(ve(T.defaultValue)?X(S,Ee(G(i,S))):(X(S,T.defaultValue),ye(i,S,Ee(T.defaultValue))),T.keepTouched||we(a.touchedFields,S),T.keepDirty||(we(a.dirtyFields,S),a.isDirty=T.defaultValue?J(S,Ee(G(i,S))):J()),T.keepError||(we(a.errors,S),m.isValid&&b()),h.state.next({...a}))},B=(S,T={})=>{const L=S?Ee(S):i,_=Ee(L),U=Le(S),$=U?i:_;if(T.keepDefaultValues||(i=L),!T.keepValues){if(T.keepDirtyValues){const Y=new Set([...l.mount,...Object.keys(jt(i,r))]);for(const ue of Array.from(Y))G(a.dirtyFields,ue)?ye($,ue,G(r,ue)):X(ue,G($,ue))}else{if(ya&&ve(S))for(const Y of l.mount){const ue=G(n,Y);if(ue&&ue._f){const fe=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(us(fe)){const Ue=fe.closest("form");if(Ue){Ue.reset();break}}}}if(T.keepFieldsRef)for(const Y of l.mount)X(Y,G($,Y));else n={}}r=t.shouldUnregister?T.keepDefaultValues?Ee(i):{}:Ee($),h.array.next({values:{...$}}),h.state.next({values:{...$}})}l={mount:T.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!T.keepIsValid||!!T.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:T.keepSubmitCount?a.submitCount:0,isDirty:U?!1:T.keepDirty?a.isDirty:!!(T.keepDefaultValues&&!et(S,i)),isSubmitted:T.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:U?{}:T.keepDirtyValues?T.keepDefaultValues&&r?jt(i,r):a.dirtyFields:T.keepDefaultValues&&S?jt(i,S):T.keepDirty?a.dirtyFields:{},touchedFields:T.keepTouched?a.touchedFields:{},errors:T.keepErrors?a.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ee=(S,T)=>B(Be(S)?S(r):S,T),le=(S,T={})=>{const L=G(n,S),_=L&&L._f;if(_){const U=_.refs?_.refs[0]:_.ref;U.focus&&(U.focus(),T.shouldSelect&&Be(U.select)&&U.select())}},ce=S=>{a={...a,...S}},it={control:{register:R,unregister:qe,getFieldState:W,handleSubmit:j,setError:ne,_subscribe:xe,_runSchema:k,_focusError:oe,_getWatch:Z,_getDirty:J,_setValid:b,_setFieldArray:A,_setDisabledField:nt,_setErrors:N,_getFieldArray:V,_reset:B,_resetDefaultValues:()=>Be(t.defaultValues)&&t.defaultValues().then(S=>{ee(S,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:K,_subjects:h,_proxyFormState:m,get _fields(){return n},get _formValues(){return r},get _state(){return o},set _state(S){o=S},get _defaultValues(){return i},get _names(){return l},set _names(S){l=S},get _formState(){return a},get _options(){return t},set _options(S){t={...t,...S}}},subscribe:ut,trigger:de,register:R,handleSubmit:j,watch:me,setValue:X,getValues:P,reset:ee,resetField:E,clearErrors:se,unregister:qe,setError:ne,setFocus:le,getFieldState:W};return{...it,formControl:it}}function Dt(s={}){const t=Ne.useRef(void 0),a=Ne.useRef(void 0),[n,i]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:Be(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:Be(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:n},s.defaultValues&&!Be(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...l}=Bu(s);t.current={...l,formState:n}}const r=t.current.control;return r._options=s,ji(()=>{const o=r._subscribe({formState:r._proxyFormState,callback:()=>i({...r._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),r._formState.isReady=!0,o},[r]),Ne.useEffect(()=>r._disableForm(s.disabled),[r,s.disabled]),Ne.useEffect(()=>{s.mode&&(r._options.mode=s.mode),s.reValidateMode&&(r._options.reValidateMode=s.reValidateMode)},[r,s.mode,s.reValidateMode]),Ne.useEffect(()=>{s.errors&&(r._setErrors(s.errors),r._focusError())},[r,s.errors]),Ne.useEffect(()=>{s.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,s.shouldUnregister]),Ne.useEffect(()=>{if(r._proxyFormState.isDirty){const o=r._getDirty();o!==n.isDirty&&r._subjects.state.next({isDirty:o})}},[r,n.isDirty]),Ne.useEffect(()=>{s.values&&!et(s.values,a.current)?(r._reset(s.values,{keepFieldsRef:!0,...r._options.resetOptions}),a.current=s.values,i(o=>({...o}))):r._resetDefaultValues()},[r,s.values]),Ne.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),t.current.formState=ku(n,r),t.current}const _u=()=>e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs(F.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-30 rounded-2xl flex items-center justify-center mb-8 backdrop-blur-sm animate-pulse",children:e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"h-10 bg-white bg-opacity-30 rounded-lg mb-2 animate-pulse"}),e.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded-lg w-3/4 animate-pulse"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2 w-5/6 animate-pulse"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded w-4/5 animate-pulse"})]}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-40 rounded-full mr-3"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded flex-1"})]},s))})]})})]}),e.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[e.jsx(F.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:e.jsxs("div",{className:"text-center lg:text-left mb-8",children:[e.jsx("div",{className:"lg:hidden w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto lg:mx-0 mb-6 shadow-lg animate-pulse",children:e.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-50 rounded"})}),e.jsx("div",{className:"h-8 bg-gray-200 rounded-lg mb-2 animate-pulse"}),e.jsx("div",{className:"h-5 bg-gray-100 rounded-lg w-3/4 animate-pulse"})]})}),e.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[1,2].map(s=>e.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-200 bg-white animate-pulse",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded mx-auto mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-1"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto"})]},s))}),e.jsxs(F.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),e.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/4 animate-pulse"}),e.jsx("div",{className:"h-12 bg-gray-100 rounded-xl animate-pulse"})]})]}),e.jsx("div",{children:e.jsx("div",{className:"w-full h-12 bg-gray-200 rounded-xl animate-pulse"})}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"h-3 bg-gray-100 rounded w-2/3 mx-auto animate-pulse"})})]})]})]})]});function Hu(){const[s,t]=u.useState(!1),[a,n]=u.useState(!1),[i,r]=u.useState(null),[o,l]=u.useState(!0),{login:d,isAuthenticated:c}=$e(),m=Ge(),{register:f,handleSubmit:h,setValue:v,formState:{errors:p}}=Dt();u.useEffect(()=>{const A=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(A)},[]),u.useEffect(()=>{c&&(console.log("✅ User authenticated, navigating to dashboard..."),m("/dashboard"))},[c,m]);const b=A=>{r(A),v("email",""),v("password","")},g=async A=>{n(!0);try{console.log("🚀 [VERCEL] Attempting staff login..."),await d(A),console.log("✅ [VERCEL] Login successful, authentication state should update...")}catch(x){console.error("❌ [VERCEL] Login failed:",x)}finally{n(!1)}};return o?e.jsx(_u,{}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-green-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-4xl w-full flex bg-white rounded-3xl shadow-2xl overflow-hidden relative z-10",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 p-12 flex-col justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs(F.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},children:[e.jsx("div",{className:"mb-10 flex justify-center items-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-48 h-48 object-contain hover:scale-120 transition-all duration-300",style:{filter:"contrast(3.0) saturate(2.5) brightness(2.5) drop-shadow(0 6px 12px rgba(0,0,0,0.15))",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%",transform:"translateZ(0)",backfaceVisibility:"hidden"}})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Welcome Back!"}),e.jsx("p",{className:"text-green-100 text-lg mb-8 leading-relaxed",children:"Sign in to access your business loan management dashboard and streamline your financial operations."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),e.jsx("span",{children:"Secure loan processing"})]}),e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),e.jsx("span",{children:"Real-time application tracking"})]}),e.jsxs("div",{className:"flex items-center text-green-100",children:[e.jsx("div",{className:"w-2 h-2 bg-green-300 rounded-full mr-3"}),e.jsx("span",{children:"Comprehensive dashboard"})]})]})]})})]}),e.jsxs("div",{className:"w-full lg:w-1/2 p-12 flex flex-col justify-center",children:[e.jsx(F.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},children:e.jsxs("div",{className:"text-center lg:text-left mb-8",children:[e.jsx("div",{className:"lg:hidden mb-8 flex justify-center items-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"w-44 h-44 object-contain hover:scale-120 transition-all duration-300",style:{filter:"contrast(3.0) saturate(2.5) brightness(2.5) drop-shadow(0 6px 12px rgba(0,0,0,0.15))",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%",transform:"translateZ(0)",backfaceVisibility:"hidden"}})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login to your account"}),e.jsx("p",{className:"text-gray-600",children:"Choose your role and enter your credentials"})]})}),e.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs(F.button,{type:"button",onClick:()=>b("ADMIN"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${i==="ADMIN"?"border-green-500 bg-green-50 shadow-lg ring-2 ring-green-200":"border-gray-200 bg-white hover:border-green-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(kt,{className:`h-8 w-8 mx-auto mb-2 ${i==="ADMIN"?"text-green-600":"text-gray-400"}`}),e.jsx("div",{className:`font-semibold ${i==="ADMIN"?"text-green-900":"text-gray-700"}`,children:"Admin"}),e.jsx("div",{className:`text-xs ${i==="ADMIN"?"text-green-600":"text-gray-500"}`,children:"Full Access"})]}),e.jsxs(F.button,{type:"button",onClick:()=>b("EMPLOYEE"),className:`p-4 rounded-xl border-2 transition-all duration-300 ${i==="EMPLOYEE"?"border-emerald-500 bg-emerald-50 shadow-lg ring-2 ring-emerald-200":"border-gray-200 bg-white hover:border-emerald-300 hover:shadow-md"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(at,{className:`h-8 w-8 mx-auto mb-2 ${i==="EMPLOYEE"?"text-emerald-600":"text-gray-400"}`}),e.jsx("div",{className:`font-semibold ${i==="EMPLOYEE"?"text-emerald-900":"text-gray-700"}`,children:"Employee"}),e.jsx("div",{className:`text-xs ${i==="EMPLOYEE"?"text-emerald-600":"text-gray-500"}`,children:"Limited Access"})]})]}),e.jsxs(F.form,{className:"space-y-6",onSubmit:h(g),initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[i&&e.jsx(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[i==="ADMIN"?e.jsx(kt,{className:"h-5 w-5 text-green-600"}):e.jsx(at,{className:"h-5 w-5 text-emerald-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Logging in as ",i==="ADMIN"?"Admin":"Employee"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),e.jsx("input",{...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter your email"}),p.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:s?"text":"password",className:"input-field pr-12",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>t(!s),children:s?e.jsx(ds,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"}):e.jsx(Oe,{className:"h-5 w-5 text-slate-400 hover:text-slate-600"})})]}),p.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password.message})]})]}),e.jsx("div",{children:e.jsx(F.button,{type:"submit",disabled:a||!i,className:`w-full py-3 px-4 rounded-xl font-semibold text-white transition-all duration-300 ${i?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gray-300 cursor-not-allowed"} ${a?"animate-pulse":""}`,whileHover:i&&!a?{scale:1.02}:{},whileTap:i&&!a?{scale:.98}:{},children:a?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):i?`Sign in as ${i==="ADMIN"?"Admin":"Employee"}`:"Select a role to continue"})})]})]})]})]})}const Gu=()=>{const{user:s}=$e(),{data:t,isLoading:a,error:n,refetch:i}=he(["dashboard-data",s==null?void 0:s.id],async()=>{var A;console.log("📊 [VERCEL] Fetching dashboard data for user:",s==null?void 0:s.name);let r=[];try{r=(await q.get("/api/enquiries")).data||[],console.log("📊 Dashboard fetched enquiries:",r.length,"enquiries")}catch(x){console.log("📊 Fetch error, using empty data:",x),r=[]}let o=0;try{o=((await q.get("/api/shortlist")).data||[]).length||0}catch(x){console.log("📊 Shortlist fetch error:",x),o=0}let l=0;try{l=((await q.get("/api/documents")).data||[]).filter(y=>!y.verified).length||0,console.log("📊 Documents awaiting verification:",l)}catch(x){console.log("📊 Documents fetch error:",x),l=0}let d=0;try{d=((await q.get("/api/cashfree/applications")).data||[]).filter(y=>y.status==="TRANSACTION_DONE").length||0}catch(x){console.log("📊 Payment fetch error:",x),d=0}let c=0,m=0,f=0;try{const N=(await q.get("/api/transactions")).data||[];c=N.length||0,m=N.filter(y=>y.status==="COMPLETED").length||0,f=N.filter(y=>y.status==="PENDING").length||0,console.log("📊 Transactions data:",{totalTransactions:c,completedTransactions:m,pendingTransactions:f})}catch(x){console.log("📊 Transactions fetch error:",x),c=0,m=0,f=0}let h=7;try{const N=((A=(await q.get("/api/staff")).data)==null?void 0:A.staff)||[];h=N.filter(y=>y.status==="ACTIVE").length||N.length||7,console.log("📊 Active staff count:",h)}catch(x){console.log("📊 Staff fetch error:",x),h=7}const v={totalEnquiries:r.length,pendingReview:r.filter(x=>x.interestStatus==="INTERESTED").length,approved:r.filter(x=>x.interestStatus==="APPROVED").length,rejected:r.filter(x=>x.interestStatus==="NOT_INTERESTED").length,documentsAwaiting:l,clientsShortlisted:o,paymentGatewayComplete:d,totalTransactions:c,completedTransactions:m,pendingTransactions:f,totalRevenue:d*5e5,monthlyGrowth:r.length>0?Math.round(Math.random()*20+5):0,activeStaff:h},p=r.length,b=[{stage:"Initial Enquiry",count:v.totalEnquiries,percentage:p>0?100:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:v.documentsAwaiting,percentage:p>0?Math.round(v.documentsAwaiting/p*100):0,color:"bg-indigo-500"},{stage:"Under Review",count:v.pendingReview,percentage:p>0?Math.round(v.pendingReview/p*100):0,color:"bg-purple-500"},{stage:"Approved",count:v.approved,percentage:p>0?Math.round(v.approved/p*100):0,color:"bg-green-500"},{stage:"Loan Disbursed",count:v.paymentGatewayComplete,percentage:p>0?Math.round(v.paymentGatewayComplete/p*100):0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:v.completedTransactions,percentage:p>0?Math.round(v.completedTransactions/p*100):0,color:"bg-teal-500"}],g=r.sort((x,N)=>new Date(N.createdAt).getTime()-new Date(x.createdAt).getTime()).slice(0,10).map(x=>{var y;let N="Unassigned";return(y=x.staff)!=null&&y.name?N=x.staff.name:x.assignedStaff?N=x.assignedStaff:x.staffId&&(N={1:"Perivi (Admin)",2:"Venkat (Employee)",3:"Harish (Admin)",4:"Pankil (Admin)",5:"Dinesh (Employee)",6:"Nunciya (Admin)",7:"Admin User (System Admin)"}[x.staffId]||`Staff ID: ${x.staffId}`),{id:x.id,name:x.name||x.businessName||`Client ${x.id}`,mobile:x.mobile||"N/A",businessType:x.businessType||"General Business",interestStatus:x.interestStatus||"INTERESTED",createdAt:x.createdAt||new Date().toISOString(),staff:{name:N}}});return{stats:v,enquiryFunnel:b,recentEnquiries:g}},{enabled:!!s,staleTime:30*1e3,cacheTime:10*60*1e3,refetchInterval:30*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchIntervalInBackground:!1,retry:3,retryDelay:r=>Math.min(1e3*2**r,3e4),onSuccess:r=>{console.log("📊 Dashboard data updated:",{totalEnquiries:r.stats.totalEnquiries,shortlisted:r.stats.clientsShortlisted,payments:r.stats.paymentGatewayComplete,activeStaff:r.stats.activeStaff,timestamp:new Date().toLocaleTimeString()})},onError:r=>{console.error("📊 Dashboard data fetch error:",r)},select:r=>r||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]}});return{data:t||{stats:{totalEnquiries:0,pendingReview:0,approved:0,rejected:0,documentsAwaiting:0,clientsShortlisted:0,paymentGatewayComplete:0,totalTransactions:0,completedTransactions:0,pendingTransactions:0,totalRevenue:0,monthlyGrowth:0,activeStaff:7},enquiryFunnel:[{stage:"Initial Enquiry",count:0,percentage:0,color:"bg-blue-500"},{stage:"Documents Awaiting Verification",count:0,percentage:0,color:"bg-indigo-500"},{stage:"Under Review",count:0,percentage:0,color:"bg-purple-500"},{stage:"Approved",count:0,percentage:0,color:"bg-green-500"},{stage:"Loan Disbursed",count:0,percentage:0,color:"bg-emerald-500"},{stage:"Transactions Completed",count:0,percentage:0,color:"bg-teal-500"}],recentEnquiries:[]},loading:a,error:n,refetch:i}},Wu=()=>{const{user:s}=$e(),{data:t,isLoading:a,error:n,refetch:i}=he(["individual-dashboard",s==null?void 0:s.id,s==null?void 0:s.email],async()=>{if(console.log("🚀 [VERCEL] Fetching individual dashboard for staff:",s==null?void 0:s.name,"(",s==null?void 0:s.email,")"),!s)throw new Error("User not authenticated");let r=[];try{r=((await q.get("/api/enquiries")).data||[]).filter(C=>{var H,J;const k=C.staffId===s.id,O=C.assignedStaff===s.name||((H=C.staff)==null?void 0:H.name)===s.name,M=((J=C.staff)==null?void 0:J.email)===s.email;return s.email==="admin@gmail.com"?!0:k||O||M}),console.log("🚀 [VERCEL] Staff",s.name,"enquiries:",r.length)}catch(y){console.log("❌ [VERCEL] Enquiries fetch error:",y),r=[]}let o=[];try{o=((await q.get("/api/documents")).data||[]).filter(C=>{var O;const k=C.verifiedBy===s.name||((O=C.uploadedBy)==null?void 0:O.name)===s.name||C.staffId===s.id;return s.email==="admin@gmail.com"?!0:k}),console.log("🚀 [VERCEL] Staff",s.name,"documents:",o.length)}catch(y){console.log("❌ [VERCEL] Documents fetch error:",y),o=[]}let l=[];try{l=((await q.get("/api/shortlist")).data||[]).filter(C=>{const k=C.createdBy===s.name||C.staffId===s.id||C.staff===s.name;return s.email==="admin@gmail.com"?!0:k}),console.log("🚀 [VERCEL] Staff",s.name,"shortlists:",l.length)}catch(y){console.log("❌ [VERCEL] Shortlists fetch error:",y),l=[]}let d=[];try{d=((await q.get("/api/cashfree/applications")).data||[]).filter(C=>{var O,M;const k=((O=C.submittedBy)==null?void 0:O.name)===s.name||((M=C.submittedBy)==null?void 0:M.email)===s.email||C.staffId===s.id;return s.email==="admin@gmail.com"?!0:k}),console.log("🚀 [VERCEL] Staff",s.name,"payments:",d.length)}catch(y){console.log("❌ [VERCEL] Payments fetch error:",y),d=[]}const c=new Date,m=new Date(c.setDate(c.getDate()-c.getDay())),f=new Date(m);f.setDate(f.getDate()-7);const h=new Date(c.getFullYear(),c.getMonth(),1),v=r.filter(y=>new Date(y.createdAt)>=m).length,p=r.filter(y=>{const w=new Date(y.createdAt);return w>=f&&w<m}).length,b=r.filter(y=>new Date(y.createdAt)>=h).length,g={myEnquiries:r.length,myDocumentsProcessed:o.filter(y=>y.verified).length,myShortlisted:l.length,myPaymentApplications:d.length,myCompletedTasks:o.filter(y=>y.verified).length+l.length+d.filter(y=>y.status==="COMPLETED").length,myPendingTasks:o.filter(y=>!y.verified).length+d.filter(y=>y.status==="PENDING").length,totalClientsHandled:r.length,successRate:r.length>0?Math.round(d.filter(y=>y.status==="COMPLETED").length/r.length*100):0,thisMonthEnquiries:b,thisWeekEnquiries:v},A=[...r.slice(0,3).map(y=>({id:y.id,type:"ENQUIRY",clientName:y.name||y.businessName||"Unknown Client",action:"New enquiry received",timestamp:y.createdAt,status:y.interestStatus||"PENDING"})),...o.slice(0,2).map(y=>{var w;return{id:y.id,type:"DOCUMENT",clientName:((w=y.enquiry)==null?void 0:w.name)||"Unknown Client",action:y.verified?"Document verified":"Document uploaded",timestamp:y.createdAt,status:y.verified?"VERIFIED":"PENDING"}}),...l.slice(0,2).map(y=>({id:y.id,type:"SHORTLIST",clientName:y.name||"Unknown Client",action:"Added to shortlist",timestamp:y.createdAt,status:y.interestStatus||"ACTIVE"})),...d.slice(0,2).map(y=>{var w;return{id:y.id,type:"PAYMENT",clientName:((w=y.shortlist)==null?void 0:w.name)||"Unknown Client",action:"Payment application processed",timestamp:y.createdAt,status:y.status||"PENDING"}})].sort((y,w)=>new Date(w.timestamp).getTime()-new Date(y.timestamp).getTime()).slice(0,8),x=r.map(y=>({id:y.id,name:y.name||y.businessName||"Unknown Client",mobile:y.mobile||"N/A",businessType:y.businessType||"General Business",status:y.interestStatus||"INTERESTED",lastActivity:y.createdAt,documentsCount:o.filter(w=>w.enquiryId===y.id).length,isShortlisted:l.some(w=>w.enquiryId===y.id),hasPaymentApplication:d.some(w=>{var C,k;return((k=(C=w.shortlist)==null?void 0:C.enquiry)==null?void 0:k.id)===y.id})})),N={thisWeek:v,lastWeek:p,growth:p>0?Math.round((v-p)/p*100):0};return{stats:g,recentActivities:A,myClients:x,performanceMetrics:N}},{enabled:!!s,staleTime:30*1e3,cacheTime:10*60*1e3,refetchInterval:30*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchIntervalInBackground:!1,retry:2,retryDelay:r=>Math.min(1e3*2**r,1e4),onSuccess:r=>{console.log("🚀 [VERCEL] Individual dashboard updated for",s==null?void 0:s.name,":",{myEnquiries:r.stats.myEnquiries,myShortlisted:r.stats.myShortlisted,myPayments:r.stats.myPaymentApplications,successRate:r.stats.successRate,totalClients:r.stats.totalClientsHandled,isAdmin:(s==null?void 0:s.email)==="admin@gmail.com",timestamp:new Date().toLocaleTimeString()})},onError:r=>{console.error("❌ [VERCEL] Individual dashboard fetch error for",s==null?void 0:s.name,":",r)}});return{data:t||{stats:{myEnquiries:0,myDocumentsProcessed:0,myShortlisted:0,myPaymentApplications:0,myCompletedTasks:0,myPendingTasks:0,totalClientsHandled:0,successRate:0,thisMonthEnquiries:0,thisWeekEnquiries:0},recentActivities:[],myClients:[],performanceMetrics:{thisWeek:0,lastWeek:0,growth:0}},loading:a,error:n,refetch:i}};function Zu({onSwitchToGlobal:s}){const{user:t}=$e(),{data:a,loading:n,refetch:i}=Wu(),r=l=>{switch(l==null?void 0:l.toLowerCase()){case"completed":case"verified":case"approved":return"bg-green-100 text-green-800";case"interested":case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"not_interested":case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=l=>{switch(l){case"ENQUIRY":return ht;case"DOCUMENT":return Te;case"SHORTLIST":return qs;case"PAYMENT":return ns;default:return ht}};return n?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,d)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},d))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):e.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:s,className:"bg-white bg-opacity-10 rounded-xl p-4 border border-white border-opacity-20 hover:bg-opacity-20 transition-all duration-200 cursor-pointer",title:"Switch to Global Dashboard",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Global Dashboard"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"System Overview"})]}),e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"My Dashboard"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Personal Stats"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[e.jsx(Za,{className:"h-5 w-5 text-yellow-300"}),e.jsxs("p",{className:"text-blue-100 text-sm",children:["Success Rate: ",a.stats.successRate,"%"]})]}),e.jsxs("p",{className:"text-blue-200 text-xs",children:[a.stats.totalClientsHandled," clients handled • Role: ",t==null?void 0:t.role]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s&&e.jsxs("button",{onClick:s,className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200",title:"Switch to Global Dashboard",children:[e.jsx(wc,{className:"h-4 w-4 mr-2"}),"Global Dashboard"]}),e.jsxs("button",{onClick:()=>i(),disabled:n,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${n?"opacity-50 cursor-not-allowed":""}`,title:"Refresh my dashboard data",children:[e.jsx("svg",{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Updating...":"Refresh"]})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ta,{className:"h-5 w-5 text-green-300"}),e.jsxs("span",{className:"text-sm",children:["Growth: ",a.performanceMetrics.growth,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dd,{className:"h-5 w-5 text-orange-300"}),e.jsxs("span",{className:"text-sm",children:["This Week: ",a.performanceMetrics.thisWeek," enquiries"]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:"My Enquiries",value:a.stats.myEnquiries,icon:ht,color:"from-blue-500 to-blue-600",change:`+${a.stats.thisWeekEnquiries} this week`,trend:"up"},{title:"Documents Processed",value:a.stats.myDocumentsProcessed,icon:Te,color:"from-green-500 to-emerald-600",change:"Verified",trend:"up"},{title:"Clients Shortlisted",value:a.stats.myShortlisted,icon:qs,color:"from-yellow-500 to-orange-500",change:"Active",trend:"up"},{title:"Payment Applications",value:a.stats.myPaymentApplications,icon:ns,color:"from-purple-500 to-indigo-600",change:"Processed",trend:"up"},{title:"Pending Tasks",value:a.stats.myPendingTasks,icon:Gt,color:"from-red-500 to-pink-600",change:"To Complete",trend:a.stats.myPendingTasks>0?"down":"up"}].map((l,d)=>{const c=l.icon;return e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${l.color}`,children:e.jsx(c,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${l.trend==="up"?"text-green-600":"text-red-600"}`,children:[l.trend==="up"?e.jsx(fi,{className:"h-4 w-4"}):e.jsx(mi,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:l.change})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:l.value}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:l.title})]},d)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Recent Activities"}),e.jsx(cs,{className:"h-6 w-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:a.recentActivities.length>0?a.recentActivities.map((l,d)=>{const c=o(l.type);return e.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+d*.1},className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(c,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",l.clientName]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleString()})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(l.status)}`,children:l.status})})]},l.id)}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ht,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No recent activities"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your activities will appear here"})]})})]}),e.jsxs(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My Clients (",a.myClients.length,")"]}),e.jsx(at,{className:"h-6 w-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.myClients.length>0?a.myClients.map((l,d)=>e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+d*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:l.name}),l.isShortlisted&&e.jsx(qs,{className:"h-4 w-4 text-yellow-500"}),l.hasPaymentApplication&&e.jsx(ns,{className:"h-4 w-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l.mobile}),e.jsx("p",{className:"text-xs text-gray-500",children:l.businessType}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[l.documentsCount," docs"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(l.status)}`,children:l.status})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-1 text-blue-600 hover:text-blue-800",title:"View Client",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-indigo-600 hover:text-indigo-800",title:"Edit Client",children:e.jsx(tt,{className:"h-4 w-4"})})]})]},l.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(at,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No clients assigned"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Clients will appear here when assigned to you"})]})})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Performance Summary"}),e.jsx(Za,{className:"h-6 w-6 text-yellow-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[a.stats.successRate,"%"]}),e.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Success Rate"}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Conversion to Payment"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:a.stats.myCompletedTasks}),e.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Completed Tasks"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"This Month"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:a.stats.thisMonthEnquiries}),e.jsx("div",{className:"text-sm text-purple-700 font-medium",children:"This Month"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"New Enquiries"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:[a.performanceMetrics.growth>0?"+":"",a.performanceMetrics.growth,"%"]}),e.jsx("div",{className:"text-sm text-orange-700 font-medium",children:"Weekly Growth"}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"vs Last Week"})]})]})]})]})}const on={stats:{totalEnquiries:156,pendingReview:23,approved:89,rejected:44,documentsAwaiting:31,clientsShortlisted:12,paymentGatewayComplete:8,totalRevenue:245e4,monthlyGrowth:12.5,activeStaff:15},enquiryFunnel:[{stage:"Initial Enquiry",count:156,percentage:100,color:"bg-blue-500"},{stage:"Documents Submitted",count:98,percentage:62.8,color:"bg-indigo-500"},{stage:"Under Review",count:67,percentage:42.9,color:"bg-purple-500"},{stage:"Approved",count:45,percentage:28.8,color:"bg-green-500"},{stage:"Loan Disbursed",count:23,percentage:14.7,color:"bg-emerald-500"}],recentEnquiries:[{id:1,name:"TechCorp Solutions",contact:"Rajesh Kumar",amount:"₹50,00,000",status:"Under Review",date:"2 hours ago",priority:"high"},{id:2,name:"Global Enterprises",contact:"Priya Sharma",amount:"₹75,00,000",status:"Approved",date:"5 hours ago",priority:"medium"},{id:3,name:"StartupCorp",contact:"Amit Patel",amount:"₹25,00,000",status:"Pending Documents",date:"1 day ago",priority:"low"},{id:4,name:"InnovateTech",contact:"Sneha Reddy",amount:"₹1,20,00,000",status:"Under Review",date:"2 days ago",priority:"high"},{id:5,name:"BusinessHub",contact:"Vikram Singh",amount:"₹35,00,000",status:"Rejected",date:"3 days ago",priority:"low"}],rolePermissions:{employee:[{feature:"Enquiry & Doc Verification",access:"Active",color:"text-green-600"},{feature:"Basic Analytics View",access:"Active",color:"text-green-600"}],admin:[{feature:"Full Access - All Features",access:"Full Access",color:"text-blue-600"},{feature:"Staff Management & System Control",access:"Full Access",color:"text-blue-600"}]}};function Qu(){var v,p;const{user:s}=$e(),t=Ge();u.useState("overview");const{data:a,loading:n,error:i,refetch:r}=Gu(),o=b=>{console.log("👁️ Viewing enquiry:",b.name),t(`/enquiries?view=${b.id}`)},l=b=>{console.log("✏️ Editing enquiry:",b.name),t(`/enquiries?edit=${b.id}`)},d=b=>{console.log("🗑️ Deleting enquiry:",b.name),window.confirm(`Are you sure you want to delete enquiry for ${b.name}?`)&&I.success(`Enquiry for ${b.name} deleted successfully`)},c=()=>{console.log("📋 Navigating to all enquiries"),t("/enquiries")},[m,f]=u.useState(!1);if(m)return e.jsx(Zu,{onSwitchToGlobal:()=>f(!1)});const h=b=>{switch(b==null?void 0:b.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"interested":return"bg-blue-100 text-blue-800";case"not_interested":return"bg-red-100 text-red-800";case"under review":return"bg-yellow-100 text-yellow-800";case"pending documents":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((b,g)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},g))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})]})}):e.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Global Dashboard"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"System Overview"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-white bg-opacity-10 rounded-xl p-4 border border-white border-opacity-20 hover:bg-opacity-20 transition-all duration-200 cursor-pointer",title:"Switch to My Personal Dashboard",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"My Dashboard"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Personal Stats"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-yellow-300 animate-pulse":"bg-green-300"}`}),e.jsx("p",{className:"text-blue-100 text-sm",children:n?"Updating...":"Auto-refreshes every 10 seconds"})]}),e.jsx("p",{className:"text-blue-200 text-xs",children:a!=null&&a.stats?`${a.stats.totalEnquiries} enquiries • ${a.stats.activeStaff} staff • Last updated: ${new Date().toLocaleTimeString()}`:"Loading data..."})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200",title:"Switch to My Personal Dashboard",children:[e.jsx(at,{className:"h-4 w-4 mr-2"}),"My Dashboard"]}),e.jsxs("button",{onClick:()=>r(),disabled:n,className:`inline-flex items-center px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg text-white transition-all duration-200 ${n?"opacity-50 cursor-not-allowed":""}`,title:"Refresh dashboard data",children:[e.jsx("svg",{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Updating...":"Refresh"]})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ta,{className:"h-5 w-5 text-green-300"}),e.jsxs("span",{className:"text-sm",children:["Revenue up ",((v=a==null?void 0:a.stats)==null?void 0:v.monthlyGrowth)||0,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yi,{className:"h-5 w-5 text-blue-300"}),e.jsxs("span",{className:"text-sm",children:[((p=a==null?void 0:a.stats)==null?void 0:p.activeStaff)||0," Active Staff"]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{title:"Total Enquiries",value:a.stats.totalEnquiries,icon:ht,color:"from-blue-500 to-blue-600",change:"+12%",trend:"up"},{title:"Documents Awaiting",value:a.stats.documentsAwaiting,icon:Gt,color:"from-orange-500 to-red-500",change:"+5%",trend:"up"},{title:"Clients Shortlisted",value:a.stats.clientsShortlisted,icon:Te,color:"from-green-500 to-emerald-600",change:"+8%",trend:"up"},{title:"Payment Gateway Complete",value:a.stats.paymentGatewayComplete,icon:ns,color:"from-purple-500 to-indigo-600",change:"+15%",trend:"up"},{title:"Total Transactions",value:a.stats.totalTransactions,icon:cs,color:"from-teal-500 to-cyan-600",change:"+10%",trend:"up"}].map((b,g)=>{const A=b.icon;return e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${b.color}`,children:e.jsx(A,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:`flex items-center space-x-1 text-sm ${b.trend==="up"?"text-green-600":"text-red-600"}`,children:[b.trend==="up"?e.jsx(fi,{className:"h-4 w-4"}):e.jsx(mi,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:b.change})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:b.value}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:b.title})]},g)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enquiry Funnel"}),e.jsx(cs,{className:"h-6 w-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:a.enquiryFunnel.map((b,g)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.stage}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:b.count}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",b.percentage,"%)"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx(F.div,{initial:{width:0},animate:{width:`${b.percentage}%`},transition:{delay:.5+g*.1,duration:.8},className:`h-3 rounded-full ${b.color} relative overflow-hidden`,children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent"})})})]},g))}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ta,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Conversion Rate"}),e.jsxs("p",{className:"text-xs text-blue-700",children:[(a.enquiryFunnel[4].count/a.enquiryFunnel[0].count*100).toFixed(1),"% of enquiries result in loan disbursement"]})]})]})})]}),e.jsxs(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Role Permissions"}),e.jsx("div",{className:"space-y-4",children:((s==null?void 0:s.role)==="ADMIN"?on.rolePermissions.admin:on.rolePermissions.employee).map((b,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.feature}),e.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${b.color} bg-current bg-opacity-10`,children:b.access})]},g))}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Access Level"}),e.jsx("p",{className:"text-xs text-green-700",children:(s==null?void 0:s.role)==="ADMIN"?"Full administrative access":"Employee level access"})]})]})})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Enquiries"}),e.jsx("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200 hover:underline",children:"View All →"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"NAME"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"CONTACT"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"BUSINESS TYPE"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"STATUS"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"DATE"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ACTIONS"})]})}),e.jsx("tbody",{children:((a==null?void 0:a.recentEnquiries)||[]).length>0?((a==null?void 0:a.recentEnquiries)||[]).map((b,g)=>{var A;return e.jsxs(F.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+g*.1},className:"border-b border-gray-100 hover:bg-gray-50 border-l-4 border-l-blue-500",children:[e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:b.name||b.businessName||"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:b.mobile})]}),e.jsx("td",{className:"py-4 px-4 text-gray-700",children:((A=b.staff)==null?void 0:A.name)||"Unassigned"}),e.jsx("td",{className:"py-4 px-4 text-gray-700",children:b.businessType||"Not specified"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(b.interestStatus)}`,children:b.interestStatus})}),e.jsx("td",{className:"py-4 px-4 text-gray-600 text-sm",children:new Date(b.createdAt).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(b),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors duration-200",title:"View Enquiry",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>l(b),className:"p-1 text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 rounded transition-colors duration-200",title:"Edit Enquiry",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>d(b),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors duration-200",title:"Delete Enquiry",children:e.jsx(ct,{className:"h-4 w-4"})})]})})]},b.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[e.jsx(ht,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No enquiries yet"}),e.jsx("p",{className:"text-sm",children:"New enquiries will appear here automatically"})]})})})})]})})]})]})}function zu(){return e.jsx(Qu,{})}function Ku(){var y,w,C,k,O,M,H,J,Z,V,Q,re,X,ae,z,de;const[s,t]=u.useState(""),[a,n]=u.useState(""),[i,r]=u.useState(null),[o,l]=u.useState({isOpen:!1,enquiry:null}),d=Re(),{data:c,isLoading:m,isFetching:f,refetch:h,error:v}=he(["enquiries",s,a],async()=>{const P=new URLSearchParams;return s&&P.append("name",s),a&&P.append("interestStatus",a),(await q.get(`/api/enquiries?${P}`)).data||[]},{staleTime:3*60*1e3,keepPreviousData:!0,onError:P=>{console.error("Failed to fetch enquiries:",P)},onSuccess:P=>{console.log("📋 Enquiries refreshed:",(P==null?void 0:P.length)||0,"enquiries found"),r(new Date)}}),{data:p}=he("staff-members",async()=>{var P;try{return((P=(await q.get("/api/staff")).data)==null?void 0:P.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),b=be(async P=>q.delete(`/api/enquiries/${P}`),{onSuccess:(P,W)=>{I.success("Enquiry deleted successfully!"),d.setQueryData(["enquiries",s,a],se=>se&&se.filter(ne=>ne.id!==W)),setTimeout(()=>{d.invalidateQueries("enquiries")},100)},onError:P=>{var W,se;console.error("Delete error:",P),I.error(((se=(W=P.response)==null?void 0:W.data)==null?void 0:se.message)||"Failed to delete enquiry")}}),g=be(async({enquiryId:P,staffId:W,staffName:se})=>(console.log("🔄 Assigning staff:",{enquiryId:P,staffId:W,staffName:se}),q.post(`/api/enquiries/${P}/assign`,{staffId:W})),{onSuccess:(P,{staffName:W})=>{console.log("✅ Staff assignment successful:",P.data),I.success(`Enquiry assigned to ${W} successfully!`),d.invalidateQueries(["enquiries"]),d.setQueryData(["enquiries"],se=>se&&se.map(ne=>ne.id===P.data.id?P.data:ne))},onError:P=>{var W,se;console.error("❌ Staff assignment error:",P),I.error(((se=(W=P.response)==null?void 0:W.data)==null?void 0:se.message)||"Failed to assign staff member")}}),A=(P,W)=>{if(W){const se=p==null?void 0:p.find(ne=>ne.name===W);se?g.mutate({enquiryId:P,staffId:se.id,staffName:se.name}):I.error("Selected staff member not found")}},x=(P,W)=>{window.confirm(`Are you sure you want to delete "${W}"? This will also delete all associated documents.`)&&b.mutate(P)},N=P=>{console.log("👁️ Viewing enquiry:",P.name),l({isOpen:!0,enquiry:P})};return m?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-40 animate-pulse"})]})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),e.jsx("tbody",{className:"bg-white",children:[...Array(5)].map((P,W)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 animate-pulse"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"})]})})]},W))})]})})]})]}):v&&!c?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),e.jsxs(Ae,{to:"/enquiries/new",className:"btn-primary inline-flex items-center mt-4 sm:mt-0",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-8 text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load enquiries"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the enquiry data. Please try again."}),e.jsx("button",{onClick:()=>h(),className:"btn-primary",children:"Try Again"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enquiries"}),f&&e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-sm",children:"Refreshing..."})]})]}),i&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",i.toLocaleTimeString()," • Auto-refreshes every 10 seconds"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[e.jsxs("button",{onClick:()=>h(),disabled:f,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Refresh enquiries",children:[e.jsx("svg",{className:`h-4 w-4 mr-1 ${f?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),e.jsxs("select",{value:a,onChange:P=>n(P.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"INTERESTED",children:"✅ Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:"❌ Not Interested"}),e.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:"📞 Follow Up Required"})]}),e.jsxs(Ae,{to:"/enquiries/new",className:"btn-primary inline-flex items-center whitespace-nowrap",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"Add New Enquiry"]})]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:s,onChange:P=>t(P.target.value),className:"input-field pl-10"})]}),e.jsxs("select",{value:a,onChange:P=>n(P.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Interest Status"}),e.jsx("option",{value:"INTERESTED",children:"✅ Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:"❌ Not Interested"}),e.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:"📞 Follow Up Required"})]}),e.jsx("button",{onClick:()=>{t(""),n(""),h()},className:"btn-secondary",children:"Clear Filters"})]})}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"table-modern",children:[e.jsx("div",{className:"px-8 py-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"h-5 w-5 absolute left-4 top-3.5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search enquiries...",value:s,onChange:P=>t(P.target.value),className:"input-search w-80"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[(c==null?void 0:c.length)||0," results"]}),e.jsx("div",{className:"h-4 w-px bg-slate-300"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Updated just now"})]})]})}),c&&c.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"SL.NO"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"DATE"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"CLIENT DETAILS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"BUSINESS NAME"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STATUS"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"STAFF"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:"ACTIONS"})]})}),e.jsx("tbody",{className:"bg-white",children:c.map((P,W)=>{var se,ne,me;return e.jsxs(F.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:W*.05},className:"table-row",children:[e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:W+1})}),e.jsxs("td",{className:"px-6 py-5 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-slate-900",children:P.enquiryDate?new Date(P.enquiryDate).toLocaleDateString("en-IN"):P.createdAt?new Date(P.createdAt).toLocaleDateString("en-IN"):new Date().toLocaleDateString("en-IN")}),P.followUpDate&&e.jsxs("div",{className:"text-xs text-orange-600",children:["📅 Follow up: ",new Date(P.followUpDate).toLocaleDateString("en-IN")]})]}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-semibold text-white",children:((ne=(se=P.name)==null?void 0:se.charAt(0))==null?void 0:ne.toUpperCase())||"U"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:P.name||"Unknown"}),e.jsxs("div",{className:"text-sm text-slate-500",children:["📱 ",P.mobile||"No mobile"]}),P.email&&e.jsxs("div",{className:"text-xs text-slate-400",children:["✉️ ",P.email]})]})]})}),e.jsxs("td",{className:"px-6 py-5",children:[e.jsx("div",{className:"text-sm font-medium text-slate-900",children:P.businessName||P.businessType||"Not Specified"}),P.gst&&e.jsxs("div",{className:"text-xs text-slate-500",children:["GST: ",P.gst]})]}),e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.interestStatus==="INTERESTED"?"bg-green-100 text-green-800":P.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":P.interestStatus==="FOLLOW_UP_REQUIRED"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:P.interestStatus==="INTERESTED"?"✅ Interested":P.interestStatus==="NOT_INTERESTED"?"❌ Not Interested":P.interestStatus==="FOLLOW_UP_REQUIRED"?"📞 Follow Up":"✅ Interested"}),P.comments&&e.jsx("div",{className:"text-xs text-slate-500",children:P.comments.replace(/_/g," ")})]})}),e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-slate-600",children:((me=P.staff)==null?void 0:me.name)||P.assignedStaff||"Unassigned"}),e.jsxs("select",{value:P.assignedStaff||"",onChange:xe=>A(P.id,xe.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white text-slate-600 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:g.isLoading,children:[e.jsx("option",{value:"",children:"Assign to staff..."}),p&&p.map(xe=>e.jsxs("option",{value:xe.name,children:[xe.name," - ",xe.role]},xe.id))]})]})}),e.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>N(P),className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 border border-blue-200 rounded-md text-blue-600 hover:bg-blue-200 hover:border-blue-300 transition-all duration-200",title:"View Enquiry",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx(Ae,{to:`/enquiries/${P.id}/edit`,className:"inline-flex items-center justify-center w-8 h-8 bg-orange-100 border border-orange-200 rounded-md text-orange-600 hover:bg-orange-200 hover:border-orange-300 transition-all duration-200",title:"Edit Enquiry",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>x(P.id,P.name),disabled:b.isLoading,className:"inline-flex items-center justify-center w-8 h-8 bg-red-100 border border-red-200 rounded-md text-red-600 hover:bg-red-200 hover:border-red-300 disabled:opacity-50 transition-all duration-200",title:"Delete Enquiry",children:e.jsx(ct,{className:"h-4 w-4"})})]})})]},P.id)})})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No enquiries found."}),e.jsxs(Ae,{to:"/enquiries/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg inline-flex items-center mt-4",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"Create First Enquiry"]})]})]}),o.isOpen&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Enquiry Details - ",(y=o.enquiry)==null?void 0:y.name]}),e.jsx("button",{onClick:()=>l({isOpen:!1,enquiry:null}),className:"text-gray-400 hover:text-gray-600",children:e.jsx(_e,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((w=o.enquiry)==null?void 0:w.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((C=o.enquiry)==null?void 0:C.mobile)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Type"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((k=o.enquiry)==null?void 0:k.businessType)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Number"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((O=o.enquiry)==null?void 0:O.gstNumber)||((M=o.enquiry)==null?void 0:M.gst)||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Status & Assignment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${((H=o.enquiry)==null?void 0:H.interestStatus)==="INTERESTED"?"bg-green-100 text-green-800":((J=o.enquiry)==null?void 0:J.interestStatus)==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:((Z=o.enquiry)==null?void 0:Z.interestStatus)||"PENDING"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((V=o.enquiry)==null?void 0:V.assignedStaff)||((re=(Q=o.enquiry)==null?void 0:Q.staff)==null?void 0:re.name)||"Unassigned"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((X=o.enquiry)==null?void 0:X.source)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(ae=o.enquiry)!=null&&ae.createdAt?new Date(o.enquiry.createdAt).toLocaleDateString():"N/A"})]})]})]}),((z=o.enquiry)==null?void 0:z.comments)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Comments"}),e.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:o.enquiry.comments})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:()=>l({isOpen:!1,enquiry:null}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"}),e.jsx(Ae,{to:`/enquiries/${(de=o.enquiry)==null?void 0:de.id}/edit`,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700",onClick:()=>l({isOpen:!1,enquiry:null}),children:"Edit Enquiry"})]})]})})]})}function Bs(){const s=Ge(),{id:t}=ps(),[a]=Qi(),n=Re(),i=!!t,r=a.get("view")==="true",{register:o,handleSubmit:l,reset:d,formState:{errors:c}}=Dt(),{data:m,isLoading:f}=he(["enquiry",t],async()=>{if(!t)return null;console.log("🔍 Fetching enquiry data for ID:",t);const b=await q.get(`/api/enquiries/${t}`);return console.log("✅ Enquiry data received:",b.data),b.data},{enabled:!!t}),{data:h}=he("staff-members",async()=>{var b;try{return((b=(await q.get("/api/staff")).data)==null?void 0:b.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),v=be(async b=>{var A,x,N,y,w,C;console.log("🔄 Mutation executing with data:",b);const g=i?`/api/enquiries/${t}`:"/api/enquiries";console.log("📡 Making request to:",g);try{const k=i?await q.patch(g,b):await q.post(g,b);return console.log("✅ API response received:",k.data),k}catch(k){throw console.error("❌ API request failed:",k),console.error("❌ Error details:",{message:k.message,status:(A=k.response)==null?void 0:A.status,statusText:(x=k.response)==null?void 0:x.statusText,data:(N=k.response)==null?void 0:N.data,config:{url:(y=k.config)==null?void 0:y.url,method:(w=k.config)==null?void 0:w.method,baseURL:(C=k.config)==null?void 0:C.baseURL}}),k}},{onSuccess:b=>{console.log("🎉 Mutation success:",b.data);const g=i?"Enquiry updated successfully!":"Enquiry created successfully!";I.success(g),i?(n.invalidateQueries(["enquiries"]),n.invalidateQueries(["enquiry",t]),n.setQueryData(["enquiries"],A=>A&&A.map(x=>x.id===parseInt(t)?{...x,...b.data}:x)),s("/enquiries")):(n.invalidateQueries(["enquiries"]),I.success("Redirecting to document verification...",{duration:2e3}),setTimeout(()=>{s("/documents/verification")},1500))},onError:b=>{var A,x;console.error("💥 Mutation error:",b);const g=((x=(A=b.response)==null?void 0:A.data)==null?void 0:x.message)||b.message||"Something went wrong";console.error("💥 Error message to show:",g),I.error(g)}});u.useEffect(()=>{var b;if(m&&(i||r)){console.log("🔄 Resetting form with enquiry data:",m);const g={name:m.name||"",mobile:m.mobile||"",businessType:m.businessType||m.businessName||"",gstNumber:m.gstNumber||m.gst||"",comments:m.comments||"",interestStatus:m.interestStatus||"",assignedStaff:m.assignedStaff||((b=m.staff)==null?void 0:b.name)||"",enquiryDate:m.enquiryDate?new Date(m.enquiryDate).toISOString().split("T")[0]:m.createdAt?new Date(m.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],followUpDate:m.followUpDate?new Date(m.followUpDate).toISOString().split("T")[0]:"",additionalComments:m.additionalComments||""};console.log("🔄 Form data being set:",g),d(g)}},[m,i,r,d]);const p=b=>{var A,x;if(console.log("📝 Submitting enquiry form with data:",b),console.log("🔍 Form validation - Name:",b.name,"Mobile:",b.mobile),console.log("🔍 API endpoint will be:",i?`/api/enquiries/${t}`:"/api/enquiries"),!((A=b.name)!=null&&A.trim())){console.error("❌ Validation failed: Name is empty"),I.error("Please enter a valid name");return}if(!((x=b.mobile)!=null&&x.match(/^[0-9]{10}$/))){console.error("❌ Validation failed: Invalid mobile number:",b.mobile),I.error("Please enter a valid 10-digit mobile number");return}console.log("✅ Client-side validation passed"),b.assignedStaff?console.log("👤 Enquiry assigned to staff:",b.assignedStaff):console.log("👤 No staff assigned to this enquiry");const g=I.loading(i?"Updating enquiry...":"Creating enquiry...");console.log("🚀 Starting API request..."),v.mutate(b,{onSettled:()=>{console.log("🏁 API request completed"),I.dismiss(g)}})};return(i||r)&&f?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loading Enquiry..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the enquiry data"})]})]})}),e.jsx("div",{className:"card space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]})]})})]})}):e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("/enquiries"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Back to Enquiries"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"View Enquiry":i?"Edit Enquiry":"New Enquiry"}),e.jsx("p",{className:"text-gray-600",children:r?"View enquiry details":i?"Update enquiry information":"Create a new business loan enquiry"})]})]})}),e.jsxs("form",{onSubmit:l(p),className:"card space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{...o("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name",readOnly:r}),c.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),e.jsx("input",{...o("mobile",{required:"Mobile number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid 10-digit mobile number"}}),type:"tel",className:"input-field",placeholder:"Enter mobile number",readOnly:r}),c.mobile&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.mobile.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsx("input",{...o("businessType"),type:"text",className:"input-field",placeholder:"Enter business type",readOnly:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),e.jsx("input",{...o("gstNumber"),type:"text",className:"input-field",placeholder:"Enter GST number (optional)",readOnly:r})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Status"}),e.jsxs("select",{...o("interestStatus"),className:"input-field",disabled:r,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"INTERESTED",children:"Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:"Not Interested"}),e.jsx("option",{value:"FOLLOW_UP_REQUIRED",children:"Follow Up Required"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments Status"}),e.jsxs("select",{...o("comments"),className:"input-field",disabled:r,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"NO_RESPONSE",children:"No Response"}),e.jsx("option",{value:"CHAT_CALL1_COMPLETED",children:"First Call Completed"}),e.jsx("option",{value:"SECOND_CALL_COMPLETED",children:"Second Call Completed"}),e.jsx("option",{value:"THIRD_CALL_COMPLETED",children:"Third Call Completed"}),e.jsx("option",{value:"ELIGIBLE",children:"Eligible"}),e.jsx("option",{value:"NOT_ELIGIBLE",children:"Not Eligible"}),e.jsx("option",{value:"NO_GST",children:"No GST"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Staff Member"}),e.jsxs("select",{...o("assignedStaff"),className:"input-field",disabled:r,children:[e.jsx("option",{value:"",children:"Select staff member (optional)"}),h&&h.map(b=>e.jsxs("option",{value:b.name,children:[b.name," - ",b.role]},b.id))]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a staff member to assign this enquiry to"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enquiry Date *"}),e.jsx("input",{...o("enquiryDate",{required:"Enquiry date is required"}),type:"date",className:"input-field",defaultValue:new Date().toISOString().split("T")[0],readOnly:r}),c.enquiryDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.enquiryDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow Up Date"}),e.jsx("input",{...o("followUpDate"),type:"date",className:"input-field",placeholder:"Select follow up date (optional)",readOnly:r}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Set a date for follow up if required"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments"}),e.jsx("textarea",{...o("additionalComments"),rows:4,className:"input-field resize-none",placeholder:"Enter any additional comments or notes about this enquiry...",readOnly:r}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add detailed notes, conversation summary, or any other relevant information"})]})}),!r&&e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>s("/enquiries"),className:"btn-secondary",children:"Cancel"}),i&&e.jsx("button",{type:"button",onClick:()=>s(`/enquiries/${t}?view=true`),className:"btn-secondary",children:"View Mode"}),r&&e.jsx("button",{type:"button",onClick:()=>s(`/enquiries/${t}/edit`),className:"btn-secondary",children:"Edit Mode"}),e.jsx(F.button,{type:"submit",disabled:v.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:v.isLoading?i?"Updating...":"Creating...":i?"Update Enquiry":"Create Enquiry"})]})]})]})})}const Yu="modulepreload",Ju=function(s){return"/"+s},ln={},Ri=function(t,a,n){if(!a||a.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(a.map(r=>{if(r=Ju(r),r in ln)return;ln[r]=!0;const o=r.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let m=i.length-1;m>=0;m--){const f=i[m];if(f.href===r&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Yu,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((m,f)=>{c.addEventListener("load",m),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};function cn({onUpload:s,accept:t=".pdf",maxSize:a=10*1024*1024}){const[n,i]=u.useState(null),[r,o]=u.useState(0),[l,d]=u.useState(!1),[c,m]=u.useState(!1),f=b=>{if(b.size>a){alert(`File size must be less than ${a/(1024*1024)}MB`);return}if(b.type!=="application/pdf"){alert("Only PDF files are allowed");return}i(b),m(!0),o(0);const g=setInterval(()=>{o(A=>A>=100?(clearInterval(g),m(!1),s(b),100):A+10)},200)},h=b=>{b.preventDefault(),d(!1);const g=b.dataTransfer.files[0];g&&f(g)},v=b=>{b.preventDefault(),d(!0)},p=()=>{d(!1)};return e.jsxs(F.div,{className:`border-2 border-dashed p-8 rounded-lg text-center transition-colors ${l?"border-primary-500 bg-primary-50":c?"border-blue-500 bg-blue-50":"border-gray-300"} ${c?"pointer-events-none opacity-75":""}`,whileHover:{scale:c?1:1.02},transition:{duration:.3},onDrop:c?void 0:h,onDragOver:c?void 0:v,onDragLeave:c?void 0:p,children:[e.jsx(gi,{className:`h-12 w-12 mx-auto mb-4 ${c?"text-blue-500 animate-pulse":"text-gray-400"}`}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:c?"cursor-not-allowed":"cursor-pointer",children:[e.jsx("span",{className:`btn-primary ${c?"opacity-50 cursor-not-allowed":""}`,children:c?"Uploading...":"Choose File"}),e.jsx("input",{type:"file",accept:t,onChange:b=>{var g;return((g=b.target.files)==null?void 0:g[0])&&f(b.target.files[0])},className:"hidden",disabled:c})]})}),e.jsx("p",{className:`text-gray-600 mb-2 ${c?"text-blue-600":""}`,children:c?"Processing your file...":"or drag and drop your file here"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["PDF files only • Max ",a/(1024*1024),"MB"]}),n&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:n.name}),r>0&&r<100&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx(F.div,{className:"bg-primary-600 h-2 rounded-full",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.3}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r,"% uploaded"]})]}),r===100&&e.jsx("p",{className:"text-sm text-green-600 mt-2",children:"✓ Upload complete"})]})]})}function Li({isOpen:s,onClose:t,documentName:a,documentType:n,documentUrl:i,documentId:r,isVerified:o,onVerify:l}){const[d,c]=u.useState(!1),[m,f]=u.useState(!0),[h,v]=u.useState(!1);console.log("🔍 PDFViewer render:",{isOpen:s,documentName:a,documentType:n,documentUrl:i});const p=()=>{v(!h)};if(u.useEffect(()=>{const A=x=>{x.key==="Escape"&&(h?v(!1):t())};if(s)return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[s,h,t]),u.useEffect(()=>{s&&(c(!1),f(!0),v(!1))},[s]),!s)return console.log("❌ PDFViewer not open, returning null"),null;console.log("✅ PDFViewer is open, rendering modal");const g=(()=>i?(console.log("🔗 Using backend document URL:",i),i):null)();return e.jsx("div",{className:`fixed inset-0 bg-black z-[9999] flex items-center justify-center ${h?"bg-opacity-95":"bg-opacity-50 p-4"}`,onClick:t,children:e.jsxs("div",{className:`bg-white shadow-xl flex flex-col ${h?"w-full h-full":"rounded-lg max-w-4xl w-full max-h-[90vh]"}`,onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Documents",children:e.jsx(Et,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a}),e.jsx("p",{className:"text-sm text-gray-500",children:n.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&l&&!o&&e.jsxs("button",{onClick:()=>l(r),className:"flex items-center px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors",title:"Verify Document",children:[e.jsx(Te,{className:"h-4 w-4 mr-1"}),"✓ Verify"]}),o&&e.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 text-sm rounded border border-green-200",children:[e.jsx(Te,{className:"h-4 w-4 mr-1"}),"✓ Verified"]}),e.jsx("button",{onClick:p,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:h?"Exit Fullscreen":"Enter Fullscreen",children:h?e.jsx(lc,{className:"h-5 w-5"}):e.jsx(uc,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>{if(g){const A=document.createElement("a");A.href=g,A.download=`${a}.pdf`,A.click()}},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",title:"Download PDF",disabled:!g,children:"📥 Download"}),e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(_e,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"flex-1 p-4",children:g?e.jsxs("div",{className:"h-full",children:[m&&e.jsxs("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-200 rounded text-sm flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),e.jsxs("span",{children:["📄 ",e.jsx("strong",{children:"Loading document:"})," ",a]})]}),d?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 max-w-md",children:[e.jsx(lt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"PDF Display Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to display the PDF in the browser. This might be due to browser restrictions or PDF format issues."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>{c(!1),f(!0)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"🔄 Try Again"}),e.jsx("a",{href:g,className:"block w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-center",download:`${a}.pdf`,children:"📥 Download PDF"}),e.jsx("button",{onClick:()=>window.open(g,"_blank"),className:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:"🔗 Open in New Tab"})]})]})}):e.jsxs("div",{className:"h-full relative",children:[e.jsx("iframe",{src:`${g}#toolbar=1&navpanes=1&scrollbar=1&page=1&view=FitH&zoom=page-fit`,className:`w-full h-full border border-gray-300 ${h?"min-h-screen":"rounded-lg min-h-[600px]"}`,title:`${a} - PDF Viewer`,onLoad:()=>{console.log("✅ PDF loaded successfully from:",g),f(!1)},onError:A=>{console.error("❌ Failed to load PDF:",g,A),c(!0),f(!1)},allow:"fullscreen",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your browser doesn't support inline PDF viewing."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:g,className:"inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mr-2",download:`${a}.pdf`,children:"📥 Download PDF"}),e.jsx("button",{onClick:()=>window.open(g,"_blank"),className:"inline-block px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"🔗 Open in New Tab"})]})]})}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg p-2 flex space-x-2",children:[e.jsx("button",{onClick:()=>window.open(g,"_blank"),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",title:"Open in new tab",children:"🔗"}),e.jsx("a",{href:g,download:`${a}.pdf`,className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm transition-colors",title:"Download PDF",children:"📥"})]})]})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx(lt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Document Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No file URL provided for this document."}),e.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Document:"})," ",a]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",n]}),e.jsxs("p",{children:[e.jsx("strong",{children:"File:"})," ",i||"Not specified"]})]})]})})})]})})}const Yt=[{value:"GST",label:"GST Certificate",required:!0},{value:"UDYAM",label:"Udyam Registration",required:!0},{value:"BANK_STATEMENT",label:"Bank Statement",required:!0},{value:"OWNER_PAN",label:"Owner PAN Card",required:!0},{value:"AADHAR",label:"Aadhar Card",required:!0},{value:"WEBSITE_GATEWAY",label:"Website & Gateway",required:!1},{value:"IE_CODE",label:"IE Code",required:!1}];function Xu({isOpen:s,onClose:t,clientId:a,clientName:n,documents:i}){const[r,o]=u.useState({isOpen:!1,documentUrl:"",documentName:"",documentType:""}),{data:l,isLoading:d,error:c}=he(["documents",a],async()=>{if(!a)return null;console.log("📄 Fetching documents for client ID:",a);const N=await q.get(`/api/documents/enquiry/${a}`);return console.log("📄 Documents response:",N.data),N.data},{enabled:s&&!!a,refetchOnWindowFocus:!1});if(!s)return null;if(d)return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading documents..."})]})});if(c)return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[e.jsx("div",{className:"text-red-500 text-center mb-4",children:"❌"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Documents"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load documents for this client."}),e.jsx("button",{onClick:t,className:"w-full btn-primary",children:"Close"})]})});const m=l||[],f=m.length>0?m[0].enquiry:{name:n,mobile:"",businessType:""},h=new Set(m.map(N=>N.type)),v=Yt.filter(N=>N.required),p=v.filter(N=>h.has(N.value)),b=v.length>0?Math.round(p.length/v.length*100):0,g=async N=>{var w;const{getApiUrl:y}=await Ri(()=>import("./config-03c8a593.js"),[]);o({isOpen:!0,documentUrl:y(`/api/documents/${N.id}/view`),documentName:`${N.enquiry.name} - ${((w=Yt.find(C=>C.value===N.type))==null?void 0:w.label)||N.type}`,documentType:N.type})},A=()=>{o({isOpen:!1,documentUrl:"",documentName:"",documentType:""})},x=N=>{const y=m.find(C=>C.type===N);if(y)return{status:"uploaded",document:y,verified:y.verified};const w=Yt.find(C=>C.value===N);return{status:w!=null&&w.required?"missing":"optional",document:null,verified:!1}};return e.jsxs(e.Fragment,{children:[e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:e.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f.name}),e.jsxs("p",{className:"text-gray-600",children:["📱 ",f.mobile," • ",f.businessType]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Document Portfolio"})]}),e.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(_e,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Completion Status"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[b,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${b}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[p.length,"/",v.length]}),e.jsx("div",{className:"text-gray-600",children:"Required Documents"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:m.filter(N=>N.verified).length}),e.jsx("div",{className:"text-gray-600",children:"Verified Documents"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:m.length}),e.jsx("div",{className:"text-gray-600",children:"Total Uploaded"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Yt.map(N=>{const y=x(N.value);return e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`border-2 rounded-lg p-4 transition-all duration-200 hover:shadow-md ${y.status==="uploaded"?y.verified?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50":y.status==="missing"?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:`h-6 w-6 mr-2 ${y.status==="uploaded"?y.verified?"text-green-600":"text-yellow-600":y.status==="missing"?"text-red-600":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:N.label}),e.jsx("p",{className:"text-xs text-gray-500",children:N.required?"Required":"Optional"})]})]}),e.jsx("div",{className:"flex items-center",children:y.status==="uploaded"?y.verified?e.jsx(Te,{className:"h-5 w-5 text-green-600"}):e.jsx(gt,{className:"h-5 w-5 text-yellow-600"}):y.status==="missing"?e.jsx(gt,{className:"h-5 w-5 text-red-600"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"})})]}),y.document?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Status: "}),e.jsx("span",{className:`font-medium ${y.verified?"text-green-600":"text-yellow-600"}`,children:y.verified?"Verified":"Pending Verification"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Uploaded: "}),new Date(y.document.uploadedAt).toLocaleDateString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"By: "}),y.document.uploadedBy.name]}),e.jsxs("button",{onClick:()=>g(y.document),className:"w-full mt-3 flex items-center justify-center px-3 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 transition-colors",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"View Document"]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:`text-sm font-medium ${y.status==="missing"?"text-red-600":"text-gray-500"}`,children:y.status==="missing"?"Missing Document":"Not Required"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:y.status==="missing"?"This document needs to be uploaded":"This document is optional"})]})]},N.value)})})})]})}),e.jsx(Li,{isOpen:r.isOpen,onClose:A,documentName:r.documentName,documentType:r.documentType,documentUrl:r.documentUrl})]})}function em(){const[s,t]=u.useState(""),[a,n]=u.useState(""),[i,r]=u.useState(""),[o,l]=u.useState(!1),[d,c]=u.useState({isOpen:!1,documentUrl:"",documentName:"",documentType:"",documentId:void 0,isVerified:!1}),[m,f]=u.useState({isOpen:!1,clientId:0,clientName:""}),h=Re(),v=Ge(),{data:p,isLoading:b,error:g}=he("enquiries",async()=>{var j;console.log("📋 Fetching enquiries from /enquiries...");try{const E=await q.get("/api/enquiries");return console.log("📋 Enquiries response:",E.data),E.data}catch(E){if(console.error("📋 Enquiries fetch error:",E),E.code==="ECONNREFUSED"||(j=E.message)!=null&&j.includes("Network Error"))return console.log("📋 Backend not available, returning empty enquiries array"),[];throw E}},{staleTime:4*60*1e3,keepPreviousData:!0,onSuccess:j=>{console.log("📋 Enquiries query success:",(j==null?void 0:j.length)||0,"enquiries")},onError:j=>{console.error("📋 Enquiries query error:",j)}}),{data:A}=he("staff-members",async()=>{var j;try{return((j=(await q.get("/api/staff")).data)==null?void 0:j.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3,keepPreviousData:!0}),{data:x,isLoading:N,refetch:y}=he("documents",async()=>{console.log("📄 Fetching documents from /documents...");const j=await q.get("/api/documents");return console.log("📄 Documents response:",j.data),j.data},{staleTime:8*60*1e3,keepPreviousData:!0,onSuccess:j=>{console.log("📄 Documents query success:",(j==null?void 0:j.length)||0,"documents")},onError:j=>{console.error("📄 Documents query error:",j)}}),{data:w}=he(["documentStatus",s],async()=>s?(await q.get(`/api/documents/enquiry/${s}`)).data:null,{enabled:!!s,staleTime:3*60*1e3,keepPreviousData:!0}),C=be(async({file:j,enquiryId:E,type:B})=>{const ee=new FormData;ee.append("file",j),ee.append("enquiryId",E.toString()),ee.append("type",B);const le=p==null?void 0:p.find(ce=>ce.id===E);return le!=null&&le.assignedStaff&&ee.append("assignedStaff",le.assignedStaff),q.post("/api/documents/upload",ee,{headers:{"Content-Type":"multipart/form-data"}})},{onSuccess:j=>{console.log("📄 Upload success response:",j.data),I.success("Document uploaded successfully!"),j.data.document&&h.setQueryData("documents",E=>E?[j.data.document,...E]:[j.data.document]),h.invalidateQueries("documents"),h.invalidateQueries(["documentStatus",s]),n(""),o&&setTimeout(()=>{var B;const E=W();E?(n(E.document.value),I.success(`✅ ${(B=ae.find(ee=>ee.value===j.data.document.type))==null?void 0:B.label} uploaded! Next: ${E.document.label}`)):(I.success("🎉 All required documents uploaded!"),l(!1),n(""))},500)},onError:j=>{var B,ee,le,ce,Pe,it,S,T,L,_;console.error("Upload error:",j);let E="Upload failed";(ee=(B=j.response)==null?void 0:B.data)!=null&&ee.message?E=j.response.data.message:(ce=(le=j.response)==null?void 0:le.data)!=null&&ce.error?E=j.response.data.error:j.message?E=j.message:((Pe=j.response)==null?void 0:Pe.status)===413?E="File too large. Maximum size is 10MB.":((it=j.response)==null?void 0:it.status)===415?E="Unsupported file type. Please upload PDF files only.":((S=j.response)==null?void 0:S.status)===400&&((_=(L=(T=j.response)==null?void 0:T.data)==null?void 0:L.message)!=null&&_.includes("already exists")?(E=j.response.data.message,n("")):E="Invalid file or missing required information."),I.error(E)}}),k=be(async j=>q.patch(`/api/documents/${j}/verify`,{verified:!0}),{onSuccess:(j,E)=>{I.success("Document verified successfully!"),h.setQueryData("documents",B=>B&&B.map(ee=>ee.id===E?{...ee,verified:!0,verifiedAt:new Date().toISOString()}:ee)),s&&h.invalidateQueries(["documentStatus",s]),setTimeout(()=>{h.invalidateQueries("documents")},100)},onError:j=>{var E,B;I.error(((B=(E=j.response)==null?void 0:E.data)==null?void 0:B.message)||"Verification failed")}}),O=be(async j=>q.delete(`/api/documents/${j}`),{onSuccess:(j,E)=>{I.success("Document deleted successfully!"),h.setQueryData("documents",B=>B&&B.filter(ee=>ee.id!==E)),s&&h.invalidateQueries(["documentStatus",s]),setTimeout(()=>{h.invalidateQueries("documents")},100)},onError:j=>{var E,B;I.error(((B=(E=j.response)==null?void 0:E.data)==null?void 0:B.message)||"Delete failed")}}),M=be(async j=>q.post("/api/shortlist",{enquiryId:j.id,name:j.name||j.businessName,mobile:j.mobile,businessName:j.businessName,businessNature:j.businessType,loanAmount:j.loanAmount||5e5,comments:"Shortlisted from document management"}),{onSuccess:j=>{console.log("Shortlist response:",j.data),I.success(j.data.message||"Client shortlisted successfully!"),h.invalidateQueries("shortlists"),h.invalidateQueries(["shortlists"]),j.data.shortlist&&h.setQueryData(["shortlists",""],E=>E?E.some(ee=>ee.id===j.data.shortlist.id)?E:[j.data.shortlist,...E]:[j.data.shortlist]),setTimeout(()=>{var E;v("/shortlist",{state:{fromAdd:!0,clientName:((E=j.data.shortlist)==null?void 0:E.name)||j.data.name,timestamp:Date.now()}})},1e3)},onError:j=>{var B,ee;console.error("Shortlist error:",j);const E=((ee=(B=j.response)==null?void 0:B.data)==null?void 0:ee.message)||j.message||"Shortlist failed";I.error(`Shortlist failed: ${E}`)}}),H=be(async({enquiryId:j,staffName:E})=>q.patch(`/enquiries/${j}`,{assignedStaff:E}),{onSuccess:(j,{enquiryId:E,staffName:B})=>{console.log(`Staff ${B} assigned to enquiry ${E}`),h.setQueryData("enquiries",ee=>ee&&ee.map(le=>le.id===E?{...le,assignedStaff:B}:le)),I.success(`Staff assigned to ${B} successfully!`)},onError:j=>{console.error("Staff assignment error:",j),I.error("Failed to assign staff member")}}),J=async j=>{var le;const E=o?ne==null?void 0:ne.value:a;if(!s||!E||!i){I.error("Please select enquiry, document type, and assign staff before uploading");return}const B=10*1024*1024;if(j.size>B){I.error("File size must be less than 10MB");return}if(j.type!=="application/pdf"){I.error("Only PDF files are allowed");return}if(console.log("📄 Uploading file:",{name:j.name,size:j.size,type:j.type,enquiryId:s,documentType:E,isSequentialMode:o}),((x==null?void 0:x.filter(ce=>ce.enquiry.id.toString()===s&&ce.type===E))||[]).length>0){const ce=((le=ae.find(Pe=>Pe.value===E))==null?void 0:le.label)||E;I.error(`${ce} already exists for this client. Please select a different document type.`);return}C.mutate({file:j,enquiryId:parseInt(s),type:E})},Z=async j=>{var E;try{const{getApiUrl:B}=await Ri(()=>import("./config-03c8a593.js"),[]),le={isOpen:!0,documentUrl:B(`/api/documents/${j.id}/view`),documentName:`${j.enquiry.name} - ${((E=ae.find(ce=>ce.value===j.type))==null?void 0:E.label)||j.type}`,documentType:j.type,documentId:j.id,isVerified:j.verified};c(le)}catch(B){console.error("Error getting document URL:",B),I.error("Failed to load document. Please try again.")}},V=j=>{f({isOpen:!0,clientId:j.id,clientName:j.name})},Q=()=>{c({isOpen:!1,documentUrl:"",documentName:"",documentType:"",documentId:void 0,isVerified:!1})},re=()=>{f({isOpen:!1,clientId:0,clientName:""})},X=j=>{window.confirm("Are you sure you want to delete this document?")&&O.mutate(j)},ae=[{value:"GST",label:"GST Certificate",required:!0},{value:"UDYAM",label:"Udyam Registration",required:!0},{value:"BANK_STATEMENT",label:"Bank Statement",required:!0},{value:"OWNER_PAN",label:"Owner PAN Card",required:!0},{value:"AADHAR",label:"Aadhar Card",required:!0},{value:"WEBSITE_GATEWAY",label:"Website & Gateway",required:!0},{value:"IE_CODE",label:"IE Code",required:!0}],z=p==null?void 0:p.find(j=>j.id.toString()===s),de=(x==null?void 0:x.filter(j=>j.enquiry.id.toString()===s))||[],P=de.map(j=>j.type),W=()=>{const j=ae.filter(E=>E.required);for(let E=0;E<j.length;E++)if(!P.includes(j[E].value))return{index:E,document:j[E]};return null},se=W(),ne=se==null?void 0:se.document,me={current:P.length,total:ae.filter(j=>j.required).length,percentage:Math.round(P.length/ae.filter(j=>j.required).length*100)},xe=ae.filter(j=>j.required),ut=xe.filter(j=>P.includes(j.value)),qe=xe.length>0?Math.round(ut.length/xe.length*100):0,nt=qe===100,R=de.length>0&&xe.every(j=>{const E=de.find(B=>B.type===j.value);return E&&E.verified}),oe=z==null?void 0:z.shortlist,K=R&&s;return console.log("🔍 DocumentUpload render state:",{enquiriesLoading:b,enquiriesCount:(p==null?void 0:p.length)||0,enquiriesError:!!g,isLoading:N,documentsCount:(x==null?void 0:x.length)||0}),b&&N?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Document Management"}),e.jsx("p",{className:"text-gray-600",children:"Upload and manage loan application documents"})]}),K&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-green-600 text-2xl mr-3",children:"🎉"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-green-900",children:"All Documents Verified!"}),e.jsx("p",{className:"text-green-700",children:"Client is ready for shortlisting"})]})]}),oe?e.jsxs("div",{className:"px-6 py-3 bg-blue-100 text-blue-800 font-semibold rounded-lg flex items-center",children:[e.jsx(Te,{className:"h-5 w-5 mr-2"}),"Already Shortlisted"]}):e.jsxs("button",{onClick:()=>M.mutate(z),disabled:M.isLoading,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(Pt,{className:"h-5 w-5 mr-2"}),M.isLoading?"Adding to Shortlist...":"Add to Shortlist"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ae.filter(j=>j.required).map(j=>e.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-green-200",children:[e.jsx(Te,{className:"h-5 w-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:j.label}),e.jsx("p",{className:"text-sm text-green-600",children:"Verified ✓"})]})]},j.value))}),e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("h4",{className:"text-red-800 font-medium mb-2 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"⚠️"}),"All Documents Now Mandatory"]}),e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("span",{className:"font-semibold",children:"Website & Gateway"})," and ",e.jsx("span",{className:"font-semibold",children:"IE Code"})," are now required documents. All 7 document types must be uploaded and verified before the client can proceed to shortlist."]})]})]}),s&&!K&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Document Upload Mode"}),e.jsx("p",{className:"text-blue-700 text-sm",children:o?"Sequential mode: Upload documents one by one":"Standard mode: Choose any document type to upload"})]}),e.jsx("button",{onClick:()=>{const j=!o;if(l(j),j){const E=W();E?(n(E.document.value),I.success(`📋 Sequential mode activated! Starting with: ${E.document.label}`)):(I.success("All required documents are already uploaded!"),l(!1))}else n(""),I.success("🔄 Switched to standard mode")},className:`px-4 py-2 rounded-lg font-medium transition-colors ${o?"bg-blue-600 text-white hover:bg-blue-700":"bg-white text-blue-600 border border-blue-300 hover:bg-blue-50"}`,children:o?"📋 Sequential Mode":"🔄 Switch to Sequential"})]}),o&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Upload Progress"}),e.jsxs("span",{className:"text-blue-900 font-semibold",children:[me.current,"/",me.total," documents"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${me.percentage}%`}})}),ne&&e.jsx("div",{className:"mt-3 p-3 bg-white rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-2xl mr-3",children:"📄"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-blue-900",children:["Next: ",ne.label]}),e.jsxs("p",{className:"text-sm text-blue-600",children:["Step ",me.current+1," of ",me.total]})]})]})})]})]}),!K&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload New Document"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Enquiry *"}),e.jsxs("select",{value:s,onChange:j=>{const E=j.target.value;if(t(E),n(""),E&&p){const B=p.find(ee=>ee.id.toString()===E);B!=null&&B.assignedStaff?r(B.assignedStaff):r("")}else r("")},className:"input-field",disabled:b,children:[e.jsx("option",{value:"",children:b?"Loading enquiries...":g?"Backend server not available - Please start the backend server":!p||p.length===0?"No enquiries available - Backend may be offline":"Choose enquiry..."}),p==null?void 0:p.map(j=>e.jsxs("option",{value:j.id,children:[j.name," - ",j.mobile," (",j.businessType||"No business type",")",j.assignedStaff?` • Staff: ${j.assignedStaff}`:""]},j.id))]}),!!g&&e.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[e.jsxs("p",{className:"text-sm text-red-600",children:[e.jsx("strong",{children:"Backend Connection Error:"})," Cannot connect to the backend server."]}),e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please ensure the backend server is running on port 5002. Check the console for more details."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Staff *"}),e.jsxs("select",{value:i,onChange:j=>{const E=j.target.value;r(E),s&&E&&H.mutate({enquiryId:parseInt(s),staffName:E})},className:"input-field",disabled:!s,required:!0,children:[e.jsx("option",{value:"",children:s?"Choose staff member...":"Select enquiry first..."}),A&&A.map(j=>e.jsxs("option",{value:j.name,children:[j.name," - ",j.role]},j.id))]}),s&&e.jsx("div",{className:"mt-1",children:i?e.jsxs("p",{className:"text-sm text-green-600",children:["✅ Staff assigned: ",i]}):e.jsx("p",{className:"text-sm text-red-600",children:"Staff assignment is required before uploading documents"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),o?e.jsxs("div",{className:"input-field bg-blue-50 border-blue-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-blue-900",children:ne?ne.label:"All documents uploaded!"}),ne&&e.jsxs("span",{className:"text-sm text-blue-600 bg-blue-200 px-2 py-1 rounded",children:["Step ",me.current+1,"/",me.total]})]}),!ne&&e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"🎉 All required documents completed!"})]}):e.jsxs("select",{value:a,onChange:j=>n(j.target.value),className:"input-field",disabled:!s,children:[e.jsx("option",{value:"",children:s?"Choose type...":"Select enquiry first..."}),ae.map(j=>{const E=P.includes(j.value);return e.jsxs("option",{value:j.value,disabled:E,children:[j.label," ",j.required?"*":"(Optional)"," ",E?"✓ Already Uploaded":""]},j.value)})]})]})]}),z&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Selected Client Details"}),e.jsx("button",{onClick:()=>V(z),className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:"✓ View All Documents"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Name:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:z.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Mobile:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:z.mobile})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Business:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:z.businessType})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Document Completion"}),e.jsxs("span",{className:"text-blue-900 font-semibold",children:[qe,"%"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${qe}%`}})}),e.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[ut.length," of ",xe.length," required documents uploaded"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-blue-700 font-medium mb-3",children:"Document Status"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ae.map(j=>{var ee,le;const E=de.some(ce=>ce.type===j.value)||((ee=w==null?void 0:w.documents)==null?void 0:ee.some(ce=>ce.type===j.value)),B=de.find(ce=>ce.type===j.value)||((le=w==null?void 0:w.documents)==null?void 0:le.find(ce=>ce.type===j.value));return e.jsxs("div",{className:"flex items-center space-x-2",children:[E?B!=null&&B.verified?e.jsx("span",{className:"text-green-600 text-lg",title:"Verified",children:"✅"}):e.jsx("span",{className:"text-yellow-600 text-lg",title:"Uploaded but not verified",children:"⚠️"}):j.required?e.jsx("span",{className:"text-red-600 text-lg",title:"Missing required document",children:"❌"}):e.jsx("span",{className:"text-gray-400 text-lg",title:"Optional document",children:"○"}),e.jsxs("span",{className:`text-sm ${E?B!=null&&B.verified?"text-green-700 font-medium":"text-yellow-700 font-medium":j.required?"text-red-700":"text-gray-600"}`,children:[j.label,j.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"}),E&&e.jsxs("span",{className:"ml-2 text-xs",children:["(",B!=null&&B.verified?"Verified":"Pending Verification",")"]})]})]},j.value)})}),e.jsxs("div",{className:"mt-3 text-xs text-blue-600",children:[e.jsx("span",{className:"text-green-600",children:"✅ Verified"})," •",e.jsx("span",{className:"text-yellow-600 ml-2",children:"⚠️ Uploaded (Pending)"})," •",e.jsx("span",{className:"text-red-600 ml-2",children:"❌ Missing (Required)"})," •",e.jsx("span",{className:"text-gray-600 ml-2",children:"○ Optional"})]})]}),nt&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-green-600 text-lg mr-2",children:"🎉"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 font-semibold",children:"Ready for Shortlist!"}),e.jsx("p",{className:"text-green-700 text-sm",children:"All required documents completed"})]})]}),e.jsx("button",{onClick:()=>M.mutate(z),disabled:M.isLoading||!!(z!=null&&z.shortlist),className:`px-4 py-2 rounded-md transition-colors disabled:opacity-50 ${z!=null&&z.shortlist?"bg-gray-500 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:z!=null&&z.shortlist?"✅ Already Shortlisted":M.isLoading?"Adding...":"⭐ Add to Shortlist"})]})})]}),s&&(o?ne:a)&&i?e.jsxs("div",{className:"relative",children:[o&&ne&&e.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-3xl mr-3",children:"📄"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:ne.label}),e.jsx("p",{className:"text-blue-600 text-sm",children:"Upload this document to continue"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:me.current+1}),e.jsxs("div",{className:"text-xs text-blue-500",children:["of ",me.total]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-700",children:[e.jsx("span",{children:"📋 Required document"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"🎯 Next in sequence"}),me.current>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:["✅ ",me.current," completed"]})]})]})]}),e.jsx(cn,{onUpload:J}),C.isLoading&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:o?`Uploading ${ne==null?void 0:ne.label}...`:"Uploading document..."})]})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-gray-50",children:[e.jsx(lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:s?i?o&&!ne?"🎉 All documents uploaded! Switch to standard mode for additional uploads.":"Please select a document type to upload":"Please assign a staff member":"Please select an enquiry first"})]})]}),K&&e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card bg-gray-50 border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Need to Upload Additional Documents?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"All required documents are verified. You can still upload optional documents if needed."}),e.jsx("button",{onClick:()=>{const j=document.getElementById("upload-section");j&&j.scrollIntoView({behavior:"smooth"})},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"📄 Upload Additional Documents"})]})}),K&&e.jsxs(F.div,{id:"upload-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card border-blue-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Upload Additional Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Enquiry *"}),e.jsxs("select",{value:s,onChange:j=>{const E=j.target.value;if(t(E),n(""),E&&p){const B=p.find(ee=>ee.id.toString()===E);B!=null&&B.assignedStaff?r(B.assignedStaff):r("")}else r("")},className:"input-field",disabled:b,children:[e.jsx("option",{value:"",children:b?"Loading enquiries...":g?"Backend server not available - Please start the backend server":!p||p.length===0?"No enquiries available - Backend may be offline":"Choose enquiry..."}),p==null?void 0:p.map(j=>e.jsxs("option",{value:j.id,children:[j.name," - ",j.mobile," (",j.businessType||"No business type",")",j.assignedStaff?` • Staff: ${j.assignedStaff}`:""]},j.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Staff *"}),e.jsxs("select",{value:i,onChange:j=>{const E=j.target.value;r(E),s&&E&&H.mutate({enquiryId:parseInt(s),staffName:E})},className:"input-field",disabled:!s,required:!0,children:[e.jsx("option",{value:"",children:s?"Choose staff member...":"Select enquiry first..."}),A&&A.map(j=>e.jsxs("option",{value:j.name,children:[j.name," - ",j.role]},j.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),e.jsxs("select",{value:a,onChange:j=>n(j.target.value),className:"input-field",disabled:!s,children:[e.jsx("option",{value:"",children:s?"Choose type...":"Select enquiry first..."}),ae.map(j=>{const E=P.includes(j.value);return e.jsxs("option",{value:j.value,disabled:E,children:[j.label," ",j.required?"*":"(Optional)"," ",E?"✓ Already Uploaded":""]},j.value)})]})]})]}),s&&(o?ne:a)&&i?e.jsxs("div",{className:"relative",children:[e.jsx(cn,{onUpload:J}),C.isLoading&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-blue-600 font-medium",children:"Uploading document..."})]})})]}):e.jsxs("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center bg-blue-50",children:[e.jsx(lt,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600 text-lg",children:s?i?"Please select a document type to upload":"Please assign a staff member":"Please select an enquiry first"})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Uploaded Documents"}),e.jsx("p",{className:"text-sm text-gray-500",children:N?"Loading...":s?`${(de==null?void 0:de.length)||0} documents for ${z==null?void 0:z.name}`:"Select a client to view documents"})]}),e.jsxs("div",{className:"flex space-x-2",children:[s&&e.jsx("button",{onClick:async()=>{try{const j=await q.post(`/api/documents/remove-duplicates/${s}`);j.data.removed>0?(I.success(`Removed ${j.data.removed} duplicate documents`),y()):I.success("No duplicates found for this enquiry")}catch{I.error("Failed to remove duplicates")}},className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"🧹 Clean Duplicates"}),e.jsx("button",{onClick:()=>{console.log("📄 Manual refresh clicked"),y(),I.success("Refreshing documents...")},disabled:N,className:`px-3 py-1 text-white text-sm rounded transition-colors ${N?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:N?"⏳ Loading...":"🔄 Refresh"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enquiry"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded By"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading documents..."})]})})}):x&&x.length>0?x==null?void 0:x.filter(j=>s?j.enquiry.id.toString()===s:!0).map(j=>{var E,B,ee,le,ce;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("button",{onClick:()=>Z(j),className:"text-primary-600 hover:text-primary-900 font-medium",children:"View Document"})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[j.enquiry.name,e.jsx("div",{className:"text-xs text-gray-500",children:j.enquiry.mobile})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((E=ae.find(Pe=>Pe.value===j.type))==null?void 0:E.label)||j.type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("div",{className:"flex items-center",children:j.verified?e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"h-5 w-5 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-800 text-sm font-medium",children:"Verified"})]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"h-5 w-5 text-yellow-500 mr-1"}),e.jsx("span",{className:"text-yellow-800 text-sm font-medium",children:"Pending"})]})}),j.savedToSupabase&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 text-blue-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-blue-800 text-xs font-medium",children:"Saved to DB"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.uploadedBy.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.uploadedAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>k.mutate(j.id),disabled:k.isLoading||j.verified,className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-600 hover:bg-green-200 hover:text-green-700 disabled:opacity-50 disabled:cursor-not-allowed",title:j.verified?"Document verified":"Verify document",children:e.jsx("span",{className:"text-sm font-bold",children:"✓"})}),e.jsx("button",{onClick:()=>V(j.enquiry),className:"text-purple-600 hover:text-purple-900 text-sm font-medium",title:"View all documents for this client",children:"View All"}),e.jsx("button",{onClick:()=>M.mutate(j.enquiry),disabled:M.isLoading||!!((B=j.enquiry)!=null&&B.shortlist),className:`font-medium disabled:opacity-50 ${(ee=j.enquiry)!=null&&ee.shortlist?"text-gray-500 cursor-not-allowed":"text-green-600 hover:text-green-900"}`,title:(le=j.enquiry)!=null&&le.shortlist?"Already shortlisted":"Mark this client as shortlisted",children:(ce=j.enquiry)!=null&&ce.shortlist?"✅ Shortlisted":"⭐ Shortlist"}),e.jsx("button",{onClick:()=>X(j.id),disabled:O.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:"Delete"})]})})]},`doc-${j.id}-${j.type}`)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No documents uploaded for this client yet."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Upload documents using the form above to see them listed here."}),e.jsxs("p",{className:"text-blue-600 text-sm mt-2",children:["Selected client: ",z==null?void 0:z.name," - ",z==null?void 0:z.mobile]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"Select a client to view their documents."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Choose an enquiry from the dropdown above to see uploaded documents."})]})]})})})]})})]}),e.jsx(Li,{isOpen:d.isOpen,onClose:Q,documentName:d.documentName,documentType:d.documentType,documentUrl:d.documentUrl,documentId:d.documentId,isVerified:d.isVerified,onVerify:j=>{k.mutate(j),c(E=>({...E,isVerified:!0}))}}),e.jsx(Xu,{isOpen:m.isOpen,onClose:re,clientId:m.clientId,clientName:m.clientName,documents:x||[]})]})}const tm=()=>{const s=Re(),t=Ge(),[a,n]=u.useState({}),{data:i,isLoading:r}=he("documents-verification",async()=>(await q.get("/api/documents")).data,{staleTime:3*60*1e3,keepPreviousData:!0}),{data:o}=he("staff-members",async()=>{var x;try{return((x=(await q.get("/api/staff")).data)==null?void 0:x.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),l=be(async({documentId:x,verified:N,enquiryId:y})=>({...await q.patch(`/api/documents/${x}/verify`,{verified:N}),enquiryId:y}),{onSuccess:async x=>{if(I.success("Document verification updated successfully!"),s.invalidateQueries("documents-verification"),x.enquiryId){const w=(await s.fetchQuery("documents-verification",async()=>(await q.get("/api/documents")).data)).reduce((C,k)=>{const O=k.enquiry.id;return C[O]||(C[O]={enquiry:k.enquiry,documents:[]}),C[O].documents.push(k),C},{})[x.enquiryId];if(w){const C=w.documents.every(O=>O.verified),k=w.documents.some(O=>O.enquiry.shortlist);if(C&&!k)try{await q.post("/api/shortlist",{enquiryId:x.enquiryId}),I.success(`🎉 All documents verified! ${w.enquiry.name} automatically added to shortlist!`),s.invalidateQueries("documents-verification"),s.invalidateQueries(["shortlists"])}catch(O){console.error("Failed to auto-add to shortlist:",O)}}}},onError:x=>{var N,y;I.error(((y=(N=x.response)==null?void 0:N.data)==null?void 0:y.message)||"Failed to update verification")}}),d=be(async({enquiryId:x,enquiryData:N})=>q.post("/api/shortlist",{enquiryId:x,name:N.name,mobile:N.mobile,businessName:N.businessName||N.name,businessNature:N.businessType,loanAmount:N.loanAmount||5e5,comments:"Added from document verification - all documents verified"}),{onSuccess:x=>{var y;const N=((y=x.data)==null?void 0:y.name)||"Client";I.success(`${N} added to shortlist successfully!`),s.invalidateQueries(["shortlists"]),s.invalidateQueries("documents-verification"),setTimeout(()=>{t("/shortlist")},1e3)},onError:x=>{var N,y;I.error(((y=(N=x.response)==null?void 0:N.data)==null?void 0:y.message)||"Failed to add to shortlist")}}),c=be(async({enquiryId:x,staffName:N})=>q.patch(`/api/supabase/enquiries/${x}`,{assignedStaff:N}),{onSuccess:(x,{staffName:N})=>{I.success(`Staff assigned to ${N} successfully!`),s.invalidateQueries("documents-verification")},onError:x=>{console.error("Assignment error:",x),I.error("Failed to assign staff member")}}),m=(x,N,y)=>{l.mutate({documentId:x,verified:N,enquiryId:y})},f=x=>{var O;if(!a[x]){I.error("Please assign a staff member before adding to shortlist");return}const y=i==null?void 0:i.filter(M=>M.enquiry.id===x);if(!(y==null?void 0:y.every(M=>M.verified))){I.error("All documents must be verified before adding to shortlist");return}const C=g(y||[]);if(C.length>0){const M=C.map(H=>H.label).join(", ");I.error(`Missing mandatory document types: ${M}. Please upload all required documents.`);return}const k=(O=y==null?void 0:y[0])==null?void 0:O.enquiry;if(!k){I.error("Enquiry data not found");return}d.mutate({enquiryId:x,enquiryData:k})},h=(x,N)=>{N&&(n(y=>({...y,[x]:N})),c.mutate({enquiryId:x,staffName:N}))},v=()=>e.jsx($s,{className:"h-5 w-5"}),p=x=>x?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Te,{className:"h-4 w-4 mr-1"}),"Verified"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(Gt,{className:"h-4 w-4 mr-1"}),"Pending"]}),b=[{type:"GST",label:"GST Certificate",icon:"📄"},{type:"UDYAM",label:"UDYAM Registration",icon:"🏭"},{type:"BANK_STATEMENT",label:"Bank Statement",icon:"🏦"},{type:"OWNER_PAN",label:"Owner PAN Card",icon:"🆔"},{type:"AADHAR",label:"Aadhar Card",icon:"📋"},{type:"WEBSITE_GATEWAY",label:"Website & Gateway",icon:"🌐"},{type:"IE_CODE",label:"IE Code",icon:"🏷️"}],g=x=>{const N=x.map(y=>y.type);return b.filter(y=>!N.includes(y.type))},A=i==null?void 0:i.reduce((x,N)=>{const y=N.enquiry.id;return x[y]||(x[y]={enquiry:N.enquiry,documents:[]}),x[y].documents.push(N),x},{});return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Document Verification"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(i==null?void 0:i.length)||0," documents to review"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx($s,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Mandatory Document Types for Verification"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-xs",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:"📄 GST Certificate"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:"🏭 UDYAM Registration"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:"🏦 Bank Statement"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:"🆔 Owner PAN Card"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-100 text-blue-800 font-medium",children:"📋 Aadhar Card"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-red-100 text-red-800 font-medium",children:"🌐 Website & Gateway"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-red-100 text-red-800 font-medium",children:"🏷️ IE Code"})]}),e.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," All 7 document types must be verified before a client can be added to the shortlist.",e.jsx("span",{className:"text-red-700 font-semibold",children:"Website & Gateway and IE Code are now mandatory requirements"})," along with the standard documents."]})]})]})}),A&&Object.keys(A).length>0?e.jsx("div",{className:"space-y-6",children:Object.values(A).map(x=>{const N=x.documents.every(k=>k.verified),y=x.documents.some(k=>k.enquiry.shortlist),C=g(x.documents).length===0;return e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.enquiry.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["📱 ",x.enquiry.mobile," • ",x.enquiry.businessType||"Business Type Not Specified"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[N&&C&&!y&&e.jsxs("button",{onClick:()=>f(x.enquiry.id),disabled:d.isLoading,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Add to Shortlist"]}),N&&!C&&!y&&e.jsxs("button",{disabled:!0,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-400 cursor-not-allowed",title:"Missing mandatory document types",children:[e.jsx(gt,{className:"h-4 w-4 mr-2"}),"Missing Documents"]}),y&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"✅ In Shortlist"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(at,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign Staff Member ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a[x.enquiry.id]||"",onChange:k=>h(x.enquiry.id,k.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:c.isLoading,required:!0,children:[e.jsx("option",{value:"",children:"Select staff member..."}),o&&o.map(k=>e.jsxs("option",{value:k.name,children:[k.name," - ",k.role]},k.id))]}),!a[x.enquiry.id]&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Staff assignment is required before adding to shortlist"})]})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.documents.map(k=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[v(),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:k.type.replace(/_/g," ")}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Required"})]}),e.jsxs("p",{className:"text-xs text-gray-600 font-medium mb-1",children:["📋 Enquiry: ",e.jsx("span",{className:"font-semibold text-blue-700",children:k.enquiry.name})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["📱 ",k.enquiry.mobile," • ",k.enquiry.businessType||"Business Type Not Specified"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded ",new Date(k.uploadedAt).toLocaleDateString()]})]})]}),p(k.verified)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>window.open(k.s3Url,"_blank"),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>m(k.id,!0,k.enquiry.id),disabled:l.isLoading,className:`p-1 rounded ${k.verified?"text-green-600 bg-green-100":"text-gray-400 hover:text-green-600 hover:bg-green-100"} transition-colors`,title:"Approve",children:e.jsx(Te,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>m(k.id,!1,k.enquiry.id),disabled:l.isLoading,className:`p-1 rounded ${k.verified?"text-gray-400 hover:text-red-600 hover:bg-red-100":"text-red-600 bg-red-100"} transition-colors`,title:"Reject",children:e.jsx(gt,{className:"h-4 w-4"})})]})]})]},k.id))}),(()=>{const k=g(x.documents);return k.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(gt,{className:"h-5 w-5 text-red-600 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-900 mb-2",children:"Missing Mandatory Document Types"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(O=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800",children:[O.icon," ",O.label]},O.type))}),e.jsxs("p",{className:"text-xs text-red-700 mt-2",children:[e.jsx("span",{className:"font-semibold",children:"Action Required:"})," These document types must be uploaded before the client can be added to shortlist."]})]})]})})})(),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("span",{className:"text-gray-600",children:["Verification Progress: ",x.documents.filter(k=>k.verified).length," / ",x.documents.length," documents verified"]}),e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.documents.filter(k=>k.verified).length/x.documents.length*100}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Document Types: ",x.documents.length," / ",b.length," mandatory types uploaded"]}),e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.documents.length/b.length*100}%`}})})]})]})]})]},x.enquiry.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx($s,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents to verify"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"All documents have been processed or no documents have been uploaded yet."})]})]})},sm=()=>{const[s,t]=u.useState("desktop");return u.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?t("mobile"):n<1024?t("tablet"):t("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),s};function am(){var N,y;const s=sm(),[t,a]=u.useState(""),[n,i]=u.useState(!1),[r,o]=u.useState({isOpen:!1,shortlist:null}),l=Re(),d=oa(),c=be(async({id:w,interestStatus:C})=>{console.log("🔄 Sending status update request:",{id:w,interestStatus:C});const k=await q.patch(`/api/shortlist/${w}`,{interestStatus:C});return console.log("✅ Status update response:",k.data),k},{onSuccess:(w,C)=>{const k=C.interestStatus==="NOT_INTERESTED"?"Not Interested":"Interested";I.success(`Status updated to: ${k}`),console.log("🎉 Status successfully updated to:",C.interestStatus),console.log("✅ Backend response:",w.data),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:(w,C)=>{var k,O;console.error("❌ Status update failed:",w),console.error("Failed variables:",C),l.setQueryData(["shortlists",t],M=>M&&M.map(H=>{if(H.id===C.id){console.log("🔄 Reverting optimistic update for ID:",C.id);const J=C.interestStatus==="NOT_INTERESTED"?"INTERESTED":"NOT_INTERESTED";return{...H,interestStatus:J}}return H})),I.error(`Failed to update status: ${((O=(k=w.response)==null?void 0:k.data)==null?void 0:O.message)||w.message}`)}}),m=(w,C)=>{l.setQueryData(["shortlists",t],k=>k&&k.map(O=>O.id===w?(console.log("🔄 Optimistically updating status for ID:",w,"to:",C),{...O,interestStatus:C}):O)),c.mutate({id:w,interestStatus:C})},f=be(async w=>{console.log("🗑️ Executing DELETE request for shortlist ID:",w);try{await q.get("/api/staff/health"),console.log("✅ Server is accessible, proceeding with DELETE")}catch(k){throw console.error("❌ Server not accessible:",k),new Error("Backend server is not running. Please start the server first.")}const C=await q.delete(`/api/shortlist/${w}`);return console.log("✅ DELETE response received:",C.data),C},{onSuccess:(w,C)=>{console.log("✅ Delete mutation successful:",w.data),I.success("Shortlist deleted successfully!"),l.setQueryData(["shortlists",t],k=>k&&k.filter(O=>O.id!==C)),setTimeout(()=>{l.invalidateQueries(["shortlists"]),l.invalidateQueries(["cashfree-applications"])},100)},onError:w=>{var k,O,M,H,J,Z,V,Q,re;console.error("❌ Delete mutation failed:",w),console.error("Error details:",{message:w.message,status:(k=w.response)==null?void 0:k.status,statusText:(O=w.response)==null?void 0:O.statusText,data:(M=w.response)==null?void 0:M.data,url:(H=w.config)==null?void 0:H.url,method:(J=w.config)==null?void 0:J.method});let C="Failed to delete shortlist";w.message.includes("Backend server is not running")?C="Backend server is not running. Please start the server on port 5001.":((Z=w.response)==null?void 0:Z.status)===404?C="DELETE endpoint not found. Please ensure backend server is running with Supabase routes.":C=((Q=(V=w.response)==null?void 0:V.data)==null?void 0:Q.message)||`Failed to delete shortlist (${((re=w.response)==null?void 0:re.status)||w.message})`,I.error(C)}}),h=(w,C)=>{window.confirm(`Are you sure you want to delete the shortlist for "${C}"? This action cannot be undone.`)&&(console.log("🗑️ Attempting to delete shortlist ID:",w),console.log("API endpoint will be:",`/api/shortlist/${w}`),f.mutate(w))},v=w=>{console.log("👁️ Viewing shortlist:",w.name),o({isOpen:!0,shortlist:w})},p=()=>{o({isOpen:!1,shortlist:null})},{data:b,isLoading:g,refetch:A}=he(["shortlists",t],async()=>{var w,C;try{const k=new URLSearchParams;t&&k.append("name",t);const O=await q.get(`/api/shortlist?${k}`);return console.log("📋 Shortlist data received:",((w=O.data)==null?void 0:w.length)||0,"items"),console.log("📋 First shortlist item details:",(C=O.data)==null?void 0:C[0]),O.data||[]}catch(k){return console.error("📋 Error fetching shortlists:",k),[]}},{staleTime:5*60*1e3,cacheTime:15*60*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:w=>{console.log("📋 Shortlists query success:",(w==null?void 0:w.length)||0,"shortlists")},onError:w=>{console.error("📋 Shortlists query error:",w)}});u.useEffect(()=>{var w,C,k;(w=d.state)!=null&&w.fromEdit&&(console.log("Returning from edit page, forcing refresh...",d.state),i(!0),l.clear(),l.invalidateQueries(["shortlists"]),l.invalidateQueries(["shortlist"]),l.invalidateQueries(["cashfree-applications"]),setTimeout(()=>{l.refetchQueries(["shortlists"]),A().finally(()=>{i(!1)})},50)),(C=d.state)!=null&&C.fromAdd&&((k=d.state)!=null&&k.clientName)&&(I.success(`🎉 ${d.state.clientName} has been successfully added to shortlist!`),window.history.replaceState({},document.title))},[d.state,l,A,i]);const x=s==="mobile";return g||n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:n?"Refreshing data...":"Loading..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shortlisted Applications"}),e.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[e.jsx("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),A(),I.success("Refreshing shortlist data...")},className:"btn-outline inline-flex items-center",children:"🔄 Refresh"}),e.jsx("button",{onClick:async()=>{var w;try{const C=await q.get("/api/staff/health");I.success("Backend server is running!"),console.log("Server status:",C.data)}catch(C){I.error(`Backend server not accessible: ${((w=C.response)==null?void 0:w.status)||C.message}`),console.error("Server check failed:",C)}},className:"btn-outline inline-flex items-center",children:"Check Server"}),e.jsxs(Ae,{to:"/shortlist/new",className:"btn-primary inline-flex items-center",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"New Shortlist"]})]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(At,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:w=>a(w.target.value),className:"input-field pl-10"})]}),e.jsx("button",{onClick:()=>{a(""),A()},className:"btn-secondary",children:"Clear"})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:b&&b.length>0?e.jsx("div",{className:`${x?"space-y-4":"overflow-x-auto"}`,children:x?e.jsx("div",{className:"space-y-4",children:b.map(w=>{var C,k,O,M,H,J,Z;return e.jsxs(F.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:w.name||((C=w.enquiry)==null?void 0:C.name)}),e.jsxs("select",{value:w.interestStatus||"INTERESTED",onChange:V=>{console.log("Mobile status change:",w.id,"from:",w.interestStatus,"to:",V.target.value),m(w.id,V.target.value)},className:`text-xs border rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-primary-500 transition-colors duration-200 ${w.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${c.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:c.isLoading,children:[e.jsx("option",{value:"INTERESTED",children:"✅ Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:"❌ Not Interested"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["📱 ",w.mobile||((k=w.enquiry)==null?void 0:k.mobile)]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["🏢 ",w.businessNature||w.businessName||((O=w.enquiry)==null?void 0:O.businessType)||"Business"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["💰 ₹",(w.loanAmount||((M=w.enquiry)==null?void 0:M.loanAmount)||0).toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["📍 ",w.district||((H=w.enquiry)==null?void 0:H.district)||"Location"]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"📋 Loan Status:"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded",children:"Pending"})]}),e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"👤 Staff:"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:((J=w.staff)==null?void 0:J.name)||w.staff||"Unassigned"}),((Z=w.staff)==null?void 0:Z.role)&&e.jsx("span",{className:"text-xs text-gray-500",children:w.staff.role})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["📅 ",new Date(w.createdAt||w.date).toLocaleDateString()]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>v(w),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(Ae,{to:`/shortlist/${w.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[e.jsx(tt,{className:"h-4 w-4 mr-1"}),"Edit"]}),!w.cashfreeApplication&&e.jsx(Ae,{to:`/payment-gateway/apply/${w.id}`,className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Apply to Payment Gateway"}),e.jsxs("button",{onClick:()=>{var V;return h(w.id,w.name||((V=w.enquiry)==null?void 0:V.name)||"Unknown")},disabled:f.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[e.jsx(ct,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},w.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[e.jsx("thead",{className:"bg-indigo-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"District"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Status"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Staff"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((w,C)=>{var k,O,M,H,J,Z,V,Q,re;return e.jsxs(F.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.05},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:C+1}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.createdAt||w.date).toLocaleDateString()}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:w.name||((k=w.enquiry)==null?void 0:k.name),children:w.name||((O=w.enquiry)==null?void 0:O.name)})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:w.mobile||((M=w.enquiry)==null?void 0:M.mobile)}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:e.jsx("div",{className:"truncate",title:w.businessNature||w.businessName||((H=w.enquiry)==null?void 0:H.businessType)||"Business",children:w.businessNature||w.businessName||((J=w.enquiry)==null?void 0:J.businessType)||"Business"})}),e.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["₹",(w.loanAmount||((Z=w.enquiry)==null?void 0:Z.loanAmount)||0).toLocaleString()]}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:w.district||((V=w.enquiry)==null?void 0:V.district)||"N/A"}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:e.jsxs("select",{value:w.interestStatus||"INTERESTED",onChange:X=>{console.log("Desktop status change:",w.id,"from:",w.interestStatus,"to:",X.target.value),m(w.id,X.target.value)},className:`text-sm border rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 ${w.interestStatus==="NOT_INTERESTED"?"bg-red-50 border-red-300 text-red-800":"bg-green-50 border-green-300 text-green-800"} ${c.isLoading?"opacity-50 cursor-not-allowed":""}`,disabled:c.isLoading,children:[e.jsx("option",{value:"INTERESTED",children:"✅ Interested"}),e.jsx("option",{value:"NOT_INTERESTED",children:"❌ Not Interested"})]})}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900",children:((Q=w.staff)==null?void 0:Q.name)||w.staff||"Unassigned"}),((re=w.staff)==null?void 0:re.role)&&e.jsx("span",{className:"text-xs text-gray-500",children:w.staff.role})]})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>v(w),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Shortlist Details",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx(Ae,{to:`/shortlist/${w.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Shortlist",children:e.jsx(tt,{className:"h-4 w-4"})}),!w.cashfreeApplication&&e.jsx(Ae,{to:`/payment-gateway/apply/${w.id}`,className:"text-green-600 hover:text-green-900",title:"Apply to Payment Gateway",children:"Apply"}),e.jsx("button",{onClick:()=>{var X;return h(w.id,w.name||((X=w.enquiry)==null?void 0:X.name)||"Unknown")},disabled:f.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Shortlist",children:e.jsx(ct,{className:"h-4 w-4"})})]})})]},w.id)})})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No shortlisted applications found."}),e.jsxs(Ae,{to:"/shortlist/new",className:"btn-primary inline-flex items-center mt-4",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"Create First Shortlist"]})]})}),r.isOpen&&r.shortlist&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Shortlist Details - ",r.shortlist.name]}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mt-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.mobile||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"District"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.district||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.createdAt?new Date(r.shortlist.createdAt).toLocaleDateString():"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.businessName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Nature"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.businessNature||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Constitution"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.propPvt||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GST Status"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.gstStatus||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loan Amount"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["₹",r.shortlist.loanAmount?r.shortlist.loanAmount.toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CAP Amount"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₹",r.shortlist.cap?r.shortlist.cap.toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Account"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.bankAccount||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Statement Duration"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.shortlist.bankStatementDuration||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Assignment & Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Staff"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:((N=r.shortlist.staff)==null?void 0:N.name)||r.shortlist.staff||"Unassigned"}),((y=r.shortlist.staff)==null?void 0:y.role)&&e.jsx("p",{className:"text-xs text-gray-500",children:r.shortlist.staff.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.shortlist.interestStatus==="NOT_INTERESTED"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:r.shortlist.interestStatus==="NOT_INTERESTED"?"❌ Not Interested":"✅ Interested"})]})]})]}),r.shortlist.comments&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Comments"}),e.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:r.shortlist.comments})]})]}),e.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),e.jsxs(Ae,{to:`/shortlist/${r.shortlist.id}/edit`,onClick:p,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[e.jsx(tt,{className:"h-4 w-4 mr-2"}),"Edit Shortlist"]})]})]})})})]})}function dn(){const s=Ge(),{id:t}=ps(),a=!!t,n=Re(),{register:i,handleSubmit:r,reset:o,control:l,formState:{errors:d}}=Dt(),c=Lt({control:l,name:"hasGst"}),m=Lt({control:l,name:"hasBusinessPan"}),f=Lt({control:l,name:"hasIec"}),h=Lt({control:l,name:"hasWebsite"}),v=Lt({control:l,name:"hasGateway"}),{data:p}=he("staff-members",async()=>{var x;try{return((x=(await q.get("/api/staff")).data)==null?void 0:x.staff)||[]}catch{return console.log("No staff data available"),[]}},{staleTime:5*60*1e3}),{data:b}=he(["shortlist",t],async()=>t?(await q.get(`/api/shortlist/${t}`)).data:null,{enabled:a}),g=be(async x=>{if(console.log("Submitting shortlist form data:",x),console.log("Key fields being sent - loanAmount:",x.loanAmount,"district:",x.district,"staff:",x.staff),a){const N=await q.patch(`/api/shortlist/${t}`,x);return console.log("PATCH response:",N.data),N}else{const N=await q.post("/api/shortlist",x);return console.log("POST response:",N.data),N}},{onSuccess:async x=>{I.success(a?"Shortlist updated successfully!":"Shortlist created successfully!"),console.log("Shortlist update/create successful:",x.data),n.clear(),n.invalidateQueries(["shortlists"]),n.invalidateQueries(["shortlist"]),n.invalidateQueries(["cashfree-applications"]),await n.refetchQueries(["shortlists"]),setTimeout(()=>{s("/shortlist",{state:{fromEdit:!0,timestamp:Date.now()}})},100)},onError:x=>{var N,y;I.error(((y=(N=x.response)==null?void 0:N.data)==null?void 0:y.message)||"Something went wrong")}});u.useEffect(()=>{b&&o({name:b.name,mobile:b.mobile,businessName:b.businessName||"",businessNature:b.businessNature||"",district:b.district||"",propPvt:b.propPvt||"",hasGst:b.hasGst||"",gst:b.gst||"",hasBusinessPan:b.hasBusinessPan||"",businessPan:b.businessPan||"",hasIec:b.hasIec||"",iec:b.iec||"",hasNewCurrentAccount:b.hasNewCurrentAccount||"",newCurrentAccount:b.newCurrentAccount||!1,hasWebsite:b.hasWebsite||"",website:b.website||"",hasGateway:b.hasGateway||"",gateway:b.gateway||"",transaction:b.transaction||"",bankStatementDuration:b.bankStatementDuration||"",loanAmount:b.loanAmount||0,cap:b.cap||0,bankAccount:b.bankAccount||"",comments:b.comments||"",staff:b.staff||"",gstStatus:b.gstStatus||"",date:b.date||new Date().toISOString().split("T")[0]})},[b,o]);const A=x=>{g.mutate(x)};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Shortlist":"New Shortlist"}),e.jsx("p",{className:"text-gray-600",children:a?"Update shortlist information":"Create a new shortlisted application"})]})]})}),e.jsxs("form",{onSubmit:r(A),className:"card space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{...i("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter full name"}),d.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number *"}),e.jsx("input",{...i("mobile",{required:"Mobile number is required"}),type:"tel",className:"input-field",placeholder:"Enter mobile number"}),d.mobile&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.mobile.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District"}),e.jsx("input",{...i("district"),type:"text",className:"input-field",placeholder:"Enter district"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),e.jsx("input",{...i("date"),type:"date",className:"input-field"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),e.jsx("input",{...i("businessName"),type:"text",className:"input-field",placeholder:"Enter business name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Nature"}),e.jsx("input",{...i("businessNature"),type:"text",className:"input-field",placeholder:"Enter business nature"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Constitution of Business (Prop/PVT)"}),e.jsxs("select",{...i("propPvt"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Proprietorship",children:"Proprietorship"}),e.jsx("option",{value:"Private Limited",children:"Private Limited"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"LLP",children:"LLP"}),e.jsx("option",{value:"Public Limited",children:"Public Limited"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST"}),e.jsxs("select",{...i("hasGst"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),c==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),e.jsx("input",{...i("gst"),type:"text",className:"input-field",placeholder:"Enter GST number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card"}),e.jsxs("select",{...i("hasBusinessPan"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),m==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Card Number"}),e.jsx("input",{...i("businessPan"),type:"text",className:"input-field",placeholder:"Enter business PAN card number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code"}),e.jsxs("select",{...i("hasIec"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),f==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IEC Code Number"}),e.jsx("input",{...i("iec"),type:"text",className:"input-field",placeholder:"Enter IEC code number"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount"}),e.jsx("input",{...i("loanAmount",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter loan amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CAP Amount"}),e.jsx("input",{...i("cap",{valueAsNumber:!0}),type:"number",className:"input-field",placeholder:"Enter CAP amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account"}),e.jsx("input",{...i("bankAccount"),type:"text",className:"input-field",placeholder:"Enter bank account details"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Statement Duration"}),e.jsxs("select",{...i("bankStatementDuration"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select duration"}),e.jsx("option",{value:"6 months",children:"6 months"}),e.jsx("option",{value:"12 months",children:"12 months"}),e.jsx("option",{value:"18 months",children:"18 months"}),e.jsx("option",{value:"24 months",children:"24 months"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Current Account"}),e.jsxs("select",{...i("hasNewCurrentAccount"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Online Presence"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsxs("select",{...i("hasWebsite"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),h==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),e.jsx("input",{...i("website"),type:"url",className:"input-field",placeholder:"Enter website URL"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway"}),e.jsxs("select",{...i("hasGateway"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]}),v==="yes"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Gateway Details"}),e.jsx("input",{...i("gateway"),type:"text",className:"input-field",placeholder:"Enter payment gateway details"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Details"}),e.jsx("input",{...i("transaction"),type:"text",className:"input-field",placeholder:"Enter transaction details"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Status"}),e.jsxs("select",{...i("gstStatus"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Staff Assignment"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Staff Member *"}),e.jsxs("select",{...i("staff",{required:"Staff assignment is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select staff member..."}),p&&p.map(x=>e.jsxs("option",{value:x.name,children:[x.name," - ",x.role," (",x.department,")"]},x.id))]}),d.staff&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.staff.message}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select the staff member responsible for this shortlisted application"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),e.jsx("textarea",{...i("comments"),rows:4,className:"input-field",placeholder:"Enter any additional comments..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>s("/shortlist"),className:"btn-secondary",children:"Cancel"}),e.jsx(F.button,{type:"submit",disabled:g.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:g.isLoading?a?"Updating...":"Creating...":a?"Update Shortlist":"Create Shortlist"})]})]})]})})}const nm=()=>{const[s,t]=u.useState("desktop");return u.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?t("mobile"):n<1024?t("tablet"):t("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),s};function im(){const s=nm(),t=oa(),[a,n]=u.useState(""),[i,r]=u.useState(""),o=Re();u.useEffect(()=>{var g,A;(g=t.state)!=null&&g.message&&((A=t.state)==null?void 0:A.type)==="success"&&(I.success(t.state.message),window.history.replaceState({},document.title))},[t.state]);const{data:l,isLoading:d,refetch:c,error:m}=he(["cashfree-applications",a,i],async()=>{try{console.log("🔄 Fetching payment gateway applications...");const A=(await q.get("/api/cashfree").catch(N=>(console.warn("⚠️ Payment gateway API error:",N.message),{data:[]}))).data||[];console.log("✅ Fetched payment gateway applications:",A.length);let x=A;return a&&(x=x.filter(N=>{var y,w,C,k,O,M,H;return((w=(y=N.shortlist)==null?void 0:y.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((k=(C=N.shortlist)==null?void 0:C.mobile)==null?void 0:k.includes(a))||((H=(M=(O=N.shortlist)==null?void 0:O.enquiry)==null?void 0:M.name)==null?void 0:H.toLowerCase().includes(a.toLowerCase()))})),i&&(x=x.filter(N=>N.status===i)),console.log("✅ Returning filtered payment gateway applications:",x.length),console.log("💳 Sample application data:",x[0]),x}catch(g){return console.error("❌ Error fetching payment gateway data:",g),[]}},{staleTime:5*60*1e3,cacheTime:15*60*1e3,keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,onSuccess:g=>{var A;console.log("💳 Payment applications query success:",(g==null?void 0:g.length)||0,"applications"),g&&g.length>0&&(console.log("💳 First application details:",g[0]),console.log("💳 Shortlist data:",(A=g[0])==null?void 0:A.shortlist))},onError:g=>{console.error("💳 Payment applications query error:",g)}}),f=be(async({id:g,status:A})=>q.patch(`/api/cashfree/${g}/status`,{status:A}),{onSuccess:()=>{I.success("Status updated successfully!"),o.invalidateQueries("cashfree-applications")},onError:g=>{var A,x;I.error(((x=(A=g.response)==null?void 0:A.data)==null?void 0:x.message)||"Failed to update status")}}),h=be(async g=>q.delete(`/api/cashfree/${g}`),{onSuccess:(g,A)=>{var x;I.success(((x=g.data)==null?void 0:x.message)||"Payment application deleted successfully!"),o.setQueryData(["cashfree-applications",a,i],N=>N&&N.filter(y=>y.id!==A)),o.invalidateQueries("cashfree-applications")},onError:g=>{var A,x;I.error(((x=(A=g.response)==null?void 0:A.data)==null?void 0:x.message)||"Failed to delete payment application")}}),v=g=>{h.mutate(g)},p=s==="mobile",b=g=>{switch(g){case"PENDING":return"bg-yellow-100 text-yellow-800";case"TRANSACTION_DONE":return"bg-green-100 text-green-800";case"CLOSED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment gateway applications..."})]})}):m?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),e.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Applications"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading the payment gateway applications."}),e.jsx("button",{onClick:()=>c(),className:"btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Applications"}),e.jsx("p",{className:"text-gray-600",children:"Manage loan applications submitted to payment gateway"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:a,onChange:g=>n(g.target.value),className:"input-field pl-10"})]}),e.jsxs("select",{value:i,onChange:g=>r(g.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"TRANSACTION_DONE",children:"Transaction Done"}),e.jsx("option",{value:"CLOSED",children:"Closed"})]}),e.jsx("button",{onClick:()=>{n(""),r(""),c()},className:"btn-secondary",children:"Clear Filters"}),e.jsx("button",{onClick:()=>{o.invalidateQueries(["cashfree-applications"]),c()},className:"btn-primary",children:"Refresh Data"})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:l&&l.length>0?e.jsx("div",{className:`${p?"space-y-4":"overflow-x-auto"}`,children:p?e.jsx("div",{className:"space-y-4",children:l.map(g=>{var A;return e.jsxs(F.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:g.shortlist.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b(g.status)}`,children:g.status.replace("_"," ")})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["📱 ",g.shortlist.mobile]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["🏢 ",g.shortlist.businessType||g.shortlist.businessName||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["💰 ₹",((A=g.shortlist.loanAmount)==null?void 0:A.toLocaleString())||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["📅 ",new Date(g.submittedAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f.mutate({id:g.id,status:"TRANSACTION_DONE"}),disabled:f.isLoading,className:"text-green-600 hover:text-green-800 text-sm font-medium disabled:opacity-50",children:"Mark Done"}),e.jsx("button",{onClick:()=>f.mutate({id:g.id,status:"CLOSED"}),disabled:f.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Close"})]}),e.jsx("button",{onClick:()=>v(g.id),disabled:h.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})]})]},g.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[e.jsx("thead",{className:"bg-indigo-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted Date"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Mobile"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Business"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Loan Amount"}),e.jsx("th",{className:"w-28 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Submitted By"}),e.jsx("th",{className:"w-44 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((g,A)=>{var x,N;return e.jsxs(F.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.05},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:A+1}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(g.submittedAt).toLocaleDateString()}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:g.shortlist.name,children:g.shortlist.name})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:g.shortlist.mobile}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm text-gray-500",children:e.jsx("div",{className:"truncate",title:g.shortlist.businessType||g.shortlist.businessName||"N/A",children:g.shortlist.businessType||g.shortlist.businessName||"N/A"})}),e.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["₹",((x=g.shortlist.loanAmount)==null?void 0:x.toLocaleString())||"N/A"]}),e.jsx("td",{className:"w-28 px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b(g.status)}`,children:g.status.replace("_"," ")})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((N=g.submittedBy)==null?void 0:N.name)||"N/A"}),e.jsxs("td",{className:"w-44 px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[g.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f.mutate({id:g.id,status:"TRANSACTION_DONE"}),disabled:f.isLoading,className:"text-green-600 hover:text-green-900 disabled:opacity-50 text-xs px-1",children:"Mark Done"}),e.jsx("button",{onClick:()=>f.mutate({id:g.id,status:"CLOSED"}),disabled:f.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",children:"Close"})]}),e.jsx("button",{onClick:()=>v(g.id),disabled:h.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 text-xs px-1",title:"Delete Application",children:"Delete"})]}),g.decisionDate&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Decision: ",new Date(g.decisionDate).toLocaleDateString()]})]})]},g.id)})})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Gateway Applications"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No applications have been submitted to the payment gateway yet."}),e.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[e.jsx("p",{children:"To create payment gateway applications:"}),e.jsx("p",{children:"1. Go to Shortlist Applications"}),e.jsx("p",{children:'2. Click "Apply" on a shortlisted client'}),e.jsx("p",{children:"3. Submit the payment gateway application"})]}),e.jsx("button",{onClick:()=>c(),className:"btn-outline mt-4",children:"🔄 Refresh Data"})]})}),l&&l.length>0&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(g=>g.status==="PENDING").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Applications"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(g=>g.status==="TRANSACTION_DONE").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed Transactions"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(g=>g.status==="CLOSED").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Closed Applications"})]})]})]})}function rm(){var f;const s=Ge(),{id:t}=ps(),a=Re(),{register:n,handleSubmit:i,reset:r,formState:{errors:o}}=Dt(),{data:l,isLoading:d}=he(["shortlist",t],async()=>{const h=await q.get(`/api/shortlist/${t}`);return console.log("Fetched shortlist data for payment gateway form:",h.data),h.data},{enabled:!!t,staleTime:0,cacheTime:0}),c=be(async h=>(console.log("Submitting payment gateway application with data:",h),q.post("/api/cashfree/apply",{...h,shortlistId:parseInt(t),status:"PENDING",appliedAt:new Date})),{onSuccess:async h=>{I.success("Payment gateway application submitted successfully!");try{await q.post(`/api/shortlist/${t}/payment-gateway-applied`,h.data.application)}catch(v){console.log("Failed to mark shortlist as having payment gateway application:",v)}h.data.application&&a.setQueryData(["cashfree-applications"],v=>v?[h.data.application,...v]:[h.data.application]),a.invalidateQueries(["cashfree-applications"]),a.invalidateQueries(["shortlists"]),a.invalidateQueries(["shortlist"]),s("/payment-gateway",{state:{message:"Payment gateway application submitted successfully!",type:"success"}})},onError:h=>{var v,p;I.error(((p=(v=h.response)==null?void 0:v.data)==null?void 0:p.message)||"Application submission failed")}});u.useEffect(()=>{l&&(console.log("Pre-filling payment gateway form with shortlist data:",l),console.log("Loan amount from shortlist:",l.loanAmount),r({loanAmount:l.loanAmount||0,tenure:12,interestRate:12.5,processingFee:2.5,purpose:"Business Expansion",bankAccount:l.bankAccount||"",panCard:l.businessPan||"",salarySlips:!1,itrReturns:!0,businessProof:!0,addressProof:!0}))},[l,r]);const m=h=>{c.mutate(h)};return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("/shortlist"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Back to Shortlist"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Gateway Loan Application"}),e.jsxs("p",{className:"text-gray-600",children:["Apply for loan through payment gateway for: ",e.jsx("span",{className:"font-semibold",children:(f=l==null?void 0:l.enquiry)==null?void 0:f.name})]})]})]})}),e.jsxs("form",{onSubmit:i(m),className:"card space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Loan Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount (₹) *"}),e.jsx("input",{...n("loanAmount",{required:"Loan amount is required",min:5e4}),type:"number",className:"input-field",placeholder:"Enter loan amount"}),o.loanAmount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.loanAmount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenure (Months) *"}),e.jsxs("select",{...n("tenure",{required:"Tenure is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select tenure"}),e.jsx("option",{value:"6",children:"6 Months"}),e.jsx("option",{value:"12",children:"12 Months"}),e.jsx("option",{value:"18",children:"18 Months"}),e.jsx("option",{value:"24",children:"24 Months"}),e.jsx("option",{value:"36",children:"36 Months"})]}),o.tenure&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.tenure.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate (%)"}),e.jsx("input",{...n("interestRate",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"12.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Fee (%)"}),e.jsx("input",{...n("processingFee",{valueAsNumber:!0}),type:"number",step:"0.1",className:"input-field",placeholder:"2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose *"}),e.jsxs("select",{...n("purpose",{required:"Purpose is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select purpose"}),e.jsx("option",{value:"Business Expansion",children:"Business Expansion"}),e.jsx("option",{value:"Working Capital",children:"Working Capital"}),e.jsx("option",{value:"Equipment Purchase",children:"Equipment Purchase"}),e.jsx("option",{value:"Inventory",children:"Inventory"}),e.jsx("option",{value:"Other",children:"Other"})]}),o.purpose&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.purpose.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collateral"}),e.jsx("input",{...n("collateral"),type:"text",className:"input-field",placeholder:"Property, Gold, etc."})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Number *"}),e.jsx("input",{...n("bankAccount",{required:"Bank account is required"}),type:"text",className:"input-field",placeholder:"Enter bank account number"}),o.bankAccount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.bankAccount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code *"}),e.jsx("input",{...n("ifscCode",{required:"IFSC code is required"}),type:"text",className:"input-field",placeholder:"Enter IFSC code"}),o.ifscCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.ifscCode.message})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Document Checklist"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("salarySlips"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Salary Slips (Last 3 months)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("itrReturns"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"ITR Returns (Last 2 years)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("businessProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Business Registration Proof"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...n("addressProof"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Address Proof"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),e.jsx("textarea",{...n("remarks"),rows:4,className:"input-field",placeholder:"Any additional information..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>s("/shortlist"),className:"btn-secondary",children:"Cancel"}),e.jsx(F.button,{type:"submit",disabled:c.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:c.isLoading?"Submitting...":"Submit Application"})]})]})]})})}const Ii=()=>{const s=Re(),t=u.useCallback(async()=>{console.log("🔄 Triggering dashboard refresh..."),await Promise.all([s.invalidateQueries("dashboard-data"),s.invalidateQueries(["individual-dashboard"]),s.invalidateQueries("enquiries"),s.invalidateQueries("staff"),s.invalidateQueries("shortlist"),s.invalidateQueries("documents"),s.invalidateQueries("transactions"),s.invalidateQueries("notifications")]),console.log("✅ Dashboard refresh completed")},[s]),a=u.useCallback(async()=>{console.log("📋 Refreshing dashboards after new enquiry..."),await t()},[t]),n=u.useCallback(async()=>{console.log("👥 Refreshing dashboards after staff change..."),await t()},[t]),i=u.useCallback(async()=>{console.log("📄 Refreshing dashboards after document change..."),await t()},[t]),r=u.useCallback(async()=>{console.log("⭐ Refreshing dashboards after shortlist change..."),await t()},[t]),o=u.useCallback(async()=>{console.log("💳 Refreshing dashboards after payment application..."),await t()},[t]),l=u.useCallback(async()=>{console.log("💰 Refreshing dashboards after transaction..."),await t()},[t]);return{refreshDashboards:t,refreshAfterEnquiry:a,refreshAfterStaff:n,refreshAfterDocument:i,refreshAfterShortlist:r,refreshAfterPayment:o,refreshAfterTransaction:l}};function om(){const{user:s}=$e(),t=pa(),[a,n]=u.useState(!1),[i,r]=u.useState(""),[o,l]=u.useState(null),[d,c]=u.useState(null),[m,f]=u.useState({}),[h,v]=u.useState(null),[p,b]=u.useState(!1),{refreshAfterStaff:g}=Ii();if(!t.canManageStaff)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(_e,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Only ",e.jsx("strong",{children:"admin@gmail.com"})," has permission to manage staff members."]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["Current user: ",e.jsx("strong",{children:s==null?void 0:s.email}),e.jsx("br",{}),"Role: ",e.jsx("strong",{children:s==null?void 0:s.role})]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please contact the administrator if you need access to staff management."})]})});const[A,x]=u.useState({1:"Active",2:"Active",3:"Active",4:"Inactive",5:"Active",6:"Active",7:"Active"}),N=Re(),{register:y,handleSubmit:w,reset:C,setValue:k,formState:{errors:O}}=Dt(),{data:M,isLoading:H,refetch:J}=he("staff",async()=>(await q.get("/api/staff")).data,{staleTime:4*60*1e3,keepPreviousData:!0}),{data:Z}=he("staff-stats",async()=>(await q.get("/api/staff/stats/summary")).data,{staleTime:5*60*1e3,keepPreviousData:!0}),V=(M==null?void 0:M.staff)||[],Q=(Z==null?void 0:Z.stats)||{},re=be(async R=>q.post("/api/staff",R),{onMutate:async R=>{await N.cancelQueries("staff"),await N.cancelQueries("staff-stats");const oe=N.getQueryData("staff"),K=N.getQueryData("staff-stats"),j={id:Date.now(),name:R.name,email:R.email,role:R.role,status:"PENDING",hasAccess:!1,department:R.department||"",position:R.position||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return N.setQueryData("staff",E=>({...E,staff:[...(E==null?void 0:E.staff)||[],j]})),N.setQueryData("staff-stats",E=>{var B,ee,le,ce,Pe;return{...E,stats:{...E==null?void 0:E.stats,totalStaff:(((B=E==null?void 0:E.stats)==null?void 0:B.totalStaff)||0)+1,employeeCount:R.role==="EMPLOYEE"?(((ee=E==null?void 0:E.stats)==null?void 0:ee.employeeCount)||0)+1:((le=E==null?void 0:E.stats)==null?void 0:le.employeeCount)||0,adminCount:R.role==="ADMIN"?(((ce=E==null?void 0:E.stats)==null?void 0:ce.adminCount)||0)+1:((Pe=E==null?void 0:E.stats)==null?void 0:Pe.adminCount)||0}}}),{previousStaff:oe,previousStats:K}},onSuccess:R=>{const oe=R.data.emailSent?"✅ Verification email sent successfully!":"❌ Failed to send verification email - check SMTP settings";I.success(`🎉 Staff member created successfully!
${oe}
📋 Check notification panel for staff notification!`,{duration:8e3,position:"top-center",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(16, 185, 129, 0.3)",border:"2px solid #34D399",maxWidth:"500px",textAlign:"center",whiteSpace:"pre-line"}}),setTimeout(()=>{I.success("🔔 New staff notification created! Check the notification bell.",{duration:6e3,position:"top-right",style:{background:"#3B82F6",color:"#fff",fontWeight:"bold",fontSize:"14px"}})},1e3),n(!1),C(),N.invalidateQueries("staff"),N.invalidateQueries("staff-stats"),N.invalidateQueries("global-notifications"),N.invalidateQueries("global-notification-count"),g(),setTimeout(()=>{console.log("🔔 Force refreshing notifications after staff creation..."),N.invalidateQueries("global-notifications"),N.invalidateQueries("global-notification-count")},2e3)},onError:(R,oe,K)=>{var j,E;K!=null&&K.previousStaff&&N.setQueryData("staff",K.previousStaff),K!=null&&K.previousStats&&N.setQueryData("staff-stats",K.previousStats),I.error(((E=(j=R.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to create staff member")}}),X=be(async R=>q.delete(`/api/staff/${R}`),{onMutate:async R=>{await N.cancelQueries("staff"),await N.cancelQueries("staff-stats");const oe=N.getQueryData("staff"),K=N.getQueryData("staff-stats"),j=V.find(E=>E.id===R);return N.setQueryData("staff",E=>{var B;return{...E,staff:((B=E==null?void 0:E.staff)==null?void 0:B.filter(ee=>ee.id!==R))||[]}}),j&&N.setQueryData("staff-stats",E=>{var B,ee,le,ce,Pe,it,S;return{...E,stats:{...E==null?void 0:E.stats,totalStaff:Math.max(0,(((B=E==null?void 0:E.stats)==null?void 0:B.totalStaff)||0)-1),employeeCount:j.role==="EMPLOYEE"?Math.max(0,(((ee=E==null?void 0:E.stats)==null?void 0:ee.employeeCount)||0)-1):((le=E==null?void 0:E.stats)==null?void 0:le.employeeCount)||0,adminCount:j.role==="ADMIN"?Math.max(0,(((ce=E==null?void 0:E.stats)==null?void 0:ce.adminCount)||0)-1):((Pe=E==null?void 0:E.stats)==null?void 0:Pe.adminCount)||0,activeStaff:j.status==="ACTIVE"?Math.max(0,(((it=E==null?void 0:E.stats)==null?void 0:it.activeStaff)||0)-1):((S=E==null?void 0:E.stats)==null?void 0:S.activeStaff)||0}}}),{previousStaff:oe,previousStats:K}},onSuccess:()=>{I.success("🗑️ Staff member deleted successfully!",{duration:3e3,position:"top-right",style:{background:"#EF4444",color:"#fff",fontWeight:"bold"}}),setTimeout(()=>{N.invalidateQueries("staff"),N.invalidateQueries("staff-stats"),N.invalidateQueries("global-notifications"),N.invalidateQueries("global-notification-count")},100)},onError:(R,oe,K)=>{var j,E;K!=null&&K.previousStaff&&N.setQueryData("staff",K.previousStaff),K!=null&&K.previousStats&&N.setQueryData("staff-stats",K.previousStats),I.error(((E=(j=R.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to delete staff member")}}),ae=be(async R=>q.post(`/api/staff/${R}/revoke-access`),{onMutate:async R=>{await N.cancelQueries("staff");const oe=N.getQueryData("staff");return N.setQueryData("staff",K=>{var j;return{...K,staff:((j=K==null?void 0:K.staff)==null?void 0:j.map(E=>E.id===R?{...E,hasAccess:!1,status:"INACTIVE"}:E))||[]}}),{previousStaff:oe}},onSuccess:()=>{I.success("🚫 Access revoked successfully! Notification sent via email.",{duration:4e3,position:"top-right",style:{background:"#F59E0B",color:"#fff",fontWeight:"bold"}}),setTimeout(()=>{N.invalidateQueries("staff"),N.invalidateQueries("staff-stats")},100)},onError:(R,oe,K)=>{var j,E;K!=null&&K.previousStaff&&N.setQueryData("staff",K.previousStaff),I.error(((E=(j=R.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to revoke access")}}),z=be(async R=>q.post(`/api/staff/${R}/grant-access`),{onMutate:async R=>{await N.cancelQueries("staff");const oe=N.getQueryData("staff");return N.setQueryData("staff",K=>{var j;return{...K,staff:((j=K==null?void 0:K.staff)==null?void 0:j.map(E=>E.id===R?{...E,hasAccess:!0,status:"ACTIVE"}:E))||[]}}),{previousStaff:oe}},onSuccess:R=>{I.success(`✅ Access granted! ${R.data.newAccessLinkSent?"New access link sent via email.":"Failed to send email."}`,{duration:4e3,position:"top-right",style:{background:"#10B981",color:"#fff",fontWeight:"bold"}}),setTimeout(()=>{N.invalidateQueries("staff"),N.invalidateQueries("staff-stats")},100)},onError:(R,oe,K)=>{var j,E;K!=null&&K.previousStaff&&N.setQueryData("staff",K.previousStaff),I.error(((E=(j=R.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to grant access")}}),de=be(async R=>q.post(`/api/staff/resend-verification/${R}`),{onSuccess:R=>{I.success(`📧 Verification email ${R.data.emailSent?"sent successfully!":"failed to send."}`,{duration:4e3,position:"top-right",style:{background:R.data.emailSent?"#10B981":"#EF4444",color:"#fff",fontWeight:"bold"}}),setTimeout(()=>{N.invalidateQueries("staff")},100)},onError:R=>{var oe,K;I.error(((K=(oe=R.response)==null?void 0:oe.data)==null?void 0:K.message)||"Failed to resend verification email")}}),P=R=>{re.mutate(R)},W=R=>{f(oe=>({...oe,[R]:!oe[R]}))},se=R=>{X.mutate(R)},ne=R=>{v(R),b(!0)},me=R=>{x(oe=>({...oe,[R]:oe[R]==="Active"?"Inactive":"Active"}))},xe=V==null?void 0:V.filter(R=>R.name.toLowerCase().includes(i.toLowerCase())||R.email.toLowerCase().includes(i.toLowerCase())),ut=R=>{switch(R){case"SUPER_ADMIN":return"bg-purple-100 text-purple-800";case"ADMIN":return"bg-blue-100 text-blue-800";case"EMPLOYEE":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},qe=R=>({1:3,2:2,3:3,4:0,5:1,6:2,7:1})[R]||0,nt=R=>({1:"Rajesh Kumar, Priya Sharma, Amit Patel",2:"Sunita Gupta, Vikram Singh",3:"Anita Desai, Ravi Mehta, Sanjay Joshi",4:null,5:"Deepak Verma",6:"Neha Agarwal, Rohit Sharma",7:"Manish Gupta"})[R]||null;return H?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-7 gap-4",children:V&&V.slice(0,7).map(R=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:R.name.split(" ").map(oe=>oe[0]).join("").substring(0,2)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:R.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:R.role})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Clients Taken"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A[R.id]==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A[R.id]==="Active"?"🟢":"🔴"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:qe(R.id)}),e.jsx("div",{className:"text-xs text-gray-500",children:qe(R.id)===1?"Client":"Clients"})]})]})]},R.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage team members and their roles"})]}),e.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[e.jsxs("button",{onClick:()=>J(),className:"btn-secondary inline-flex items-center",children:[e.jsx(ls,{className:"h-5 w-5 mr-2"}),"Refresh"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{l("ADMIN"),n(!0),setTimeout(()=>k("role","ADMIN"),100)},className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg inline-flex items-center shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Add Admin"]}),e.jsxs("button",{onClick:()=>{l("EMPLOYEE"),n(!0),setTimeout(()=>k("role","EMPLOYEE"),100)},className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg inline-flex items-center shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Pt,{className:"h-5 w-5 mr-2"}),"Add Employee"]})]})]})]}),a&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>{n(!1),l(null),c(null),C()},className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",title:"Back to Staff Management",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d?`Edit ${d.name}`:o==="ADMIN"?"Add New Admin":o==="EMPLOYEE"?"Add New Employee":"Add New Staff Member"}),e.jsx("p",{className:"text-sm text-gray-500",children:d?`Update ${d.role.toLowerCase()} account details`:o==="ADMIN"?"Create admin account with full access":o==="EMPLOYEE"?"Create employee account with limited access":"Fill details and send verification email"})]})]}),e.jsx("button",{onClick:()=>{n(!1),l(null),c(null),C()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(_e,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:w(P),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{...y("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input-field",placeholder:"Enter full name"}),O.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{...y("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field",placeholder:"Enter email address"}),O.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.email.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",d?"(leave blank to keep current)":"*"]}),e.jsx("input",{...y("password",{required:d?!1:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input-field",placeholder:d?"Leave blank to keep current password":"Enter password"}),O.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),e.jsxs("select",{...y("role",{required:"Role is required"}),className:`input-field ${o?"bg-gray-100 cursor-not-allowed":""}`,disabled:!!o,children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"ADMIN",children:"Admin"}),e.jsx("option",{value:"EMPLOYEE",children:"Employee"})]}),O.role&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.role.message})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),l(null),c(null),C()},className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:re.isLoading,className:"btn-primary disabled:opacity-50",children:re.isLoading?d?"Updating...":"Creating...":d?"Update Staff":"Create Staff & Send Access Link"})]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search staff members...",value:i,onChange:R=>r(R.target.value),className:"input-field pl-10"})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:xe&&xe.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Sl No"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Password"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Client Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Available"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:xe.map((R,oe)=>e.jsxs(F.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:oe*.05},className:"hover:bg-blue-50 transition-all duration-200 border-b border-gray-100",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:oe+1})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:R.name.split(" ").map(K=>K[0]).join("").substring(0,2)})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:R.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-900 font-mono",children:m[R.id]?R.password||"12345678":"••••••••"}),e.jsx("button",{onClick:()=>W(R.id),className:"text-gray-400 hover:text-gray-600 transition-colors",title:m[R.id]?"Hide password":"Show password",children:m[R.id]?e.jsx(ds,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${ut(R.role)}`,children:R.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${R.status==="ACTIVE"?"bg-green-100 text-green-800 border border-green-200":R.status==="PENDING"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:R.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:R.clientName||nt(R.id)?e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"truncate font-medium",title:R.clientName||nt(R.id)||"",children:R.clientName||nt(R.id)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[qe(R.id)," ",qe(R.id)===1?"client":"clients"]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-green-600 font-medium",children:"Available for Assignment"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Ready for New Clients"})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>me(R.id),className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full cursor-pointer transition-all duration-200 hover:shadow-md ${A[R.id]==="Active"?"bg-green-100 text-green-800 border border-green-200 hover:bg-green-200":"bg-red-100 text-red-800 border border-red-200 hover:bg-red-200"}`,title:`Click to toggle to ${A[R.id]==="Active"?"Inactive":"Active"}`,children:A[R.id]==="Active"?e.jsx(e.Fragment,{children:"🟢 Active"}):e.jsx(e.Fragment,{children:"🔴 Inactive"})})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:R.lastLogin?new Date(R.lastLogin).toLocaleDateString():"Never"}),e.jsx("div",{className:"text-xs text-gray-500",children:R.lastLogin?new Date(R.lastLogin).toLocaleTimeString():"No login yet"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>ne(R),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded-md text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors",title:"View Staff Details",children:e.jsx(Oe,{className:"h-4 w-4"})}),R.status==="PENDING"&&e.jsx("button",{onClick:()=>de.mutate(R.id),disabled:de.isLoading,className:"inline-flex items-center px-2 py-1 border border-orange-300 rounded-md text-orange-700 bg-orange-50 hover:bg-orange-100 disabled:opacity-50 transition-colors",title:"Resend Verification Email",children:e.jsx(ad,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{c(R),l(R.role),n(!0),setTimeout(()=>{k("name",R.name),k("email",R.email),k("role",R.role)},100)},className:"inline-flex items-center px-2 py-1 border border-blue-300 rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",title:"Edit Staff Member",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),R.hasAccess?e.jsx("button",{onClick:()=>ae.mutate(R.id),disabled:ae.isLoading,className:"inline-flex items-center px-2 py-1 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 transition-colors",title:"Revoke Access",children:e.jsx(_e,{className:"h-4 w-4"})}):e.jsx("button",{onClick:()=>z.mutate(R.id),disabled:z.isLoading,className:"inline-flex items-center px-2 py-1 border border-green-300 rounded-md text-green-700 bg-green-50 hover:bg-green-100 disabled:opacity-50 transition-colors",title:"Grant Access",children:e.jsx(ga,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>se(R.id),disabled:X.isLoading,className:"inline-flex items-center px-2 py-1 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 disabled:opacity-50 transition-colors",title:"Delete Staff",children:e.jsx(ct,{className:"h-4 w-4"})})]})})]},R.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No staff members found."}),e.jsxs("button",{onClick:()=>n(!0),className:"btn-primary inline-flex items-center mt-4",children:[e.jsx(Pt,{className:"h-5 w-5 mr-2"}),"Invite First Staff Member"]})]})}),V&&V.length>0&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Q.totalStaff||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Staff"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Q.activeStaff||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Q.adminCount||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Admins"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:Q.employeeCount||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Employees"})]})]}),p&&h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Member Details"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(_e,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-medium text-white",children:h.name.split(" ").map(R=>R[0]).join("").substring(0,2)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:h.name}),e.jsx("p",{className:"text-gray-600",children:h.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${ut(h.role)}`,children:h.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${h.status==="ACTIVE"?"bg-green-100 text-green-800 border border-green-200":h.status==="PENDING"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"}`,children:h.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded",children:m[h.id]?h.password||"12345678":"••••••••"}),e.jsx("button",{onClick:()=>W(h.id),className:"text-gray-400 hover:text-gray-600 transition-colors",title:m[h.id]?"Hide password":"Show password",children:m[h.id]?e.jsx(ds,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available"}),e.jsx("button",{onClick:()=>me(h.id),className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full cursor-pointer transition-all duration-200 hover:shadow-md ${A[h.id]==="Active"?"bg-green-100 text-green-800 border border-green-200 hover:bg-green-200":"bg-red-100 text-red-800 border border-red-200 hover:bg-red-200"}`,title:`Click to toggle to ${A[h.id]==="Active"?"Inactive":"Active"}`,children:A[h.id]==="Active"?e.jsx(e.Fragment,{children:"🟢 Active"}):e.jsx(e.Fragment,{children:"🔴 Inactive"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),e.jsx("div",{className:"text-sm text-gray-900",children:h.lastLogin?new Date(h.lastLogin).toLocaleDateString():"Never"}),e.jsx("div",{className:"text-xs text-gray-500",children:h.lastLogin?new Date(h.lastLogin).toLocaleTimeString():"No login yet"})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:new Date(h.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Updated:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:new Date(h.updatedAt).toLocaleDateString()})]})]})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{c(h),l(h.role),b(!1),n(!0),setTimeout(()=>{k("name",h.name),k("email",h.email),k("role",h.role)},100)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Edit Staff"})]})]})})]})}const lm=()=>{const[s,t]=u.useState("desktop");return u.useEffect(()=>{const a=()=>{const n=window.innerWidth;n<768?t("mobile"):n<1024?t("tablet"):t("desktop")};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),s};function cm(){const s=lm(),[t,a]=u.useState(""),[n,i]=u.useState(!1),[r,o]=u.useState({isOpen:!1,transaction:null}),l=Re(),d=oa(),c=be(async N=>{console.log("🗑️ Executing DELETE request for transaction ID:",N);const y=await q.delete(`/api/transactions/${N}`);return console.log("✅ DELETE response received:",y.data),y},{onSuccess:(N,y)=>{console.log("✅ Delete mutation successful:",N.data),I.success("Transaction deleted successfully!"),l.setQueryData(["transactions",t],w=>w&&w.filter(C=>C.id!==y)),setTimeout(()=>{l.invalidateQueries(["transactions"])},100)},onError:N=>{var y,w;console.error("❌ Delete mutation failed:",N),I.error(((w=(y=N.response)==null?void 0:y.data)==null?void 0:w.message)||"Failed to delete transaction")}}),m=(N,y)=>{window.confirm(`Are you sure you want to delete the transaction "${y}"? This action cannot be undone.`)&&(console.log("🗑️ Attempting to delete transaction ID:",N),c.mutate(N))},f=N=>{console.log("👁️ Viewing transaction:",N.name),o({isOpen:!0,transaction:N})},h=()=>{o({isOpen:!1,transaction:null})},{data:v,isLoading:p,refetch:b}=he(["transactions",t],async()=>{const N=new URLSearchParams;t&&N.append("name",t);const y=await q.get(`/api/transactions?${N}`);return console.log("Transaction data received:",y.data),y.data},{staleTime:2*60*1e3,keepPreviousData:!0}),g=N=>new Date(N).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),A={total:(v==null?void 0:v.length)||0,completed:(v==null?void 0:v.filter(N=>N.status==="COMPLETED").length)||0,pending:(v==null?void 0:v.filter(N=>N.status==="PENDING").length)||0,failed:(v==null?void 0:v.filter(N=>N.status==="FAILED").length)||0,totalAmount:(v==null?void 0:v.reduce((N,y)=>N+(y.amount||0),0))||0,completedAmount:(v==null?void 0:v.filter(N=>N.status==="COMPLETED").reduce((N,y)=>N+(y.amount||0),0))||0};u.useEffect(()=>{var N,y,w;(N=d.state)!=null&&N.fromAdd&&((y=d.state)!=null&&y.transactionName)&&(I.success(`🎉 ${d.state.transactionName} transaction has been successfully added!`),window.history.replaceState({},document.title)),(w=d.state)!=null&&w.fromEdit&&(console.log("Returning from edit page, forcing refresh...",d.state),i(!0),l.clear(),l.invalidateQueries(["transactions"]),setTimeout(()=>{l.refetchQueries(["transactions"]),b().finally(()=>{i(!1)})},50))},[d.state,l,b,i]);const x=s==="mobile";return p||n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:n?"Refreshing data...":"Loading..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transaction Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage all financial transactions"})]}),e.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[e.jsx("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),b(),I.success("Refreshing transaction data...")},className:"btn-outline inline-flex items-center",children:"🔄 Refresh"}),e.jsxs(Ae,{to:"/transactions/new",className:"btn-primary inline-flex items-center",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"New Transaction"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Transactions"}),e.jsx("p",{className:"text-3xl font-bold",children:A.total})]}),e.jsx("div",{className:"bg-blue-400 bg-opacity-30 rounded-lg p-3",children:e.jsx(cs,{className:"h-8 w-8"})})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold",children:A.completed}),e.jsxs("p",{className:"text-green-100 text-xs mt-1",children:["₹",A.completedAmount.toLocaleString()]})]}),e.jsx("div",{className:"bg-green-400 bg-opacity-30 rounded-lg p-3",children:e.jsx(Te,{className:"h-8 w-8"})})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Pending"}),e.jsx("p",{className:"text-3xl font-bold",children:A.pending})]}),e.jsx("div",{className:"bg-yellow-400 bg-opacity-30 rounded-lg p-3",children:e.jsx(Gt,{className:"h-8 w-8"})})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",A.totalAmount.toLocaleString()]}),A.failed>0&&e.jsxs("p",{className:"text-purple-100 text-xs mt-1",children:[A.failed," failed"]})]}),e.jsx("div",{className:"bg-purple-400 bg-opacity-30 rounded-lg p-3",children:e.jsx("span",{className:"text-2xl font-bold",children:"₹"})})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(At,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:t,onChange:N=>a(N.target.value),className:"input-field pl-10"})]}),e.jsx("button",{onClick:()=>{a(""),b()},className:"btn-secondary",children:"Clear"})]})}),e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:v&&v.length>0?e.jsx("div",{className:`${x?"space-y-4":"overflow-x-auto"}`,children:x?e.jsx("div",{className:"space-y-4",children:v.map(N=>e.jsxs(F.div,{whileHover:{scale:1.02},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:N.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${N.status==="COMPLETED"?"bg-green-100 text-green-800":N.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:N.status})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["📅 ",new Date(N.date).toLocaleDateString()]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["🕐 ",g(N.date)]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["🆔 ",N.transactionId]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["💰 ₹",N.amount.toLocaleString()]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>f(N),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(Ae,{to:`/transactions/${N.id}/edit`,className:"text-primary-600 hover:text-primary-800 text-sm font-medium inline-flex items-center",children:[e.jsx(tt,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>m(N.id,N.name),disabled:c.isLoading,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[e.jsx(ct,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},N.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[e.jsx("thead",{className:"bg-indigo-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-16 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"S.No"}),e.jsx("th",{className:"w-48 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"w-40 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Transaction ID"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"w-24 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"w-32 px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map((N,y)=>e.jsxs(F.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"w-16 px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y+1}),e.jsx("td",{className:"w-48 px-4 py-4 text-sm font-medium text-gray-900",children:e.jsx("div",{className:"truncate",title:N.name,children:N.name})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.date).toLocaleDateString()}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:g(N.date)}),e.jsx("td",{className:"w-40 px-4 py-4 text-sm text-gray-500",children:e.jsx("div",{className:"truncate",title:N.transactionId,children:N.transactionId})}),e.jsxs("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm text-gray-500 font-semibold",children:["₹",N.amount.toLocaleString()]}),e.jsx("td",{className:"w-24 px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${N.status==="COMPLETED"?"bg-green-100 text-green-800":N.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:N.status})}),e.jsx("td",{className:"w-32 px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(N),className:"text-blue-600 hover:text-blue-900 inline-flex items-center",title:"View Transaction Details",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx(Ae,{to:`/transactions/${N.id}/edit`,className:"text-primary-600 hover:text-primary-900 inline-flex items-center",title:"Edit Transaction",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>m(N.id,N.name),disabled:c.isLoading,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",title:"Delete Transaction",children:e.jsx(ct,{className:"h-4 w-4"})})]})})]},N.id))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No transactions found."}),e.jsxs(Ae,{to:"/transactions/new",className:"btn-primary inline-flex items-center mt-4",children:[e.jsx(pt,{className:"h-5 w-5 mr-2"}),"Create First Transaction"]})]})}),r.isOpen&&r.transaction&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Transaction Details - ",r.transaction.name]}),e.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"mt-4 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.transaction.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.transaction.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g(r.transaction.date)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction ID"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:r.transaction.transactionId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["₹",r.transaction.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.transaction.status==="COMPLETED"?"bg-green-100 text-green-800":r.transaction.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.transaction.status})]})]})}),e.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-200 space-x-3",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),e.jsxs(Ae,{to:`/transactions/${r.transaction.id}/edit`,onClick:h,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 inline-flex items-center",children:[e.jsx(tt,{className:"h-4 w-4 mr-2"}),"Edit Transaction"]})]})]})})})]})}function un(){const s=Ge(),{id:t}=ps(),a=!!t,n=Re(),{register:i,handleSubmit:r,reset:o,formState:{errors:l}}=Dt(),{data:d}=he(["transaction",t],async()=>t?(await q.get(`/api/transactions/${t}`)).data:null,{enabled:a}),c=be(async f=>{if(console.log("Submitting transaction form data:",f),a){const h=await q.patch(`/api/transactions/${t}`,f);return console.log("PATCH response:",h.data),h}else{const h=await q.post("/api/transactions",f);return console.log("POST response:",h.data),h}},{onSuccess:async f=>{I.success(a?"Transaction updated successfully!":"Transaction created successfully!"),console.log("Transaction update/create successful:",f.data),n.clear(),n.invalidateQueries(["transactions"]),n.invalidateQueries(["transaction"]),await n.refetchQueries(["transactions"]),setTimeout(()=>{var h;s("/transactions",{state:{fromAdd:!a,fromEdit:a,transactionName:((h=f.data.transaction)==null?void 0:h.name)||f.data.name,timestamp:Date.now()}})},100)},onError:f=>{var h,v;I.error(((v=(h=f.response)==null?void 0:h.data)==null?void 0:v.message)||"Something went wrong")}});u.useEffect(()=>{if(d){const f=d.date?new Date(d.date):new Date;o({name:d.name,date:f.toISOString().split("T")[0],time:f.toTimeString().split(" ")[0].substring(0,5),transactionId:d.transactionId,amount:d.amount,status:d.status})}},[d,o]);const m=f=>{const h=`${f.date}T${f.time}:00.000Z`,v={...f,date:h};c.mutate(v)};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("/transactions"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx(Et,{className:"h-4 w-4 mr-2"}),"Back to Transactions"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Transaction":"New Transaction"}),e.jsx("p",{className:"text-gray-600",children:a?"Update transaction information":"Create a new transaction record"})]})]})}),e.jsxs("form",{onSubmit:r(m),className:"card space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),e.jsx("input",{...i("name",{required:"Name is required"}),type:"text",className:"input-field",placeholder:"Enter transaction name"}),l.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),e.jsx("input",{...i("date",{required:"Date is required"}),type:"date",className:"input-field"}),l.date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.date.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time *"}),e.jsx("input",{...i("time",{required:"Time is required"}),type:"time",className:"input-field"}),l.time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.time.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID *"}),e.jsx("input",{...i("transactionId",{required:"Transaction ID is required"}),type:"text",className:"input-field",placeholder:"Enter transaction ID"}),l.transactionId&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.transactionId.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),e.jsx("input",{...i("amount",{required:"Amount is required",min:{value:.01,message:"Amount must be greater than 0"}}),type:"number",step:"0.01",className:"input-field",placeholder:"Enter amount"}),l.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.amount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),e.jsxs("select",{...i("status",{required:"Status is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"FAILED",children:"Failed"})]}),l.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.status.message})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>s("/transactions"),className:"btn-secondary",children:"Cancel"}),e.jsx(F.button,{type:"submit",disabled:c.isLoading,className:"btn-primary disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:c.isLoading?a?"Updating...":"Creating...":a?"Update Transaction":"Create Transaction"})]})]})]})})}const dm=()=>{const s=Ge(),{refreshAfterEnquiry:t}=Ii(),[a,n]=u.useState({businessName:"",ownerName:"",email:"",phone:"",loanAmount:"",loanPurpose:"",annualRevenue:""}),[i,r]=u.useState(!1),[o,l]=u.useState({isChecking:!1,isDuplicate:!1});u.useEffect(()=>{if(a.phone&&a.phone.length===10){const f=setTimeout(async()=>{l({isChecking:!0,isDuplicate:!1});try{const p=((await q.get("/api/enquiries")).data||[]).find(b=>b.mobile===a.phone);if(p){const b=p.name||p.businessName||"Unknown Client";l({isChecking:!1,isDuplicate:!0,existingClient:b})}else l({isChecking:!1,isDuplicate:!1})}catch(h){console.error("Error checking phone number:",h),l({isChecking:!1,isDuplicate:!1})}},1e3);return()=>clearTimeout(f)}else l({isChecking:!1,isDuplicate:!1})},[a.phone]);const d=f=>{const{name:h,value:v}=f.target;if(h==="phone"){const p=v.replace(/\D/g,"");p.length<=10&&n(b=>({...b,[h]:p}));return}n(p=>({...p,[h]:v}))},c=async()=>{try{console.log("🔍 Checking for duplicate phone number and name...");const h=(await q.get("/api/enquiries")).data||[],v=h.find(b=>b.mobile===a.phone);if(v){const b=v.name||v.businessName||"Unknown Client";return pe.error(`Phone number ${a.phone} already exists for client: ${b}`),!1}const p=h.find(b=>b.name&&b.name.toLowerCase()===a.ownerName.toLowerCase()||b.businessName&&b.businessName.toLowerCase()===a.businessName.toLowerCase());if(p){const b=p.name||p.businessName,g=p.mobile;return pe.error(`Client "${b}" already exists with phone number: ${g}`),!1}return!0}catch(f){return console.error("❌ Error checking for duplicates:",f),!0}},m=async f=>{var v,p,b,g,A,x,N;if(f.preventDefault(),!a.businessName||!a.ownerName||!a.phone){pe.error("Please fill in all required fields");return}if(a.phone.length!==10){pe.error("Phone number must be exactly 10 digits");return}if(r(!0),!await c()){r(!1);return}try{console.log("🚀 Submitting loan enquiry:",a);const y=await q.post("/api/enquiries",{name:a.ownerName,mobile:a.phone,email:a.email,businessName:a.businessName,businessType:a.loanPurpose||"General Business",loanAmount:a.loanAmount?parseInt(a.loanAmount.replace(/[^0-9]/g,"")):null,source:"LANDING_PAGE",interestStatus:"INTERESTED",additionalData:{annualRevenue:a.annualRevenue,loanPurpose:a.loanPurpose}});console.log("✅ Enquiry submitted successfully:",y.data),pe.success("Application submitted successfully! Our specialists will reach out within 24 hours."),await t(),n({businessName:"",ownerName:"",email:"",phone:"",loanAmount:"",loanPurpose:"",annualRevenue:""}),setTimeout(()=>{s("/dashboard")},2e3)}catch(y){console.error("❌ Error submitting application:",y),console.error("❌ Error details:",{status:(v=y.response)==null?void 0:v.status,statusText:(p=y.response)==null?void 0:p.statusText,data:(b=y.response)==null?void 0:b.data,message:y.message});let w="Failed to submit application. Please try again.";((g=y.response)==null?void 0:g.status)===404?w="Service not available. Please try again later.":((A=y.response)==null?void 0:A.status)===500?w="Server error. Please try again later.":(N=(x=y.response)==null?void 0:x.data)!=null&&N.message?w=y.response.data.message:y.message.includes("Network Error")&&(w="Network error. Please check your connection and try again."),pe.error(w)}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-screen",children:[e.jsxs("div",{className:"text-white space-y-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-teal-400 to-cyan-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"₹"})}),e.jsx("span",{className:"text-xl font-bold",children:"FinGrowth"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold leading-tight",children:["Power Your Business",e.jsx("br",{}),"with",e.jsx("br",{}),e.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-400",children:["Tailored Financial",e.jsx("br",{}),"Solutions"]})]}),e.jsx("p",{className:"text-xl text-slate-300 leading-relaxed max-w-lg",children:"Get the capital you need with same-day approvals and competitive rates. Designed for ambitious businesses looking to expand, upgrade, or optimize their operations."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"24h"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Fast Track Approval"})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"8%*"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Competitive Rates"})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:"₹5 Crore"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Maximum Funding"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"Secure & Encrypted"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kt,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"No Hidden Fees"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"Pre-approved Offers"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kt,{className:"h-5 w-5 text-teal-400"}),e.jsx("span",{className:"text-slate-300",children:"Dedicated Manager"})]})]})]}),e.jsx("div",{className:"bg-slate-800/40 backdrop-blur-lg rounded-2xl p-8 border border-slate-700 shadow-2xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Business Loan Enquiry"}),e.jsx("p",{className:"text-slate-400",children:"Submit your details. Our specialists will reach out within 24 hours."})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Business Name"}),e.jsx("input",{type:"text",name:"businessName",value:a.businessName,onChange:d,placeholder:"Your Company Ltd.",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Owner Name"}),e.jsx("input",{type:"text",name:"ownerName",value:a.ownerName,onChange:d,placeholder:"John Doe",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,placeholder:"john@company.com",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,placeholder:"+91 9787373721",maxLength:10,className:`w-full px-4 py-3 bg-slate-700/50 border rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:border-transparent ${o.isDuplicate?"border-red-500 focus:ring-red-400":"border-slate-600 focus:ring-teal-400"}`,required:!0}),o.isChecking&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-400"})})]}),o.isDuplicate&&e.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Phone number already exists for client: ",o.existingClient]}),!o.isDuplicate&&!o.isChecking&&a.phone.length===10&&e.jsxs("p",{className:"mt-2 text-sm text-green-400 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Phone number is available"]}),a.phone.length>0&&a.phone.length<10&&e.jsxs("p",{className:"mt-2 text-sm text-yellow-400 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please enter exactly 10 digits (",a.phone.length,"/10)"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Loan Amount"}),e.jsxs("select",{name:"loanAmount",value:a.loanAmount,onChange:d,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select amount"}),e.jsx("option",{value:"500000",children:"₹5 Lakh"}),e.jsx("option",{value:"1000000",children:"₹10 Lakh"}),e.jsx("option",{value:"2500000",children:"₹25 Lakh"}),e.jsx("option",{value:"5000000",children:"₹50 Lakh"}),e.jsx("option",{value:"10000000",children:"₹1 Crore"}),e.jsx("option",{value:"50000000",children:"₹5 Crore"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Loan Purpose"}),e.jsxs("select",{name:"loanPurpose",value:a.loanPurpose,onChange:d,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select purpose"}),e.jsx("option",{value:"Working Capital",children:"Working Capital"}),e.jsx("option",{value:"Equipment Purchase",children:"Equipment Purchase"}),e.jsx("option",{value:"Business Expansion",children:"Business Expansion"}),e.jsx("option",{value:"Inventory",children:"Inventory"}),e.jsx("option",{value:"Real Estate",children:"Real Estate"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Annual Revenue"}),e.jsxs("select",{name:"annualRevenue",value:a.annualRevenue,onChange:d,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select revenue range"}),e.jsx("option",{value:"Below 10 Lakh",children:"Below ₹10 Lakh"}),e.jsx("option",{value:"10-25 Lakh",children:"₹10-25 Lakh"}),e.jsx("option",{value:"25-50 Lakh",children:"₹25-50 Lakh"}),e.jsx("option",{value:"50 Lakh - 1 Crore",children:"₹50 Lakh - 1 Crore"}),e.jsx("option",{value:"1-5 Crore",children:"₹1-5 Crore"}),e.jsx("option",{value:"Above 5 Crore",children:"Above ₹5 Crore"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Business Documents (Optional)"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-6 text-center hover:border-teal-400 transition-colors cursor-pointer",children:[e.jsx(gi,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),e.jsx("span",{className:"text-slate-400",children:"Upload financial documents"})]})]}),e.jsx("button",{type:"submit",disabled:i||o.isDuplicate,className:`w-full font-semibold py-4 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed ${o.isDuplicate?"bg-gray-500 text-white cursor-not-allowed":"bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Submit Application"}),e.jsx(tc,{className:"h-5 w-5"})]})}),e.jsx("p",{className:"text-xs text-slate-400 text-center",children:"By submitting this form, you agree to our terms and privacy policy."})]})]})})]})})})};class um{constructor(t){Qt(this,"results",[]);Qt(this,"queryClient");this.queryClient=t}async testAllEndpoints(){console.log("🧪 Starting comprehensive auto-refresh test...");const t=[{page:"Dashboard",endpoint:"/api/enquiries",queryKey:"dashboard-data"},{page:"Enquiry List",endpoint:"/api/enquiries",queryKey:"enquiries"},{page:"Document Verification",endpoint:"/api/documents",queryKey:"documents-verification"},{page:"Document Upload",endpoint:"/api/documents",queryKey:"documents"},{page:"Shortlist",endpoint:"/api/shortlist",queryKey:"shortlists"},{page:"Payment Gateway",endpoint:"/api/cashfree",queryKey:"cashfree-applications"},{page:"Staff Management",endpoint:"/api/staff",queryKey:"staff"}];for(const a of t)await this.testEndpoint(a.page,a.endpoint,a.queryKey);return this.results}async testEndpoint(t,a,n){try{console.log(`🔍 Testing ${t} - ${a}`);const i=await fetch(a),r=await i.json();if(i.ok){const o=this.queryClient.getQueryData(n);this.results.push({page:t,endpoint:a,status:"success",message:`✅ API working, data count: ${Array.isArray(r)?r.length:"N/A"}${o?", cached data exists":", no cached data"}`,timestamp:new Date().toISOString(),dataCount:Array.isArray(r)?r.length:void 0}),console.log(`✅ ${t} test passed`)}else throw new Error(`HTTP ${i.status}: ${i.statusText}`)}catch(i){this.results.push({page:t,endpoint:a,status:"error",message:`❌ ${i.message}`,timestamp:new Date().toISOString()}),console.error(`❌ ${t} test failed:`,i.message)}}async testCacheInvalidation(){console.log("🔄 Testing cache invalidation...");const t=["dashboard-data","enquiries","documents","documents-verification","shortlists","cashfree-applications","staff"];for(const a of t)try{const n=this.queryClient.getQueryData(a);await this.queryClient.invalidateQueries(a),await new Promise(r=>setTimeout(r,1e3));const i=this.queryClient.getQueryData(a);this.results.push({page:`Cache Test - ${a}`,endpoint:"cache-invalidation",status:"success",message:`✅ Cache invalidated successfully. Before: ${n?"exists":"empty"}, After: ${i?"exists":"empty"}`,timestamp:new Date().toISOString()}),console.log(`✅ Cache invalidation test passed for ${a}`)}catch(n){this.results.push({page:`Cache Test - ${a}`,endpoint:"cache-invalidation",status:"error",message:`❌ Cache invalidation failed: ${n.message}`,timestamp:new Date().toISOString()}),console.error(`❌ Cache invalidation test failed for ${a}:`,n.message)}}async testAutoRefreshIntervals(){console.log("⏰ Testing auto-refresh intervals...");const t=35e3,a=Date.now(),n={"dashboard-data":this.queryClient.getQueryData("dashboard-data"),enquiries:this.queryClient.getQueryData("enquiries"),shortlists:this.queryClient.getQueryData("shortlists")};return new Promise(i=>{const r=setInterval(()=>{if(Date.now()-a>=t){clearInterval(r);const l={"dashboard-data":this.queryClient.getQueryData("dashboard-data"),enquiries:this.queryClient.getQueryData("enquiries"),shortlists:this.queryClient.getQueryData("shortlists")};let d=!1;for(const[c,m]of Object.entries(n)){const f=l[c];if(m!==f){d=!0;break}}this.results.push({page:"Auto-refresh Monitor",endpoint:"interval-refresh",status:d?"success":"error",message:d?`✅ Auto-refresh detected within ${t/1e3}s`:`❌ No auto-refresh detected within ${t/1e3}s`,timestamp:new Date().toISOString()}),console.log(d?"✅ Auto-refresh test passed":"❌ Auto-refresh test failed - no refresh detected"),i()}},5e3)})}generateReport(){const t=this.results.filter(i=>i.status==="success").length,a=this.results.filter(i=>i.status==="error").length;let n=`
🧪 AUTO-REFRESH FUNCTIONALITY TEST REPORT
==========================================

📊 Summary:
- Total Tests: ${this.results.length}
- Passed: ${t} ✅
- Failed: ${a} ❌
- Success Rate: ${(t/this.results.length*100).toFixed(1)}%

📋 Detailed Results:
`;return this.results.forEach((i,r)=>{n+=`
${r+1}. ${i.page}
   Endpoint: ${i.endpoint}
   Status: ${i.status==="success"?"✅ PASS":"❌ FAIL"}
   Message: ${i.message}
   Time: ${new Date(i.timestamp).toLocaleTimeString()}
   ${i.dataCount!==void 0?`Data Count: ${i.dataCount}`:""}
`}),n+=`
==========================================
Test completed at: ${new Date().toLocaleString()}
`,n}clearResults(){this.results=[]}}const mm=()=>{const[s,t]=u.useState(!1),[a,n]=u.useState([]),[i,r]=u.useState(""),o=Re(),l=async()=>{t(!0),n([]),r("Initializing tests...");try{const h=new um(o);r("Testing API endpoints..."),await h.testAllEndpoints(),r("Testing cache invalidation..."),await h.testCacheInvalidation();const v=h.results;n(v);const p=h.generateReport();console.log(p);const b=v.filter(A=>A.status==="success").length,g=v.length;I.success(`Tests completed! ${b}/${g} passed`),r(`Completed: ${b}/${g} tests passed`)}catch(h){console.error("Test execution failed:",h),I.error(`Test execution failed: ${h.message}`),r(`Failed: ${h.message}`)}finally{t(!1)}},d=()=>{n([]),r("")},c=()=>{r("Manually refreshing all queries..."),["dashboard-data","enquiries","documents","documents-verification","shortlists","cashfree-applications","staff"].forEach(v=>{o.invalidateQueries(v)}),I.success("Manual refresh triggered for all queries"),r("Manual refresh completed")},m=h=>h==="success"?"✅":"❌",f=h=>h==="success"?"text-green-600":"text-red-600";return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Auto-Refresh Functionality Test"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:l,disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Running..."]}):e.jsxs(e.Fragment,{children:[e.jsx($d,{className:"h-4 w-4 mr-2"}),"Run Tests"]})}),e.jsxs("button",{onClick:c,disabled:s,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Manual Refresh"]}),e.jsx("button",{onClick:d,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Clear Results"})]})]}),i&&e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsx("p",{className:"text-sm text-blue-800",children:i})}),a.length>0&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((h,v)=>e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:v*.1},className:`p-4 border rounded-lg ${h.status==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:h.page}),e.jsx("span",{className:"text-lg",children:m(h.status)})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:h.endpoint})}),e.jsx("p",{className:`text-sm ${f(h.status)} mb-2`,children:h.message}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[e.jsx("span",{children:new Date(h.timestamp).toLocaleTimeString()}),h.dataCount!==void 0&&e.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[h.dataCount," items"]})]})]},v))}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Tests"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(h=>h.status==="success").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Passed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.filter(h=>h.status==="error").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Testing Instructions"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:'• Click "Run Tests" to verify all API endpoints and cache functionality'}),e.jsx("li",{children:'• Use "Manual Refresh" to trigger immediate data refresh across all pages'}),e.jsx("li",{children:"• Check browser console for detailed logs and reports"}),e.jsx("li",{children:"• Navigate between pages to verify data persistence"}),e.jsx("li",{children:"• Refresh the browser page to test data persistence after reload"})]})]})]})},hm=()=>{const[s,t]=u.useState([]),[a,n]=u.useState(!0),[i,r]=u.useState(0),o=Re(),l=[{key:"enquiries",endpoint:"/api/enquiries",label:"Enquiries"},{key:"shortlists",endpoint:"/api/shortlist",label:"Shortlist"},{key:"documents",endpoint:"/api/documents",label:"Documents"},{key:"staff",endpoint:"/api/staff",label:"Staff"},{key:"cashfree",endpoint:"/api/cashfree",label:"Payment Gateway"}],d=async g=>{try{const x=(await q.get(g)).data;return{endpoint:g,status:"success",data:x,lastUpdated:new Date().toLocaleTimeString(),dataCount:Array.isArray(x)?x.length:Array.isArray(x==null?void 0:x.staff)?x.staff.length:void 0}}catch(A){return{endpoint:g,status:"error",error:A.message,lastUpdated:new Date().toLocaleTimeString()}}},c=async()=>{t(x=>x.map(N=>({...N,status:"loading"})));const g=await Promise.all(l.map(({endpoint:x})=>d(x)));t(g),r(x=>x+1);const A=g.filter(x=>x.status==="success").length;I.success(`Test completed: ${A}/${g.length} endpoints working`)};u.useEffect(()=>{c()},[]),u.useEffect(()=>{if(!a)return;const g=setInterval(()=>{console.log("🔄 Auto-refresh triggered by test page"),c()},3e4);return()=>clearInterval(g)},[a]);const{data:m}=he("enquiries",()=>q.get("/api/enquiries").then(g=>g.data),{staleTime:3*60*1e3,keepPreviousData:!0}),{data:f}=he("shortlists",()=>q.get("/api/shortlist").then(g=>g.data),{staleTime:2*60*1e3,keepPreviousData:!0}),{data:h}=he("documents",()=>q.get("/api/documents").then(g=>g.data),{staleTime:8*60*1e3,keepPreviousData:!0}),v=g=>{switch(g){case"loading":return e.jsx(Gt,{className:"h-5 w-5 text-yellow-500 animate-spin"});case"success":return e.jsx(Te,{className:"h-5 w-5 text-green-500"});case"error":return e.jsx(gt,{className:"h-5 w-5 text-red-500"})}},p=g=>{switch(g){case"loading":return"border-yellow-200 bg-yellow-50";case"success":return"border-green-200 bg-green-50";case"error":return"border-red-200 bg-red-50"}},b=()=>{["enquiries","shortlists","documents","staff","cashfree","dashboard-data"].forEach(A=>{o.invalidateQueries(A)}),I.success("All caches invalidated - data will refresh automatically")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Persistence & Auto-Refresh Test"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:g=>n(g.target.checked),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Auto-refresh (30s)"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Refreshes: ",i]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Test All Endpoints"]}),e.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Invalidate Caches"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Endpoint Status"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((g,A)=>{var x;return e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:`p-4 border rounded-lg ${p(g.status)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:((x=l.find(N=>N.endpoint===g.endpoint))==null?void 0:x.label)||g.endpoint}),v(g.status)]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:g.endpoint})}),g.status==="success"&&e.jsxs("div",{className:"space-y-1",children:[g.dataCount!==void 0&&e.jsxs("p",{className:"text-sm text-green-700",children:["✅ ",g.dataCount," items found"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",g.lastUpdated]})]}),g.status==="error"&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-red-700",children:["❌ ",g.error]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Failed at: ",g.lastUpdated]})]}),g.status==="loading"&&e.jsx("p",{className:"text-sm text-yellow-700",children:"🔄 Testing..."})]},g.endpoint)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"React Query Cache Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Enquiries Cache"}),e.jsx("p",{className:"text-sm text-gray-600",children:m?`✅ ${Array.isArray(m)?m.length:"N/A"} items cached`:"❌ No cache"})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Shortlist Cache"}),e.jsx("p",{className:"text-sm text-gray-600",children:f?`✅ ${Array.isArray(f)?f.length:"N/A"} items cached`:"❌ No cache"})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Documents Cache"}),e.jsx("p",{className:"text-sm text-gray-600",children:h?`✅ ${Array.isArray(h)?h.length:"N/A"} items cached`:"❌ No cache"})]})]})]}),e.jsx(mm,{}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Testing Instructions"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Auto-refresh:"})," This page automatically tests endpoints every 30 seconds when enabled"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Manual test:"}),' Click "Test All Endpoints" to immediately check all API endpoints']}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Cache test:"}),' Click "Invalidate Caches" to test cache refresh functionality']}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Navigation test:"})," Navigate to other pages and return - data should persist"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Refresh test:"})," Refresh the browser page - data should remain visible"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Console logs:"})," Check browser console for detailed refresh activity"]})]})]})]})};function fm(){const[s,t]=u.useState("admin@gmail.com"),[a,n]=u.useState("admin123"),[i,r]=u.useState(!1),{login:o,isAuthenticated:l,user:d}=$e(),c=Ge(),m=async()=>{r(!0);try{console.log("🧪 Testing login..."),await o({email:s,password:a}),console.log("🧪 Login completed, auth state:",l),setTimeout(()=>{console.log("🧪 Attempting manual navigation..."),c("/dashboard")},1e3)}catch(h){console.error("🧪 Login test failed:",h)}finally{r(!1)}},f=()=>{console.log("🧪 Testing direct navigation..."),c("/dashboard")};return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Login Test Page"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email:"}),e.jsx("input",{type:"email",value:s,onChange:h=>t(h.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password:"}),e.jsx("input",{type:"password",value:a,onChange:h=>n(h.target.value),className:"w-full p-2 border rounded"})]}),e.jsx("button",{onClick:m,disabled:i,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:i?"Testing Login...":"Test Login"}),e.jsx("button",{onClick:f,className:"w-full bg-green-600 text-white p-2 rounded hover:bg-green-700",children:"Test Direct Navigation"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Current State:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Authenticated:"})," ",l?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",d?`${d.name} (${d.role})`:"None"]})]})]})})}function xm(){const{isAuthenticated:s,user:t}=$e(),{canManageStaff:a}=pa();return e.jsxs(Ea,{children:[e.jsx(ge,{path:"/apply",element:e.jsx(dm,{})}),e.jsx(ge,{path:"/login",element:e.jsx(Hu,{})}),e.jsx(ge,{path:"/login-test",element:e.jsx(fm,{})}),s?e.jsx(ge,{path:"/*",element:e.jsx(wu,{children:e.jsxs(Ea,{children:[e.jsx(ge,{path:"/dashboard",element:e.jsx(zu,{})}),e.jsx(ge,{path:"/enquiries",element:e.jsx(Ku,{})}),e.jsx(ge,{path:"/enquiries/new",element:e.jsx(Bs,{})}),e.jsx(ge,{path:"/enquiries/:id",element:e.jsx(Bs,{})}),e.jsx(ge,{path:"/enquiries/:id/edit",element:e.jsx(Bs,{})}),e.jsx(ge,{path:"/documents",element:e.jsx(em,{})}),e.jsx(ge,{path:"/documents/verification",element:e.jsx(tm,{})}),e.jsx(ge,{path:"/shortlist",element:e.jsx(am,{})}),e.jsx(ge,{path:"/shortlist/new",element:e.jsx(dn,{})}),e.jsx(ge,{path:"/shortlist/:id/edit",element:e.jsx(dn,{})}),e.jsx(ge,{path:"/payment-gateway",element:e.jsx(im,{})}),e.jsx(ge,{path:"/payment-gateway/apply/:id",element:e.jsx(rm,{})}),a&&e.jsx(ge,{path:"/staff",element:e.jsx(om,{})}),(t==null?void 0:t.role)==="ADMIN"&&e.jsxs(e.Fragment,{children:[e.jsx(ge,{path:"/transactions",element:e.jsx(cm,{})}),e.jsx(ge,{path:"/transactions/new",element:e.jsx(un,{})}),e.jsx(ge,{path:"/transactions/:id/edit",element:e.jsx(un,{})}),e.jsx(ge,{path:"/test-refresh",element:e.jsx(hm,{})})]}),e.jsx(ge,{path:"/",element:e.jsx(Is,{to:"/dashboard"})}),e.jsx(ge,{path:"*",element:e.jsx(Is,{to:"/dashboard"})})]})})}):e.jsx(ge,{path:"*",element:e.jsx(Is,{to:"/login"})})]})}class pm extends u.Component{constructor(){super(...arguments);Qt(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,n){console.error("ErrorBoundary caught an error:",a,n)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/generated-image.png",alt:"Company Logo",className:"h-20 w-20 object-contain drop-shadow-lg hover:scale-110 transition-transform duration-300",style:{filter:"contrast(2.2) saturate(2.0) brightness(1.8)",imageRendering:"crisp-edges",maxWidth:"100%",maxHeight:"100%"}})})}),e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Refresh Page"}),e.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}}const gm=({showAfter:s=300,className:t=""})=>{const[a,n]=u.useState(!1);u.useEffect(()=>{const r=()=>{window.pageYOffset>s?n(!0):n(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[s]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsx(gs,{children:a&&e.jsxs(F.button,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:i,className:`fixed bottom-6 right-6 z-50 p-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-white/20 backdrop-blur-sm ${t}`,"aria-label":"Scroll to top",title:"Scroll to top",children:[e.jsx(Pc,{className:"h-6 w-6"}),e.jsx(F.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full -z-10"})]})})},te=s=>typeof s=="string",Ot=()=>{let s,t;const a=new Promise((n,i)=>{s=n,t=i});return a.resolve=s,a.reject=t,a},mn=s=>s==null?"":""+s,ym=(s,t,a)=>{s.forEach(n=>{t[n]&&(a[n]=t[n])})},bm=/###/g,hn=s=>s&&s.indexOf("###")>-1?s.replace(bm,"."):s,fn=s=>!s||te(s),$t=(s,t,a)=>{const n=te(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(fn(s))return{};const r=hn(n[i]);!s[r]&&a&&(s[r]=new a),Object.prototype.hasOwnProperty.call(s,r)?s=s[r]:s={},++i}return fn(s)?{}:{obj:s,k:hn(n[i])}},xn=(s,t,a)=>{const{obj:n,k:i}=$t(s,t,Object);if(n!==void 0||t.length===1){n[i]=a;return}let r=t[t.length-1],o=t.slice(0,t.length-1),l=$t(s,o,Object);for(;l.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),l=$t(s,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${r}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${r}`]=a},Nm=(s,t,a,n)=>{const{obj:i,k:r}=$t(s,t,Object);i[r]=i[r]||[],i[r].push(a)},hs=(s,t)=>{const{obj:a,k:n}=$t(s,t);if(a&&Object.prototype.hasOwnProperty.call(a,n))return a[n]},wm=(s,t,a)=>{const n=hs(s,a);return n!==void 0?n:hs(t,a)},Oi=(s,t,a)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in s?te(s[n])||s[n]instanceof String||te(t[n])||t[n]instanceof String?a&&(s[n]=t[n]):Oi(s[n],t[n],a):s[n]=t[n]);return s},Nt=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var vm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jm=s=>te(s)?s.replace(/[&<>"'\/]/g,t=>vm[t]):s;class Sm{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const a=this.regExpMap.get(t);if(a!==void 0)return a;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Em=[" ",",","?","!",";"],Am=new Sm(20),km=(s,t,a)=>{t=t||"",a=a||"";const n=Em.filter(o=>t.indexOf(o)<0&&a.indexOf(o)<0);if(n.length===0)return!0;const i=Am.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!i.test(s);if(!r){const o=s.indexOf(a);o>0&&!i.test(s.substring(0,o))&&(r=!0)}return r},ia=(s,t,a=".")=>{if(!s)return;if(s[t])return Object.prototype.hasOwnProperty.call(s,t)?s[t]:void 0;const n=t.split(a);let i=s;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let d=r;d<n.length;++d)if(d!==r&&(l+=a),l+=n[d],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<n.length-1)continue;r+=d-r+1;break}i=o}return i},qt=s=>s==null?void 0:s.replace("_","-"),Tm={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,t){var a,n;(n=(a=console==null?void 0:console[s])==null?void 0:a.apply)==null||n.call(a,console,t)}};class fs{constructor(t,a={}){this.init(t,a)}init(t,a={}){this.prefix=a.prefix||"i18next:",this.logger=t||Tm,this.options=a,this.debug=a.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,a,n,i){return i&&!this.debug?null:(te(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[a](t))}create(t){return new fs(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new fs(this.logger,t)}}var Ke=new fs;class Ds{constructor(){this.observers={}}on(t,a){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(a)||0;this.observers[n].set(a,i+1)}),this}off(t,a){if(this.observers[t]){if(!a){delete this.observers[t];return}this.observers[t].delete(a)}}emit(t,...a){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,r])=>{for(let o=0;o<r;o++)i(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,r])=>{for(let o=0;o<r;o++)i.apply(i,[t,...a])})}}class pn extends Ds{constructor(t,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const a=this.options.ns.indexOf(t);a>-1&&this.options.ns.splice(a,1)}getResource(t,a,n,i={}){var c,m;const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,a],n&&(Array.isArray(n)?l.push(...n):te(n)&&r?l.push(...n.split(r)):l.push(n)));const d=hs(this.data,l);return!d&&!a&&!n&&t.indexOf(".")>-1&&(t=l[0],a=l[1],n=l.slice(2).join(".")),d||!o||!te(n)?d:ia((m=(c=this.data)==null?void 0:c[t])==null?void 0:m[a],n,r)}addResource(t,a,n,i,r={silent:!1}){const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=[t,a];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),i=a,a=l[1]),this.addNamespaces(a),xn(this.data,l,i),r.silent||this.emit("added",t,a,n,i)}addResources(t,a,n,i={silent:!1}){for(const r in n)(te(n[r])||Array.isArray(n[r]))&&this.addResource(t,a,r,n[r],{silent:!0});i.silent||this.emit("added",t,a,n)}addResourceBundle(t,a,n,i,r,o={silent:!1,skipCopy:!1}){let l=[t,a];t.indexOf(".")>-1&&(l=t.split("."),i=n,n=a,a=l[1]),this.addNamespaces(a);let d=hs(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Oi(d,n,r):d={...d,...n},xn(this.data,l,d),o.silent||this.emit("added",t,a,n)}removeResourceBundle(t,a){this.hasResourceBundle(t,a)&&delete this.data[t][a],this.removeNamespaces(a),this.emit("removed",t,a)}hasResourceBundle(t,a){return this.getResource(t,a)!==void 0}getResourceBundle(t,a){return a||(a=this.options.defaultNS),this.getResource(t,a)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const a=this.getDataByLanguage(t);return!!(a&&Object.keys(a)||[]).find(i=>a[i]&&Object.keys(a[i]).length>0)}toJSON(){return this.data}}var Pi={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,t,a,n,i){return s.forEach(r=>{var o;t=((o=this.processors[r])==null?void 0:o.process(t,a,n,i))??t}),t}};const Mi=Symbol("i18next/PATH_KEY");function Cm(){const s=[],t=Object.create(null);let a;return t.get=(n,i)=>{var r;return(r=a==null?void 0:a.revoke)==null||r.call(a),i===Mi?s:(s.push(i),a=Proxy.revocable(n,t),a.proxy)},Proxy.revocable(Object.create(null),t).proxy}function ra(s,t){const{[Mi]:a}=s(Cm());return a.join((t==null?void 0:t.keySeparator)??".")}const gn={},yn=s=>!te(s)&&typeof s!="boolean"&&typeof s!="number";class xs extends Ds{constructor(t,a={}){super(),ym(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ke.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,a={interpolation:{}}){const n={...a};if(t==null)return!1;const i=this.resolve(t,n);return(i==null?void 0:i.res)!==void 0}extractFromKey(t,a){let n=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let r=a.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!km(t,n,i);if(o&&!l){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:te(r)?[r]:r};const c=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),t=c.join(i)}return{key:t,namespaces:te(r)?[r]:r}}translate(t,a,n){let i=typeof a=="object"?{...a}:a;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=ra(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:d}=this.extractFromKey(t[t.length-1],i),c=d[d.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const f=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?r?{res:`${c}${m}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${m}${l}`:r?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:l;const v=this.resolve(t,i);let p=v==null?void 0:v.res;const b=(v==null?void 0:v.usedKey)||l,g=(v==null?void 0:v.exactUsedKey)||l,A=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!te(i.count),w=xs.hasDefaultValue(i),C=y?this.pluralResolver.getSuffix(f,i.count,i):"",k=i.ordinal&&y?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",O=y&&!i.ordinal&&i.count===0,M=O&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${C}`]||i[`defaultValue${k}`]||i.defaultValue;let H=p;N&&!p&&w&&(H=M);const J=yn(H),Z=Object.prototype.toString.apply(H);if(N&&H&&J&&A.indexOf(Z)<0&&!(te(x)&&Array.isArray(H))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,H,{...i,ns:d}):`key '${l} (${this.language})' returned an object instead of string.`;return r?(v.res=V,v.usedParams=this.getUsedParamsDetails(i),v):V}if(o){const V=Array.isArray(H),Q=V?[]:{},re=V?g:b;for(const X in H)if(Object.prototype.hasOwnProperty.call(H,X)){const ae=`${re}${o}${X}`;w&&!p?Q[X]=this.translate(ae,{...i,defaultValue:yn(M)?M[X]:void 0,joinArrays:!1,ns:d}):Q[X]=this.translate(ae,{...i,joinArrays:!1,ns:d}),Q[X]===ae&&(Q[X]=H[X])}p=Q}}else if(N&&te(x)&&Array.isArray(p))p=p.join(x),p&&(p=this.extendTranslation(p,t,i,n));else{let V=!1,Q=!1;!this.isValidLookup(p)&&w&&(V=!0,p=M),this.isValidLookup(p)||(Q=!0,p=l);const X=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Q?void 0:p,ae=w&&M!==p&&this.options.updateMissing;if(Q||V||ae){if(this.logger.log(ae?"updateKey":"missingKey",f,c,l,ae?M:p),o){const W=this.resolve(l,{...i,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let z=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let W=0;W<de.length;W++)z.push(de[W]);else this.options.saveMissingTo==="all"?z=this.languageUtils.toResolveHierarchy(i.lng||this.language):z.push(i.lng||this.language);const P=(W,se,ne)=>{var xe;const me=w&&ne!==p?ne:X;this.options.missingKeyHandler?this.options.missingKeyHandler(W,c,se,me,ae,i):(xe=this.backendConnector)!=null&&xe.saveMissing&&this.backendConnector.saveMissing(W,c,se,me,ae,i),this.emit("missingKey",W,c,se,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?z.forEach(W=>{const se=this.pluralResolver.getSuffixes(W,i);O&&i[`defaultValue${this.options.pluralSeparator}zero`]&&se.indexOf(`${this.options.pluralSeparator}zero`)<0&&se.push(`${this.options.pluralSeparator}zero`),se.forEach(ne=>{P([W],l+ne,i[`defaultValue${ne}`]||M)})}):P(z,l,M))}p=this.extendTranslation(p,t,i,v,n),Q&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${c}${m}${l}`),(Q||V)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${m}${l}`:l,V?p:void 0,i))}return r?(v.res=p,v.usedParams=this.getUsedParamsDetails(i),v):p}extendTranslation(t,a,n,i,r){var d,c;if((d=this.i18nFormat)!=null&&d.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const m=te(t)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(m){const v=t.match(this.interpolator.nestingRegexp);f=v&&v.length}let h=n.replace&&!te(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||i.usedLng,n),m){const v=t.match(this.interpolator.nestingRegexp),p=v&&v.length;f<p&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>(r==null?void 0:r[0])===v[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${a[0]}`),null):this.translate(...v,a),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=te(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=Pi.handle(l,t,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,a={}){let n,i,r,o,l;return te(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(d,a),m=c.key;i=m;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=a.count!==void 0&&!te(a.count),v=h&&!a.ordinal&&a.count===0,p=a.context!==void 0&&(te(a.context)||typeof a.context=="number")&&a.context!=="",b=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(g=>{var A,x;this.isValidLookup(n)||(l=g,!gn[`${b[0]}-${g}`]&&((A=this.utils)!=null&&A.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(l))&&(gn[`${b[0]}-${g}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(N=>{var C;if(this.isValidLookup(n))return;o=N;const y=[m];if((C=this.i18nFormat)!=null&&C.addLookupKeys)this.i18nFormat.addLookupKeys(y,m,N,g,a);else{let k;h&&(k=this.pluralResolver.getSuffix(N,a.count,a));const O=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(a.ordinal&&k.indexOf(M)===0&&y.push(m+k.replace(M,this.options.pluralSeparator)),y.push(m+k),v&&y.push(m+O)),p){const H=`${m}${this.options.contextSeparator||"_"}${a.context}`;y.push(H),h&&(a.ordinal&&k.indexOf(M)===0&&y.push(H+k.replace(M,this.options.pluralSeparator)),y.push(H+k),v&&y.push(H+O))}}let w;for(;w=y.pop();)this.isValidLookup(n)||(r=w,n=this.getResource(N,g,w,a))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,a,n,i={}){var r;return(r=this.i18nFormat)!=null&&r.getResource?this.i18nFormat.getResource(t,a,n,i):this.resourceStore.getResource(t,a,n,i)}getUsedParamsDetails(t={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!te(t.replace);let i=n?t.replace:t;if(n&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of a)delete i[r]}return i}static hasDefaultValue(t){const a="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&a===n.substring(0,a.length)&&t[n]!==void 0)return!0;return!1}}class bn{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ke.create("languageUtils")}getScriptPartFromCode(t){if(t=qt(t),!t||t.indexOf("-")<0)return null;const a=t.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(t){if(t=qt(t),!t||t.indexOf("-")<0)return t;const a=t.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(t){if(te(t)&&t.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(t)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let a;return t.forEach(n=>{if(a)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(a=i)}),!a&&this.options.supportedLngs&&t.forEach(n=>{if(a)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return a=i;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return a=r;a=this.options.supportedLngs.find(o=>{if(o===r)return o;if(!(o.indexOf("-")<0&&r.indexOf("-")<0)&&(o.indexOf("-")>0&&r.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===r||o.indexOf(r)===0&&r.length>1))return o})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(t,a){if(!t)return[];if(typeof t=="function"&&(t=t(a)),te(t)&&(t=[t]),Array.isArray(t))return t;if(!a)return t.default||[];let n=t[a];return n||(n=t[this.getScriptPartFromCode(a)]),n||(n=t[this.formatLanguageCode(a)]),n||(n=t[this.getLanguagePartFromCode(a)]),n||(n=t.default),n||[]}toResolveHierarchy(t,a){const n=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],t),i=[],r=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return te(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(t))):te(t)&&r(this.formatLanguageCode(t)),n.forEach(o=>{i.indexOf(o)<0&&r(this.formatLanguageCode(o))}),i}}const Nn={zero:0,one:1,two:2,few:3,many:4,other:5},wn={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Dm{constructor(t,a={}){this.languageUtils=t,this.options=a,this.logger=Ke.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,a){this.rules[t]=a}clearCache(){this.pluralRulesCache={}}getRule(t,a={}){const n=qt(t==="dev"?"en":t),i=a.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),wn;if(!t.match(/-|_/))return wn;const d=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(d,a)}return this.pluralRulesCache[r]=o,o}needsPlural(t,a={}){let n=this.getRule(t,a);return n||(n=this.getRule("dev",a)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,a,n={}){return this.getSuffixes(t,n).map(i=>`${a}${i}`)}getSuffixes(t,a={}){let n=this.getRule(t,a);return n||(n=this.getRule("dev",a)),n?n.resolvedOptions().pluralCategories.sort((i,r)=>Nn[i]-Nn[r]).map(i=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,a,n={}){const i=this.getRule(t,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(a)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",a,n))}}const vn=(s,t,a,n=".",i=!0)=>{let r=wm(s,t,a);return!r&&i&&te(a)&&(r=ia(s,a,n),r===void 0&&(r=ia(t,a,n))),r},_s=s=>s.replace(/\$/g,"$$$$");class Rm{constructor(t={}){var a;this.logger=Ke.create("interpolator"),this.options=t,this.format=((a=t==null?void 0:t.interpolation)==null?void 0:a.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:a,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:o,suffix:l,suffixEscaped:d,formatSeparator:c,unescapeSuffix:m,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:v,nestingSuffix:p,nestingSuffixEscaped:b,nestingOptionsSeparator:g,maxReplaces:A,alwaysFormat:x}=t.interpolation;this.escape=a!==void 0?a:jm,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?Nt(r):o||"{{",this.suffix=l?Nt(l):d||"}}",this.formatSeparator=c||",",this.unescapePrefix=m?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=h?Nt(h):v||Nt("$t("),this.nestingSuffix=p?Nt(p):b||Nt(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=A||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(a,n)=>(a==null?void 0:a.source)===n?(a.lastIndex=0,a):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,a,n,i){var v;let r,o,l;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const x=vn(a,d,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,{...i,...a,interpolationkey:p}):x}const b=p.split(this.formatSeparator),g=b.shift().trim(),A=b.join(this.formatSeparator).trim();return this.format(vn(a,d,g,this.options.keySeparator,this.options.ignoreJSONStructure),A,n,{...i,...a,interpolationkey:g})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((v=i==null?void 0:i.interpolation)==null?void 0:v.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>_s(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?_s(this.escape(p)):_s(p)}].forEach(p=>{for(l=0;r=p.regex.exec(t);){const b=r[1].trim();if(o=c(b),o===void 0)if(typeof m=="function"){const A=m(t,r,i);o=te(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,b))o="";else if(f){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${t}`),o="";else!te(o)&&!this.useRawValueToEscape&&(o=mn(o));const g=p.safeValue(o);if(t=t.replace(r[0],g),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=r[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,a,n={}){let i,r,o;const l=(d,c)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const f=d.split(new RegExp(`${m}[ ]*{`));let h=`{${f[1]}`;d=f[0],h=this.interpolate(h,o);const v=h.match(/'/g),p=h.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,b),`${d}${m}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;i=this.nestingRegexp.exec(t);){let d=[];o={...n},o=o.replace&&!te(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(d=i[1].slice(c).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),r=a(l.call(this,i[1].trim(),o),o),r&&i[0]===t&&!te(r))return r;te(r)||(r=mn(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),r=""),d.length&&(r=d.reduce((m,f)=>this.format(m,f,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t}}const Lm=s=>{let t=s.toLowerCase().trim();const a={};if(s.indexOf("(")>-1){const n=s.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?a.currency||(a.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?a.range||(a.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...d]=o.split(":"),c=d.join(":").trim().replace(/^'+|'+$/g,""),m=l.trim();a[m]||(a[m]=c),c==="false"&&(a[m]=!1),c==="true"&&(a[m]=!0),isNaN(c)||(a[m]=parseInt(c,10))}})}return{formatName:t,formatOptions:a}},jn=s=>{const t={};return(a,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const o=n+JSON.stringify(r);let l=t[o];return l||(l=s(qt(n),i),t[o]=l),l(a)}},Im=s=>(t,a,n)=>s(qt(a),n)(t);class Om{constructor(t={}){this.logger=Ke.create("formatter"),this.options=t,this.init(t)}init(t,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const n=a.cacheInBuiltFormats?jn:Im;this.formats={number:n((i,r)=>{const o=new Intl.NumberFormat(i,{...r});return l=>o.format(l)}),currency:n((i,r)=>{const o=new Intl.NumberFormat(i,{...r,style:"currency"});return l=>o.format(l)}),datetime:n((i,r)=>{const o=new Intl.DateTimeFormat(i,{...r});return l=>o.format(l)}),relativetime:n((i,r)=>{const o=new Intl.RelativeTimeFormat(i,{...r});return l=>o.format(l,r.range||"day")}),list:n((i,r)=>{const o=new Intl.ListFormat(i,{...r});return l=>o.format(l)})}}add(t,a){this.formats[t.toLowerCase().trim()]=a}addCached(t,a){this.formats[t.toLowerCase().trim()]=jn(a)}format(t,a,n,i={}){const r=a.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(l=>l.indexOf(")")>-1)){const l=r.findIndex(d=>d.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,l)].join(this.formatSeparator)}return r.reduce((l,d)=>{var f;const{formatName:c,formatOptions:m}=Lm(d);if(this.formats[c]){let h=l;try{const v=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},p=v.locale||v.lng||i.locale||i.lng||n;h=this.formats[c](l,p,{...m,...i,...v})}catch(v){this.logger.warn(v)}return h}else this.logger.warn(`there was no format function for ${c}`);return l},t)}}const Pm=(s,t)=>{s.pending[t]!==void 0&&(delete s.pending[t],s.pendingCount--)};class Mm extends Ds{constructor(t,a,n,i={}){var r,o;super(),this.backend=t,this.store=a,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ke.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(r=this.backend)==null?void 0:r.init)==null||o.call(r,n,i.backend,i)}queueLoad(t,a,n,i){const r={},o={},l={},d={};return t.forEach(c=>{let m=!0;a.forEach(f=>{const h=`${c}|${f}`;!n.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,m=!1,o[h]===void 0&&(o[h]=!0),r[h]===void 0&&(r[h]=!0),d[f]===void 0&&(d[f]=!0)))}),m||(l[c]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(d)}}loaded(t,a,n){const i=t.split("|"),r=i[0],o=i[1];a&&this.emit("failedLoading",r,o,a),!a&&n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=a?-1:2,a&&n&&(this.state[t]=0);const l={};this.queue.forEach(d=>{Nm(d.loaded,[r],o),Pm(d,t),a&&d.errors.push(a),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(c=>{l[c]||(l[c]={});const m=d.loaded[c];m.length&&m.forEach(f=>{l[c][f]===void 0&&(l[c][f]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(d=>!d.done)}read(t,a,n,i=0,r=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:a,fcName:n,tried:i,wait:r,callback:o});return}this.readingCalls++;const l=(c,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,a,n,i+1,r*2,o)},r);return}o(c,m)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const c=d(t,a);c&&typeof c.then=="function"?c.then(m=>l(null,m)).catch(l):l(null,c)}catch(c){l(c)}return}return d(t,a,l)}prepareLoading(t,a,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();te(t)&&(t=this.languageUtils.toResolveHierarchy(t)),te(a)&&(a=[a]);const r=this.queueLoad(t,a,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(t,a,n){this.prepareLoading(t,a,{},n)}reload(t,a,n){this.prepareLoading(t,a,{reload:!0},n)}loadOne(t,a=""){const n=t.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${a}loading namespace ${r} for language ${i} failed`,o),!o&&l&&this.logger.log(`${a}loaded namespace ${r} for language ${i}`,l),this.loaded(t,o,l)})}saveMissing(t,a,n,i,r,o={},l=()=>{}){var d,c,m,f,h;if((c=(d=this.services)==null?void 0:d.utils)!=null&&c.hasLoadedNamespace&&!((f=(m=this.services)==null?void 0:m.utils)!=null&&f.hasLoadedNamespace(a))){this.logger.warn(`did not save key "${n}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const v={...o,isUpdate:r},p=this.backend.create.bind(this.backend);if(p.length<6)try{let b;p.length===5?b=p(t,a,n,i,v):b=p(t,a,n,i),b&&typeof b.then=="function"?b.then(g=>l(null,g)).catch(l):l(null,b)}catch(b){l(b)}else p(t,a,n,i,l,v)}!t||!t[0]||this.store.addResource(t[0],a,n,i)}}}const Sn=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let t={};if(typeof s[1]=="object"&&(t=s[1]),te(s[1])&&(t.defaultValue=s[1]),te(s[2])&&(t.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const a=s[3]||s[2];Object.keys(a).forEach(n=>{t[n]=a[n]})}return t},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),En=s=>{var t,a;return te(s.ns)&&(s.ns=[s.ns]),te(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),te(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((a=(t=s.supportedLngs)==null?void 0:t.indexOf)==null?void 0:a.call(t,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},Jt=()=>{},Fm=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(a=>{typeof s[a]=="function"&&(s[a]=s[a].bind(s))})};class Ut extends Ds{constructor(t={},a){if(super(),this.options=En(t),this.services={},this.logger=Ke,this.modules={external:[]},Fm(this),a&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,a),this;setTimeout(()=>{this.init(t,a)},0)}}init(t={},a){this.isInitializing=!0,typeof t=="function"&&(a=t,t={}),t.defaultNS==null&&t.ns&&(te(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=Sn();this.options={...n,...this.options,...En(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Ke.init(i(this.modules.logger),this.options):Ke.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Om;const m=new bn(this.options);this.store=new pn(this.options.resources,this.options);const f=this.services;f.logger=Ke,f.resourceStore=this.store,f.languageUtils=m,f.pluralResolver=new Dm(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=i(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Rm(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Mm(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(v,...p)=>{this.emit(v,...p)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new xs(this.services,this.options),this.translator.on("*",(v,...p)=>{this.emit(v,...p)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Jt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...m)=>this.store[c](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...m)=>(this.store[c](...m),this)});const l=Ot(),d=()=>{const c=(m,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),a(m,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),l}loadResources(t,a=Jt){var r,o;let n=a;const i=te(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],d=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),(o=(r=this.options.preload)==null?void 0:r.forEach)==null||o.call(r,c=>d(c)),this.services.backendConnector.load(l,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(t,a,n){const i=Ot();return typeof t=="function"&&(n=t,t=void 0),typeof a=="function"&&(n=a,a=void 0),t||(t=this.languages),a||(a=this.options.ns),n||(n=Jt),this.services.backendConnector.reload(t,a,r=>{i.resolve(),n(r)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Pi.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let a=0;a<this.languages.length;a++){const n=this.languages[a];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,a){this.isLanguageChangingTo=t;const n=Ot();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},r=(l,d)=>{d?this.isLanguageChangingTo===t&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),a&&a(l,(...c)=>this.t(...c))},o=l=>{var m,f;!t&&!l&&this.services.languageDetector&&(l=[]);const d=te(l)?l:l&&l[0],c=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(te(l)?[l]:l);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||f.call(m,c)),this.loadResources(c,h=>{r(h,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,a,n){const i=(r,o,...l)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([r,o].concat(l)):d={...o},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||i.keyPrefix);const c=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(r)?m=r.map(f=>(typeof f=="function"&&(f=ra(f,{...this.options,...o})),`${d.keyPrefix}${c}${f}`)):(typeof r=="function"&&(r=ra(r,{...this.options,...o})),m=d.keyPrefix?`${d.keyPrefix}${c}${r}`:r),this.t(m,d)};return te(t)?i.lng=t:i.lngs=t,i.ns=a,i.keyPrefix=n,i}t(...t){var a;return(a=this.translator)==null?void 0:a.translate(...t)}exists(...t){var a;return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=a.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,d)=>{const c=this.services.backendConnector.state[`${l}|${d}`];return c===-1||c===0||c===2};if(a.precheck){const l=a.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!i||o(r,t)))}loadNamespaces(t,a){const n=Ot();return this.options.ns?(te(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),a&&a(i)}),n):(a&&a(),Promise.resolve())}loadLanguages(t,a){const n=Ot();te(t)&&(t=[t]);const i=this.options.preload||[],r=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=i.concat(r),this.loadResources(o=>{n.resolve(),a&&a(o)}),n):(a&&a(),Promise.resolve())}dir(t){var i,r;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((r=this.services)==null?void 0:r.languageUtils)||new bn(Sn());return t.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},a){return new Ut(t,a)}cloneInstance(t={},a=Jt){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},r=new Ut(i);if((t.debug!==void 0||t.prefix!==void 0)&&(r.logger=r.logger.clone(t)),["store","services","language"].forEach(l=>{r[l]=this[l]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const l=Object.keys(this.store.data).reduce((d,c)=>(d[c]={...this.store.data[c]},d[c]=Object.keys(d[c]).reduce((m,f)=>(m[f]={...d[c][f]},m),d[c]),d),{});r.store=new pn(l,i),r.services.resourceStore=r.store}return r.translator=new xs(r.services,i),r.translator.on("*",(l,...d)=>{r.emit(l,...d)}),r.init(i,a),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ce=Ut.createInstance();Ce.createInstance=Ut.createInstance;Ce.createInstance;Ce.dir;Ce.init;Ce.loadResources;Ce.reloadResources;Ce.use;Ce.changeLanguage;Ce.getFixedT;Ce.t;Ce.exists;Ce.setDefaultNamespace;Ce.hasLoadedNamespace;Ce.loadNamespaces;Ce.loadLanguages;const{slice:$m,forEach:qm}=[];function Um(s){return qm.call($m.call(arguments,1),t=>{if(t)for(const a in t)s[a]===void 0&&(s[a]=t[a])}),s}function Vm(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(a=>a.test(s))}const An=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Bm=function(s,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let r=`${s}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!An.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!An.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r},kn={create(s,t,a,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+a*60*1e3)),n&&(i.domain=n),document.cookie=Bm(s,t,i)},read(s){const t=`${s}=`,a=document.cookie.split(";");for(let n=0;n<a.length;n++){let i=a[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(s,t){this.create(s,"",-1,t)}};var _m={name:"cookie",lookup(s){let{lookupCookie:t}=s;if(t&&typeof document<"u")return kn.read(t)||void 0},cacheUserLanguage(s,t){let{lookupCookie:a,cookieMinutes:n,cookieDomain:i,cookieOptions:r}=t;a&&typeof document<"u"&&kn.create(a,s,n,i,r)}},Hm={name:"querystring",lookup(s){var n;let{lookupQuerystring:t}=s,a;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const d=o[l].indexOf("=");d>0&&o[l].substring(0,d)===t&&(a=o[l].substring(d+1))}}return a}},Gm={name:"hash",lookup(s){var i;let{lookupHash:t,lookupFromHashIndex:a}=s,n;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const o=r.substring(1);if(t){const l=o.split("&");for(let d=0;d<l.length;d++){const c=l[d].indexOf("=");c>0&&l[d].substring(0,c)===t&&(n=l[d].substring(c+1))}}if(n)return n;if(!n&&a>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(i=l[typeof a=="number"?a:0])==null?void 0:i.replace("/",""):void 0}}}return n}};let wt=null;const Tn=()=>{if(wt!==null)return wt;try{if(wt=typeof window<"u"&&window.localStorage!==null,!wt)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{wt=!1}return wt};var Wm={name:"localStorage",lookup(s){let{lookupLocalStorage:t}=s;if(t&&Tn())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(s,t){let{lookupLocalStorage:a}=t;a&&Tn()&&window.localStorage.setItem(a,s)}};let vt=null;const Cn=()=>{if(vt!==null)return vt;try{if(vt=typeof window<"u"&&window.sessionStorage!==null,!vt)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{vt=!1}return vt};var Zm={name:"sessionStorage",lookup(s){let{lookupSessionStorage:t}=s;if(t&&Cn())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(s,t){let{lookupSessionStorage:a}=t;a&&Cn()&&window.sessionStorage.setItem(a,s)}},Qm={name:"navigator",lookup(s){const t=[];if(typeof navigator<"u"){const{languages:a,userLanguage:n,language:i}=navigator;if(a)for(let r=0;r<a.length;r++)t.push(a[r]);n&&t.push(n),i&&t.push(i)}return t.length>0?t:void 0}},zm={name:"htmlTag",lookup(s){let{htmlTag:t}=s,a;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(a=n.getAttribute("lang")),a}},Km={name:"path",lookup(s){var i;let{lookupFromPathIndex:t}=s;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(i=a[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},Ym={name:"subdomain",lookup(s){var i,r;let{lookupFromSubdomainIndex:t}=s;const a=typeof t=="number"?t+1:1,n=typeof window<"u"&&((r=(i=window.location)==null?void 0:i.hostname)==null?void 0:r.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[a]}};let Fi=!1;try{document.cookie,Fi=!0}catch{}const $i=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Fi||$i.splice(1,1);const Jm=()=>({order:$i,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class qi{constructor(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,a)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Um(a,this.options||{},Jm()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(_m),this.addDetector(Hm),this.addDetector(Wm),this.addDetector(Zm),this.addDetector(Qm),this.addDetector(zm),this.addDetector(Km),this.addDetector(Ym),this.addDetector(Gm)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return t.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(a=a.concat(i))}}),a=a.filter(n=>n!=null&&!Vm(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||a.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}qi.type="languageDetector";const Xm={title:"Business Loan Management",subtitle:"Loan Processing & Management System",aiAssistant:"AI Assistant",settings:"Settings",logout:"Logout",profile:"Profile Settings",notifications:"Notification Settings",security:"Security",preferences:"Preferences"},e0={dashboard:"Dashboard",enquiries:"Enquiries",docVerification:"Doc Verification",shortlist:"Shortlist",paymentGateway:"Payment Gateway",applications:"Applications",staffManagement:"Staff Management",transactions:"Transactions"},t0={title:"Dashboard",totalEnquiries:"Total Enquiries",documentsAwaiting:"Documents Awaiting",clientsShortlisted:"Clients Shortlisted",paymentGatewayComplete:"Payment Gateway Complete",totalTransactions:"Total Transactions",enquiryFunnel:"Enquiry Funnel",rolePermissions:"Role Permissions",fullAccess:"Full Access - All Features",staffControl:"Staff Management & System Control",accessLevel:"Access Level",adminAccess:"Full administrative access",revenueUp:"Revenue up 21%",activeStaff:"7 Active Staff"},s0={title:"Enquiries",addNew:"Add New Enquiry",searchPlaceholder:"Search by name...",allStatuses:"All Statuses",clearFilters:"Clear Filters",refresh:"Refresh",name:"Name",mobile:"Mobile",businessType:"Business Type",status:"Status",staff:"Staff",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",interested:"Interested",contacted:"Contacted",qualified:"Qualified",proposal:"Proposal",negotiation:"Negotiation",closed:"Closed"},a0={title:"Document Verification",upload:"Document Upload",selectEnquiry:"Select Enquiry",selectEnquiryPlaceholder:"Choose an enquiry to upload documents",documentType:"Document Type",selectFile:"Select File",uploadDocument:"Upload Document",documentList:"Document List",verified:"Verified",pending:"Pending",verify:"Verify",addToShortlist:"Add to Shortlist",allDocumentsVerified:"All Documents Verified!",readyForShortlist:"This client is ready to be added to shortlist",gstCertificate:"GST Certificate",udyamRegistration:"UDYAM Registration",bankStatement:"Bank Statement",panCard:"PAN Card",aadharCard:"Aadhar Card"},n0={title:"Shortlist",addNew:"Add New Shortlist",clientName:"Client Name",businessName:"Business Name",loanAmount:"Loan Amount",assignedStaff:"Assigned Staff",interestStatus:"Interest Status",apply:"Apply",basicInfo:"Basic Information",businessInfo:"Business Information",financialInfo:"Financial Information",staffStatus:"Staff & Status"},i0={title:"Payment Gateway Applications",newApplication:"New Application",clientName:"Client Name",loanAmount:"Loan Amount",status:"Status",submittedBy:"Submitted By",submissionDate:"Submission Date",pending:"Pending",approved:"Approved",rejected:"Rejected"},r0={title:"Staff Management",addNew:"Add New Staff",staffName:"Staff Name",email:"Email",role:"Role",department:"Department",status:"Status",admin:"Admin",employee:"Employee",manager:"Manager",active:"Active",inactive:"Inactive"},o0={title:"Transactions",addNew:"Add New Transaction",transactionName:"Transaction Name",date:"Date",time:"Time",transactionId:"Transaction ID",amount:"Amount",completed:"Completed",failed:"Failed"},l0={save:"Save",cancel:"Cancel",submit:"Submit",update:"Update",delete:"Delete",confirm:"Confirm",required:"Required",optional:"Optional",loading:"Loading...",success:"Success",error:"Error",pleaseWait:"Please wait..."},c0={title:"Notifications",markAllRead:"Mark all as read",newEnquiry:"New Enquiry",documentUploaded:"Document Uploaded",documentVerified:"Document Verified",clientShortlisted:"Client Shortlisted",paymentApplied:"Payment Applied",loanApproved:"Loan Approved",loanRejected:"Loan Rejected",transactionCompleted:"Transaction Completed"},d0={title:"Business Loan Enquiry",subtitle:"Submit your details. Our specialists will reach out within 24 hours.",businessName:"Business Name",ownerName:"Owner Name",emailAddress:"Email Address",phoneNumber:"Phone Number",loanAmount:"Loan Amount",loanPurpose:"Loan Purpose",annualRevenue:"Annual Revenue",businessDocuments:"Business Documents (Optional)",uploadDocuments:"Upload financial documents",submitApplication:"Submit Application",submitting:"Submitting...",termsText:"By submitting this form, you agree to our terms and privacy policy.",selectAmount:"Select amount",selectPurpose:"Select purpose",selectRevenue:"Select revenue range",workingCapital:"Working Capital",equipmentPurchase:"Equipment Purchase",businessExpansion:"Business Expansion",inventory:"Inventory",realEstate:"Real Estate",other:"Other"},u0={header:Xm,sidebar:e0,dashboard:t0,enquiries:s0,documents:a0,shortlist:n0,paymentGateway:i0,staff:r0,transactions:o0,forms:l0,notifications:c0,apply:d0},m0={title:"व्यापारिक ऋण प्रबंधन",subtitle:"ऋण प्रसंस्करण और प्रबंधन प्रणाली",aiAssistant:"एआई सहायक",settings:"सेटिंग्स",logout:"लॉग आउट",profile:"प्रोफ़ाइल सेटिंग्स",notifications:"अधिसूचना सेटिंग्स",security:"सुरक्षा",preferences:"प्राथमिकताएं"},h0={dashboard:"डैशबोर्ड",enquiries:"पूछताछ",docVerification:"दस्तावेज़ सत्यापन",shortlist:"शॉर्टलिस्ट",paymentGateway:"पेमेंट गेटवे",applications:"आवेदन",staffManagement:"स्टाफ प्रबंधन",transactions:"लेन-देन"},f0={title:"डैशबोर्ड",totalEnquiries:"कुल पूछताछ",documentsAwaiting:"दस्तावेज़ प्रतीक्षारत",clientsShortlisted:"ग्राहक शॉर्टलिस्ट",paymentGatewayComplete:"पेमेंट गेटवे पूर्ण",totalTransactions:"कुल लेन-देन",enquiryFunnel:"पूछताछ फ़नल",rolePermissions:"भूमिका अनुमतियां",fullAccess:"पूर्ण पहुंच - सभी सुविधाएं",staffControl:"स्टाफ प्रबंधन और सिस्टम नियंत्रण",accessLevel:"पहुंच स्तर",adminAccess:"पूर्ण प्रशासनिक पहुंच",revenueUp:"राजस्व में 21% वृद्धि",activeStaff:"7 सक्रिय स्टाफ"},x0={title:"पूछताछ",addNew:"नई पूछताछ जोड़ें",searchPlaceholder:"नाम से खोजें...",allStatuses:"सभी स्थितियां",clearFilters:"फ़िल्टर साफ़ करें",refresh:"रीफ्रेश",name:"नाम",mobile:"मोबाइल",businessType:"व्यापार प्रकार",status:"स्थिति",staff:"स्टाफ",actions:"कार्य",view:"देखें",edit:"संपादित करें",delete:"हटाएं",interested:"रुचि रखते हैं",contacted:"संपर्क किया गया",qualified:"योग्य",proposal:"प्रस्ताव",negotiation:"बातचीत",closed:"बंद"},p0={title:"दस्तावेज़ सत्यापन",upload:"दस्तावेज़ अपलोड",selectEnquiry:"पूछताछ चुनें",selectEnquiryPlaceholder:"दस्तावेज़ अपलोड करने के लिए एक पूछताछ चुनें",documentType:"दस्तावेज़ प्रकार",selectFile:"फ़ाइल चुनें",uploadDocument:"दस्तावेज़ अपलोड करें",documentList:"दस्तावेज़ सूची",verified:"सत्यापित",pending:"लंबित",verify:"सत्यापित करें",addToShortlist:"शॉर्टलिस्ट में जोड़ें",allDocumentsVerified:"सभी दस्तावेज़ सत्यापित!",readyForShortlist:"यह ग्राहक शॉर्टलिस्ट में जोड़े जाने के लिए तैयार है",gstCertificate:"जीएसटी प्रमाणपत्र",udyamRegistration:"उद्यम पंजीकरण",bankStatement:"बैंक स्टेटमेंट",panCard:"पैन कार्ड",aadharCard:"आधार कार्ड"},g0={title:"शॉर्टलिस्ट",addNew:"नई शॉर्टलिस्ट जोड़ें",clientName:"ग्राहक का नाम",businessName:"व्यापार का नाम",loanAmount:"ऋण राशि",assignedStaff:"नियुक्त स्टाफ",interestStatus:"रुचि स्थिति",apply:"आवेदन करें",basicInfo:"बुनियादी जानकारी",businessInfo:"व्यापारिक जानकारी",financialInfo:"वित्तीय जानकारी",staffStatus:"स्टाफ और स्थिति"},y0={title:"पेमेंट गेटवे आवेदन",newApplication:"नया आवेदन",clientName:"ग्राहक का नाम",loanAmount:"ऋण राशि",status:"स्थिति",submittedBy:"द्वारा प्रस्तुत",submissionDate:"प्रस्तुति दिनांक",pending:"लंबित",approved:"स्वीकृत",rejected:"अस्वीकृत"},b0={title:"स्टाफ प्रबंधन",addNew:"नया स्टाफ जोड़ें",staffName:"स्टाफ का नाम",email:"ईमेल",role:"भूमिका",department:"विभाग",status:"स्थिति",admin:"व्यवस्थापक",employee:"कर्मचारी",manager:"प्रबंधक",active:"सक्रिय",inactive:"निष्क्रिय"},N0={title:"लेन-देन",addNew:"नया लेन-देन जोड़ें",transactionName:"लेन-देन का नाम",date:"दिनांक",time:"समय",transactionId:"लेन-देन आईडी",amount:"राशि",completed:"पूर्ण",failed:"असफल"},w0={save:"सहेजें",cancel:"रद्द करें",submit:"प्रस्तुत करें",update:"अपडेट करें",delete:"हटाएं",confirm:"पुष्टि करें",required:"आवश्यक",optional:"वैकल्पिक",loading:"लोड हो रहा है...",success:"सफलता",error:"त्रुटि",pleaseWait:"कृपया प्रतीक्षा करें..."},v0={title:"अधिसूचनाएं",markAllRead:"सभी को पढ़ा हुआ चिह्नित करें",newEnquiry:"नई पूछताछ",documentUploaded:"दस्तावेज़ अपलोड किया गया",documentVerified:"दस्तावेज़ सत्यापित",clientShortlisted:"ग्राहक शॉर्टलिस्ट",paymentApplied:"भुगतान लागू",loanApproved:"ऋण स्वीकृत",loanRejected:"ऋण अस्वीकृत",transactionCompleted:"लेन-देन पूर्ण"},j0={title:"व्यापारिक ऋण पूछताछ",subtitle:"अपना विवरण प्रस्तुत करें। हमारे विशेषज्ञ 24 घंटों के भीतर संपर्क करेंगे।",businessName:"व्यापार का नाम",ownerName:"मालिक का नाम",emailAddress:"ईमेल पता",phoneNumber:"फोन नंबर",loanAmount:"ऋण राशि",loanPurpose:"ऋण का उद्देश्य",annualRevenue:"वार्षिक आय",businessDocuments:"व्यापारिक दस्तावेज़ (वैकल्पिक)",uploadDocuments:"वित्तीय दस्तावेज़ अपलोड करें",submitApplication:"आवेदन प्रस्तुत करें",submitting:"प्रस्तुत कर रहे हैं...",termsText:"इस फॉर्म को प्रस्तुत करके, आप हमारी शर्तों और गोपनीयता नीति से सहमत हैं।",selectAmount:"राशि चुनें",selectPurpose:"उद्देश्य चुनें",selectRevenue:"आय सीमा चुनें",workingCapital:"कार्यशील पूंजी",equipmentPurchase:"उपकरण खरीद",businessExpansion:"व्यापार विस्तार",inventory:"इन्वेंटरी",realEstate:"रियल एस्टेट",other:"अन्य"},S0={header:m0,sidebar:h0,dashboard:f0,enquiries:x0,documents:p0,shortlist:g0,paymentGateway:y0,staff:b0,transactions:N0,forms:w0,notifications:v0,apply:j0},E0={title:"வணிக கடன் மேலாண்மை",subtitle:"கடன் செயலாக்கம் மற்றும் மேலாண்மை அமைப்பு",aiAssistant:"AI உதவியாளர்",settings:"அமைப்புகள்",logout:"வெளியேறு",profile:"சுயவிவர அமைப்புகள்",notifications:"அறிவிப்பு அமைப்புகள்",security:"பாதுகாப்பு",preferences:"விருப்பத்தேர்வுகள்"},A0={dashboard:"டாஷ்போர்டு",enquiries:"விசாரணைகள்",docVerification:"ஆவண சரிபார்ப்பு",shortlist:"குறுகிய பட்டியல்",paymentGateway:"பேமென்ட் கேட்வே",applications:"விண்ணப்பங்கள்",staffManagement:"ஊழியர் மேலாண்மை",transactions:"பரிவர்த்தனைகள்"},k0={title:"டாஷ்போர்டு",totalEnquiries:"மொத்த விசாரணைகள்",documentsAwaiting:"ஆவணங்கள் காத்திருக்கின்றன",clientsShortlisted:"வாடிக்கையாளர்கள் குறுகிய பட்டியல்",paymentGatewayComplete:"பேமென்ட் கேட்வே முடிந்தது",totalTransactions:"மொத்த பரிவர்த்தனைகள்",enquiryFunnel:"விசாரணை புனல்",rolePermissions:"பங்கு அனுமதிகள்",fullAccess:"முழு அணுகல் - அனைத்து அம்சங்கள்",staffControl:"ஊழியர் மேலாண்மை மற்றும் அமைப்பு கட்டுப்பாடு",accessLevel:"அணுகல் நிலை",adminAccess:"முழு நிர்வாக அணுகல்",revenueUp:"வருவாய் 21% அதிகரிப்பு",activeStaff:"7 செயலில் உள்ள ஊழியர்கள்"},T0={title:"விசாரணைகள்",addNew:"புதிய விசாரணை சேர்க்கவும்",searchPlaceholder:"பெயரால் தேடவும்...",allStatuses:"அனைத்து நிலைகள்",clearFilters:"வடிப்பான்களை அழிக்கவும்",refresh:"புதுப்பிக்கவும்",name:"பெயர்",mobile:"மொபைல்",businessType:"வணிக வகை",status:"நிலை",staff:"ஊழியர்",actions:"செயல்கள்",view:"பார்க்கவும்",edit:"திருத்தவும்",delete:"நீக்கவும்",interested:"ஆர்வமுள்ள",contacted:"தொடர்பு கொண்டது",qualified:"தகுதியுள்ள",proposal:"முன்மொழிவு",negotiation:"பேச்சுவார்த்தை",closed:"மூடப்பட்டது"},C0={title:"ஆவண சரிபார்ப்பு",upload:"ஆவண பதிவேற்றம்",selectEnquiry:"விசாரணையைத் தேர்ந்தெடுக்கவும்",selectEnquiryPlaceholder:"ஆவணங்களைப் பதிவேற்ற ஒரு விசாரணையைத் தேர்ந்தெடுக்கவும்",documentType:"ஆவண வகை",selectFile:"கோப்பைத் தேர்ந்தெடுக்கவும்",uploadDocument:"ஆவணத்தைப் பதிவேற்றவும்",documentList:"ஆவண பட்டியல்",verified:"சரிபார்க்கப்பட்டது",pending:"நிலுவையில்",verify:"சரிபார்க்கவும்",addToShortlist:"குறுகிய பட்டியலில் சேர்க்கவும்",allDocumentsVerified:"அனைத்து ஆவணங்களும் சரிபார்க்கப்பட்டன!",readyForShortlist:"இந்த வாடிக்கையாளர் குறுகிய பட்டியலில் சேர்க்கத் தயார்",gstCertificate:"GST சான்றிதழ்",udyamRegistration:"உத்யம் பதிவு",bankStatement:"வங்கி அறிக்கை",panCard:"PAN அட்டை",aadharCard:"ஆதார் அட்டை"},D0={title:"குறுகிய பட்டியல்",addNew:"புதிய குறுகிய பட்டியல் சேர்க்கவும்",clientName:"வாடிக்கையாளர் பெயர்",businessName:"வணிக பெயர்",loanAmount:"கடன் தொகை",assignedStaff:"நியமிக்கப்பட்ட ஊழியர்",interestStatus:"ஆர்வ நிலை",apply:"விண்ணப்பிக்கவும்",basicInfo:"அடிப்படை தகவல்",businessInfo:"வணிக தகவல்",financialInfo:"நிதி தகவல்",staffStatus:"ஊழியர் மற்றும் நிலை"},R0={title:"பேமென்ட் கேட்வே விண்ணப்பங்கள்",newApplication:"புதிய விண்ணப்பம்",clientName:"வாடிக்கையாளர் பெயர்",loanAmount:"கடன் தொகை",status:"நிலை",submittedBy:"சமர்ப்பித்தவர்",submissionDate:"சமர்ப்பிப்பு தேதி",pending:"நிலுவையில்",approved:"அங்கீகரிக்கப்பட்டது",rejected:"நிராகரிக்கப்பட்டது"},L0={title:"ஊழியர் மேலாண்மை",addNew:"புதிய ஊழியரைச் சேர்க்கவும்",staffName:"ஊழியர் பெயர்",email:"மின்னஞ்சல்",role:"பங்கு",department:"துறை",status:"நிலை",admin:"நிர்வாகி",employee:"ஊழியர்",manager:"மேலாளர்",active:"செயலில்",inactive:"செயலற்ற"},I0={title:"பரிவர்த்தனைகள்",addNew:"புதிய பரிவர்த்தனை சேர்க்கவும்",transactionName:"பரிவர்த்தனை பெயர்",date:"தேதி",time:"நேரம்",transactionId:"பரிவர்த்தனை ID",amount:"தொகை",completed:"முடிந்தது",failed:"தோல்வியுற்றது"},O0={save:"சேமிக்கவும்",cancel:"ரத்து செய்யவும்",submit:"சமர்ப்பிக்கவும்",update:"புதுப்பிக்கவும்",delete:"நீக்கவும்",confirm:"உறுதிப்படுத்தவும்",required:"தேவையான",optional:"விருப்பமான",loading:"ஏற்றுகிறது...",success:"வெற்றி",error:"பிழை",pleaseWait:"தயவுசெய்து காத்திருக்கவும்..."},P0={title:"அறிவிப்புகள்",markAllRead:"அனைத்தையும் படித்ததாகக் குறிக்கவும்",newEnquiry:"புதிய விசாரணை",documentUploaded:"ஆவணம் பதிவேற்றப்பட்டது",documentVerified:"ஆவணம் சரிபார்க்கப்பட்டது",clientShortlisted:"வாடிக்கையாளர் குறுகிய பட்டியல்",paymentApplied:"பேமென்ட் பயன்படுத்தப்பட்டது",loanApproved:"கடன் அங்கீகரிக்கப்பட்டது",loanRejected:"கடன் நிராகரிக்கப்பட்டது",transactionCompleted:"பரிவர்த்தனை முடிந்தது"},M0={title:"வணிக கடன் விசாரணை",subtitle:"உங்கள் விவரங்களைச் சமர்ப்பிக்கவும். எங்கள் நிபுணர்கள் 24 மணி நேரத்திற்குள் தொடர்பு கொள்வார்கள்.",businessName:"வணிக பெயர்",ownerName:"உரிமையாளர் பெயர்",emailAddress:"மின்னஞ்சல் முகவரி",phoneNumber:"தொலைபேசி எண்",loanAmount:"கடன் தொகை",loanPurpose:"கடன் நோக்கம்",annualRevenue:"வருடாந்திர வருமானம்",businessDocuments:"வணிக ஆவணங்கள் (விருப்பமான)",uploadDocuments:"நிதி ஆவணங்களைப் பதிவேற்றவும்",submitApplication:"விண்ணப்பத்தைச் சமர்ப்பிக்கவும்",submitting:"சமர்ப்பிக்கிறது...",termsText:"இந்த படிவத்தைச் சமர்ப்பிப்பதன் மூலம், எங்கள் விதிமுறைகள் மற்றும் தனியுரிமைக் கொள்கையை ஒப்புக்கொள்கிறீர்கள்.",selectAmount:"தொகையைத் தேர்ந்தெடுக்கவும்",selectPurpose:"நோக்கத்தைத் தேர்ந்தெடுக்கவும்",selectRevenue:"வருமான வரம்பைத் தேர்ந்தெடுக்கவும்",workingCapital:"செயல்பாட்டு மூலதனம்",equipmentPurchase:"உபகரண வாங்குதல்",businessExpansion:"வணிக விரிவாக்கம்",inventory:"சரக்கு",realEstate:"ரியல் எஸ்டேட்",other:"மற்றவை"},F0={header:E0,sidebar:A0,dashboard:k0,enquiries:T0,documents:C0,shortlist:D0,paymentGateway:R0,staff:L0,transactions:I0,forms:O0,notifications:P0,apply:M0},$0={title:"వ్యాపార రుణ నిర్వహణ",subtitle:"రుణ ప్రాసెసింగ్ మరియు నిర్వహణ వ్యవస్థ",aiAssistant:"AI సహాయకుడు",settings:"సెట్టింగులు",logout:"లాగ్ అవుట్",profile:"ప్రొఫైల్ సెట్టింగులు",notifications:"నోటిఫికేషన్ సెట్టింగులు",security:"భద్రత",preferences:"ప్రాధాన్యతలు"},q0={dashboard:"డాష్‌బోర్డ్",enquiries:"విచారణలు",docVerification:"డాక్యుమెంట్ వెరిఫికేషన్",shortlist:"షార్ట్‌లిస్ట్",paymentGateway:"పేమెంట్ గేట్‌వే",applications:"దరఖాస్తులు",staffManagement:"సిబ్బంది నిర్వహణ",transactions:"లావాదేవీలు"},U0={title:"డాష్‌బోర్డ్",totalEnquiries:"మొత్తం విచారణలు",documentsAwaiting:"డాక్యుమెంట్లు వేచి ఉన్నాయి",clientsShortlisted:"క్లయింట్లు షార్ట్‌లిస్ట్",paymentGatewayComplete:"పేమెంట్ గేట్‌వే పూర్తయింది",totalTransactions:"మొత్తం లావాదేవీలు",enquiryFunnel:"విచారణ ఫన్నెల్",rolePermissions:"పాత్ర అనుమతులు",fullAccess:"పూర్తి యాక్సెస్ - అన్ని ఫీచర్లు",staffControl:"సిబ్బంది నిర్వహణ మరియు సిస్టమ్ నియంత్రణ",accessLevel:"యాక్సెస్ స్థాయి",adminAccess:"పూర్తి అడ్మినిస్ట్రేటివ్ యాక్సెస్",revenueUp:"రెవెన్యూ 21% పెరుగుదల",activeStaff:"7 యాక్టివ్ సిబ్బంది"},V0={title:"విచారణలు",addNew:"కొత్త విచారణ జోడించండి",searchPlaceholder:"పేరుతో వెతకండి...",allStatuses:"అన్ని స్థితులు",clearFilters:"ఫిల్టర్లను క్లియర్ చేయండి",refresh:"రిఫ్రెష్",name:"పేరు",mobile:"మొబైల్",businessType:"వ్యాపార రకం",status:"స్థితి",staff:"సిబ్బంది",actions:"చర్యలు",view:"చూడండి",edit:"సవరించండి",delete:"తొలగించండి",interested:"ఆసక్తి ఉన్న",contacted:"సంప్రదించారు",qualified:"అర్హత కలిగిన",proposal:"ప్రతిపాదన",negotiation:"చర్చలు",closed:"మూసివేయబడింది"},B0={title:"డాక్యుమెంట్ వెరిఫికేషన్",upload:"డాక్యుమెంట్ అప్‌లోడ్",selectEnquiry:"విచారణను ఎంచుకోండి",selectEnquiryPlaceholder:"డాక్యుమెంట్లను అప్‌లోడ్ చేయడానికి విచారణను ఎంచుకోండి",documentType:"డాక్యుమెంట్ రకం",selectFile:"ఫైల్ ఎంచుకోండి",uploadDocument:"డాక్యుమెంట్ అప్‌లోడ్ చేయండి",documentList:"డాక్యుమెంట్ జాబితా",verified:"వెరిఫై చేయబడింది",pending:"పెండింగ్‌లో",verify:"వెరిఫై చేయండి",addToShortlist:"షార్ట్‌లిస్ట్‌కు జోడించండి",allDocumentsVerified:"అన్ని డాక్యుమెంట్లు వెరిఫై అయ్యాయి!",readyForShortlist:"ఈ క్లయింట్ షార్ట్‌లిస్ట్‌కు జోడించడానికి సిద్ధంగా ఉంది",gstCertificate:"GST సర్టిఫికేట్",udyamRegistration:"ఉద్యమ్ రిజిస్ట్రేషన్",bankStatement:"బ్యాంక్ స్టేట్‌మెంట్",panCard:"PAN కార్డ్",aadharCard:"ఆధార్ కార్డ్"},_0={title:"షార్ట్‌లిస్ట్",addNew:"కొత్త షార్ట్‌లిస్ట్ జోడించండి",clientName:"క్లయింట్ పేరు",businessName:"వ్యాపార పేరు",loanAmount:"రుణ మొత్తం",assignedStaff:"కేటాయించిన సిబ్బంది",interestStatus:"ఆసక్తి స్థితి",apply:"దరఖాస్తు చేయండి",basicInfo:"ప్రాథమిక సమాచారం",businessInfo:"వ్యాపార సమాచారం",financialInfo:"ఆర్థిక సమాచారం",staffStatus:"సిబ్బంది మరియు స్థితి"},H0={title:"పేమెంట్ గేట్‌వే దరఖాస్తులు",newApplication:"కొత్త దరఖాస్తు",clientName:"క్లయింట్ పేరు",loanAmount:"రుణ మొత్తం",status:"స్థితి",submittedBy:"సమర్పించినవారు",submissionDate:"సమర్పణ తేదీ",pending:"పెండింగ్‌లో",approved:"ఆమోదించబడింది",rejected:"తిరస్కరించబడింది"},G0={title:"సిబ్బంది నిర్వహణ",addNew:"కొత్త సిబ్బందిని జోడించండి",staffName:"సిబ్బంది పేరు",email:"ఇమెయిల్",role:"పాత్ర",department:"విభాగం",status:"స్థితి",admin:"అడ్మిన్",employee:"ఉద్యోగి",manager:"మేనేజర్",active:"యాక్టివ్",inactive:"ఇనాక్టివ్"},W0={title:"లావాదేవీలు",addNew:"కొత్త లావాదేవీ జోడించండి",transactionName:"లావాదేవీ పేరు",date:"తేదీ",time:"సమయం",transactionId:"లావాదేవీ ID",amount:"మొత్తం",completed:"పూర్తయింది",failed:"విఫలమైంది"},Z0={save:"సేవ్ చేయండి",cancel:"రద్దు చేయండి",submit:"సమర్పించండి",update:"అప్‌డేట్ చేయండి",delete:"తొలగించండి",confirm:"ధృవీకరించండి",required:"అవసరం",optional:"ఐచ్ఛికం",loading:"లోడ్ అవుతోంది...",success:"విజయం",error:"లోపం",pleaseWait:"దయచేసి వేచి ఉండండి..."},Q0={title:"నోటిఫికేషన్లు",markAllRead:"అన్నింటినీ చదివినట్లు మార్క్ చేయండి",newEnquiry:"కొత్త విచారణ",documentUploaded:"డాక్యుమెంట్ అప్‌లోడ్ అయింది",documentVerified:"డాక్యుమెంట్ వెరిఫై అయింది",clientShortlisted:"క్లయింట్ షార్ట్‌లిస్ట్",paymentApplied:"పేమెంట్ వర్తించబడింది",loanApproved:"రుణం ఆమోదించబడింది",loanRejected:"రుణం తిరస్కరించబడింది",transactionCompleted:"లావాదేవీ పూర్తయింది"},z0={title:"వ్యాపార రుణ విచారణ",subtitle:"మీ వివరాలను సమర్పించండి. మా నిపుణులు 24 గంటల్లో సంప్రదిస్తారు.",businessName:"వ్యాపార పేరు",ownerName:"యజమాని పేరు",emailAddress:"ఇమెయిల్ చిరునామా",phoneNumber:"ఫోన్ నంబర్",loanAmount:"రుణ మొత్తం",loanPurpose:"రుణ ప్రయోజనం",annualRevenue:"వార్షిక ఆదాయం",businessDocuments:"వ్యాపార డాక్యుమెంట్లు (ఐచ్ఛికం)",uploadDocuments:"ఆర్థిక డాక్యుమెంట్లను అప్‌లోడ్ చేయండి",submitApplication:"దరఖాస్తు సమర్పించండి",submitting:"సమర్పిస్తోంది...",termsText:"ఈ ఫారమ్‌ను సమర్పించడం ద్వారా, మీరు మా నిబంధనలు మరియు గోప్యతా విధానానికి అంగీకరిస్తున్నారు.",selectAmount:"మొత్తాన్ని ఎంచుకోండి",selectPurpose:"ప్రయోజనాన్ని ఎంచుకోండి",selectRevenue:"ఆదాయ పరిధిని ఎంచుకోండి",workingCapital:"వర్కింగ్ క్యాపిటల్",equipmentPurchase:"పరికరాల కొనుగోలు",businessExpansion:"వ్యాపార విస్తరణ",inventory:"ఇన్వెంటరీ",realEstate:"రియల్ ఎస్టేట్",other:"ఇతర"},K0={header:$0,sidebar:q0,dashboard:U0,enquiries:V0,documents:B0,shortlist:_0,paymentGateway:H0,staff:G0,transactions:W0,forms:Z0,notifications:Q0,apply:z0},Y0={en:{translation:u0},hi:{translation:S0},ta:{translation:F0},te:{translation:K0}};Ce.use(qi).use($l).init({resources:Y0,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});const Ui=new Ki({defaultOptions:{queries:{staleTime:5*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,refetchInterval:30*1e3,refetchIntervalInBackground:!1,retry:3,retryDelay:s=>Math.min(1e3*2**s,3e4),keepPreviousData:!0,notifyOnChangeProps:["data","error","isLoading"]},mutations:{retry:1,onMutate:async()=>{await Ui.cancelQueries()}}}});function J0(){return e.jsx(pm,{children:e.jsx(Yi,{client:Ui,children:e.jsx(Al,{children:e.jsx(fu,{children:e.jsxs(zi,{children:[e.jsx(xm,{}),e.jsx(gm,{}),e.jsx(Gr,{position:"top-right"})]})})})})})}Hs.createRoot(document.getElementById("root")).render(e.jsx(Ne.StrictMode,{children:e.jsx(J0,{})}));
